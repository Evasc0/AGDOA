import{r as m_,g as y_,a as z,R as It,b as T4,C as fM,B as E4,c as C4,L as k4,p as gM,d as pM,A as mM,P as R4,e as I4,i as M4,f as D4,h as N4,j as P4}from"./chartjs-DgXmwJsI.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function t(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(s){if(s.ep)return;s.ep=!0;const r=t(s);fetch(s.href,r)}})();var px={exports:{}},pd={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vC;function O4(){if(vC)return pd;vC=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(n,s,r){var a=null;if(r!==void 0&&(a=""+r),s.key!==void 0&&(a=""+s.key),"key"in s){r={};for(var l in s)l!=="key"&&(r[l]=s[l])}else r=s;return s=r.ref,{$$typeof:i,type:n,key:a,ref:s!==void 0?s:null,props:r}}return pd.Fragment=e,pd.jsx=t,pd.jsxs=t,pd}var bC;function L4(){return bC||(bC=1,px.exports=O4()),px.exports}var N=L4(),mx={exports:{}},md={},yx={exports:{}},vx={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xC;function V4(){return xC||(xC=1,function(i){function e(X,G){var ee=X.length;X.push(G);e:for(;0<ee;){var ue=ee-1>>>1,le=X[ue];if(0<s(le,G))X[ue]=G,X[ee]=le,ee=ue;else break e}}function t(X){return X.length===0?null:X[0]}function n(X){if(X.length===0)return null;var G=X[0],ee=X.pop();if(ee!==G){X[0]=ee;e:for(var ue=0,le=X.length,me=le>>>1;ue<me;){var ae=2*(ue+1)-1,ye=X[ae],_e=ae+1,Pe=X[_e];if(0>s(ye,ee))_e<le&&0>s(Pe,ye)?(X[ue]=Pe,X[_e]=ee,ue=_e):(X[ue]=ye,X[ae]=ee,ue=ae);else if(_e<le&&0>s(Pe,ee))X[ue]=Pe,X[_e]=ee,ue=_e;else break e}}return G}function s(X,G){var ee=X.sortIndex-G.sortIndex;return ee!==0?ee:X.id-G.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;i.unstable_now=function(){return r.now()}}else{var a=Date,l=a.now();i.unstable_now=function(){return a.now()-l}}var c=[],h=[],d=1,f=null,p=3,y=!1,b=!1,x=!1,_=!1,S=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function M(X){for(var G=t(h);G!==null;){if(G.callback===null)n(h);else if(G.startTime<=X)n(h),G.sortIndex=G.expirationTime,e(c,G);else break;G=t(h)}}function R(X){if(x=!1,M(X),!b)if(t(c)!==null)b=!0,P||(P=!0,H());else{var G=t(h);G!==null&&ne(R,G.startTime-X)}}var P=!1,k=-1,E=5,D=-1;function O(){return _?!0:!(i.unstable_now()-D<E)}function F(){if(_=!1,P){var X=i.unstable_now();D=X;var G=!0;try{e:{b=!1,x&&(x=!1,T(k),k=-1),y=!0;var ee=p;try{t:{for(M(X),f=t(c);f!==null&&!(f.expirationTime>X&&O());){var ue=f.callback;if(typeof ue=="function"){f.callback=null,p=f.priorityLevel;var le=ue(f.expirationTime<=X);if(X=i.unstable_now(),typeof le=="function"){f.callback=le,M(X),G=!0;break t}f===t(c)&&n(c),M(X)}else n(c);f=t(c)}if(f!==null)G=!0;else{var me=t(h);me!==null&&ne(R,me.startTime-X),G=!1}}break e}finally{f=null,p=ee,y=!1}G=void 0}}finally{G?H():P=!1}}}var H;if(typeof C=="function")H=function(){C(F)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,K=B.port2;B.port1.onmessage=F,H=function(){K.postMessage(null)}}else H=function(){S(F,0)};function ne(X,G){k=S(function(){X(i.unstable_now())},G)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(X){X.callback=null},i.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<X?Math.floor(1e3/X):5},i.unstable_getCurrentPriorityLevel=function(){return p},i.unstable_next=function(X){switch(p){case 1:case 2:case 3:var G=3;break;default:G=p}var ee=p;p=G;try{return X()}finally{p=ee}},i.unstable_requestPaint=function(){_=!0},i.unstable_runWithPriority=function(X,G){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ee=p;p=X;try{return G()}finally{p=ee}},i.unstable_scheduleCallback=function(X,G,ee){var ue=i.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?ue+ee:ue):ee=ue,X){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=ee+le,X={id:d++,callback:G,priorityLevel:X,startTime:ee,expirationTime:le,sortIndex:-1},ee>ue?(X.sortIndex=ee,e(h,X),t(c)===null&&X===t(h)&&(x?(T(k),k=-1):x=!0,ne(R,ee-ue))):(X.sortIndex=le,e(c,X),b||y||(b=!0,P||(P=!0,H()))),X},i.unstable_shouldYield=O,i.unstable_wrapCallback=function(X){var G=p;return function(){var ee=p;p=G;try{return X.apply(this,arguments)}finally{p=ee}}}}(vx)),vx}var wC;function F4(){return wC||(wC=1,yx.exports=V4()),yx.exports}var bx={exports:{}},Si={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _C;function z4(){if(_C)return Si;_C=1;var i=m_();function e(c){var h="https://react.dev/errors/"+c;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)h+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+c+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var n={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function r(c,h,d){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:f==null?null:""+f,children:c,containerInfo:h,implementation:d}}var a=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(c,h){if(c==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Si.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Si.createPortal=function(c,h){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return r(c,h,null,d)},Si.flushSync=function(c){var h=a.T,d=n.p;try{if(a.T=null,n.p=2,c)return c()}finally{a.T=h,n.p=d,n.d.f()}},Si.preconnect=function(c,h){typeof c=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,n.d.C(c,h))},Si.prefetchDNS=function(c){typeof c=="string"&&n.d.D(c)},Si.preinit=function(c,h){if(typeof c=="string"&&h&&typeof h.as=="string"){var d=h.as,f=l(d,h.crossOrigin),p=typeof h.integrity=="string"?h.integrity:void 0,y=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;d==="style"?n.d.S(c,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:f,integrity:p,fetchPriority:y}):d==="script"&&n.d.X(c,{crossOrigin:f,integrity:p,fetchPriority:y,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Si.preinitModule=function(c,h){if(typeof c=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var d=l(h.as,h.crossOrigin);n.d.M(c,{crossOrigin:d,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&n.d.M(c)},Si.preload=function(c,h){if(typeof c=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var d=h.as,f=l(d,h.crossOrigin);n.d.L(c,d,{crossOrigin:f,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Si.preloadModule=function(c,h){if(typeof c=="string")if(h){var d=l(h.as,h.crossOrigin);n.d.m(c,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:d,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else n.d.m(c)},Si.requestFormReset=function(c){n.d.r(c)},Si.unstable_batchedUpdates=function(c,h){return c(h)},Si.useFormState=function(c,h,d){return a.H.useFormState(c,h,d)},Si.useFormStatus=function(){return a.H.useHostTransitionStatus()},Si.version="19.1.0",Si}var AC;function yM(){if(AC)return bx.exports;AC=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),bx.exports=z4(),bx.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SC;function j4(){if(SC)return md;SC=1;var i=F4(),e=m_(),t=yM();function n(o){var u="https://react.dev/errors/"+o;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)u+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+o+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function r(o){var u=o,g=o;if(o.alternate)for(;u.return;)u=u.return;else{o=u;do u=o,(u.flags&4098)!==0&&(g=u.return),o=u.return;while(o)}return u.tag===3?g:null}function a(o){if(o.tag===13){var u=o.memoizedState;if(u===null&&(o=o.alternate,o!==null&&(u=o.memoizedState)),u!==null)return u.dehydrated}return null}function l(o){if(r(o)!==o)throw Error(n(188))}function c(o){var u=o.alternate;if(!u){if(u=r(o),u===null)throw Error(n(188));return u!==o?null:o}for(var g=o,m=u;;){var w=g.return;if(w===null)break;var A=w.alternate;if(A===null){if(m=w.return,m!==null){g=m;continue}break}if(w.child===A.child){for(A=w.child;A;){if(A===g)return l(w),o;if(A===m)return l(w),u;A=A.sibling}throw Error(n(188))}if(g.return!==m.return)g=w,m=A;else{for(var V=!1,U=w.child;U;){if(U===g){V=!0,g=w,m=A;break}if(U===m){V=!0,m=w,g=A;break}U=U.sibling}if(!V){for(U=A.child;U;){if(U===g){V=!0,g=A,m=w;break}if(U===m){V=!0,m=A,g=w;break}U=U.sibling}if(!V)throw Error(n(189))}}if(g.alternate!==m)throw Error(n(190))}if(g.tag!==3)throw Error(n(188));return g.stateNode.current===g?o:u}function h(o){var u=o.tag;if(u===5||u===26||u===27||u===6)return o;for(o=o.child;o!==null;){if(u=h(o),u!==null)return u;o=o.sibling}return null}var d=Object.assign,f=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),T=Symbol.for("react.consumer"),C=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function H(o){return o===null||typeof o!="object"?null:(o=F&&o[F]||o["@@iterator"],typeof o=="function"?o:null)}var B=Symbol.for("react.client.reference");function K(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===B?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case b:return"Fragment";case _:return"Profiler";case x:return"StrictMode";case R:return"Suspense";case P:return"SuspenseList";case D:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case y:return"Portal";case C:return(o.displayName||"Context")+".Provider";case T:return(o._context.displayName||"Context")+".Consumer";case M:var u=o.render;return o=o.displayName,o||(o=u.displayName||u.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case k:return u=o.displayName||null,u!==null?u:K(o.type)||"Memo";case E:u=o._payload,o=o._init;try{return K(o(u))}catch{}}return null}var ne=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},ue=[],le=-1;function me(o){return{current:o}}function ae(o){0>le||(o.current=ue[le],ue[le]=null,le--)}function ye(o,u){le++,ue[le]=o.current,o.current=u}var _e=me(null),Pe=me(null),Se=me(null),Me=me(null);function we(o,u){switch(ye(Se,u),ye(Pe,o),ye(_e,null),u.nodeType){case 9:case 11:o=(o=u.documentElement)&&(o=o.namespaceURI)?WE(o):0;break;default:if(o=u.tagName,u=u.namespaceURI)u=WE(u),o=GE(u,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}ae(_e),ye(_e,o)}function Te(){ae(_e),ae(Pe),ae(Se)}function Ae(o){o.memoizedState!==null&&ye(Me,o);var u=_e.current,g=GE(u,o.type);u!==g&&(ye(Pe,o),ye(_e,g))}function Ne(o){Pe.current===o&&(ae(_e),ae(Pe)),Me.current===o&&(ae(Me),ud._currentValue=ee)}var Ue=Object.prototype.hasOwnProperty,Ge=i.unstable_scheduleCallback,qe=i.unstable_cancelCallback,$e=i.unstable_shouldYield,at=i.unstable_requestPaint,mt=i.unstable_now,Es=i.unstable_getCurrentPriorityLevel,xn=i.unstable_ImmediatePriority,Sn=i.unstable_UserBlockingPriority,wn=i.unstable_NormalPriority,Xn=i.unstable_LowPriority,_i=i.unstable_IdlePriority,Fi=i.log,Cs=i.unstable_setDisableYieldValue,$t=null,ot=null;function Tn(o){if(typeof Fi=="function"&&Cs(o),ot&&typeof ot.setStrictMode=="function")try{ot.setStrictMode($t,o)}catch{}}var an=Math.clz32?Math.clz32:ks,nr=Math.log,Ki=Math.LN2;function ks(o){return o>>>=0,o===0?32:31-(nr(o)/Ki|0)|0}var ir=256,J=4194304;function ve(o){var u=o&42;if(u!==0)return u;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function Be(o,u,g){var m=o.pendingLanes;if(m===0)return 0;var w=0,A=o.suspendedLanes,V=o.pingedLanes;o=o.warmLanes;var U=m&134217727;return U!==0?(m=U&~A,m!==0?w=ve(m):(V&=U,V!==0?w=ve(V):g||(g=U&~o,g!==0&&(w=ve(g))))):(U=m&~A,U!==0?w=ve(U):V!==0?w=ve(V):g||(g=m&~o,g!==0&&(w=ve(g)))),w===0?0:u!==0&&u!==w&&(u&A)===0&&(A=w&-w,g=u&-u,A>=g||A===32&&(g&4194048)!==0)?u:w}function Je(o,u){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&u)===0}function Tt(o,u){switch(o){case 1:case 2:case 4:case 8:case 64:return u+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lt(){var o=ir;return ir<<=1,(ir&4194048)===0&&(ir=256),o}function rt(){var o=J;return J<<=1,(J&62914560)===0&&(J=4194304),o}function ut(o){for(var u=[],g=0;31>g;g++)u.push(o);return u}function et(o,u){o.pendingLanes|=u,u!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function Vt(o,u,g,m,w,A){var V=o.pendingLanes;o.pendingLanes=g,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=g,o.entangledLanes&=g,o.errorRecoveryDisabledLanes&=g,o.shellSuspendCounter=0;var U=o.entanglements,W=o.expirationTimes,ie=o.hiddenUpdates;for(g=V&~g;0<g;){var ce=31-an(g),ge=1<<ce;U[ce]=0,W[ce]=-1;var se=ie[ce];if(se!==null)for(ie[ce]=null,ce=0;ce<se.length;ce++){var re=se[ce];re!==null&&(re.lane&=-536870913)}g&=~ge}m!==0&&ze(o,m,0),A!==0&&w===0&&o.tag!==0&&(o.suspendedLanes|=A&~(V&~u))}function ze(o,u,g){o.pendingLanes|=u,o.suspendedLanes&=~u;var m=31-an(u);o.entangledLanes|=u,o.entanglements[m]=o.entanglements[m]|1073741824|g&4194090}function Dn(o,u){var g=o.entangledLanes|=u;for(o=o.entanglements;g;){var m=31-an(g),w=1<<m;w&u|o[m]&u&&(o[m]|=u),g&=~w}}function ht(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function Ke(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function yt(){var o=G.p;return o!==0?o:(o=window.event,o===void 0?32:dC(o.type))}function Bt(o,u){var g=G.p;try{return G.p=o,u()}finally{G.p=g}}var Oe=Math.random().toString(36).slice(2),gt="__reactFiber$"+Oe,_t="__reactProps$"+Oe,on="__reactContainer$"+Oe,ls="__reactEvents$"+Oe,Rs="__reactListeners$"+Oe,Wn="__reactHandles$"+Oe,Is="__reactResources$"+Oe,cs="__reactMarker$"+Oe;function qa(o){delete o[gt],delete o[_t],delete o[ls],delete o[Rs],delete o[Wn]}function Zr(o){var u=o[gt];if(u)return u;for(var g=o.parentNode;g;){if(u=g[on]||g[gt]){if(g=u.alternate,u.child!==null||g!==null&&g.child!==null)for(o=QE(o);o!==null;){if(g=o[gt])return g;o=QE(o)}return u}o=g,g=o.parentNode}return null}function Ar(o){if(o=o[gt]||o[on]){var u=o.tag;if(u===5||u===6||u===13||u===26||u===27||u===3)return o}return null}function Sr(o){var u=o.tag;if(u===5||u===26||u===27||u===6)return o.stateNode;throw Error(n(33))}function zi(o){var u=o[Is];return u||(u=o[Is]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function Nn(o){o[cs]=!0}var mh=new Set,bc={};function sr(o,u){Jr(o,u),Jr(o+"Capture",u)}function Jr(o,u){for(bc[o]=u,o=0;o<u.length;o++)mh.add(u[o])}var _g=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ag={},sl={};function Sg(o){return Ue.call(sl,o)?!0:Ue.call(Ag,o)?!1:_g.test(o)?sl[o]=!0:(Ag[o]=!0,!1)}function $a(o,u,g){if(Sg(u))if(g===null)o.removeAttribute(u);else{switch(typeof g){case"undefined":case"function":case"symbol":o.removeAttribute(u);return;case"boolean":var m=u.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){o.removeAttribute(u);return}}o.setAttribute(u,""+g)}}function Tr(o,u,g){if(g===null)o.removeAttribute(u);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(u);return}o.setAttribute(u,""+g)}}function ui(o,u,g,m){if(m===null)o.removeAttribute(g);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(g);return}o.setAttributeNS(u,g,""+m)}}var rl,Tg;function ea(o){if(rl===void 0)try{throw Error()}catch(g){var u=g.stack.trim().match(/\n( *(at )?)/);rl=u&&u[1]||"",Tg=-1<g.stack.indexOf(`
    at`)?" (<anonymous>)":-1<g.stack.indexOf("@")?"@unknown:0:0":""}return`
`+rl+o+Tg}var xc=!1;function wc(o,u){if(!o||xc)return"";xc=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(u){var ge=function(){throw Error()};if(Object.defineProperty(ge.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ge,[])}catch(re){var se=re}Reflect.construct(o,[],ge)}else{try{ge.call()}catch(re){se=re}o.call(ge.prototype)}}else{try{throw Error()}catch(re){se=re}(ge=o())&&typeof ge.catch=="function"&&ge.catch(function(){})}}catch(re){if(re&&se&&typeof re.stack=="string")return[re.stack,se.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var w=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");w&&w.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var A=m.DetermineComponentFrameRoot(),V=A[0],U=A[1];if(V&&U){var W=V.split(`
`),ie=U.split(`
`);for(w=m=0;m<W.length&&!W[m].includes("DetermineComponentFrameRoot");)m++;for(;w<ie.length&&!ie[w].includes("DetermineComponentFrameRoot");)w++;if(m===W.length||w===ie.length)for(m=W.length-1,w=ie.length-1;1<=m&&0<=w&&W[m]!==ie[w];)w--;for(;1<=m&&0<=w;m--,w--)if(W[m]!==ie[w]){if(m!==1||w!==1)do if(m--,w--,0>w||W[m]!==ie[w]){var ce=`
`+W[m].replace(" at new "," at ");return o.displayName&&ce.includes("<anonymous>")&&(ce=ce.replace("<anonymous>",o.displayName)),ce}while(1<=m&&0<=w);break}}}finally{xc=!1,Error.prepareStackTrace=g}return(g=o?o.displayName||o.name:"")?ea(g):""}function yh(o){switch(o.tag){case 26:case 27:case 5:return ea(o.type);case 16:return ea("Lazy");case 13:return ea("Suspense");case 19:return ea("SuspenseList");case 0:case 15:return wc(o.type,!1);case 11:return wc(o.type.render,!1);case 1:return wc(o.type,!0);case 31:return ea("Activity");default:return""}}function _c(o){try{var u="";do u+=yh(o),o=o.return;while(o);return u}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}function ji(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function vh(o){var u=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function bv(o){var u=vh(o)?"checked":"value",g=Object.getOwnPropertyDescriptor(o.constructor.prototype,u),m=""+o[u];if(!o.hasOwnProperty(u)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var w=g.get,A=g.set;return Object.defineProperty(o,u,{configurable:!0,get:function(){return w.call(this)},set:function(V){m=""+V,A.call(this,V)}}),Object.defineProperty(o,u,{enumerable:g.enumerable}),{getValue:function(){return m},setValue:function(V){m=""+V},stopTracking:function(){o._valueTracker=null,delete o[u]}}}}function Ac(o){o._valueTracker||(o._valueTracker=bv(o))}function bh(o){if(!o)return!1;var u=o._valueTracker;if(!u)return!0;var g=u.getValue(),m="";return o&&(m=vh(o)?o.checked?"true":"false":o.value),o=m,o!==g?(u.setValue(o),!0):!1}function al(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var xv=/[\n"\\]/g;function zn(o){return o.replace(xv,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function us(o,u,g,m,w,A,V,U){o.name="",V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"?o.type=V:o.removeAttribute("type"),u!=null?V==="number"?(u===0&&o.value===""||o.value!=u)&&(o.value=""+ji(u)):o.value!==""+ji(u)&&(o.value=""+ji(u)):V!=="submit"&&V!=="reset"||o.removeAttribute("value"),u!=null?Ka(o,V,ji(u)):g!=null?Ka(o,V,ji(g)):m!=null&&o.removeAttribute("value"),w==null&&A!=null&&(o.defaultChecked=!!A),w!=null&&(o.checked=w&&typeof w!="function"&&typeof w!="symbol"),U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"?o.name=""+ji(U):o.removeAttribute("name")}function ol(o,u,g,m,w,A,V,U){if(A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(o.type=A),u!=null||g!=null){if(!(A!=="submit"&&A!=="reset"||u!=null))return;g=g!=null?""+ji(g):"",u=u!=null?""+ji(u):g,U||u===o.value||(o.value=u),o.defaultValue=u}m=m??w,m=typeof m!="function"&&typeof m!="symbol"&&!!m,o.checked=U?o.checked:!!m,o.defaultChecked=!!m,V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"&&(o.name=V)}function Ka(o,u,g){u==="number"&&al(o.ownerDocument)===o||o.defaultValue===""+g||(o.defaultValue=""+g)}function ta(o,u,g,m){if(o=o.options,u){u={};for(var w=0;w<g.length;w++)u["$"+g[w]]=!0;for(g=0;g<o.length;g++)w=u.hasOwnProperty("$"+o[g].value),o[g].selected!==w&&(o[g].selected=w),w&&m&&(o[g].defaultSelected=!0)}else{for(g=""+ji(g),u=null,w=0;w<o.length;w++){if(o[w].value===g){o[w].selected=!0,m&&(o[w].defaultSelected=!0);return}u!==null||o[w].disabled||(u=o[w])}u!==null&&(u.selected=!0)}}function Kt(o,u,g){if(u!=null&&(u=""+ji(u),u!==o.value&&(o.value=u),g==null)){o.defaultValue!==u&&(o.defaultValue=u);return}o.defaultValue=g!=null?""+ji(g):""}function ll(o,u,g,m){if(u==null){if(m!=null){if(g!=null)throw Error(n(92));if(ne(m)){if(1<m.length)throw Error(n(93));m=m[0]}g=m}g==null&&(g=""),u=g}g=ji(u),o.defaultValue=g,m=o.textContent,m===g&&m!==""&&m!==null&&(o.value=m)}function Ms(o,u){if(u){var g=o.firstChild;if(g&&g===o.lastChild&&g.nodeType===3){g.nodeValue=u;return}}o.textContent=u}var cl=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Eg(o,u,g){var m=u.indexOf("--")===0;g==null||typeof g=="boolean"||g===""?m?o.setProperty(u,""):u==="float"?o.cssFloat="":o[u]="":m?o.setProperty(u,g):typeof g!="number"||g===0||cl.has(u)?u==="float"?o.cssFloat=g:o[u]=(""+g).trim():o[u]=g+"px"}function xh(o,u,g){if(u!=null&&typeof u!="object")throw Error(n(62));if(o=o.style,g!=null){for(var m in g)!g.hasOwnProperty(m)||u!=null&&u.hasOwnProperty(m)||(m.indexOf("--")===0?o.setProperty(m,""):m==="float"?o.cssFloat="":o[m]="");for(var w in u)m=u[w],u.hasOwnProperty(w)&&g[w]!==m&&Eg(o,w,m)}else for(var A in u)u.hasOwnProperty(A)&&Eg(o,A,u[A])}function wh(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_v=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Sc(o){return _v.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}var na=null;function Ds(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var ia=null,sa=null;function _h(o){var u=Ar(o);if(u&&(o=u.stateNode)){var g=o[_t]||null;e:switch(o=u.stateNode,u.type){case"input":if(us(o,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name),u=g.name,g.type==="radio"&&u!=null){for(g=o;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll('input[name="'+zn(""+u)+'"][type="radio"]'),u=0;u<g.length;u++){var m=g[u];if(m!==o&&m.form===o.form){var w=m[_t]||null;if(!w)throw Error(n(90));us(m,w.value,w.defaultValue,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name)}}for(u=0;u<g.length;u++)m=g[u],m.form===o.form&&bh(m)}break e;case"textarea":Kt(o,g.value,g.defaultValue);break e;case"select":u=g.value,u!=null&&ta(o,!!g.multiple,u,!1)}}}var Er=!1;function Cg(o,u,g){if(Er)return o(u,g);Er=!0;try{var m=o(u);return m}finally{if(Er=!1,(ia!==null||sa!==null)&&(xp(),ia&&(u=ia,o=sa,sa=ia=null,_h(u),o)))for(u=0;u<o.length;u++)_h(o[u])}}function ul(o,u){var g=o.stateNode;if(g===null)return null;var m=g[_t]||null;if(m===null)return null;g=m[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(o=o.type,m=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!m;break e;default:o=!1}if(o)return null;if(g&&typeof g!="function")throw Error(n(231,u,typeof g));return g}var rr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ns=!1;if(rr)try{var hl={};Object.defineProperty(hl,"passive",{get:function(){Ns=!0}}),window.addEventListener("test",hl,hl),window.removeEventListener("test",hl,hl)}catch{Ns=!1}var Cr=null,Qa=null,ra=null;function Ah(){if(ra)return ra;var o,u=Qa,g=u.length,m,w="value"in Cr?Cr.value:Cr.textContent,A=w.length;for(o=0;o<g&&u[o]===w[o];o++);var V=g-o;for(m=1;m<=V&&u[g-m]===w[A-m];m++);return ra=w.slice(o,1<m?1-m:void 0)}function kr(o){var u=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&u===13&&(o=13)):o=u,o===10&&(o=13),32<=o||o===13?o:0}function Rr(){return!0}function Sh(){return!1}function Jn(o){function u(g,m,w,A,V){this._reactName=g,this._targetInst=w,this.type=m,this.nativeEvent=A,this.target=V,this.currentTarget=null;for(var U in o)o.hasOwnProperty(U)&&(g=o[U],this[U]=g?g(A):A[U]);return this.isDefaultPrevented=(A.defaultPrevented!=null?A.defaultPrevented:A.returnValue===!1)?Rr:Sh,this.isPropagationStopped=Sh,this}return d(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=Rr)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=Rr)},persist:function(){},isPersistent:Rr}),u}var Ht={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Tc=Jn(Ht),dl=d({},Ht,{view:0,detail:0}),kg=Jn(dl),Ec,Cc,Ir,fl=d({},dl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ml,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Ir&&(Ir&&o.type==="mousemove"?(Ec=o.screenX-Ir.screenX,Cc=o.screenY-Ir.screenY):Cc=Ec=0,Ir=o),Ec)},movementY:function(o){return"movementY"in o?o.movementY:Cc}}),Ps=Jn(fl),Rg=d({},fl,{dataTransfer:0}),Av=Jn(Rg),gl=d({},dl,{relatedTarget:0}),kc=Jn(gl),Th=d({},Ht,{animationName:0,elapsedTime:0,pseudoElement:0}),Rc=Jn(Th),Ig=d({},Ht,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Ic=Jn(Ig),Sv=d({},Ht,{data:0}),Eh=Jn(Sv),pl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Dg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ch(o){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(o):(o=Dg[o])?!!u[o]:!1}function ml(){return Ch}var Ng=d({},dl,{key:function(o){if(o.key){var u=pl[o.key]||o.key;if(u!=="Unidentified")return u}return o.type==="keypress"?(o=kr(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Mg[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ml,charCode:function(o){return o.type==="keypress"?kr(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?kr(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Mc=Jn(Ng),Pg=d({},fl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kh=Jn(Pg),aa=d({},dl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ml}),Og=Jn(aa),Lg=d({},Ht,{propertyName:0,elapsedTime:0,pseudoElement:0}),Vg=Jn(Lg),Fg=d({},fl,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Dc=Jn(Fg),Bi=d({},Ht,{newState:0,oldState:0}),zg=Jn(Bi),jg=[9,13,27,32],Mr=rr&&"CompositionEvent"in window,v=null;rr&&"documentMode"in document&&(v=document.documentMode);var I=rr&&"TextEvent"in window&&!v,L=rr&&(!Mr||v&&8<v&&11>=v),Y=" ",Z=!1;function oe(o,u){switch(o){case"keyup":return jg.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xe(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Et=!1;function Gn(o,u){switch(o){case"compositionend":return xe(u);case"keypress":return u.which!==32?null:(Z=!0,Y);case"textInput":return o=u.data,o===Y&&Z?null:o;default:return null}}function Ct(o,u){if(Et)return o==="compositionend"||!Mr&&oe(o,u)?(o=Ah(),ra=Qa=Cr=null,Et=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return L&&u.locale!=="ko"?null:u.data;default:return null}}var ei={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u==="input"?!!ei[o.type]:u==="textarea"}function oa(o,u,g,m){ia?sa?sa.push(m):sa=[m]:ia=m,u=Ep(u,"onChange"),0<u.length&&(g=new Tc("onChange","change",null,g,m),o.push({event:g,listeners:u}))}var hi=null,Dr=null;function Rh(o){BE(o,0)}function Bg(o){var u=Sr(o);if(bh(u))return o}function l1(o,u){if(o==="change")return u}var c1=!1;if(rr){var Tv;if(rr){var Ev="oninput"in document;if(!Ev){var u1=document.createElement("div");u1.setAttribute("oninput","return;"),Ev=typeof u1.oninput=="function"}Tv=Ev}else Tv=!1;c1=Tv&&(!document.documentMode||9<document.documentMode)}function h1(){hi&&(hi.detachEvent("onpropertychange",d1),Dr=hi=null)}function d1(o){if(o.propertyName==="value"&&Bg(Dr)){var u=[];oa(u,Dr,o,Ds(o)),Cg(Rh,u)}}function tz(o,u,g){o==="focusin"?(h1(),hi=u,Dr=g,hi.attachEvent("onpropertychange",d1)):o==="focusout"&&h1()}function nz(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Bg(Dr)}function iz(o,u){if(o==="click")return Bg(u)}function sz(o,u){if(o==="input"||o==="change")return Bg(u)}function rz(o,u){return o===u&&(o!==0||1/o===1/u)||o!==o&&u!==u}var hs=typeof Object.is=="function"?Object.is:rz;function Ih(o,u){if(hs(o,u))return!0;if(typeof o!="object"||o===null||typeof u!="object"||u===null)return!1;var g=Object.keys(o),m=Object.keys(u);if(g.length!==m.length)return!1;for(m=0;m<g.length;m++){var w=g[m];if(!Ue.call(u,w)||!hs(o[w],u[w]))return!1}return!0}function f1(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function g1(o,u){var g=f1(o);o=0;for(var m;g;){if(g.nodeType===3){if(m=o+g.textContent.length,o<=u&&m>=u)return{node:g,offset:u-o};o=m}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=f1(g)}}function p1(o,u){return o&&u?o===u?!0:o&&o.nodeType===3?!1:u&&u.nodeType===3?p1(o,u.parentNode):"contains"in o?o.contains(u):o.compareDocumentPosition?!!(o.compareDocumentPosition(u)&16):!1:!1}function m1(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var u=al(o.document);u instanceof o.HTMLIFrameElement;){try{var g=typeof u.contentWindow.location.href=="string"}catch{g=!1}if(g)o=u.contentWindow;else break;u=al(o.document)}return u}function Cv(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u&&(u==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||u==="textarea"||o.contentEditable==="true")}var az=rr&&"documentMode"in document&&11>=document.documentMode,Nc=null,kv=null,Mh=null,Rv=!1;function y1(o,u,g){var m=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;Rv||Nc==null||Nc!==al(m)||(m=Nc,"selectionStart"in m&&Cv(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Mh&&Ih(Mh,m)||(Mh=m,m=Ep(kv,"onSelect"),0<m.length&&(u=new Tc("onSelect","select",null,u,g),o.push({event:u,listeners:m}),u.target=Nc)))}function yl(o,u){var g={};return g[o.toLowerCase()]=u.toLowerCase(),g["Webkit"+o]="webkit"+u,g["Moz"+o]="moz"+u,g}var Pc={animationend:yl("Animation","AnimationEnd"),animationiteration:yl("Animation","AnimationIteration"),animationstart:yl("Animation","AnimationStart"),transitionrun:yl("Transition","TransitionRun"),transitionstart:yl("Transition","TransitionStart"),transitioncancel:yl("Transition","TransitionCancel"),transitionend:yl("Transition","TransitionEnd")},Iv={},v1={};rr&&(v1=document.createElement("div").style,"AnimationEvent"in window||(delete Pc.animationend.animation,delete Pc.animationiteration.animation,delete Pc.animationstart.animation),"TransitionEvent"in window||delete Pc.transitionend.transition);function vl(o){if(Iv[o])return Iv[o];if(!Pc[o])return o;var u=Pc[o],g;for(g in u)if(u.hasOwnProperty(g)&&g in v1)return Iv[o]=u[g];return o}var b1=vl("animationend"),x1=vl("animationiteration"),w1=vl("animationstart"),oz=vl("transitionrun"),lz=vl("transitionstart"),cz=vl("transitioncancel"),_1=vl("transitionend"),A1=new Map,Mv="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Mv.push("scrollEnd");function ar(o,u){A1.set(o,u),sr(u,[o])}var S1=new WeakMap;function Os(o,u){if(typeof o=="object"&&o!==null){var g=S1.get(o);return g!==void 0?g:(u={value:o,source:u,stack:_c(u)},S1.set(o,u),u)}return{value:o,source:u,stack:_c(u)}}var Ls=[],Oc=0,Dv=0;function Hg(){for(var o=Oc,u=Dv=Oc=0;u<o;){var g=Ls[u];Ls[u++]=null;var m=Ls[u];Ls[u++]=null;var w=Ls[u];Ls[u++]=null;var A=Ls[u];if(Ls[u++]=null,m!==null&&w!==null){var V=m.pending;V===null?w.next=w:(w.next=V.next,V.next=w),m.pending=w}A!==0&&T1(g,w,A)}}function Ug(o,u,g,m){Ls[Oc++]=o,Ls[Oc++]=u,Ls[Oc++]=g,Ls[Oc++]=m,Dv|=m,o.lanes|=m,o=o.alternate,o!==null&&(o.lanes|=m)}function Nv(o,u,g,m){return Ug(o,u,g,m),Yg(o)}function Lc(o,u){return Ug(o,null,null,u),Yg(o)}function T1(o,u,g){o.lanes|=g;var m=o.alternate;m!==null&&(m.lanes|=g);for(var w=!1,A=o.return;A!==null;)A.childLanes|=g,m=A.alternate,m!==null&&(m.childLanes|=g),A.tag===22&&(o=A.stateNode,o===null||o._visibility&1||(w=!0)),o=A,A=A.return;return o.tag===3?(A=o.stateNode,w&&u!==null&&(w=31-an(g),o=A.hiddenUpdates,m=o[w],m===null?o[w]=[u]:m.push(u),u.lane=g|536870912),A):null}function Yg(o){if(50<nd)throw nd=0,zb=null,Error(n(185));for(var u=o.return;u!==null;)o=u,u=o.return;return o.tag===3?o.stateNode:null}var Vc={};function uz(o,u,g,m){this.tag=o,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ds(o,u,g,m){return new uz(o,u,g,m)}function Pv(o){return o=o.prototype,!(!o||!o.isReactComponent)}function la(o,u){var g=o.alternate;return g===null?(g=ds(o.tag,u,o.key,o.mode),g.elementType=o.elementType,g.type=o.type,g.stateNode=o.stateNode,g.alternate=o,o.alternate=g):(g.pendingProps=u,g.type=o.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=o.flags&65011712,g.childLanes=o.childLanes,g.lanes=o.lanes,g.child=o.child,g.memoizedProps=o.memoizedProps,g.memoizedState=o.memoizedState,g.updateQueue=o.updateQueue,u=o.dependencies,g.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},g.sibling=o.sibling,g.index=o.index,g.ref=o.ref,g.refCleanup=o.refCleanup,g}function E1(o,u){o.flags&=65011714;var g=o.alternate;return g===null?(o.childLanes=0,o.lanes=u,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=g.childLanes,o.lanes=g.lanes,o.child=g.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=g.memoizedProps,o.memoizedState=g.memoizedState,o.updateQueue=g.updateQueue,o.type=g.type,u=g.dependencies,o.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),o}function Xg(o,u,g,m,w,A){var V=0;if(m=o,typeof o=="function")Pv(o)&&(V=1);else if(typeof o=="string")V=d4(o,g,_e.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case D:return o=ds(31,g,u,w),o.elementType=D,o.lanes=A,o;case b:return bl(g.children,w,A,u);case x:V=8,w|=24;break;case _:return o=ds(12,g,u,w|2),o.elementType=_,o.lanes=A,o;case R:return o=ds(13,g,u,w),o.elementType=R,o.lanes=A,o;case P:return o=ds(19,g,u,w),o.elementType=P,o.lanes=A,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case S:case C:V=10;break e;case T:V=9;break e;case M:V=11;break e;case k:V=14;break e;case E:V=16,m=null;break e}V=29,g=Error(n(130,o===null?"null":typeof o,"")),m=null}return u=ds(V,g,u,w),u.elementType=o,u.type=m,u.lanes=A,u}function bl(o,u,g,m){return o=ds(7,o,m,u),o.lanes=g,o}function Ov(o,u,g){return o=ds(6,o,null,u),o.lanes=g,o}function Lv(o,u,g){return u=ds(4,o.children!==null?o.children:[],o.key,u),u.lanes=g,u.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},u}var Fc=[],zc=0,Wg=null,Gg=0,Vs=[],Fs=0,xl=null,ca=1,ua="";function wl(o,u){Fc[zc++]=Gg,Fc[zc++]=Wg,Wg=o,Gg=u}function C1(o,u,g){Vs[Fs++]=ca,Vs[Fs++]=ua,Vs[Fs++]=xl,xl=o;var m=ca;o=ua;var w=32-an(m)-1;m&=~(1<<w),g+=1;var A=32-an(u)+w;if(30<A){var V=w-w%5;A=(m&(1<<V)-1).toString(32),m>>=V,w-=V,ca=1<<32-an(u)+w|g<<w|m,ua=A+o}else ca=1<<A|g<<w|m,ua=o}function Vv(o){o.return!==null&&(wl(o,1),C1(o,1,0))}function Fv(o){for(;o===Wg;)Wg=Fc[--zc],Fc[zc]=null,Gg=Fc[--zc],Fc[zc]=null;for(;o===xl;)xl=Vs[--Fs],Vs[Fs]=null,ua=Vs[--Fs],Vs[Fs]=null,ca=Vs[--Fs],Vs[Fs]=null}var Hi=null,En=null,Ft=!1,_l=null,Nr=!1,zv=Error(n(519));function Al(o){var u=Error(n(418,""));throw Ph(Os(u,o)),zv}function k1(o){var u=o.stateNode,g=o.type,m=o.memoizedProps;switch(u[gt]=o,u[_t]=m,g){case"dialog":bt("cancel",u),bt("close",u);break;case"iframe":case"object":case"embed":bt("load",u);break;case"video":case"audio":for(g=0;g<sd.length;g++)bt(sd[g],u);break;case"source":bt("error",u);break;case"img":case"image":case"link":bt("error",u),bt("load",u);break;case"details":bt("toggle",u);break;case"input":bt("invalid",u),ol(u,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0),Ac(u);break;case"select":bt("invalid",u);break;case"textarea":bt("invalid",u),ll(u,m.value,m.defaultValue,m.children),Ac(u)}g=m.children,typeof g!="string"&&typeof g!="number"&&typeof g!="bigint"||u.textContent===""+g||m.suppressHydrationWarning===!0||XE(u.textContent,g)?(m.popover!=null&&(bt("beforetoggle",u),bt("toggle",u)),m.onScroll!=null&&bt("scroll",u),m.onScrollEnd!=null&&bt("scrollend",u),m.onClick!=null&&(u.onclick=Cp),u=!0):u=!1,u||Al(o)}function R1(o){for(Hi=o.return;Hi;)switch(Hi.tag){case 5:case 13:Nr=!1;return;case 27:case 3:Nr=!0;return;default:Hi=Hi.return}}function Dh(o){if(o!==Hi)return!1;if(!Ft)return R1(o),Ft=!0,!1;var u=o.tag,g;if((g=u!==3&&u!==27)&&((g=u===5)&&(g=o.type,g=!(g!=="form"&&g!=="button")||tx(o.type,o.memoizedProps)),g=!g),g&&En&&Al(o),R1(o),u===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));e:{for(o=o.nextSibling,u=0;o;){if(o.nodeType===8)if(g=o.data,g==="/$"){if(u===0){En=lr(o.nextSibling);break e}u--}else g!=="$"&&g!=="$!"&&g!=="$?"||u++;o=o.nextSibling}En=null}}else u===27?(u=En,go(o.type)?(o=rx,rx=null,En=o):En=u):En=Hi?lr(o.stateNode.nextSibling):null;return!0}function Nh(){En=Hi=null,Ft=!1}function I1(){var o=_l;return o!==null&&(Ji===null?Ji=o:Ji.push.apply(Ji,o),_l=null),o}function Ph(o){_l===null?_l=[o]:_l.push(o)}var jv=me(null),Sl=null,ha=null;function Za(o,u,g){ye(jv,u._currentValue),u._currentValue=g}function da(o){o._currentValue=jv.current,ae(jv)}function Bv(o,u,g){for(;o!==null;){var m=o.alternate;if((o.childLanes&u)!==u?(o.childLanes|=u,m!==null&&(m.childLanes|=u)):m!==null&&(m.childLanes&u)!==u&&(m.childLanes|=u),o===g)break;o=o.return}}function Hv(o,u,g,m){var w=o.child;for(w!==null&&(w.return=o);w!==null;){var A=w.dependencies;if(A!==null){var V=w.child;A=A.firstContext;e:for(;A!==null;){var U=A;A=w;for(var W=0;W<u.length;W++)if(U.context===u[W]){A.lanes|=g,U=A.alternate,U!==null&&(U.lanes|=g),Bv(A.return,g,o),m||(V=null);break e}A=U.next}}else if(w.tag===18){if(V=w.return,V===null)throw Error(n(341));V.lanes|=g,A=V.alternate,A!==null&&(A.lanes|=g),Bv(V,g,o),V=null}else V=w.child;if(V!==null)V.return=w;else for(V=w;V!==null;){if(V===o){V=null;break}if(w=V.sibling,w!==null){w.return=V.return,V=w;break}V=V.return}w=V}}function Oh(o,u,g,m){o=null;for(var w=u,A=!1;w!==null;){if(!A){if((w.flags&524288)!==0)A=!0;else if((w.flags&262144)!==0)break}if(w.tag===10){var V=w.alternate;if(V===null)throw Error(n(387));if(V=V.memoizedProps,V!==null){var U=w.type;hs(w.pendingProps.value,V.value)||(o!==null?o.push(U):o=[U])}}else if(w===Me.current){if(V=w.alternate,V===null)throw Error(n(387));V.memoizedState.memoizedState!==w.memoizedState.memoizedState&&(o!==null?o.push(ud):o=[ud])}w=w.return}o!==null&&Hv(u,o,g,m),u.flags|=262144}function qg(o){for(o=o.firstContext;o!==null;){if(!hs(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function Tl(o){Sl=o,ha=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function Ai(o){return M1(Sl,o)}function $g(o,u){return Sl===null&&Tl(o),M1(o,u)}function M1(o,u){var g=u._currentValue;if(u={context:u,memoizedValue:g,next:null},ha===null){if(o===null)throw Error(n(308));ha=u,o.dependencies={lanes:0,firstContext:u},o.flags|=524288}else ha=ha.next=u;return g}var hz=typeof AbortController<"u"?AbortController:function(){var o=[],u=this.signal={aborted:!1,addEventListener:function(g,m){o.push(m)}};this.abort=function(){u.aborted=!0,o.forEach(function(g){return g()})}},dz=i.unstable_scheduleCallback,fz=i.unstable_NormalPriority,$n={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Uv(){return{controller:new hz,data:new Map,refCount:0}}function Lh(o){o.refCount--,o.refCount===0&&dz(fz,function(){o.controller.abort()})}var Vh=null,Yv=0,jc=0,Bc=null;function gz(o,u){if(Vh===null){var g=Vh=[];Yv=0,jc=Wb(),Bc={status:"pending",value:void 0,then:function(m){g.push(m)}}}return Yv++,u.then(D1,D1),u}function D1(){if(--Yv===0&&Vh!==null){Bc!==null&&(Bc.status="fulfilled");var o=Vh;Vh=null,jc=0,Bc=null;for(var u=0;u<o.length;u++)(0,o[u])()}}function pz(o,u){var g=[],m={status:"pending",value:null,reason:null,then:function(w){g.push(w)}};return o.then(function(){m.status="fulfilled",m.value=u;for(var w=0;w<g.length;w++)(0,g[w])(u)},function(w){for(m.status="rejected",m.reason=w,w=0;w<g.length;w++)(0,g[w])(void 0)}),m}var N1=X.S;X.S=function(o,u){typeof u=="object"&&u!==null&&typeof u.then=="function"&&gz(o,u),N1!==null&&N1(o,u)};var El=me(null);function Xv(){var o=El.current;return o!==null?o:ln.pooledCache}function Kg(o,u){u===null?ye(El,El.current):ye(El,u.pool)}function P1(){var o=Xv();return o===null?null:{parent:$n._currentValue,pool:o}}var Fh=Error(n(460)),O1=Error(n(474)),Qg=Error(n(542)),Wv={then:function(){}};function L1(o){return o=o.status,o==="fulfilled"||o==="rejected"}function Zg(){}function V1(o,u,g){switch(g=o[g],g===void 0?o.push(u):g!==u&&(u.then(Zg,Zg),u=g),u.status){case"fulfilled":return u.value;case"rejected":throw o=u.reason,z1(o),o;default:if(typeof u.status=="string")u.then(Zg,Zg);else{if(o=ln,o!==null&&100<o.shellSuspendCounter)throw Error(n(482));o=u,o.status="pending",o.then(function(m){if(u.status==="pending"){var w=u;w.status="fulfilled",w.value=m}},function(m){if(u.status==="pending"){var w=u;w.status="rejected",w.reason=m}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw o=u.reason,z1(o),o}throw zh=u,Fh}}var zh=null;function F1(){if(zh===null)throw Error(n(459));var o=zh;return zh=null,o}function z1(o){if(o===Fh||o===Qg)throw Error(n(483))}var Ja=!1;function Gv(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function qv(o,u){o=o.updateQueue,u.updateQueue===o&&(u.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function eo(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function to(o,u,g){var m=o.updateQueue;if(m===null)return null;if(m=m.shared,(Wt&2)!==0){var w=m.pending;return w===null?u.next=u:(u.next=w.next,w.next=u),m.pending=u,u=Yg(o),T1(o,null,g),u}return Ug(o,m,u,g),Yg(o)}function jh(o,u,g){if(u=u.updateQueue,u!==null&&(u=u.shared,(g&4194048)!==0)){var m=u.lanes;m&=o.pendingLanes,g|=m,u.lanes=g,Dn(o,g)}}function $v(o,u){var g=o.updateQueue,m=o.alternate;if(m!==null&&(m=m.updateQueue,g===m)){var w=null,A=null;if(g=g.firstBaseUpdate,g!==null){do{var V={lane:g.lane,tag:g.tag,payload:g.payload,callback:null,next:null};A===null?w=A=V:A=A.next=V,g=g.next}while(g!==null);A===null?w=A=u:A=A.next=u}else w=A=u;g={baseState:m.baseState,firstBaseUpdate:w,lastBaseUpdate:A,shared:m.shared,callbacks:m.callbacks},o.updateQueue=g;return}o=g.lastBaseUpdate,o===null?g.firstBaseUpdate=u:o.next=u,g.lastBaseUpdate=u}var Kv=!1;function Bh(){if(Kv){var o=Bc;if(o!==null)throw o}}function Hh(o,u,g,m){Kv=!1;var w=o.updateQueue;Ja=!1;var A=w.firstBaseUpdate,V=w.lastBaseUpdate,U=w.shared.pending;if(U!==null){w.shared.pending=null;var W=U,ie=W.next;W.next=null,V===null?A=ie:V.next=ie,V=W;var ce=o.alternate;ce!==null&&(ce=ce.updateQueue,U=ce.lastBaseUpdate,U!==V&&(U===null?ce.firstBaseUpdate=ie:U.next=ie,ce.lastBaseUpdate=W))}if(A!==null){var ge=w.baseState;V=0,ce=ie=W=null,U=A;do{var se=U.lane&-536870913,re=se!==U.lane;if(re?(kt&se)===se:(m&se)===se){se!==0&&se===jc&&(Kv=!0),ce!==null&&(ce=ce.next={lane:0,tag:U.tag,payload:U.payload,callback:null,next:null});e:{var Qe=o,He=U;se=u;var Jt=g;switch(He.tag){case 1:if(Qe=He.payload,typeof Qe=="function"){ge=Qe.call(Jt,ge,se);break e}ge=Qe;break e;case 3:Qe.flags=Qe.flags&-65537|128;case 0:if(Qe=He.payload,se=typeof Qe=="function"?Qe.call(Jt,ge,se):Qe,se==null)break e;ge=d({},ge,se);break e;case 2:Ja=!0}}se=U.callback,se!==null&&(o.flags|=64,re&&(o.flags|=8192),re=w.callbacks,re===null?w.callbacks=[se]:re.push(se))}else re={lane:se,tag:U.tag,payload:U.payload,callback:U.callback,next:null},ce===null?(ie=ce=re,W=ge):ce=ce.next=re,V|=se;if(U=U.next,U===null){if(U=w.shared.pending,U===null)break;re=U,U=re.next,re.next=null,w.lastBaseUpdate=re,w.shared.pending=null}}while(!0);ce===null&&(W=ge),w.baseState=W,w.firstBaseUpdate=ie,w.lastBaseUpdate=ce,A===null&&(w.shared.lanes=0),co|=V,o.lanes=V,o.memoizedState=ge}}function j1(o,u){if(typeof o!="function")throw Error(n(191,o));o.call(u)}function B1(o,u){var g=o.callbacks;if(g!==null)for(o.callbacks=null,o=0;o<g.length;o++)j1(g[o],u)}var Hc=me(null),Jg=me(0);function H1(o,u){o=ba,ye(Jg,o),ye(Hc,u),ba=o|u.baseLanes}function Qv(){ye(Jg,ba),ye(Hc,Hc.current)}function Zv(){ba=Jg.current,ae(Hc),ae(Jg)}var no=0,dt=null,Qt=null,jn=null,ep=!1,Uc=!1,Cl=!1,tp=0,Uh=0,Yc=null,mz=0;function Pn(){throw Error(n(321))}function Jv(o,u){if(u===null)return!1;for(var g=0;g<u.length&&g<o.length;g++)if(!hs(o[g],u[g]))return!1;return!0}function eb(o,u,g,m,w,A){return no=A,dt=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,X.H=o===null||o.memoizedState===null?TT:ET,Cl=!1,A=g(m,w),Cl=!1,Uc&&(A=Y1(u,g,m,w)),U1(o),A}function U1(o){X.H=op;var u=Qt!==null&&Qt.next!==null;if(no=0,jn=Qt=dt=null,ep=!1,Uh=0,Yc=null,u)throw Error(n(300));o===null||ti||(o=o.dependencies,o!==null&&qg(o)&&(ti=!0))}function Y1(o,u,g,m){dt=o;var w=0;do{if(Uc&&(Yc=null),Uh=0,Uc=!1,25<=w)throw Error(n(301));if(w+=1,jn=Qt=null,o.updateQueue!=null){var A=o.updateQueue;A.lastEffect=null,A.events=null,A.stores=null,A.memoCache!=null&&(A.memoCache.index=0)}X.H=Az,A=u(g,m)}while(Uc);return A}function yz(){var o=X.H,u=o.useState()[0];return u=typeof u.then=="function"?Yh(u):u,o=o.useState()[0],(Qt!==null?Qt.memoizedState:null)!==o&&(dt.flags|=1024),u}function tb(){var o=tp!==0;return tp=0,o}function nb(o,u,g){u.updateQueue=o.updateQueue,u.flags&=-2053,o.lanes&=~g}function ib(o){if(ep){for(o=o.memoizedState;o!==null;){var u=o.queue;u!==null&&(u.pending=null),o=o.next}ep=!1}no=0,jn=Qt=dt=null,Uc=!1,Uh=tp=0,Yc=null}function Qi(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jn===null?dt.memoizedState=jn=o:jn=jn.next=o,jn}function Bn(){if(Qt===null){var o=dt.alternate;o=o!==null?o.memoizedState:null}else o=Qt.next;var u=jn===null?dt.memoizedState:jn.next;if(u!==null)jn=u,Qt=o;else{if(o===null)throw dt.alternate===null?Error(n(467)):Error(n(310));Qt=o,o={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},jn===null?dt.memoizedState=jn=o:jn=jn.next=o}return jn}function sb(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Yh(o){var u=Uh;return Uh+=1,Yc===null&&(Yc=[]),o=V1(Yc,o,u),u=dt,(jn===null?u.memoizedState:jn.next)===null&&(u=u.alternate,X.H=u===null||u.memoizedState===null?TT:ET),o}function np(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return Yh(o);if(o.$$typeof===C)return Ai(o)}throw Error(n(438,String(o)))}function rb(o){var u=null,g=dt.updateQueue;if(g!==null&&(u=g.memoCache),u==null){var m=dt.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(u={data:m.data.map(function(w){return w.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),g===null&&(g=sb(),dt.updateQueue=g),g.memoCache=u,g=u.data[u.index],g===void 0)for(g=u.data[u.index]=Array(o),m=0;m<o;m++)g[m]=O;return u.index++,g}function fa(o,u){return typeof u=="function"?u(o):u}function ip(o){var u=Bn();return ab(u,Qt,o)}function ab(o,u,g){var m=o.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=g;var w=o.baseQueue,A=m.pending;if(A!==null){if(w!==null){var V=w.next;w.next=A.next,A.next=V}u.baseQueue=w=A,m.pending=null}if(A=o.baseState,w===null)o.memoizedState=A;else{u=w.next;var U=V=null,W=null,ie=u,ce=!1;do{var ge=ie.lane&-536870913;if(ge!==ie.lane?(kt&ge)===ge:(no&ge)===ge){var se=ie.revertLane;if(se===0)W!==null&&(W=W.next={lane:0,revertLane:0,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null}),ge===jc&&(ce=!0);else if((no&se)===se){ie=ie.next,se===jc&&(ce=!0);continue}else ge={lane:0,revertLane:ie.revertLane,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null},W===null?(U=W=ge,V=A):W=W.next=ge,dt.lanes|=se,co|=se;ge=ie.action,Cl&&g(A,ge),A=ie.hasEagerState?ie.eagerState:g(A,ge)}else se={lane:ge,revertLane:ie.revertLane,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null},W===null?(U=W=se,V=A):W=W.next=se,dt.lanes|=ge,co|=ge;ie=ie.next}while(ie!==null&&ie!==u);if(W===null?V=A:W.next=U,!hs(A,o.memoizedState)&&(ti=!0,ce&&(g=Bc,g!==null)))throw g;o.memoizedState=A,o.baseState=V,o.baseQueue=W,m.lastRenderedState=A}return w===null&&(m.lanes=0),[o.memoizedState,m.dispatch]}function ob(o){var u=Bn(),g=u.queue;if(g===null)throw Error(n(311));g.lastRenderedReducer=o;var m=g.dispatch,w=g.pending,A=u.memoizedState;if(w!==null){g.pending=null;var V=w=w.next;do A=o(A,V.action),V=V.next;while(V!==w);hs(A,u.memoizedState)||(ti=!0),u.memoizedState=A,u.baseQueue===null&&(u.baseState=A),g.lastRenderedState=A}return[A,m]}function X1(o,u,g){var m=dt,w=Bn(),A=Ft;if(A){if(g===void 0)throw Error(n(407));g=g()}else g=u();var V=!hs((Qt||w).memoizedState,g);V&&(w.memoizedState=g,ti=!0),w=w.queue;var U=q1.bind(null,m,w,o);if(Xh(2048,8,U,[o]),w.getSnapshot!==u||V||jn!==null&&jn.memoizedState.tag&1){if(m.flags|=2048,Xc(9,sp(),G1.bind(null,m,w,g,u),null),ln===null)throw Error(n(349));A||(no&124)!==0||W1(m,u,g)}return g}function W1(o,u,g){o.flags|=16384,o={getSnapshot:u,value:g},u=dt.updateQueue,u===null?(u=sb(),dt.updateQueue=u,u.stores=[o]):(g=u.stores,g===null?u.stores=[o]:g.push(o))}function G1(o,u,g,m){u.value=g,u.getSnapshot=m,$1(u)&&K1(o)}function q1(o,u,g){return g(function(){$1(u)&&K1(o)})}function $1(o){var u=o.getSnapshot;o=o.value;try{var g=u();return!hs(o,g)}catch{return!0}}function K1(o){var u=Lc(o,2);u!==null&&ys(u,o,2)}function lb(o){var u=Qi();if(typeof o=="function"){var g=o;if(o=g(),Cl){Tn(!0);try{g()}finally{Tn(!1)}}}return u.memoizedState=u.baseState=o,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:o},u}function Q1(o,u,g,m){return o.baseState=g,ab(o,Qt,typeof m=="function"?m:fa)}function vz(o,u,g,m,w){if(ap(o))throw Error(n(485));if(o=u.action,o!==null){var A={payload:w,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(V){A.listeners.push(V)}};X.T!==null?g(!0):A.isTransition=!1,m(A),g=u.pending,g===null?(A.next=u.pending=A,Z1(u,A)):(A.next=g.next,u.pending=g.next=A)}}function Z1(o,u){var g=u.action,m=u.payload,w=o.state;if(u.isTransition){var A=X.T,V={};X.T=V;try{var U=g(w,m),W=X.S;W!==null&&W(V,U),J1(o,u,U)}catch(ie){cb(o,u,ie)}finally{X.T=A}}else try{A=g(w,m),J1(o,u,A)}catch(ie){cb(o,u,ie)}}function J1(o,u,g){g!==null&&typeof g=="object"&&typeof g.then=="function"?g.then(function(m){eT(o,u,m)},function(m){return cb(o,u,m)}):eT(o,u,g)}function eT(o,u,g){u.status="fulfilled",u.value=g,tT(u),o.state=g,u=o.pending,u!==null&&(g=u.next,g===u?o.pending=null:(g=g.next,u.next=g,Z1(o,g)))}function cb(o,u,g){var m=o.pending;if(o.pending=null,m!==null){m=m.next;do u.status="rejected",u.reason=g,tT(u),u=u.next;while(u!==m)}o.action=null}function tT(o){o=o.listeners;for(var u=0;u<o.length;u++)(0,o[u])()}function nT(o,u){return u}function iT(o,u){if(Ft){var g=ln.formState;if(g!==null){e:{var m=dt;if(Ft){if(En){t:{for(var w=En,A=Nr;w.nodeType!==8;){if(!A){w=null;break t}if(w=lr(w.nextSibling),w===null){w=null;break t}}A=w.data,w=A==="F!"||A==="F"?w:null}if(w){En=lr(w.nextSibling),m=w.data==="F!";break e}}Al(m)}m=!1}m&&(u=g[0])}}return g=Qi(),g.memoizedState=g.baseState=u,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:nT,lastRenderedState:u},g.queue=m,g=_T.bind(null,dt,m),m.dispatch=g,m=lb(!1),A=gb.bind(null,dt,!1,m.queue),m=Qi(),w={state:u,dispatch:null,action:o,pending:null},m.queue=w,g=vz.bind(null,dt,w,A,g),w.dispatch=g,m.memoizedState=o,[u,g,!1]}function sT(o){var u=Bn();return rT(u,Qt,o)}function rT(o,u,g){if(u=ab(o,u,nT)[0],o=ip(fa)[0],typeof u=="object"&&u!==null&&typeof u.then=="function")try{var m=Yh(u)}catch(V){throw V===Fh?Qg:V}else m=u;u=Bn();var w=u.queue,A=w.dispatch;return g!==u.memoizedState&&(dt.flags|=2048,Xc(9,sp(),bz.bind(null,w,g),null)),[m,A,o]}function bz(o,u){o.action=u}function aT(o){var u=Bn(),g=Qt;if(g!==null)return rT(u,g,o);Bn(),u=u.memoizedState,g=Bn();var m=g.queue.dispatch;return g.memoizedState=o,[u,m,!1]}function Xc(o,u,g,m){return o={tag:o,create:g,deps:m,inst:u,next:null},u=dt.updateQueue,u===null&&(u=sb(),dt.updateQueue=u),g=u.lastEffect,g===null?u.lastEffect=o.next=o:(m=g.next,g.next=o,o.next=m,u.lastEffect=o),o}function sp(){return{destroy:void 0,resource:void 0}}function oT(){return Bn().memoizedState}function rp(o,u,g,m){var w=Qi();m=m===void 0?null:m,dt.flags|=o,w.memoizedState=Xc(1|u,sp(),g,m)}function Xh(o,u,g,m){var w=Bn();m=m===void 0?null:m;var A=w.memoizedState.inst;Qt!==null&&m!==null&&Jv(m,Qt.memoizedState.deps)?w.memoizedState=Xc(u,A,g,m):(dt.flags|=o,w.memoizedState=Xc(1|u,A,g,m))}function lT(o,u){rp(8390656,8,o,u)}function cT(o,u){Xh(2048,8,o,u)}function uT(o,u){return Xh(4,2,o,u)}function hT(o,u){return Xh(4,4,o,u)}function dT(o,u){if(typeof u=="function"){o=o();var g=u(o);return function(){typeof g=="function"?g():u(null)}}if(u!=null)return o=o(),u.current=o,function(){u.current=null}}function fT(o,u,g){g=g!=null?g.concat([o]):null,Xh(4,4,dT.bind(null,u,o),g)}function ub(){}function gT(o,u){var g=Bn();u=u===void 0?null:u;var m=g.memoizedState;return u!==null&&Jv(u,m[1])?m[0]:(g.memoizedState=[o,u],o)}function pT(o,u){var g=Bn();u=u===void 0?null:u;var m=g.memoizedState;if(u!==null&&Jv(u,m[1]))return m[0];if(m=o(),Cl){Tn(!0);try{o()}finally{Tn(!1)}}return g.memoizedState=[m,u],m}function hb(o,u,g){return g===void 0||(no&1073741824)!==0?o.memoizedState=u:(o.memoizedState=g,o=vE(),dt.lanes|=o,co|=o,g)}function mT(o,u,g,m){return hs(g,u)?g:Hc.current!==null?(o=hb(o,g,m),hs(o,u)||(ti=!0),o):(no&42)===0?(ti=!0,o.memoizedState=g):(o=vE(),dt.lanes|=o,co|=o,u)}function yT(o,u,g,m,w){var A=G.p;G.p=A!==0&&8>A?A:8;var V=X.T,U={};X.T=U,gb(o,!1,u,g);try{var W=w(),ie=X.S;if(ie!==null&&ie(U,W),W!==null&&typeof W=="object"&&typeof W.then=="function"){var ce=pz(W,m);Wh(o,u,ce,ms(o))}else Wh(o,u,m,ms(o))}catch(ge){Wh(o,u,{then:function(){},status:"rejected",reason:ge},ms())}finally{G.p=A,X.T=V}}function xz(){}function db(o,u,g,m){if(o.tag!==5)throw Error(n(476));var w=vT(o).queue;yT(o,w,u,ee,g===null?xz:function(){return bT(o),g(m)})}function vT(o){var u=o.memoizedState;if(u!==null)return u;u={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:ee},next:null};var g={};return u.next={memoizedState:g,baseState:g,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:g},next:null},o.memoizedState=u,o=o.alternate,o!==null&&(o.memoizedState=u),u}function bT(o){var u=vT(o).next.queue;Wh(o,u,{},ms())}function fb(){return Ai(ud)}function xT(){return Bn().memoizedState}function wT(){return Bn().memoizedState}function wz(o){for(var u=o.return;u!==null;){switch(u.tag){case 24:case 3:var g=ms();o=eo(g);var m=to(u,o,g);m!==null&&(ys(m,u,g),jh(m,u,g)),u={cache:Uv()},o.payload=u;return}u=u.return}}function _z(o,u,g){var m=ms();g={lane:m,revertLane:0,action:g,hasEagerState:!1,eagerState:null,next:null},ap(o)?AT(u,g):(g=Nv(o,u,g,m),g!==null&&(ys(g,o,m),ST(g,u,m)))}function _T(o,u,g){var m=ms();Wh(o,u,g,m)}function Wh(o,u,g,m){var w={lane:m,revertLane:0,action:g,hasEagerState:!1,eagerState:null,next:null};if(ap(o))AT(u,w);else{var A=o.alternate;if(o.lanes===0&&(A===null||A.lanes===0)&&(A=u.lastRenderedReducer,A!==null))try{var V=u.lastRenderedState,U=A(V,g);if(w.hasEagerState=!0,w.eagerState=U,hs(U,V))return Ug(o,u,w,0),ln===null&&Hg(),!1}catch{}finally{}if(g=Nv(o,u,w,m),g!==null)return ys(g,o,m),ST(g,u,m),!0}return!1}function gb(o,u,g,m){if(m={lane:2,revertLane:Wb(),action:m,hasEagerState:!1,eagerState:null,next:null},ap(o)){if(u)throw Error(n(479))}else u=Nv(o,g,m,2),u!==null&&ys(u,o,2)}function ap(o){var u=o.alternate;return o===dt||u!==null&&u===dt}function AT(o,u){Uc=ep=!0;var g=o.pending;g===null?u.next=u:(u.next=g.next,g.next=u),o.pending=u}function ST(o,u,g){if((g&4194048)!==0){var m=u.lanes;m&=o.pendingLanes,g|=m,u.lanes=g,Dn(o,g)}}var op={readContext:Ai,use:np,useCallback:Pn,useContext:Pn,useEffect:Pn,useImperativeHandle:Pn,useLayoutEffect:Pn,useInsertionEffect:Pn,useMemo:Pn,useReducer:Pn,useRef:Pn,useState:Pn,useDebugValue:Pn,useDeferredValue:Pn,useTransition:Pn,useSyncExternalStore:Pn,useId:Pn,useHostTransitionStatus:Pn,useFormState:Pn,useActionState:Pn,useOptimistic:Pn,useMemoCache:Pn,useCacheRefresh:Pn},TT={readContext:Ai,use:np,useCallback:function(o,u){return Qi().memoizedState=[o,u===void 0?null:u],o},useContext:Ai,useEffect:lT,useImperativeHandle:function(o,u,g){g=g!=null?g.concat([o]):null,rp(4194308,4,dT.bind(null,u,o),g)},useLayoutEffect:function(o,u){return rp(4194308,4,o,u)},useInsertionEffect:function(o,u){rp(4,2,o,u)},useMemo:function(o,u){var g=Qi();u=u===void 0?null:u;var m=o();if(Cl){Tn(!0);try{o()}finally{Tn(!1)}}return g.memoizedState=[m,u],m},useReducer:function(o,u,g){var m=Qi();if(g!==void 0){var w=g(u);if(Cl){Tn(!0);try{g(u)}finally{Tn(!1)}}}else w=u;return m.memoizedState=m.baseState=w,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:w},m.queue=o,o=o.dispatch=_z.bind(null,dt,o),[m.memoizedState,o]},useRef:function(o){var u=Qi();return o={current:o},u.memoizedState=o},useState:function(o){o=lb(o);var u=o.queue,g=_T.bind(null,dt,u);return u.dispatch=g,[o.memoizedState,g]},useDebugValue:ub,useDeferredValue:function(o,u){var g=Qi();return hb(g,o,u)},useTransition:function(){var o=lb(!1);return o=yT.bind(null,dt,o.queue,!0,!1),Qi().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,u,g){var m=dt,w=Qi();if(Ft){if(g===void 0)throw Error(n(407));g=g()}else{if(g=u(),ln===null)throw Error(n(349));(kt&124)!==0||W1(m,u,g)}w.memoizedState=g;var A={value:g,getSnapshot:u};return w.queue=A,lT(q1.bind(null,m,A,o),[o]),m.flags|=2048,Xc(9,sp(),G1.bind(null,m,A,g,u),null),g},useId:function(){var o=Qi(),u=ln.identifierPrefix;if(Ft){var g=ua,m=ca;g=(m&~(1<<32-an(m)-1)).toString(32)+g,u=""+u+"R"+g,g=tp++,0<g&&(u+="H"+g.toString(32)),u+=""}else g=mz++,u=""+u+"r"+g.toString(32)+"";return o.memoizedState=u},useHostTransitionStatus:fb,useFormState:iT,useActionState:iT,useOptimistic:function(o){var u=Qi();u.memoizedState=u.baseState=o;var g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=g,u=gb.bind(null,dt,!0,g),g.dispatch=u,[o,u]},useMemoCache:rb,useCacheRefresh:function(){return Qi().memoizedState=wz.bind(null,dt)}},ET={readContext:Ai,use:np,useCallback:gT,useContext:Ai,useEffect:cT,useImperativeHandle:fT,useInsertionEffect:uT,useLayoutEffect:hT,useMemo:pT,useReducer:ip,useRef:oT,useState:function(){return ip(fa)},useDebugValue:ub,useDeferredValue:function(o,u){var g=Bn();return mT(g,Qt.memoizedState,o,u)},useTransition:function(){var o=ip(fa)[0],u=Bn().memoizedState;return[typeof o=="boolean"?o:Yh(o),u]},useSyncExternalStore:X1,useId:xT,useHostTransitionStatus:fb,useFormState:sT,useActionState:sT,useOptimistic:function(o,u){var g=Bn();return Q1(g,Qt,o,u)},useMemoCache:rb,useCacheRefresh:wT},Az={readContext:Ai,use:np,useCallback:gT,useContext:Ai,useEffect:cT,useImperativeHandle:fT,useInsertionEffect:uT,useLayoutEffect:hT,useMemo:pT,useReducer:ob,useRef:oT,useState:function(){return ob(fa)},useDebugValue:ub,useDeferredValue:function(o,u){var g=Bn();return Qt===null?hb(g,o,u):mT(g,Qt.memoizedState,o,u)},useTransition:function(){var o=ob(fa)[0],u=Bn().memoizedState;return[typeof o=="boolean"?o:Yh(o),u]},useSyncExternalStore:X1,useId:xT,useHostTransitionStatus:fb,useFormState:aT,useActionState:aT,useOptimistic:function(o,u){var g=Bn();return Qt!==null?Q1(g,Qt,o,u):(g.baseState=o,[o,g.queue.dispatch])},useMemoCache:rb,useCacheRefresh:wT},Wc=null,Gh=0;function lp(o){var u=Gh;return Gh+=1,Wc===null&&(Wc=[]),V1(Wc,o,u)}function qh(o,u){u=u.props.ref,o.ref=u!==void 0?u:null}function cp(o,u){throw u.$$typeof===f?Error(n(525)):(o=Object.prototype.toString.call(u),Error(n(31,o==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":o)))}function CT(o){var u=o._init;return u(o._payload)}function kT(o){function u(Q,$){if(o){var te=Q.deletions;te===null?(Q.deletions=[$],Q.flags|=16):te.push($)}}function g(Q,$){if(!o)return null;for(;$!==null;)u(Q,$),$=$.sibling;return null}function m(Q){for(var $=new Map;Q!==null;)Q.key!==null?$.set(Q.key,Q):$.set(Q.index,Q),Q=Q.sibling;return $}function w(Q,$){return Q=la(Q,$),Q.index=0,Q.sibling=null,Q}function A(Q,$,te){return Q.index=te,o?(te=Q.alternate,te!==null?(te=te.index,te<$?(Q.flags|=67108866,$):te):(Q.flags|=67108866,$)):(Q.flags|=1048576,$)}function V(Q){return o&&Q.alternate===null&&(Q.flags|=67108866),Q}function U(Q,$,te,he){return $===null||$.tag!==6?($=Ov(te,Q.mode,he),$.return=Q,$):($=w($,te),$.return=Q,$)}function W(Q,$,te,he){var De=te.type;return De===b?ce(Q,$,te.props.children,he,te.key):$!==null&&($.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===E&&CT(De)===$.type)?($=w($,te.props),qh($,te),$.return=Q,$):($=Xg(te.type,te.key,te.props,null,Q.mode,he),qh($,te),$.return=Q,$)}function ie(Q,$,te,he){return $===null||$.tag!==4||$.stateNode.containerInfo!==te.containerInfo||$.stateNode.implementation!==te.implementation?($=Lv(te,Q.mode,he),$.return=Q,$):($=w($,te.children||[]),$.return=Q,$)}function ce(Q,$,te,he,De){return $===null||$.tag!==7?($=bl(te,Q.mode,he,De),$.return=Q,$):($=w($,te),$.return=Q,$)}function ge(Q,$,te){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return $=Ov(""+$,Q.mode,te),$.return=Q,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case p:return te=Xg($.type,$.key,$.props,null,Q.mode,te),qh(te,$),te.return=Q,te;case y:return $=Lv($,Q.mode,te),$.return=Q,$;case E:var he=$._init;return $=he($._payload),ge(Q,$,te)}if(ne($)||H($))return $=bl($,Q.mode,te,null),$.return=Q,$;if(typeof $.then=="function")return ge(Q,lp($),te);if($.$$typeof===C)return ge(Q,$g(Q,$),te);cp(Q,$)}return null}function se(Q,$,te,he){var De=$!==null?$.key:null;if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return De!==null?null:U(Q,$,""+te,he);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case p:return te.key===De?W(Q,$,te,he):null;case y:return te.key===De?ie(Q,$,te,he):null;case E:return De=te._init,te=De(te._payload),se(Q,$,te,he)}if(ne(te)||H(te))return De!==null?null:ce(Q,$,te,he,null);if(typeof te.then=="function")return se(Q,$,lp(te),he);if(te.$$typeof===C)return se(Q,$,$g(Q,te),he);cp(Q,te)}return null}function re(Q,$,te,he,De){if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return Q=Q.get(te)||null,U($,Q,""+he,De);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case p:return Q=Q.get(he.key===null?te:he.key)||null,W($,Q,he,De);case y:return Q=Q.get(he.key===null?te:he.key)||null,ie($,Q,he,De);case E:var pt=he._init;return he=pt(he._payload),re(Q,$,te,he,De)}if(ne(he)||H(he))return Q=Q.get(te)||null,ce($,Q,he,De,null);if(typeof he.then=="function")return re(Q,$,te,lp(he),De);if(he.$$typeof===C)return re(Q,$,te,$g($,he),De);cp($,he)}return null}function Qe(Q,$,te,he){for(var De=null,pt=null,Le=$,Ye=$=0,ii=null;Le!==null&&Ye<te.length;Ye++){Le.index>Ye?(ii=Le,Le=null):ii=Le.sibling;var Ot=se(Q,Le,te[Ye],he);if(Ot===null){Le===null&&(Le=ii);break}o&&Le&&Ot.alternate===null&&u(Q,Le),$=A(Ot,$,Ye),pt===null?De=Ot:pt.sibling=Ot,pt=Ot,Le=ii}if(Ye===te.length)return g(Q,Le),Ft&&wl(Q,Ye),De;if(Le===null){for(;Ye<te.length;Ye++)Le=ge(Q,te[Ye],he),Le!==null&&($=A(Le,$,Ye),pt===null?De=Le:pt.sibling=Le,pt=Le);return Ft&&wl(Q,Ye),De}for(Le=m(Le);Ye<te.length;Ye++)ii=re(Le,Q,Ye,te[Ye],he),ii!==null&&(o&&ii.alternate!==null&&Le.delete(ii.key===null?Ye:ii.key),$=A(ii,$,Ye),pt===null?De=ii:pt.sibling=ii,pt=ii);return o&&Le.forEach(function(bo){return u(Q,bo)}),Ft&&wl(Q,Ye),De}function He(Q,$,te,he){if(te==null)throw Error(n(151));for(var De=null,pt=null,Le=$,Ye=$=0,ii=null,Ot=te.next();Le!==null&&!Ot.done;Ye++,Ot=te.next()){Le.index>Ye?(ii=Le,Le=null):ii=Le.sibling;var bo=se(Q,Le,Ot.value,he);if(bo===null){Le===null&&(Le=ii);break}o&&Le&&bo.alternate===null&&u(Q,Le),$=A(bo,$,Ye),pt===null?De=bo:pt.sibling=bo,pt=bo,Le=ii}if(Ot.done)return g(Q,Le),Ft&&wl(Q,Ye),De;if(Le===null){for(;!Ot.done;Ye++,Ot=te.next())Ot=ge(Q,Ot.value,he),Ot!==null&&($=A(Ot,$,Ye),pt===null?De=Ot:pt.sibling=Ot,pt=Ot);return Ft&&wl(Q,Ye),De}for(Le=m(Le);!Ot.done;Ye++,Ot=te.next())Ot=re(Le,Q,Ye,Ot.value,he),Ot!==null&&(o&&Ot.alternate!==null&&Le.delete(Ot.key===null?Ye:Ot.key),$=A(Ot,$,Ye),pt===null?De=Ot:pt.sibling=Ot,pt=Ot);return o&&Le.forEach(function(S4){return u(Q,S4)}),Ft&&wl(Q,Ye),De}function Jt(Q,$,te,he){if(typeof te=="object"&&te!==null&&te.type===b&&te.key===null&&(te=te.props.children),typeof te=="object"&&te!==null){switch(te.$$typeof){case p:e:{for(var De=te.key;$!==null;){if($.key===De){if(De=te.type,De===b){if($.tag===7){g(Q,$.sibling),he=w($,te.props.children),he.return=Q,Q=he;break e}}else if($.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===E&&CT(De)===$.type){g(Q,$.sibling),he=w($,te.props),qh(he,te),he.return=Q,Q=he;break e}g(Q,$);break}else u(Q,$);$=$.sibling}te.type===b?(he=bl(te.props.children,Q.mode,he,te.key),he.return=Q,Q=he):(he=Xg(te.type,te.key,te.props,null,Q.mode,he),qh(he,te),he.return=Q,Q=he)}return V(Q);case y:e:{for(De=te.key;$!==null;){if($.key===De)if($.tag===4&&$.stateNode.containerInfo===te.containerInfo&&$.stateNode.implementation===te.implementation){g(Q,$.sibling),he=w($,te.children||[]),he.return=Q,Q=he;break e}else{g(Q,$);break}else u(Q,$);$=$.sibling}he=Lv(te,Q.mode,he),he.return=Q,Q=he}return V(Q);case E:return De=te._init,te=De(te._payload),Jt(Q,$,te,he)}if(ne(te))return Qe(Q,$,te,he);if(H(te)){if(De=H(te),typeof De!="function")throw Error(n(150));return te=De.call(te),He(Q,$,te,he)}if(typeof te.then=="function")return Jt(Q,$,lp(te),he);if(te.$$typeof===C)return Jt(Q,$,$g(Q,te),he);cp(Q,te)}return typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint"?(te=""+te,$!==null&&$.tag===6?(g(Q,$.sibling),he=w($,te),he.return=Q,Q=he):(g(Q,$),he=Ov(te,Q.mode,he),he.return=Q,Q=he),V(Q)):g(Q,$)}return function(Q,$,te,he){try{Gh=0;var De=Jt(Q,$,te,he);return Wc=null,De}catch(Le){if(Le===Fh||Le===Qg)throw Le;var pt=ds(29,Le,null,Q.mode);return pt.lanes=he,pt.return=Q,pt}finally{}}}var Gc=kT(!0),RT=kT(!1),zs=me(null),Pr=null;function io(o){var u=o.alternate;ye(Kn,Kn.current&1),ye(zs,o),Pr===null&&(u===null||Hc.current!==null||u.memoizedState!==null)&&(Pr=o)}function IT(o){if(o.tag===22){if(ye(Kn,Kn.current),ye(zs,o),Pr===null){var u=o.alternate;u!==null&&u.memoizedState!==null&&(Pr=o)}}else so()}function so(){ye(Kn,Kn.current),ye(zs,zs.current)}function ga(o){ae(zs),Pr===o&&(Pr=null),ae(Kn)}var Kn=me(0);function up(o){for(var u=o;u!==null;){if(u.tag===13){var g=u.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||g.data==="$?"||sx(g)))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}function pb(o,u,g,m){u=o.memoizedState,g=g(m,u),g=g==null?u:d({},u,g),o.memoizedState=g,o.lanes===0&&(o.updateQueue.baseState=g)}var mb={enqueueSetState:function(o,u,g){o=o._reactInternals;var m=ms(),w=eo(m);w.payload=u,g!=null&&(w.callback=g),u=to(o,w,m),u!==null&&(ys(u,o,m),jh(u,o,m))},enqueueReplaceState:function(o,u,g){o=o._reactInternals;var m=ms(),w=eo(m);w.tag=1,w.payload=u,g!=null&&(w.callback=g),u=to(o,w,m),u!==null&&(ys(u,o,m),jh(u,o,m))},enqueueForceUpdate:function(o,u){o=o._reactInternals;var g=ms(),m=eo(g);m.tag=2,u!=null&&(m.callback=u),u=to(o,m,g),u!==null&&(ys(u,o,g),jh(u,o,g))}};function MT(o,u,g,m,w,A,V){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(m,A,V):u.prototype&&u.prototype.isPureReactComponent?!Ih(g,m)||!Ih(w,A):!0}function DT(o,u,g,m){o=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(g,m),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(g,m),u.state!==o&&mb.enqueueReplaceState(u,u.state,null)}function kl(o,u){var g=u;if("ref"in u){g={};for(var m in u)m!=="ref"&&(g[m]=u[m])}if(o=o.defaultProps){g===u&&(g=d({},g));for(var w in o)g[w]===void 0&&(g[w]=o[w])}return g}var hp=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)};function NT(o){hp(o)}function PT(o){console.error(o)}function OT(o){hp(o)}function dp(o,u){try{var g=o.onUncaughtError;g(u.value,{componentStack:u.stack})}catch(m){setTimeout(function(){throw m})}}function LT(o,u,g){try{var m=o.onCaughtError;m(g.value,{componentStack:g.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(w){setTimeout(function(){throw w})}}function yb(o,u,g){return g=eo(g),g.tag=3,g.payload={element:null},g.callback=function(){dp(o,u)},g}function VT(o){return o=eo(o),o.tag=3,o}function FT(o,u,g,m){var w=g.type.getDerivedStateFromError;if(typeof w=="function"){var A=m.value;o.payload=function(){return w(A)},o.callback=function(){LT(u,g,m)}}var V=g.stateNode;V!==null&&typeof V.componentDidCatch=="function"&&(o.callback=function(){LT(u,g,m),typeof w!="function"&&(uo===null?uo=new Set([this]):uo.add(this));var U=m.stack;this.componentDidCatch(m.value,{componentStack:U!==null?U:""})})}function Sz(o,u,g,m,w){if(g.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(u=g.alternate,u!==null&&Oh(u,g,w,!0),g=zs.current,g!==null){switch(g.tag){case 13:return Pr===null?Bb():g.alternate===null&&Cn===0&&(Cn=3),g.flags&=-257,g.flags|=65536,g.lanes=w,m===Wv?g.flags|=16384:(u=g.updateQueue,u===null?g.updateQueue=new Set([m]):u.add(m),Ub(o,m,w)),!1;case 22:return g.flags|=65536,m===Wv?g.flags|=16384:(u=g.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([m])},g.updateQueue=u):(g=u.retryQueue,g===null?u.retryQueue=new Set([m]):g.add(m)),Ub(o,m,w)),!1}throw Error(n(435,g.tag))}return Ub(o,m,w),Bb(),!1}if(Ft)return u=zs.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=w,m!==zv&&(o=Error(n(422),{cause:m}),Ph(Os(o,g)))):(m!==zv&&(u=Error(n(423),{cause:m}),Ph(Os(u,g))),o=o.current.alternate,o.flags|=65536,w&=-w,o.lanes|=w,m=Os(m,g),w=yb(o.stateNode,m,w),$v(o,w),Cn!==4&&(Cn=2)),!1;var A=Error(n(520),{cause:m});if(A=Os(A,g),td===null?td=[A]:td.push(A),Cn!==4&&(Cn=2),u===null)return!0;m=Os(m,g),g=u;do{switch(g.tag){case 3:return g.flags|=65536,o=w&-w,g.lanes|=o,o=yb(g.stateNode,m,o),$v(g,o),!1;case 1:if(u=g.type,A=g.stateNode,(g.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(uo===null||!uo.has(A))))return g.flags|=65536,w&=-w,g.lanes|=w,w=VT(w),FT(w,o,g,m),$v(g,w),!1}g=g.return}while(g!==null);return!1}var zT=Error(n(461)),ti=!1;function di(o,u,g,m){u.child=o===null?RT(u,null,g,m):Gc(u,o.child,g,m)}function jT(o,u,g,m,w){g=g.render;var A=u.ref;if("ref"in m){var V={};for(var U in m)U!=="ref"&&(V[U]=m[U])}else V=m;return Tl(u),m=eb(o,u,g,V,A,w),U=tb(),o!==null&&!ti?(nb(o,u,w),pa(o,u,w)):(Ft&&U&&Vv(u),u.flags|=1,di(o,u,m,w),u.child)}function BT(o,u,g,m,w){if(o===null){var A=g.type;return typeof A=="function"&&!Pv(A)&&A.defaultProps===void 0&&g.compare===null?(u.tag=15,u.type=A,HT(o,u,A,m,w)):(o=Xg(g.type,null,m,u,u.mode,w),o.ref=u.ref,o.return=u,u.child=o)}if(A=o.child,!Tb(o,w)){var V=A.memoizedProps;if(g=g.compare,g=g!==null?g:Ih,g(V,m)&&o.ref===u.ref)return pa(o,u,w)}return u.flags|=1,o=la(A,m),o.ref=u.ref,o.return=u,u.child=o}function HT(o,u,g,m,w){if(o!==null){var A=o.memoizedProps;if(Ih(A,m)&&o.ref===u.ref)if(ti=!1,u.pendingProps=m=A,Tb(o,w))(o.flags&131072)!==0&&(ti=!0);else return u.lanes=o.lanes,pa(o,u,w)}return vb(o,u,g,m,w)}function UT(o,u,g){var m=u.pendingProps,w=m.children,A=o!==null?o.memoizedState:null;if(m.mode==="hidden"){if((u.flags&128)!==0){if(m=A!==null?A.baseLanes|g:g,o!==null){for(w=u.child=o.child,A=0;w!==null;)A=A|w.lanes|w.childLanes,w=w.sibling;u.childLanes=A&~m}else u.childLanes=0,u.child=null;return YT(o,u,m,g)}if((g&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},o!==null&&Kg(u,A!==null?A.cachePool:null),A!==null?H1(u,A):Qv(),IT(u);else return u.lanes=u.childLanes=536870912,YT(o,u,A!==null?A.baseLanes|g:g,g)}else A!==null?(Kg(u,A.cachePool),H1(u,A),so(),u.memoizedState=null):(o!==null&&Kg(u,null),Qv(),so());return di(o,u,w,g),u.child}function YT(o,u,g,m){var w=Xv();return w=w===null?null:{parent:$n._currentValue,pool:w},u.memoizedState={baseLanes:g,cachePool:w},o!==null&&Kg(u,null),Qv(),IT(u),o!==null&&Oh(o,u,m,!0),null}function fp(o,u){var g=u.ref;if(g===null)o!==null&&o.ref!==null&&(u.flags|=4194816);else{if(typeof g!="function"&&typeof g!="object")throw Error(n(284));(o===null||o.ref!==g)&&(u.flags|=4194816)}}function vb(o,u,g,m,w){return Tl(u),g=eb(o,u,g,m,void 0,w),m=tb(),o!==null&&!ti?(nb(o,u,w),pa(o,u,w)):(Ft&&m&&Vv(u),u.flags|=1,di(o,u,g,w),u.child)}function XT(o,u,g,m,w,A){return Tl(u),u.updateQueue=null,g=Y1(u,m,g,w),U1(o),m=tb(),o!==null&&!ti?(nb(o,u,A),pa(o,u,A)):(Ft&&m&&Vv(u),u.flags|=1,di(o,u,g,A),u.child)}function WT(o,u,g,m,w){if(Tl(u),u.stateNode===null){var A=Vc,V=g.contextType;typeof V=="object"&&V!==null&&(A=Ai(V)),A=new g(m,A),u.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,A.updater=mb,u.stateNode=A,A._reactInternals=u,A=u.stateNode,A.props=m,A.state=u.memoizedState,A.refs={},Gv(u),V=g.contextType,A.context=typeof V=="object"&&V!==null?Ai(V):Vc,A.state=u.memoizedState,V=g.getDerivedStateFromProps,typeof V=="function"&&(pb(u,g,V,m),A.state=u.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(V=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),V!==A.state&&mb.enqueueReplaceState(A,A.state,null),Hh(u,m,A,w),Bh(),A.state=u.memoizedState),typeof A.componentDidMount=="function"&&(u.flags|=4194308),m=!0}else if(o===null){A=u.stateNode;var U=u.memoizedProps,W=kl(g,U);A.props=W;var ie=A.context,ce=g.contextType;V=Vc,typeof ce=="object"&&ce!==null&&(V=Ai(ce));var ge=g.getDerivedStateFromProps;ce=typeof ge=="function"||typeof A.getSnapshotBeforeUpdate=="function",U=u.pendingProps!==U,ce||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(U||ie!==V)&&DT(u,A,m,V),Ja=!1;var se=u.memoizedState;A.state=se,Hh(u,m,A,w),Bh(),ie=u.memoizedState,U||se!==ie||Ja?(typeof ge=="function"&&(pb(u,g,ge,m),ie=u.memoizedState),(W=Ja||MT(u,g,W,m,se,ie,V))?(ce||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(u.flags|=4194308)):(typeof A.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=m,u.memoizedState=ie),A.props=m,A.state=ie,A.context=V,m=W):(typeof A.componentDidMount=="function"&&(u.flags|=4194308),m=!1)}else{A=u.stateNode,qv(o,u),V=u.memoizedProps,ce=kl(g,V),A.props=ce,ge=u.pendingProps,se=A.context,ie=g.contextType,W=Vc,typeof ie=="object"&&ie!==null&&(W=Ai(ie)),U=g.getDerivedStateFromProps,(ie=typeof U=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(V!==ge||se!==W)&&DT(u,A,m,W),Ja=!1,se=u.memoizedState,A.state=se,Hh(u,m,A,w),Bh();var re=u.memoizedState;V!==ge||se!==re||Ja||o!==null&&o.dependencies!==null&&qg(o.dependencies)?(typeof U=="function"&&(pb(u,g,U,m),re=u.memoizedState),(ce=Ja||MT(u,g,ce,m,se,re,W)||o!==null&&o.dependencies!==null&&qg(o.dependencies))?(ie||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(m,re,W),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(m,re,W)),typeof A.componentDidUpdate=="function"&&(u.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof A.componentDidUpdate!="function"||V===o.memoizedProps&&se===o.memoizedState||(u.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||V===o.memoizedProps&&se===o.memoizedState||(u.flags|=1024),u.memoizedProps=m,u.memoizedState=re),A.props=m,A.state=re,A.context=W,m=ce):(typeof A.componentDidUpdate!="function"||V===o.memoizedProps&&se===o.memoizedState||(u.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||V===o.memoizedProps&&se===o.memoizedState||(u.flags|=1024),m=!1)}return A=m,fp(o,u),m=(u.flags&128)!==0,A||m?(A=u.stateNode,g=m&&typeof g.getDerivedStateFromError!="function"?null:A.render(),u.flags|=1,o!==null&&m?(u.child=Gc(u,o.child,null,w),u.child=Gc(u,null,g,w)):di(o,u,g,w),u.memoizedState=A.state,o=u.child):o=pa(o,u,w),o}function GT(o,u,g,m){return Nh(),u.flags|=256,di(o,u,g,m),u.child}var bb={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xb(o){return{baseLanes:o,cachePool:P1()}}function wb(o,u,g){return o=o!==null?o.childLanes&~g:0,u&&(o|=js),o}function qT(o,u,g){var m=u.pendingProps,w=!1,A=(u.flags&128)!==0,V;if((V=A)||(V=o!==null&&o.memoizedState===null?!1:(Kn.current&2)!==0),V&&(w=!0,u.flags&=-129),V=(u.flags&32)!==0,u.flags&=-33,o===null){if(Ft){if(w?io(u):so(),Ft){var U=En,W;if(W=U){e:{for(W=U,U=Nr;W.nodeType!==8;){if(!U){U=null;break e}if(W=lr(W.nextSibling),W===null){U=null;break e}}U=W}U!==null?(u.memoizedState={dehydrated:U,treeContext:xl!==null?{id:ca,overflow:ua}:null,retryLane:536870912,hydrationErrors:null},W=ds(18,null,null,0),W.stateNode=U,W.return=u,u.child=W,Hi=u,En=null,W=!0):W=!1}W||Al(u)}if(U=u.memoizedState,U!==null&&(U=U.dehydrated,U!==null))return sx(U)?u.lanes=32:u.lanes=536870912,null;ga(u)}return U=m.children,m=m.fallback,w?(so(),w=u.mode,U=gp({mode:"hidden",children:U},w),m=bl(m,w,g,null),U.return=u,m.return=u,U.sibling=m,u.child=U,w=u.child,w.memoizedState=xb(g),w.childLanes=wb(o,V,g),u.memoizedState=bb,m):(io(u),_b(u,U))}if(W=o.memoizedState,W!==null&&(U=W.dehydrated,U!==null)){if(A)u.flags&256?(io(u),u.flags&=-257,u=Ab(o,u,g)):u.memoizedState!==null?(so(),u.child=o.child,u.flags|=128,u=null):(so(),w=m.fallback,U=u.mode,m=gp({mode:"visible",children:m.children},U),w=bl(w,U,g,null),w.flags|=2,m.return=u,w.return=u,m.sibling=w,u.child=m,Gc(u,o.child,null,g),m=u.child,m.memoizedState=xb(g),m.childLanes=wb(o,V,g),u.memoizedState=bb,u=w);else if(io(u),sx(U)){if(V=U.nextSibling&&U.nextSibling.dataset,V)var ie=V.dgst;V=ie,m=Error(n(419)),m.stack="",m.digest=V,Ph({value:m,source:null,stack:null}),u=Ab(o,u,g)}else if(ti||Oh(o,u,g,!1),V=(g&o.childLanes)!==0,ti||V){if(V=ln,V!==null&&(m=g&-g,m=(m&42)!==0?1:ht(m),m=(m&(V.suspendedLanes|g))!==0?0:m,m!==0&&m!==W.retryLane))throw W.retryLane=m,Lc(o,m),ys(V,o,m),zT;U.data==="$?"||Bb(),u=Ab(o,u,g)}else U.data==="$?"?(u.flags|=192,u.child=o.child,u=null):(o=W.treeContext,En=lr(U.nextSibling),Hi=u,Ft=!0,_l=null,Nr=!1,o!==null&&(Vs[Fs++]=ca,Vs[Fs++]=ua,Vs[Fs++]=xl,ca=o.id,ua=o.overflow,xl=u),u=_b(u,m.children),u.flags|=4096);return u}return w?(so(),w=m.fallback,U=u.mode,W=o.child,ie=W.sibling,m=la(W,{mode:"hidden",children:m.children}),m.subtreeFlags=W.subtreeFlags&65011712,ie!==null?w=la(ie,w):(w=bl(w,U,g,null),w.flags|=2),w.return=u,m.return=u,m.sibling=w,u.child=m,m=w,w=u.child,U=o.child.memoizedState,U===null?U=xb(g):(W=U.cachePool,W!==null?(ie=$n._currentValue,W=W.parent!==ie?{parent:ie,pool:ie}:W):W=P1(),U={baseLanes:U.baseLanes|g,cachePool:W}),w.memoizedState=U,w.childLanes=wb(o,V,g),u.memoizedState=bb,m):(io(u),g=o.child,o=g.sibling,g=la(g,{mode:"visible",children:m.children}),g.return=u,g.sibling=null,o!==null&&(V=u.deletions,V===null?(u.deletions=[o],u.flags|=16):V.push(o)),u.child=g,u.memoizedState=null,g)}function _b(o,u){return u=gp({mode:"visible",children:u},o.mode),u.return=o,o.child=u}function gp(o,u){return o=ds(22,o,null,u),o.lanes=0,o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},o}function Ab(o,u,g){return Gc(u,o.child,null,g),o=_b(u,u.pendingProps.children),o.flags|=2,u.memoizedState=null,o}function $T(o,u,g){o.lanes|=u;var m=o.alternate;m!==null&&(m.lanes|=u),Bv(o.return,u,g)}function Sb(o,u,g,m,w){var A=o.memoizedState;A===null?o.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:m,tail:g,tailMode:w}:(A.isBackwards=u,A.rendering=null,A.renderingStartTime=0,A.last=m,A.tail=g,A.tailMode=w)}function KT(o,u,g){var m=u.pendingProps,w=m.revealOrder,A=m.tail;if(di(o,u,m.children,g),m=Kn.current,(m&2)!==0)m=m&1|2,u.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=u.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&$T(o,g,u);else if(o.tag===19)$T(o,g,u);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===u)break e;for(;o.sibling===null;){if(o.return===null||o.return===u)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}m&=1}switch(ye(Kn,m),w){case"forwards":for(g=u.child,w=null;g!==null;)o=g.alternate,o!==null&&up(o)===null&&(w=g),g=g.sibling;g=w,g===null?(w=u.child,u.child=null):(w=g.sibling,g.sibling=null),Sb(u,!1,w,g,A);break;case"backwards":for(g=null,w=u.child,u.child=null;w!==null;){if(o=w.alternate,o!==null&&up(o)===null){u.child=w;break}o=w.sibling,w.sibling=g,g=w,w=o}Sb(u,!0,g,null,A);break;case"together":Sb(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function pa(o,u,g){if(o!==null&&(u.dependencies=o.dependencies),co|=u.lanes,(g&u.childLanes)===0)if(o!==null){if(Oh(o,u,g,!1),(g&u.childLanes)===0)return null}else return null;if(o!==null&&u.child!==o.child)throw Error(n(153));if(u.child!==null){for(o=u.child,g=la(o,o.pendingProps),u.child=g,g.return=u;o.sibling!==null;)o=o.sibling,g=g.sibling=la(o,o.pendingProps),g.return=u;g.sibling=null}return u.child}function Tb(o,u){return(o.lanes&u)!==0?!0:(o=o.dependencies,!!(o!==null&&qg(o)))}function Tz(o,u,g){switch(u.tag){case 3:we(u,u.stateNode.containerInfo),Za(u,$n,o.memoizedState.cache),Nh();break;case 27:case 5:Ae(u);break;case 4:we(u,u.stateNode.containerInfo);break;case 10:Za(u,u.type,u.memoizedProps.value);break;case 13:var m=u.memoizedState;if(m!==null)return m.dehydrated!==null?(io(u),u.flags|=128,null):(g&u.child.childLanes)!==0?qT(o,u,g):(io(u),o=pa(o,u,g),o!==null?o.sibling:null);io(u);break;case 19:var w=(o.flags&128)!==0;if(m=(g&u.childLanes)!==0,m||(Oh(o,u,g,!1),m=(g&u.childLanes)!==0),w){if(m)return KT(o,u,g);u.flags|=128}if(w=u.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),ye(Kn,Kn.current),m)break;return null;case 22:case 23:return u.lanes=0,UT(o,u,g);case 24:Za(u,$n,o.memoizedState.cache)}return pa(o,u,g)}function QT(o,u,g){if(o!==null)if(o.memoizedProps!==u.pendingProps)ti=!0;else{if(!Tb(o,g)&&(u.flags&128)===0)return ti=!1,Tz(o,u,g);ti=(o.flags&131072)!==0}else ti=!1,Ft&&(u.flags&1048576)!==0&&C1(u,Gg,u.index);switch(u.lanes=0,u.tag){case 16:e:{o=u.pendingProps;var m=u.elementType,w=m._init;if(m=w(m._payload),u.type=m,typeof m=="function")Pv(m)?(o=kl(m,o),u.tag=1,u=WT(null,u,m,o,g)):(u.tag=0,u=vb(null,u,m,o,g));else{if(m!=null){if(w=m.$$typeof,w===M){u.tag=11,u=jT(null,u,m,o,g);break e}else if(w===k){u.tag=14,u=BT(null,u,m,o,g);break e}}throw u=K(m)||m,Error(n(306,u,""))}}return u;case 0:return vb(o,u,u.type,u.pendingProps,g);case 1:return m=u.type,w=kl(m,u.pendingProps),WT(o,u,m,w,g);case 3:e:{if(we(u,u.stateNode.containerInfo),o===null)throw Error(n(387));m=u.pendingProps;var A=u.memoizedState;w=A.element,qv(o,u),Hh(u,m,null,g);var V=u.memoizedState;if(m=V.cache,Za(u,$n,m),m!==A.cache&&Hv(u,[$n],g,!0),Bh(),m=V.element,A.isDehydrated)if(A={element:m,isDehydrated:!1,cache:V.cache},u.updateQueue.baseState=A,u.memoizedState=A,u.flags&256){u=GT(o,u,m,g);break e}else if(m!==w){w=Os(Error(n(424)),u),Ph(w),u=GT(o,u,m,g);break e}else{switch(o=u.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(En=lr(o.firstChild),Hi=u,Ft=!0,_l=null,Nr=!0,g=RT(u,null,m,g),u.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling}else{if(Nh(),m===w){u=pa(o,u,g);break e}di(o,u,m,g)}u=u.child}return u;case 26:return fp(o,u),o===null?(g=tC(u.type,null,u.pendingProps,null))?u.memoizedState=g:Ft||(g=u.type,o=u.pendingProps,m=kp(Se.current).createElement(g),m[gt]=u,m[_t]=o,gi(m,g,o),Nn(m),u.stateNode=m):u.memoizedState=tC(u.type,o.memoizedProps,u.pendingProps,o.memoizedState),null;case 27:return Ae(u),o===null&&Ft&&(m=u.stateNode=ZE(u.type,u.pendingProps,Se.current),Hi=u,Nr=!0,w=En,go(u.type)?(rx=w,En=lr(m.firstChild)):En=w),di(o,u,u.pendingProps.children,g),fp(o,u),o===null&&(u.flags|=4194304),u.child;case 5:return o===null&&Ft&&((w=m=En)&&(m=Jz(m,u.type,u.pendingProps,Nr),m!==null?(u.stateNode=m,Hi=u,En=lr(m.firstChild),Nr=!1,w=!0):w=!1),w||Al(u)),Ae(u),w=u.type,A=u.pendingProps,V=o!==null?o.memoizedProps:null,m=A.children,tx(w,A)?m=null:V!==null&&tx(w,V)&&(u.flags|=32),u.memoizedState!==null&&(w=eb(o,u,yz,null,null,g),ud._currentValue=w),fp(o,u),di(o,u,m,g),u.child;case 6:return o===null&&Ft&&((o=g=En)&&(g=e4(g,u.pendingProps,Nr),g!==null?(u.stateNode=g,Hi=u,En=null,o=!0):o=!1),o||Al(u)),null;case 13:return qT(o,u,g);case 4:return we(u,u.stateNode.containerInfo),m=u.pendingProps,o===null?u.child=Gc(u,null,m,g):di(o,u,m,g),u.child;case 11:return jT(o,u,u.type,u.pendingProps,g);case 7:return di(o,u,u.pendingProps,g),u.child;case 8:return di(o,u,u.pendingProps.children,g),u.child;case 12:return di(o,u,u.pendingProps.children,g),u.child;case 10:return m=u.pendingProps,Za(u,u.type,m.value),di(o,u,m.children,g),u.child;case 9:return w=u.type._context,m=u.pendingProps.children,Tl(u),w=Ai(w),m=m(w),u.flags|=1,di(o,u,m,g),u.child;case 14:return BT(o,u,u.type,u.pendingProps,g);case 15:return HT(o,u,u.type,u.pendingProps,g);case 19:return KT(o,u,g);case 31:return m=u.pendingProps,g=u.mode,m={mode:m.mode,children:m.children},o===null?(g=gp(m,g),g.ref=u.ref,u.child=g,g.return=u,u=g):(g=la(o.child,m),g.ref=u.ref,u.child=g,g.return=u,u=g),u;case 22:return UT(o,u,g);case 24:return Tl(u),m=Ai($n),o===null?(w=Xv(),w===null&&(w=ln,A=Uv(),w.pooledCache=A,A.refCount++,A!==null&&(w.pooledCacheLanes|=g),w=A),u.memoizedState={parent:m,cache:w},Gv(u),Za(u,$n,w)):((o.lanes&g)!==0&&(qv(o,u),Hh(u,null,null,g),Bh()),w=o.memoizedState,A=u.memoizedState,w.parent!==m?(w={parent:m,cache:m},u.memoizedState=w,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=w),Za(u,$n,m)):(m=A.cache,Za(u,$n,m),m!==w.cache&&Hv(u,[$n],g,!0))),di(o,u,u.pendingProps.children,g),u.child;case 29:throw u.pendingProps}throw Error(n(156,u.tag))}function ma(o){o.flags|=4}function ZT(o,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!aC(u)){if(u=zs.current,u!==null&&((kt&4194048)===kt?Pr!==null:(kt&62914560)!==kt&&(kt&536870912)===0||u!==Pr))throw zh=Wv,O1;o.flags|=8192}}function pp(o,u){u!==null&&(o.flags|=4),o.flags&16384&&(u=o.tag!==22?rt():536870912,o.lanes|=u,Qc|=u)}function $h(o,u){if(!Ft)switch(o.tailMode){case"hidden":u=o.tail;for(var g=null;u!==null;)u.alternate!==null&&(g=u),u=u.sibling;g===null?o.tail=null:g.sibling=null;break;case"collapsed":g=o.tail;for(var m=null;g!==null;)g.alternate!==null&&(m=g),g=g.sibling;m===null?u||o.tail===null?o.tail=null:o.tail.sibling=null:m.sibling=null}}function _n(o){var u=o.alternate!==null&&o.alternate.child===o.child,g=0,m=0;if(u)for(var w=o.child;w!==null;)g|=w.lanes|w.childLanes,m|=w.subtreeFlags&65011712,m|=w.flags&65011712,w.return=o,w=w.sibling;else for(w=o.child;w!==null;)g|=w.lanes|w.childLanes,m|=w.subtreeFlags,m|=w.flags,w.return=o,w=w.sibling;return o.subtreeFlags|=m,o.childLanes=g,u}function Ez(o,u,g){var m=u.pendingProps;switch(Fv(u),u.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _n(u),null;case 1:return _n(u),null;case 3:return g=u.stateNode,m=null,o!==null&&(m=o.memoizedState.cache),u.memoizedState.cache!==m&&(u.flags|=2048),da($n),Te(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(o===null||o.child===null)&&(Dh(u)?ma(u):o===null||o.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,I1())),_n(u),null;case 26:return g=u.memoizedState,o===null?(ma(u),g!==null?(_n(u),ZT(u,g)):(_n(u),u.flags&=-16777217)):g?g!==o.memoizedState?(ma(u),_n(u),ZT(u,g)):(_n(u),u.flags&=-16777217):(o.memoizedProps!==m&&ma(u),_n(u),u.flags&=-16777217),null;case 27:Ne(u),g=Se.current;var w=u.type;if(o!==null&&u.stateNode!=null)o.memoizedProps!==m&&ma(u);else{if(!m){if(u.stateNode===null)throw Error(n(166));return _n(u),null}o=_e.current,Dh(u)?k1(u):(o=ZE(w,m,g),u.stateNode=o,ma(u))}return _n(u),null;case 5:if(Ne(u),g=u.type,o!==null&&u.stateNode!=null)o.memoizedProps!==m&&ma(u);else{if(!m){if(u.stateNode===null)throw Error(n(166));return _n(u),null}if(o=_e.current,Dh(u))k1(u);else{switch(w=kp(Se.current),o){case 1:o=w.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:o=w.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":o=w.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":o=w.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":o=w.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof m.is=="string"?w.createElement("select",{is:m.is}):w.createElement("select"),m.multiple?o.multiple=!0:m.size&&(o.size=m.size);break;default:o=typeof m.is=="string"?w.createElement(g,{is:m.is}):w.createElement(g)}}o[gt]=u,o[_t]=m;e:for(w=u.child;w!==null;){if(w.tag===5||w.tag===6)o.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===u)break e;for(;w.sibling===null;){if(w.return===null||w.return===u)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}u.stateNode=o;e:switch(gi(o,g,m),g){case"button":case"input":case"select":case"textarea":o=!!m.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&ma(u)}}return _n(u),u.flags&=-16777217,null;case 6:if(o&&u.stateNode!=null)o.memoizedProps!==m&&ma(u);else{if(typeof m!="string"&&u.stateNode===null)throw Error(n(166));if(o=Se.current,Dh(u)){if(o=u.stateNode,g=u.memoizedProps,m=null,w=Hi,w!==null)switch(w.tag){case 27:case 5:m=w.memoizedProps}o[gt]=u,o=!!(o.nodeValue===g||m!==null&&m.suppressHydrationWarning===!0||XE(o.nodeValue,g)),o||Al(u)}else o=kp(o).createTextNode(m),o[gt]=u,u.stateNode=o}return _n(u),null;case 13:if(m=u.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(w=Dh(u),m!==null&&m.dehydrated!==null){if(o===null){if(!w)throw Error(n(318));if(w=u.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(n(317));w[gt]=u}else Nh(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;_n(u),w=!1}else w=I1(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=w),w=!0;if(!w)return u.flags&256?(ga(u),u):(ga(u),null)}if(ga(u),(u.flags&128)!==0)return u.lanes=g,u;if(g=m!==null,o=o!==null&&o.memoizedState!==null,g){m=u.child,w=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(w=m.alternate.memoizedState.cachePool.pool);var A=null;m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(A=m.memoizedState.cachePool.pool),A!==w&&(m.flags|=2048)}return g!==o&&g&&(u.child.flags|=8192),pp(u,u.updateQueue),_n(u),null;case 4:return Te(),o===null&&Kb(u.stateNode.containerInfo),_n(u),null;case 10:return da(u.type),_n(u),null;case 19:if(ae(Kn),w=u.memoizedState,w===null)return _n(u),null;if(m=(u.flags&128)!==0,A=w.rendering,A===null)if(m)$h(w,!1);else{if(Cn!==0||o!==null&&(o.flags&128)!==0)for(o=u.child;o!==null;){if(A=up(o),A!==null){for(u.flags|=128,$h(w,!1),o=A.updateQueue,u.updateQueue=o,pp(u,o),u.subtreeFlags=0,o=g,g=u.child;g!==null;)E1(g,o),g=g.sibling;return ye(Kn,Kn.current&1|2),u.child}o=o.sibling}w.tail!==null&&mt()>vp&&(u.flags|=128,m=!0,$h(w,!1),u.lanes=4194304)}else{if(!m)if(o=up(A),o!==null){if(u.flags|=128,m=!0,o=o.updateQueue,u.updateQueue=o,pp(u,o),$h(w,!0),w.tail===null&&w.tailMode==="hidden"&&!A.alternate&&!Ft)return _n(u),null}else 2*mt()-w.renderingStartTime>vp&&g!==536870912&&(u.flags|=128,m=!0,$h(w,!1),u.lanes=4194304);w.isBackwards?(A.sibling=u.child,u.child=A):(o=w.last,o!==null?o.sibling=A:u.child=A,w.last=A)}return w.tail!==null?(u=w.tail,w.rendering=u,w.tail=u.sibling,w.renderingStartTime=mt(),u.sibling=null,o=Kn.current,ye(Kn,m?o&1|2:o&1),u):(_n(u),null);case 22:case 23:return ga(u),Zv(),m=u.memoizedState!==null,o!==null?o.memoizedState!==null!==m&&(u.flags|=8192):m&&(u.flags|=8192),m?(g&536870912)!==0&&(u.flags&128)===0&&(_n(u),u.subtreeFlags&6&&(u.flags|=8192)):_n(u),g=u.updateQueue,g!==null&&pp(u,g.retryQueue),g=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(g=o.memoizedState.cachePool.pool),m=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==g&&(u.flags|=2048),o!==null&&ae(El),null;case 24:return g=null,o!==null&&(g=o.memoizedState.cache),u.memoizedState.cache!==g&&(u.flags|=2048),da($n),_n(u),null;case 25:return null;case 30:return null}throw Error(n(156,u.tag))}function Cz(o,u){switch(Fv(u),u.tag){case 1:return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 3:return da($n),Te(),o=u.flags,(o&65536)!==0&&(o&128)===0?(u.flags=o&-65537|128,u):null;case 26:case 27:case 5:return Ne(u),null;case 13:if(ga(u),o=u.memoizedState,o!==null&&o.dehydrated!==null){if(u.alternate===null)throw Error(n(340));Nh()}return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 19:return ae(Kn),null;case 4:return Te(),null;case 10:return da(u.type),null;case 22:case 23:return ga(u),Zv(),o!==null&&ae(El),o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 24:return da($n),null;case 25:return null;default:return null}}function JT(o,u){switch(Fv(u),u.tag){case 3:da($n),Te();break;case 26:case 27:case 5:Ne(u);break;case 4:Te();break;case 13:ga(u);break;case 19:ae(Kn);break;case 10:da(u.type);break;case 22:case 23:ga(u),Zv(),o!==null&&ae(El);break;case 24:da($n)}}function Kh(o,u){try{var g=u.updateQueue,m=g!==null?g.lastEffect:null;if(m!==null){var w=m.next;g=w;do{if((g.tag&o)===o){m=void 0;var A=g.create,V=g.inst;m=A(),V.destroy=m}g=g.next}while(g!==w)}}catch(U){rn(u,u.return,U)}}function ro(o,u,g){try{var m=u.updateQueue,w=m!==null?m.lastEffect:null;if(w!==null){var A=w.next;m=A;do{if((m.tag&o)===o){var V=m.inst,U=V.destroy;if(U!==void 0){V.destroy=void 0,w=u;var W=g,ie=U;try{ie()}catch(ce){rn(w,W,ce)}}}m=m.next}while(m!==A)}}catch(ce){rn(u,u.return,ce)}}function eE(o){var u=o.updateQueue;if(u!==null){var g=o.stateNode;try{B1(u,g)}catch(m){rn(o,o.return,m)}}}function tE(o,u,g){g.props=kl(o.type,o.memoizedProps),g.state=o.memoizedState;try{g.componentWillUnmount()}catch(m){rn(o,u,m)}}function Qh(o,u){try{var g=o.ref;if(g!==null){switch(o.tag){case 26:case 27:case 5:var m=o.stateNode;break;case 30:m=o.stateNode;break;default:m=o.stateNode}typeof g=="function"?o.refCleanup=g(m):g.current=m}}catch(w){rn(o,u,w)}}function Or(o,u){var g=o.ref,m=o.refCleanup;if(g!==null)if(typeof m=="function")try{m()}catch(w){rn(o,u,w)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof g=="function")try{g(null)}catch(w){rn(o,u,w)}else g.current=null}function nE(o){var u=o.type,g=o.memoizedProps,m=o.stateNode;try{e:switch(u){case"button":case"input":case"select":case"textarea":g.autoFocus&&m.focus();break e;case"img":g.src?m.src=g.src:g.srcSet&&(m.srcset=g.srcSet)}}catch(w){rn(o,o.return,w)}}function Eb(o,u,g){try{var m=o.stateNode;qz(m,o.type,g,u),m[_t]=u}catch(w){rn(o,o.return,w)}}function iE(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&go(o.type)||o.tag===4}function Cb(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||iE(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&go(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function kb(o,u,g){var m=o.tag;if(m===5||m===6)o=o.stateNode,u?(g.nodeType===9?g.body:g.nodeName==="HTML"?g.ownerDocument.body:g).insertBefore(o,u):(u=g.nodeType===9?g.body:g.nodeName==="HTML"?g.ownerDocument.body:g,u.appendChild(o),g=g._reactRootContainer,g!=null||u.onclick!==null||(u.onclick=Cp));else if(m!==4&&(m===27&&go(o.type)&&(g=o.stateNode,u=null),o=o.child,o!==null))for(kb(o,u,g),o=o.sibling;o!==null;)kb(o,u,g),o=o.sibling}function mp(o,u,g){var m=o.tag;if(m===5||m===6)o=o.stateNode,u?g.insertBefore(o,u):g.appendChild(o);else if(m!==4&&(m===27&&go(o.type)&&(g=o.stateNode),o=o.child,o!==null))for(mp(o,u,g),o=o.sibling;o!==null;)mp(o,u,g),o=o.sibling}function sE(o){var u=o.stateNode,g=o.memoizedProps;try{for(var m=o.type,w=u.attributes;w.length;)u.removeAttributeNode(w[0]);gi(u,m,g),u[gt]=o,u[_t]=g}catch(A){rn(o,o.return,A)}}var ya=!1,On=!1,Rb=!1,rE=typeof WeakSet=="function"?WeakSet:Set,ni=null;function kz(o,u){if(o=o.containerInfo,Jb=Pp,o=m1(o),Cv(o)){if("selectionStart"in o)var g={start:o.selectionStart,end:o.selectionEnd};else e:{g=(g=o.ownerDocument)&&g.defaultView||window;var m=g.getSelection&&g.getSelection();if(m&&m.rangeCount!==0){g=m.anchorNode;var w=m.anchorOffset,A=m.focusNode;m=m.focusOffset;try{g.nodeType,A.nodeType}catch{g=null;break e}var V=0,U=-1,W=-1,ie=0,ce=0,ge=o,se=null;t:for(;;){for(var re;ge!==g||w!==0&&ge.nodeType!==3||(U=V+w),ge!==A||m!==0&&ge.nodeType!==3||(W=V+m),ge.nodeType===3&&(V+=ge.nodeValue.length),(re=ge.firstChild)!==null;)se=ge,ge=re;for(;;){if(ge===o)break t;if(se===g&&++ie===w&&(U=V),se===A&&++ce===m&&(W=V),(re=ge.nextSibling)!==null)break;ge=se,se=ge.parentNode}ge=re}g=U===-1||W===-1?null:{start:U,end:W}}else g=null}g=g||{start:0,end:0}}else g=null;for(ex={focusedElem:o,selectionRange:g},Pp=!1,ni=u;ni!==null;)if(u=ni,o=u.child,(u.subtreeFlags&1024)!==0&&o!==null)o.return=u,ni=o;else for(;ni!==null;){switch(u=ni,A=u.alternate,o=u.flags,u.tag){case 0:break;case 11:case 15:break;case 1:if((o&1024)!==0&&A!==null){o=void 0,g=u,w=A.memoizedProps,A=A.memoizedState,m=g.stateNode;try{var Qe=kl(g.type,w,g.elementType===g.type);o=m.getSnapshotBeforeUpdate(Qe,A),m.__reactInternalSnapshotBeforeUpdate=o}catch(He){rn(g,g.return,He)}}break;case 3:if((o&1024)!==0){if(o=u.stateNode.containerInfo,g=o.nodeType,g===9)ix(o);else if(g===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":ix(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(n(163))}if(o=u.sibling,o!==null){o.return=u.return,ni=o;break}ni=u.return}}function aE(o,u,g){var m=g.flags;switch(g.tag){case 0:case 11:case 15:ao(o,g),m&4&&Kh(5,g);break;case 1:if(ao(o,g),m&4)if(o=g.stateNode,u===null)try{o.componentDidMount()}catch(V){rn(g,g.return,V)}else{var w=kl(g.type,u.memoizedProps);u=u.memoizedState;try{o.componentDidUpdate(w,u,o.__reactInternalSnapshotBeforeUpdate)}catch(V){rn(g,g.return,V)}}m&64&&eE(g),m&512&&Qh(g,g.return);break;case 3:if(ao(o,g),m&64&&(o=g.updateQueue,o!==null)){if(u=null,g.child!==null)switch(g.child.tag){case 27:case 5:u=g.child.stateNode;break;case 1:u=g.child.stateNode}try{B1(o,u)}catch(V){rn(g,g.return,V)}}break;case 27:u===null&&m&4&&sE(g);case 26:case 5:ao(o,g),u===null&&m&4&&nE(g),m&512&&Qh(g,g.return);break;case 12:ao(o,g);break;case 13:ao(o,g),m&4&&cE(o,g),m&64&&(o=g.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(g=Vz.bind(null,g),t4(o,g))));break;case 22:if(m=g.memoizedState!==null||ya,!m){u=u!==null&&u.memoizedState!==null||On,w=ya;var A=On;ya=m,(On=u)&&!A?oo(o,g,(g.subtreeFlags&8772)!==0):ao(o,g),ya=w,On=A}break;case 30:break;default:ao(o,g)}}function oE(o){var u=o.alternate;u!==null&&(o.alternate=null,oE(u)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(u=o.stateNode,u!==null&&qa(u)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var vn=null,Zi=!1;function va(o,u,g){for(g=g.child;g!==null;)lE(o,u,g),g=g.sibling}function lE(o,u,g){if(ot&&typeof ot.onCommitFiberUnmount=="function")try{ot.onCommitFiberUnmount($t,g)}catch{}switch(g.tag){case 26:On||Or(g,u),va(o,u,g),g.memoizedState?g.memoizedState.count--:g.stateNode&&(g=g.stateNode,g.parentNode.removeChild(g));break;case 27:On||Or(g,u);var m=vn,w=Zi;go(g.type)&&(vn=g.stateNode,Zi=!1),va(o,u,g),ad(g.stateNode),vn=m,Zi=w;break;case 5:On||Or(g,u);case 6:if(m=vn,w=Zi,vn=null,va(o,u,g),vn=m,Zi=w,vn!==null)if(Zi)try{(vn.nodeType===9?vn.body:vn.nodeName==="HTML"?vn.ownerDocument.body:vn).removeChild(g.stateNode)}catch(A){rn(g,u,A)}else try{vn.removeChild(g.stateNode)}catch(A){rn(g,u,A)}break;case 18:vn!==null&&(Zi?(o=vn,KE(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,g.stateNode),gd(o)):KE(vn,g.stateNode));break;case 4:m=vn,w=Zi,vn=g.stateNode.containerInfo,Zi=!0,va(o,u,g),vn=m,Zi=w;break;case 0:case 11:case 14:case 15:On||ro(2,g,u),On||ro(4,g,u),va(o,u,g);break;case 1:On||(Or(g,u),m=g.stateNode,typeof m.componentWillUnmount=="function"&&tE(g,u,m)),va(o,u,g);break;case 21:va(o,u,g);break;case 22:On=(m=On)||g.memoizedState!==null,va(o,u,g),On=m;break;default:va(o,u,g)}}function cE(o,u){if(u.memoizedState===null&&(o=u.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{gd(o)}catch(g){rn(u,u.return,g)}}function Rz(o){switch(o.tag){case 13:case 19:var u=o.stateNode;return u===null&&(u=o.stateNode=new rE),u;case 22:return o=o.stateNode,u=o._retryCache,u===null&&(u=o._retryCache=new rE),u;default:throw Error(n(435,o.tag))}}function Ib(o,u){var g=Rz(o);u.forEach(function(m){var w=Fz.bind(null,o,m);g.has(m)||(g.add(m),m.then(w,w))})}function fs(o,u){var g=u.deletions;if(g!==null)for(var m=0;m<g.length;m++){var w=g[m],A=o,V=u,U=V;e:for(;U!==null;){switch(U.tag){case 27:if(go(U.type)){vn=U.stateNode,Zi=!1;break e}break;case 5:vn=U.stateNode,Zi=!1;break e;case 3:case 4:vn=U.stateNode.containerInfo,Zi=!0;break e}U=U.return}if(vn===null)throw Error(n(160));lE(A,V,w),vn=null,Zi=!1,A=w.alternate,A!==null&&(A.return=null),w.return=null}if(u.subtreeFlags&13878)for(u=u.child;u!==null;)uE(u,o),u=u.sibling}var or=null;function uE(o,u){var g=o.alternate,m=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:fs(u,o),gs(o),m&4&&(ro(3,o,o.return),Kh(3,o),ro(5,o,o.return));break;case 1:fs(u,o),gs(o),m&512&&(On||g===null||Or(g,g.return)),m&64&&ya&&(o=o.updateQueue,o!==null&&(m=o.callbacks,m!==null&&(g=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=g===null?m:g.concat(m))));break;case 26:var w=or;if(fs(u,o),gs(o),m&512&&(On||g===null||Or(g,g.return)),m&4){var A=g!==null?g.memoizedState:null;if(m=o.memoizedState,g===null)if(m===null)if(o.stateNode===null){e:{m=o.type,g=o.memoizedProps,w=w.ownerDocument||w;t:switch(m){case"title":A=w.getElementsByTagName("title")[0],(!A||A[cs]||A[gt]||A.namespaceURI==="http://www.w3.org/2000/svg"||A.hasAttribute("itemprop"))&&(A=w.createElement(m),w.head.insertBefore(A,w.querySelector("head > title"))),gi(A,m,g),A[gt]=o,Nn(A),m=A;break e;case"link":var V=sC("link","href",w).get(m+(g.href||""));if(V){for(var U=0;U<V.length;U++)if(A=V[U],A.getAttribute("href")===(g.href==null||g.href===""?null:g.href)&&A.getAttribute("rel")===(g.rel==null?null:g.rel)&&A.getAttribute("title")===(g.title==null?null:g.title)&&A.getAttribute("crossorigin")===(g.crossOrigin==null?null:g.crossOrigin)){V.splice(U,1);break t}}A=w.createElement(m),gi(A,m,g),w.head.appendChild(A);break;case"meta":if(V=sC("meta","content",w).get(m+(g.content||""))){for(U=0;U<V.length;U++)if(A=V[U],A.getAttribute("content")===(g.content==null?null:""+g.content)&&A.getAttribute("name")===(g.name==null?null:g.name)&&A.getAttribute("property")===(g.property==null?null:g.property)&&A.getAttribute("http-equiv")===(g.httpEquiv==null?null:g.httpEquiv)&&A.getAttribute("charset")===(g.charSet==null?null:g.charSet)){V.splice(U,1);break t}}A=w.createElement(m),gi(A,m,g),w.head.appendChild(A);break;default:throw Error(n(468,m))}A[gt]=o,Nn(A),m=A}o.stateNode=m}else rC(w,o.type,o.stateNode);else o.stateNode=iC(w,m,o.memoizedProps);else A!==m?(A===null?g.stateNode!==null&&(g=g.stateNode,g.parentNode.removeChild(g)):A.count--,m===null?rC(w,o.type,o.stateNode):iC(w,m,o.memoizedProps)):m===null&&o.stateNode!==null&&Eb(o,o.memoizedProps,g.memoizedProps)}break;case 27:fs(u,o),gs(o),m&512&&(On||g===null||Or(g,g.return)),g!==null&&m&4&&Eb(o,o.memoizedProps,g.memoizedProps);break;case 5:if(fs(u,o),gs(o),m&512&&(On||g===null||Or(g,g.return)),o.flags&32){w=o.stateNode;try{Ms(w,"")}catch(re){rn(o,o.return,re)}}m&4&&o.stateNode!=null&&(w=o.memoizedProps,Eb(o,w,g!==null?g.memoizedProps:w)),m&1024&&(Rb=!0);break;case 6:if(fs(u,o),gs(o),m&4){if(o.stateNode===null)throw Error(n(162));m=o.memoizedProps,g=o.stateNode;try{g.nodeValue=m}catch(re){rn(o,o.return,re)}}break;case 3:if(Mp=null,w=or,or=Rp(u.containerInfo),fs(u,o),or=w,gs(o),m&4&&g!==null&&g.memoizedState.isDehydrated)try{gd(u.containerInfo)}catch(re){rn(o,o.return,re)}Rb&&(Rb=!1,hE(o));break;case 4:m=or,or=Rp(o.stateNode.containerInfo),fs(u,o),gs(o),or=m;break;case 12:fs(u,o),gs(o);break;case 13:fs(u,o),gs(o),o.child.flags&8192&&o.memoizedState!==null!=(g!==null&&g.memoizedState!==null)&&(Lb=mt()),m&4&&(m=o.updateQueue,m!==null&&(o.updateQueue=null,Ib(o,m)));break;case 22:w=o.memoizedState!==null;var W=g!==null&&g.memoizedState!==null,ie=ya,ce=On;if(ya=ie||w,On=ce||W,fs(u,o),On=ce,ya=ie,gs(o),m&8192)e:for(u=o.stateNode,u._visibility=w?u._visibility&-2:u._visibility|1,w&&(g===null||W||ya||On||Rl(o)),g=null,u=o;;){if(u.tag===5||u.tag===26){if(g===null){W=g=u;try{if(A=W.stateNode,w)V=A.style,typeof V.setProperty=="function"?V.setProperty("display","none","important"):V.display="none";else{U=W.stateNode;var ge=W.memoizedProps.style,se=ge!=null&&ge.hasOwnProperty("display")?ge.display:null;U.style.display=se==null||typeof se=="boolean"?"":(""+se).trim()}}catch(re){rn(W,W.return,re)}}}else if(u.tag===6){if(g===null){W=u;try{W.stateNode.nodeValue=w?"":W.memoizedProps}catch(re){rn(W,W.return,re)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===o)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break e;for(;u.sibling===null;){if(u.return===null||u.return===o)break e;g===u&&(g=null),u=u.return}g===u&&(g=null),u.sibling.return=u.return,u=u.sibling}m&4&&(m=o.updateQueue,m!==null&&(g=m.retryQueue,g!==null&&(m.retryQueue=null,Ib(o,g))));break;case 19:fs(u,o),gs(o),m&4&&(m=o.updateQueue,m!==null&&(o.updateQueue=null,Ib(o,m)));break;case 30:break;case 21:break;default:fs(u,o),gs(o)}}function gs(o){var u=o.flags;if(u&2){try{for(var g,m=o.return;m!==null;){if(iE(m)){g=m;break}m=m.return}if(g==null)throw Error(n(160));switch(g.tag){case 27:var w=g.stateNode,A=Cb(o);mp(o,A,w);break;case 5:var V=g.stateNode;g.flags&32&&(Ms(V,""),g.flags&=-33);var U=Cb(o);mp(o,U,V);break;case 3:case 4:var W=g.stateNode.containerInfo,ie=Cb(o);kb(o,ie,W);break;default:throw Error(n(161))}}catch(ce){rn(o,o.return,ce)}o.flags&=-3}u&4096&&(o.flags&=-4097)}function hE(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var u=o;hE(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),o=o.sibling}}function ao(o,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)aE(o,u.alternate,u),u=u.sibling}function Rl(o){for(o=o.child;o!==null;){var u=o;switch(u.tag){case 0:case 11:case 14:case 15:ro(4,u,u.return),Rl(u);break;case 1:Or(u,u.return);var g=u.stateNode;typeof g.componentWillUnmount=="function"&&tE(u,u.return,g),Rl(u);break;case 27:ad(u.stateNode);case 26:case 5:Or(u,u.return),Rl(u);break;case 22:u.memoizedState===null&&Rl(u);break;case 30:Rl(u);break;default:Rl(u)}o=o.sibling}}function oo(o,u,g){for(g=g&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var m=u.alternate,w=o,A=u,V=A.flags;switch(A.tag){case 0:case 11:case 15:oo(w,A,g),Kh(4,A);break;case 1:if(oo(w,A,g),m=A,w=m.stateNode,typeof w.componentDidMount=="function")try{w.componentDidMount()}catch(ie){rn(m,m.return,ie)}if(m=A,w=m.updateQueue,w!==null){var U=m.stateNode;try{var W=w.shared.hiddenCallbacks;if(W!==null)for(w.shared.hiddenCallbacks=null,w=0;w<W.length;w++)j1(W[w],U)}catch(ie){rn(m,m.return,ie)}}g&&V&64&&eE(A),Qh(A,A.return);break;case 27:sE(A);case 26:case 5:oo(w,A,g),g&&m===null&&V&4&&nE(A),Qh(A,A.return);break;case 12:oo(w,A,g);break;case 13:oo(w,A,g),g&&V&4&&cE(w,A);break;case 22:A.memoizedState===null&&oo(w,A,g),Qh(A,A.return);break;case 30:break;default:oo(w,A,g)}u=u.sibling}}function Mb(o,u){var g=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(g=o.memoizedState.cachePool.pool),o=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(o=u.memoizedState.cachePool.pool),o!==g&&(o!=null&&o.refCount++,g!=null&&Lh(g))}function Db(o,u){o=null,u.alternate!==null&&(o=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==o&&(u.refCount++,o!=null&&Lh(o))}function Lr(o,u,g,m){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)dE(o,u,g,m),u=u.sibling}function dE(o,u,g,m){var w=u.flags;switch(u.tag){case 0:case 11:case 15:Lr(o,u,g,m),w&2048&&Kh(9,u);break;case 1:Lr(o,u,g,m);break;case 3:Lr(o,u,g,m),w&2048&&(o=null,u.alternate!==null&&(o=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==o&&(u.refCount++,o!=null&&Lh(o)));break;case 12:if(w&2048){Lr(o,u,g,m),o=u.stateNode;try{var A=u.memoizedProps,V=A.id,U=A.onPostCommit;typeof U=="function"&&U(V,u.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(W){rn(u,u.return,W)}}else Lr(o,u,g,m);break;case 13:Lr(o,u,g,m);break;case 23:break;case 22:A=u.stateNode,V=u.alternate,u.memoizedState!==null?A._visibility&2?Lr(o,u,g,m):Zh(o,u):A._visibility&2?Lr(o,u,g,m):(A._visibility|=2,qc(o,u,g,m,(u.subtreeFlags&10256)!==0)),w&2048&&Mb(V,u);break;case 24:Lr(o,u,g,m),w&2048&&Db(u.alternate,u);break;default:Lr(o,u,g,m)}}function qc(o,u,g,m,w){for(w=w&&(u.subtreeFlags&10256)!==0,u=u.child;u!==null;){var A=o,V=u,U=g,W=m,ie=V.flags;switch(V.tag){case 0:case 11:case 15:qc(A,V,U,W,w),Kh(8,V);break;case 23:break;case 22:var ce=V.stateNode;V.memoizedState!==null?ce._visibility&2?qc(A,V,U,W,w):Zh(A,V):(ce._visibility|=2,qc(A,V,U,W,w)),w&&ie&2048&&Mb(V.alternate,V);break;case 24:qc(A,V,U,W,w),w&&ie&2048&&Db(V.alternate,V);break;default:qc(A,V,U,W,w)}u=u.sibling}}function Zh(o,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var g=o,m=u,w=m.flags;switch(m.tag){case 22:Zh(g,m),w&2048&&Mb(m.alternate,m);break;case 24:Zh(g,m),w&2048&&Db(m.alternate,m);break;default:Zh(g,m)}u=u.sibling}}var Jh=8192;function $c(o){if(o.subtreeFlags&Jh)for(o=o.child;o!==null;)fE(o),o=o.sibling}function fE(o){switch(o.tag){case 26:$c(o),o.flags&Jh&&o.memoizedState!==null&&g4(or,o.memoizedState,o.memoizedProps);break;case 5:$c(o);break;case 3:case 4:var u=or;or=Rp(o.stateNode.containerInfo),$c(o),or=u;break;case 22:o.memoizedState===null&&(u=o.alternate,u!==null&&u.memoizedState!==null?(u=Jh,Jh=16777216,$c(o),Jh=u):$c(o));break;default:$c(o)}}function gE(o){var u=o.alternate;if(u!==null&&(o=u.child,o!==null)){u.child=null;do u=o.sibling,o.sibling=null,o=u;while(o!==null)}}function ed(o){var u=o.deletions;if((o.flags&16)!==0){if(u!==null)for(var g=0;g<u.length;g++){var m=u[g];ni=m,mE(m,o)}gE(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)pE(o),o=o.sibling}function pE(o){switch(o.tag){case 0:case 11:case 15:ed(o),o.flags&2048&&ro(9,o,o.return);break;case 3:ed(o);break;case 12:ed(o);break;case 22:var u=o.stateNode;o.memoizedState!==null&&u._visibility&2&&(o.return===null||o.return.tag!==13)?(u._visibility&=-3,yp(o)):ed(o);break;default:ed(o)}}function yp(o){var u=o.deletions;if((o.flags&16)!==0){if(u!==null)for(var g=0;g<u.length;g++){var m=u[g];ni=m,mE(m,o)}gE(o)}for(o=o.child;o!==null;){switch(u=o,u.tag){case 0:case 11:case 15:ro(8,u,u.return),yp(u);break;case 22:g=u.stateNode,g._visibility&2&&(g._visibility&=-3,yp(u));break;default:yp(u)}o=o.sibling}}function mE(o,u){for(;ni!==null;){var g=ni;switch(g.tag){case 0:case 11:case 15:ro(8,g,u);break;case 23:case 22:if(g.memoizedState!==null&&g.memoizedState.cachePool!==null){var m=g.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:Lh(g.memoizedState.cache)}if(m=g.child,m!==null)m.return=g,ni=m;else e:for(g=o;ni!==null;){m=ni;var w=m.sibling,A=m.return;if(oE(m),m===g){ni=null;break e}if(w!==null){w.return=A,ni=w;break e}ni=A}}}var Iz={getCacheForType:function(o){var u=Ai($n),g=u.data.get(o);return g===void 0&&(g=o(),u.data.set(o,g)),g}},Mz=typeof WeakMap=="function"?WeakMap:Map,Wt=0,ln=null,vt=null,kt=0,Gt=0,ps=null,lo=!1,Kc=!1,Nb=!1,ba=0,Cn=0,co=0,Il=0,Pb=0,js=0,Qc=0,td=null,Ji=null,Ob=!1,Lb=0,vp=1/0,bp=null,uo=null,fi=0,ho=null,Zc=null,Jc=0,Vb=0,Fb=null,yE=null,nd=0,zb=null;function ms(){if((Wt&2)!==0&&kt!==0)return kt&-kt;if(X.T!==null){var o=jc;return o!==0?o:Wb()}return yt()}function vE(){js===0&&(js=(kt&536870912)===0||Ft?Lt():536870912);var o=zs.current;return o!==null&&(o.flags|=32),js}function ys(o,u,g){(o===ln&&(Gt===2||Gt===9)||o.cancelPendingCommit!==null)&&(eu(o,0),fo(o,kt,js,!1)),et(o,g),((Wt&2)===0||o!==ln)&&(o===ln&&((Wt&2)===0&&(Il|=g),Cn===4&&fo(o,kt,js,!1)),Vr(o))}function bE(o,u,g){if((Wt&6)!==0)throw Error(n(327));var m=!g&&(u&124)===0&&(u&o.expiredLanes)===0||Je(o,u),w=m?Pz(o,u):Hb(o,u,!0),A=m;do{if(w===0){Kc&&!m&&fo(o,u,0,!1);break}else{if(g=o.current.alternate,A&&!Dz(g)){w=Hb(o,u,!1),A=!1;continue}if(w===2){if(A=u,o.errorRecoveryDisabledLanes&A)var V=0;else V=o.pendingLanes&-536870913,V=V!==0?V:V&536870912?536870912:0;if(V!==0){u=V;e:{var U=o;w=td;var W=U.current.memoizedState.isDehydrated;if(W&&(eu(U,V).flags|=256),V=Hb(U,V,!1),V!==2){if(Nb&&!W){U.errorRecoveryDisabledLanes|=A,Il|=A,w=4;break e}A=Ji,Ji=w,A!==null&&(Ji===null?Ji=A:Ji.push.apply(Ji,A))}w=V}if(A=!1,w!==2)continue}}if(w===1){eu(o,0),fo(o,u,0,!0);break}e:{switch(m=o,A=w,A){case 0:case 1:throw Error(n(345));case 4:if((u&4194048)!==u)break;case 6:fo(m,u,js,!lo);break e;case 2:Ji=null;break;case 3:case 5:break;default:throw Error(n(329))}if((u&62914560)===u&&(w=Lb+300-mt(),10<w)){if(fo(m,u,js,!lo),Be(m,0,!0)!==0)break e;m.timeoutHandle=qE(xE.bind(null,m,g,Ji,bp,Ob,u,js,Il,Qc,lo,A,2,-0,0),w);break e}xE(m,g,Ji,bp,Ob,u,js,Il,Qc,lo,A,0,-0,0)}}break}while(!0);Vr(o)}function xE(o,u,g,m,w,A,V,U,W,ie,ce,ge,se,re){if(o.timeoutHandle=-1,ge=u.subtreeFlags,(ge&8192||(ge&16785408)===16785408)&&(cd={stylesheets:null,count:0,unsuspend:f4},fE(u),ge=p4(),ge!==null)){o.cancelPendingCommit=ge(CE.bind(null,o,u,A,g,m,w,V,U,W,ce,1,se,re)),fo(o,A,V,!ie);return}CE(o,u,A,g,m,w,V,U,W)}function Dz(o){for(var u=o;;){var g=u.tag;if((g===0||g===11||g===15)&&u.flags&16384&&(g=u.updateQueue,g!==null&&(g=g.stores,g!==null)))for(var m=0;m<g.length;m++){var w=g[m],A=w.getSnapshot;w=w.value;try{if(!hs(A(),w))return!1}catch{return!1}}if(g=u.child,u.subtreeFlags&16384&&g!==null)g.return=u,u=g;else{if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function fo(o,u,g,m){u&=~Pb,u&=~Il,o.suspendedLanes|=u,o.pingedLanes&=~u,m&&(o.warmLanes|=u),m=o.expirationTimes;for(var w=u;0<w;){var A=31-an(w),V=1<<A;m[A]=-1,w&=~V}g!==0&&ze(o,g,u)}function xp(){return(Wt&6)===0?(id(0),!1):!0}function jb(){if(vt!==null){if(Gt===0)var o=vt.return;else o=vt,ha=Sl=null,ib(o),Wc=null,Gh=0,o=vt;for(;o!==null;)JT(o.alternate,o),o=o.return;vt=null}}function eu(o,u){var g=o.timeoutHandle;g!==-1&&(o.timeoutHandle=-1,Kz(g)),g=o.cancelPendingCommit,g!==null&&(o.cancelPendingCommit=null,g()),jb(),ln=o,vt=g=la(o.current,null),kt=u,Gt=0,ps=null,lo=!1,Kc=Je(o,u),Nb=!1,Qc=js=Pb=Il=co=Cn=0,Ji=td=null,Ob=!1,(u&8)!==0&&(u|=u&32);var m=o.entangledLanes;if(m!==0)for(o=o.entanglements,m&=u;0<m;){var w=31-an(m),A=1<<w;u|=o[w],m&=~A}return ba=u,Hg(),g}function wE(o,u){dt=null,X.H=op,u===Fh||u===Qg?(u=F1(),Gt=3):u===O1?(u=F1(),Gt=4):Gt=u===zT?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,ps=u,vt===null&&(Cn=1,dp(o,Os(u,o.current)))}function _E(){var o=X.H;return X.H=op,o===null?op:o}function AE(){var o=X.A;return X.A=Iz,o}function Bb(){Cn=4,lo||(kt&4194048)!==kt&&zs.current!==null||(Kc=!0),(co&134217727)===0&&(Il&134217727)===0||ln===null||fo(ln,kt,js,!1)}function Hb(o,u,g){var m=Wt;Wt|=2;var w=_E(),A=AE();(ln!==o||kt!==u)&&(bp=null,eu(o,u)),u=!1;var V=Cn;e:do try{if(Gt!==0&&vt!==null){var U=vt,W=ps;switch(Gt){case 8:jb(),V=6;break e;case 3:case 2:case 9:case 6:zs.current===null&&(u=!0);var ie=Gt;if(Gt=0,ps=null,tu(o,U,W,ie),g&&Kc){V=0;break e}break;default:ie=Gt,Gt=0,ps=null,tu(o,U,W,ie)}}Nz(),V=Cn;break}catch(ce){wE(o,ce)}while(!0);return u&&o.shellSuspendCounter++,ha=Sl=null,Wt=m,X.H=w,X.A=A,vt===null&&(ln=null,kt=0,Hg()),V}function Nz(){for(;vt!==null;)SE(vt)}function Pz(o,u){var g=Wt;Wt|=2;var m=_E(),w=AE();ln!==o||kt!==u?(bp=null,vp=mt()+500,eu(o,u)):Kc=Je(o,u);e:do try{if(Gt!==0&&vt!==null){u=vt;var A=ps;t:switch(Gt){case 1:Gt=0,ps=null,tu(o,u,A,1);break;case 2:case 9:if(L1(A)){Gt=0,ps=null,TE(u);break}u=function(){Gt!==2&&Gt!==9||ln!==o||(Gt=7),Vr(o)},A.then(u,u);break e;case 3:Gt=7;break e;case 4:Gt=5;break e;case 7:L1(A)?(Gt=0,ps=null,TE(u)):(Gt=0,ps=null,tu(o,u,A,7));break;case 5:var V=null;switch(vt.tag){case 26:V=vt.memoizedState;case 5:case 27:var U=vt;if(!V||aC(V)){Gt=0,ps=null;var W=U.sibling;if(W!==null)vt=W;else{var ie=U.return;ie!==null?(vt=ie,wp(ie)):vt=null}break t}}Gt=0,ps=null,tu(o,u,A,5);break;case 6:Gt=0,ps=null,tu(o,u,A,6);break;case 8:jb(),Cn=6;break e;default:throw Error(n(462))}}Oz();break}catch(ce){wE(o,ce)}while(!0);return ha=Sl=null,X.H=m,X.A=w,Wt=g,vt!==null?0:(ln=null,kt=0,Hg(),Cn)}function Oz(){for(;vt!==null&&!$e();)SE(vt)}function SE(o){var u=QT(o.alternate,o,ba);o.memoizedProps=o.pendingProps,u===null?wp(o):vt=u}function TE(o){var u=o,g=u.alternate;switch(u.tag){case 15:case 0:u=XT(g,u,u.pendingProps,u.type,void 0,kt);break;case 11:u=XT(g,u,u.pendingProps,u.type.render,u.ref,kt);break;case 5:ib(u);default:JT(g,u),u=vt=E1(u,ba),u=QT(g,u,ba)}o.memoizedProps=o.pendingProps,u===null?wp(o):vt=u}function tu(o,u,g,m){ha=Sl=null,ib(u),Wc=null,Gh=0;var w=u.return;try{if(Sz(o,w,u,g,kt)){Cn=1,dp(o,Os(g,o.current)),vt=null;return}}catch(A){if(w!==null)throw vt=w,A;Cn=1,dp(o,Os(g,o.current)),vt=null;return}u.flags&32768?(Ft||m===1?o=!0:Kc||(kt&536870912)!==0?o=!1:(lo=o=!0,(m===2||m===9||m===3||m===6)&&(m=zs.current,m!==null&&m.tag===13&&(m.flags|=16384))),EE(u,o)):wp(u)}function wp(o){var u=o;do{if((u.flags&32768)!==0){EE(u,lo);return}o=u.return;var g=Ez(u.alternate,u,ba);if(g!==null){vt=g;return}if(u=u.sibling,u!==null){vt=u;return}vt=u=o}while(u!==null);Cn===0&&(Cn=5)}function EE(o,u){do{var g=Cz(o.alternate,o);if(g!==null){g.flags&=32767,vt=g;return}if(g=o.return,g!==null&&(g.flags|=32768,g.subtreeFlags=0,g.deletions=null),!u&&(o=o.sibling,o!==null)){vt=o;return}vt=o=g}while(o!==null);Cn=6,vt=null}function CE(o,u,g,m,w,A,V,U,W){o.cancelPendingCommit=null;do _p();while(fi!==0);if((Wt&6)!==0)throw Error(n(327));if(u!==null){if(u===o.current)throw Error(n(177));if(A=u.lanes|u.childLanes,A|=Dv,Vt(o,g,A,V,U,W),o===ln&&(vt=ln=null,kt=0),Zc=u,ho=o,Jc=g,Vb=A,Fb=w,yE=m,(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,zz(wn,function(){return DE(),null})):(o.callbackNode=null,o.callbackPriority=0),m=(u.flags&13878)!==0,(u.subtreeFlags&13878)!==0||m){m=X.T,X.T=null,w=G.p,G.p=2,V=Wt,Wt|=4;try{kz(o,u,g)}finally{Wt=V,G.p=w,X.T=m}}fi=1,kE(),RE(),IE()}}function kE(){if(fi===1){fi=0;var o=ho,u=Zc,g=(u.flags&13878)!==0;if((u.subtreeFlags&13878)!==0||g){g=X.T,X.T=null;var m=G.p;G.p=2;var w=Wt;Wt|=4;try{uE(u,o);var A=ex,V=m1(o.containerInfo),U=A.focusedElem,W=A.selectionRange;if(V!==U&&U&&U.ownerDocument&&p1(U.ownerDocument.documentElement,U)){if(W!==null&&Cv(U)){var ie=W.start,ce=W.end;if(ce===void 0&&(ce=ie),"selectionStart"in U)U.selectionStart=ie,U.selectionEnd=Math.min(ce,U.value.length);else{var ge=U.ownerDocument||document,se=ge&&ge.defaultView||window;if(se.getSelection){var re=se.getSelection(),Qe=U.textContent.length,He=Math.min(W.start,Qe),Jt=W.end===void 0?He:Math.min(W.end,Qe);!re.extend&&He>Jt&&(V=Jt,Jt=He,He=V);var Q=g1(U,He),$=g1(U,Jt);if(Q&&$&&(re.rangeCount!==1||re.anchorNode!==Q.node||re.anchorOffset!==Q.offset||re.focusNode!==$.node||re.focusOffset!==$.offset)){var te=ge.createRange();te.setStart(Q.node,Q.offset),re.removeAllRanges(),He>Jt?(re.addRange(te),re.extend($.node,$.offset)):(te.setEnd($.node,$.offset),re.addRange(te))}}}}for(ge=[],re=U;re=re.parentNode;)re.nodeType===1&&ge.push({element:re,left:re.scrollLeft,top:re.scrollTop});for(typeof U.focus=="function"&&U.focus(),U=0;U<ge.length;U++){var he=ge[U];he.element.scrollLeft=he.left,he.element.scrollTop=he.top}}Pp=!!Jb,ex=Jb=null}finally{Wt=w,G.p=m,X.T=g}}o.current=u,fi=2}}function RE(){if(fi===2){fi=0;var o=ho,u=Zc,g=(u.flags&8772)!==0;if((u.subtreeFlags&8772)!==0||g){g=X.T,X.T=null;var m=G.p;G.p=2;var w=Wt;Wt|=4;try{aE(o,u.alternate,u)}finally{Wt=w,G.p=m,X.T=g}}fi=3}}function IE(){if(fi===4||fi===3){fi=0,at();var o=ho,u=Zc,g=Jc,m=yE;(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?fi=5:(fi=0,Zc=ho=null,ME(o,o.pendingLanes));var w=o.pendingLanes;if(w===0&&(uo=null),Ke(g),u=u.stateNode,ot&&typeof ot.onCommitFiberRoot=="function")try{ot.onCommitFiberRoot($t,u,void 0,(u.current.flags&128)===128)}catch{}if(m!==null){u=X.T,w=G.p,G.p=2,X.T=null;try{for(var A=o.onRecoverableError,V=0;V<m.length;V++){var U=m[V];A(U.value,{componentStack:U.stack})}}finally{X.T=u,G.p=w}}(Jc&3)!==0&&_p(),Vr(o),w=o.pendingLanes,(g&4194090)!==0&&(w&42)!==0?o===zb?nd++:(nd=0,zb=o):nd=0,id(0)}}function ME(o,u){(o.pooledCacheLanes&=u)===0&&(u=o.pooledCache,u!=null&&(o.pooledCache=null,Lh(u)))}function _p(o){return kE(),RE(),IE(),DE()}function DE(){if(fi!==5)return!1;var o=ho,u=Vb;Vb=0;var g=Ke(Jc),m=X.T,w=G.p;try{G.p=32>g?32:g,X.T=null,g=Fb,Fb=null;var A=ho,V=Jc;if(fi=0,Zc=ho=null,Jc=0,(Wt&6)!==0)throw Error(n(331));var U=Wt;if(Wt|=4,pE(A.current),dE(A,A.current,V,g),Wt=U,id(0,!1),ot&&typeof ot.onPostCommitFiberRoot=="function")try{ot.onPostCommitFiberRoot($t,A)}catch{}return!0}finally{G.p=w,X.T=m,ME(o,u)}}function NE(o,u,g){u=Os(g,u),u=yb(o.stateNode,u,2),o=to(o,u,2),o!==null&&(et(o,2),Vr(o))}function rn(o,u,g){if(o.tag===3)NE(o,o,g);else for(;u!==null;){if(u.tag===3){NE(u,o,g);break}else if(u.tag===1){var m=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(uo===null||!uo.has(m))){o=Os(g,o),g=VT(2),m=to(u,g,2),m!==null&&(FT(g,m,u,o),et(m,2),Vr(m));break}}u=u.return}}function Ub(o,u,g){var m=o.pingCache;if(m===null){m=o.pingCache=new Mz;var w=new Set;m.set(u,w)}else w=m.get(u),w===void 0&&(w=new Set,m.set(u,w));w.has(g)||(Nb=!0,w.add(g),o=Lz.bind(null,o,u,g),u.then(o,o))}function Lz(o,u,g){var m=o.pingCache;m!==null&&m.delete(u),o.pingedLanes|=o.suspendedLanes&g,o.warmLanes&=~g,ln===o&&(kt&g)===g&&(Cn===4||Cn===3&&(kt&62914560)===kt&&300>mt()-Lb?(Wt&2)===0&&eu(o,0):Pb|=g,Qc===kt&&(Qc=0)),Vr(o)}function PE(o,u){u===0&&(u=rt()),o=Lc(o,u),o!==null&&(et(o,u),Vr(o))}function Vz(o){var u=o.memoizedState,g=0;u!==null&&(g=u.retryLane),PE(o,g)}function Fz(o,u){var g=0;switch(o.tag){case 13:var m=o.stateNode,w=o.memoizedState;w!==null&&(g=w.retryLane);break;case 19:m=o.stateNode;break;case 22:m=o.stateNode._retryCache;break;default:throw Error(n(314))}m!==null&&m.delete(u),PE(o,g)}function zz(o,u){return Ge(o,u)}var Ap=null,nu=null,Yb=!1,Sp=!1,Xb=!1,Ml=0;function Vr(o){o!==nu&&o.next===null&&(nu===null?Ap=nu=o:nu=nu.next=o),Sp=!0,Yb||(Yb=!0,Bz())}function id(o,u){if(!Xb&&Sp){Xb=!0;do for(var g=!1,m=Ap;m!==null;){if(o!==0){var w=m.pendingLanes;if(w===0)var A=0;else{var V=m.suspendedLanes,U=m.pingedLanes;A=(1<<31-an(42|o)+1)-1,A&=w&~(V&~U),A=A&201326741?A&201326741|1:A?A|2:0}A!==0&&(g=!0,FE(m,A))}else A=kt,A=Be(m,m===ln?A:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(A&3)===0||Je(m,A)||(g=!0,FE(m,A));m=m.next}while(g);Xb=!1}}function jz(){OE()}function OE(){Sp=Yb=!1;var o=0;Ml!==0&&($z()&&(o=Ml),Ml=0);for(var u=mt(),g=null,m=Ap;m!==null;){var w=m.next,A=LE(m,u);A===0?(m.next=null,g===null?Ap=w:g.next=w,w===null&&(nu=g)):(g=m,(o!==0||(A&3)!==0)&&(Sp=!0)),m=w}id(o)}function LE(o,u){for(var g=o.suspendedLanes,m=o.pingedLanes,w=o.expirationTimes,A=o.pendingLanes&-62914561;0<A;){var V=31-an(A),U=1<<V,W=w[V];W===-1?((U&g)===0||(U&m)!==0)&&(w[V]=Tt(U,u)):W<=u&&(o.expiredLanes|=U),A&=~U}if(u=ln,g=kt,g=Be(o,o===u?g:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),m=o.callbackNode,g===0||o===u&&(Gt===2||Gt===9)||o.cancelPendingCommit!==null)return m!==null&&m!==null&&qe(m),o.callbackNode=null,o.callbackPriority=0;if((g&3)===0||Je(o,g)){if(u=g&-g,u===o.callbackPriority)return u;switch(m!==null&&qe(m),Ke(g)){case 2:case 8:g=Sn;break;case 32:g=wn;break;case 268435456:g=_i;break;default:g=wn}return m=VE.bind(null,o),g=Ge(g,m),o.callbackPriority=u,o.callbackNode=g,u}return m!==null&&m!==null&&qe(m),o.callbackPriority=2,o.callbackNode=null,2}function VE(o,u){if(fi!==0&&fi!==5)return o.callbackNode=null,o.callbackPriority=0,null;var g=o.callbackNode;if(_p()&&o.callbackNode!==g)return null;var m=kt;return m=Be(o,o===ln?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),m===0?null:(bE(o,m,u),LE(o,mt()),o.callbackNode!=null&&o.callbackNode===g?VE.bind(null,o):null)}function FE(o,u){if(_p())return null;bE(o,u,!0)}function Bz(){Qz(function(){(Wt&6)!==0?Ge(xn,jz):OE()})}function Wb(){return Ml===0&&(Ml=Lt()),Ml}function zE(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:Sc(""+o)}function jE(o,u){var g=u.ownerDocument.createElement("input");return g.name=u.name,g.value=u.value,o.id&&g.setAttribute("form",o.id),u.parentNode.insertBefore(g,u),o=new FormData(o),g.parentNode.removeChild(g),o}function Hz(o,u,g,m,w){if(u==="submit"&&g&&g.stateNode===w){var A=zE((w[_t]||null).action),V=m.submitter;V&&(u=(u=V[_t]||null)?zE(u.formAction):V.getAttribute("formAction"),u!==null&&(A=u,V=null));var U=new Tc("action","action",null,m,w);o.push({event:U,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(Ml!==0){var W=V?jE(w,V):new FormData(w);db(g,{pending:!0,data:W,method:w.method,action:A},null,W)}}else typeof A=="function"&&(U.preventDefault(),W=V?jE(w,V):new FormData(w),db(g,{pending:!0,data:W,method:w.method,action:A},A,W))},currentTarget:w}]})}}for(var Gb=0;Gb<Mv.length;Gb++){var qb=Mv[Gb],Uz=qb.toLowerCase(),Yz=qb[0].toUpperCase()+qb.slice(1);ar(Uz,"on"+Yz)}ar(b1,"onAnimationEnd"),ar(x1,"onAnimationIteration"),ar(w1,"onAnimationStart"),ar("dblclick","onDoubleClick"),ar("focusin","onFocus"),ar("focusout","onBlur"),ar(oz,"onTransitionRun"),ar(lz,"onTransitionStart"),ar(cz,"onTransitionCancel"),ar(_1,"onTransitionEnd"),Jr("onMouseEnter",["mouseout","mouseover"]),Jr("onMouseLeave",["mouseout","mouseover"]),Jr("onPointerEnter",["pointerout","pointerover"]),Jr("onPointerLeave",["pointerout","pointerover"]),sr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),sr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),sr("onBeforeInput",["compositionend","keypress","textInput","paste"]),sr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),sr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),sr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xz=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(sd));function BE(o,u){u=(u&4)!==0;for(var g=0;g<o.length;g++){var m=o[g],w=m.event;m=m.listeners;e:{var A=void 0;if(u)for(var V=m.length-1;0<=V;V--){var U=m[V],W=U.instance,ie=U.currentTarget;if(U=U.listener,W!==A&&w.isPropagationStopped())break e;A=U,w.currentTarget=ie;try{A(w)}catch(ce){hp(ce)}w.currentTarget=null,A=W}else for(V=0;V<m.length;V++){if(U=m[V],W=U.instance,ie=U.currentTarget,U=U.listener,W!==A&&w.isPropagationStopped())break e;A=U,w.currentTarget=ie;try{A(w)}catch(ce){hp(ce)}w.currentTarget=null,A=W}}}}function bt(o,u){var g=u[ls];g===void 0&&(g=u[ls]=new Set);var m=o+"__bubble";g.has(m)||(HE(u,o,2,!1),g.add(m))}function $b(o,u,g){var m=0;u&&(m|=4),HE(g,o,m,u)}var Tp="_reactListening"+Math.random().toString(36).slice(2);function Kb(o){if(!o[Tp]){o[Tp]=!0,mh.forEach(function(g){g!=="selectionchange"&&(Xz.has(g)||$b(g,!1,o),$b(g,!0,o))});var u=o.nodeType===9?o:o.ownerDocument;u===null||u[Tp]||(u[Tp]=!0,$b("selectionchange",!1,u))}}function HE(o,u,g,m){switch(dC(u)){case 2:var w=v4;break;case 8:w=b4;break;default:w=ux}g=w.bind(null,u,g,o),w=void 0,!Ns||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(w=!0),m?w!==void 0?o.addEventListener(u,g,{capture:!0,passive:w}):o.addEventListener(u,g,!0):w!==void 0?o.addEventListener(u,g,{passive:w}):o.addEventListener(u,g,!1)}function Qb(o,u,g,m,w){var A=m;if((u&1)===0&&(u&2)===0&&m!==null)e:for(;;){if(m===null)return;var V=m.tag;if(V===3||V===4){var U=m.stateNode.containerInfo;if(U===w)break;if(V===4)for(V=m.return;V!==null;){var W=V.tag;if((W===3||W===4)&&V.stateNode.containerInfo===w)return;V=V.return}for(;U!==null;){if(V=Zr(U),V===null)return;if(W=V.tag,W===5||W===6||W===26||W===27){m=A=V;continue e}U=U.parentNode}}m=m.return}Cg(function(){var ie=A,ce=Ds(g),ge=[];e:{var se=A1.get(o);if(se!==void 0){var re=Tc,Qe=o;switch(o){case"keypress":if(kr(g)===0)break e;case"keydown":case"keyup":re=Mc;break;case"focusin":Qe="focus",re=kc;break;case"focusout":Qe="blur",re=kc;break;case"beforeblur":case"afterblur":re=kc;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=Ps;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=Av;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=Og;break;case b1:case x1:case w1:re=Rc;break;case _1:re=Vg;break;case"scroll":case"scrollend":re=kg;break;case"wheel":re=Dc;break;case"copy":case"cut":case"paste":re=Ic;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=kh;break;case"toggle":case"beforetoggle":re=zg}var He=(u&4)!==0,Jt=!He&&(o==="scroll"||o==="scrollend"),Q=He?se!==null?se+"Capture":null:se;He=[];for(var $=ie,te;$!==null;){var he=$;if(te=he.stateNode,he=he.tag,he!==5&&he!==26&&he!==27||te===null||Q===null||(he=ul($,Q),he!=null&&He.push(rd($,he,te))),Jt)break;$=$.return}0<He.length&&(se=new re(se,Qe,null,g,ce),ge.push({event:se,listeners:He}))}}if((u&7)===0){e:{if(se=o==="mouseover"||o==="pointerover",re=o==="mouseout"||o==="pointerout",se&&g!==na&&(Qe=g.relatedTarget||g.fromElement)&&(Zr(Qe)||Qe[on]))break e;if((re||se)&&(se=ce.window===ce?ce:(se=ce.ownerDocument)?se.defaultView||se.parentWindow:window,re?(Qe=g.relatedTarget||g.toElement,re=ie,Qe=Qe?Zr(Qe):null,Qe!==null&&(Jt=r(Qe),He=Qe.tag,Qe!==Jt||He!==5&&He!==27&&He!==6)&&(Qe=null)):(re=null,Qe=ie),re!==Qe)){if(He=Ps,he="onMouseLeave",Q="onMouseEnter",$="mouse",(o==="pointerout"||o==="pointerover")&&(He=kh,he="onPointerLeave",Q="onPointerEnter",$="pointer"),Jt=re==null?se:Sr(re),te=Qe==null?se:Sr(Qe),se=new He(he,$+"leave",re,g,ce),se.target=Jt,se.relatedTarget=te,he=null,Zr(ce)===ie&&(He=new He(Q,$+"enter",Qe,g,ce),He.target=te,He.relatedTarget=Jt,he=He),Jt=he,re&&Qe)t:{for(He=re,Q=Qe,$=0,te=He;te;te=iu(te))$++;for(te=0,he=Q;he;he=iu(he))te++;for(;0<$-te;)He=iu(He),$--;for(;0<te-$;)Q=iu(Q),te--;for(;$--;){if(He===Q||Q!==null&&He===Q.alternate)break t;He=iu(He),Q=iu(Q)}He=null}else He=null;re!==null&&UE(ge,se,re,He,!1),Qe!==null&&Jt!==null&&UE(ge,Jt,Qe,He,!0)}}e:{if(se=ie?Sr(ie):window,re=se.nodeName&&se.nodeName.toLowerCase(),re==="select"||re==="input"&&se.type==="file")var De=l1;else if(qn(se))if(c1)De=sz;else{De=nz;var pt=tz}else re=se.nodeName,!re||re.toLowerCase()!=="input"||se.type!=="checkbox"&&se.type!=="radio"?ie&&wh(ie.elementType)&&(De=l1):De=iz;if(De&&(De=De(o,ie))){oa(ge,De,g,ce);break e}pt&&pt(o,se,ie),o==="focusout"&&ie&&se.type==="number"&&ie.memoizedProps.value!=null&&Ka(se,"number",se.value)}switch(pt=ie?Sr(ie):window,o){case"focusin":(qn(pt)||pt.contentEditable==="true")&&(Nc=pt,kv=ie,Mh=null);break;case"focusout":Mh=kv=Nc=null;break;case"mousedown":Rv=!0;break;case"contextmenu":case"mouseup":case"dragend":Rv=!1,y1(ge,g,ce);break;case"selectionchange":if(az)break;case"keydown":case"keyup":y1(ge,g,ce)}var Le;if(Mr)e:{switch(o){case"compositionstart":var Ye="onCompositionStart";break e;case"compositionend":Ye="onCompositionEnd";break e;case"compositionupdate":Ye="onCompositionUpdate";break e}Ye=void 0}else Et?oe(o,g)&&(Ye="onCompositionEnd"):o==="keydown"&&g.keyCode===229&&(Ye="onCompositionStart");Ye&&(L&&g.locale!=="ko"&&(Et||Ye!=="onCompositionStart"?Ye==="onCompositionEnd"&&Et&&(Le=Ah()):(Cr=ce,Qa="value"in Cr?Cr.value:Cr.textContent,Et=!0)),pt=Ep(ie,Ye),0<pt.length&&(Ye=new Eh(Ye,o,null,g,ce),ge.push({event:Ye,listeners:pt}),Le?Ye.data=Le:(Le=xe(g),Le!==null&&(Ye.data=Le)))),(Le=I?Gn(o,g):Ct(o,g))&&(Ye=Ep(ie,"onBeforeInput"),0<Ye.length&&(pt=new Eh("onBeforeInput","beforeinput",null,g,ce),ge.push({event:pt,listeners:Ye}),pt.data=Le)),Hz(ge,o,ie,g,ce)}BE(ge,u)})}function rd(o,u,g){return{instance:o,listener:u,currentTarget:g}}function Ep(o,u){for(var g=u+"Capture",m=[];o!==null;){var w=o,A=w.stateNode;if(w=w.tag,w!==5&&w!==26&&w!==27||A===null||(w=ul(o,g),w!=null&&m.unshift(rd(o,w,A)),w=ul(o,u),w!=null&&m.push(rd(o,w,A))),o.tag===3)return m;o=o.return}return[]}function iu(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function UE(o,u,g,m,w){for(var A=u._reactName,V=[];g!==null&&g!==m;){var U=g,W=U.alternate,ie=U.stateNode;if(U=U.tag,W!==null&&W===m)break;U!==5&&U!==26&&U!==27||ie===null||(W=ie,w?(ie=ul(g,A),ie!=null&&V.unshift(rd(g,ie,W))):w||(ie=ul(g,A),ie!=null&&V.push(rd(g,ie,W)))),g=g.return}V.length!==0&&o.push({event:u,listeners:V})}var Wz=/\r\n?/g,Gz=/\u0000|\uFFFD/g;function YE(o){return(typeof o=="string"?o:""+o).replace(Wz,`
`).replace(Gz,"")}function XE(o,u){return u=YE(u),YE(o)===u}function Cp(){}function Zt(o,u,g,m,w,A){switch(g){case"children":typeof m=="string"?u==="body"||u==="textarea"&&m===""||Ms(o,m):(typeof m=="number"||typeof m=="bigint")&&u!=="body"&&Ms(o,""+m);break;case"className":Tr(o,"class",m);break;case"tabIndex":Tr(o,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":Tr(o,g,m);break;case"style":xh(o,m,A);break;case"data":if(u!=="object"){Tr(o,"data",m);break}case"src":case"href":if(m===""&&(u!=="a"||g!=="href")){o.removeAttribute(g);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){o.removeAttribute(g);break}m=Sc(""+m),o.setAttribute(g,m);break;case"action":case"formAction":if(typeof m=="function"){o.setAttribute(g,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof A=="function"&&(g==="formAction"?(u!=="input"&&Zt(o,u,"name",w.name,w,null),Zt(o,u,"formEncType",w.formEncType,w,null),Zt(o,u,"formMethod",w.formMethod,w,null),Zt(o,u,"formTarget",w.formTarget,w,null)):(Zt(o,u,"encType",w.encType,w,null),Zt(o,u,"method",w.method,w,null),Zt(o,u,"target",w.target,w,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){o.removeAttribute(g);break}m=Sc(""+m),o.setAttribute(g,m);break;case"onClick":m!=null&&(o.onclick=Cp);break;case"onScroll":m!=null&&bt("scroll",o);break;case"onScrollEnd":m!=null&&bt("scrollend",o);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(n(61));if(g=m.__html,g!=null){if(w.children!=null)throw Error(n(60));o.innerHTML=g}}break;case"multiple":o.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":o.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){o.removeAttribute("xlink:href");break}g=Sc(""+m),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",g);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?o.setAttribute(g,""+m):o.removeAttribute(g);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?o.setAttribute(g,""):o.removeAttribute(g);break;case"capture":case"download":m===!0?o.setAttribute(g,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?o.setAttribute(g,m):o.removeAttribute(g);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?o.setAttribute(g,m):o.removeAttribute(g);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?o.removeAttribute(g):o.setAttribute(g,m);break;case"popover":bt("beforetoggle",o),bt("toggle",o),$a(o,"popover",m);break;case"xlinkActuate":ui(o,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":ui(o,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":ui(o,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":ui(o,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":ui(o,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":ui(o,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":ui(o,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":ui(o,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":ui(o,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":$a(o,"is",m);break;case"innerText":case"textContent":break;default:(!(2<g.length)||g[0]!=="o"&&g[0]!=="O"||g[1]!=="n"&&g[1]!=="N")&&(g=wv.get(g)||g,$a(o,g,m))}}function Zb(o,u,g,m,w,A){switch(g){case"style":xh(o,m,A);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(n(61));if(g=m.__html,g!=null){if(w.children!=null)throw Error(n(60));o.innerHTML=g}}break;case"children":typeof m=="string"?Ms(o,m):(typeof m=="number"||typeof m=="bigint")&&Ms(o,""+m);break;case"onScroll":m!=null&&bt("scroll",o);break;case"onScrollEnd":m!=null&&bt("scrollend",o);break;case"onClick":m!=null&&(o.onclick=Cp);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!bc.hasOwnProperty(g))e:{if(g[0]==="o"&&g[1]==="n"&&(w=g.endsWith("Capture"),u=g.slice(2,w?g.length-7:void 0),A=o[_t]||null,A=A!=null?A[g]:null,typeof A=="function"&&o.removeEventListener(u,A,w),typeof m=="function")){typeof A!="function"&&A!==null&&(g in o?o[g]=null:o.hasAttribute(g)&&o.removeAttribute(g)),o.addEventListener(u,m,w);break e}g in o?o[g]=m:m===!0?o.setAttribute(g,""):$a(o,g,m)}}}function gi(o,u,g){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":bt("error",o),bt("load",o);var m=!1,w=!1,A;for(A in g)if(g.hasOwnProperty(A)){var V=g[A];if(V!=null)switch(A){case"src":m=!0;break;case"srcSet":w=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,u));default:Zt(o,u,A,V,g,null)}}w&&Zt(o,u,"srcSet",g.srcSet,g,null),m&&Zt(o,u,"src",g.src,g,null);return;case"input":bt("invalid",o);var U=A=V=w=null,W=null,ie=null;for(m in g)if(g.hasOwnProperty(m)){var ce=g[m];if(ce!=null)switch(m){case"name":w=ce;break;case"type":V=ce;break;case"checked":W=ce;break;case"defaultChecked":ie=ce;break;case"value":A=ce;break;case"defaultValue":U=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(n(137,u));break;default:Zt(o,u,m,ce,g,null)}}ol(o,A,U,W,ie,V,w,!1),Ac(o);return;case"select":bt("invalid",o),m=V=A=null;for(w in g)if(g.hasOwnProperty(w)&&(U=g[w],U!=null))switch(w){case"value":A=U;break;case"defaultValue":V=U;break;case"multiple":m=U;default:Zt(o,u,w,U,g,null)}u=A,g=V,o.multiple=!!m,u!=null?ta(o,!!m,u,!1):g!=null&&ta(o,!!m,g,!0);return;case"textarea":bt("invalid",o),A=w=m=null;for(V in g)if(g.hasOwnProperty(V)&&(U=g[V],U!=null))switch(V){case"value":m=U;break;case"defaultValue":w=U;break;case"children":A=U;break;case"dangerouslySetInnerHTML":if(U!=null)throw Error(n(91));break;default:Zt(o,u,V,U,g,null)}ll(o,m,w,A),Ac(o);return;case"option":for(W in g)if(g.hasOwnProperty(W)&&(m=g[W],m!=null))switch(W){case"selected":o.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:Zt(o,u,W,m,g,null)}return;case"dialog":bt("beforetoggle",o),bt("toggle",o),bt("cancel",o),bt("close",o);break;case"iframe":case"object":bt("load",o);break;case"video":case"audio":for(m=0;m<sd.length;m++)bt(sd[m],o);break;case"image":bt("error",o),bt("load",o);break;case"details":bt("toggle",o);break;case"embed":case"source":case"link":bt("error",o),bt("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ie in g)if(g.hasOwnProperty(ie)&&(m=g[ie],m!=null))switch(ie){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,u));default:Zt(o,u,ie,m,g,null)}return;default:if(wh(u)){for(ce in g)g.hasOwnProperty(ce)&&(m=g[ce],m!==void 0&&Zb(o,u,ce,m,g,void 0));return}}for(U in g)g.hasOwnProperty(U)&&(m=g[U],m!=null&&Zt(o,u,U,m,g,null))}function qz(o,u,g,m){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var w=null,A=null,V=null,U=null,W=null,ie=null,ce=null;for(re in g){var ge=g[re];if(g.hasOwnProperty(re)&&ge!=null)switch(re){case"checked":break;case"value":break;case"defaultValue":W=ge;default:m.hasOwnProperty(re)||Zt(o,u,re,null,m,ge)}}for(var se in m){var re=m[se];if(ge=g[se],m.hasOwnProperty(se)&&(re!=null||ge!=null))switch(se){case"type":A=re;break;case"name":w=re;break;case"checked":ie=re;break;case"defaultChecked":ce=re;break;case"value":V=re;break;case"defaultValue":U=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(n(137,u));break;default:re!==ge&&Zt(o,u,se,re,m,ge)}}us(o,V,U,W,ie,ce,A,w);return;case"select":re=V=U=se=null;for(A in g)if(W=g[A],g.hasOwnProperty(A)&&W!=null)switch(A){case"value":break;case"multiple":re=W;default:m.hasOwnProperty(A)||Zt(o,u,A,null,m,W)}for(w in m)if(A=m[w],W=g[w],m.hasOwnProperty(w)&&(A!=null||W!=null))switch(w){case"value":se=A;break;case"defaultValue":U=A;break;case"multiple":V=A;default:A!==W&&Zt(o,u,w,A,m,W)}u=U,g=V,m=re,se!=null?ta(o,!!g,se,!1):!!m!=!!g&&(u!=null?ta(o,!!g,u,!0):ta(o,!!g,g?[]:"",!1));return;case"textarea":re=se=null;for(U in g)if(w=g[U],g.hasOwnProperty(U)&&w!=null&&!m.hasOwnProperty(U))switch(U){case"value":break;case"children":break;default:Zt(o,u,U,null,m,w)}for(V in m)if(w=m[V],A=g[V],m.hasOwnProperty(V)&&(w!=null||A!=null))switch(V){case"value":se=w;break;case"defaultValue":re=w;break;case"children":break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(n(91));break;default:w!==A&&Zt(o,u,V,w,m,A)}Kt(o,se,re);return;case"option":for(var Qe in g)if(se=g[Qe],g.hasOwnProperty(Qe)&&se!=null&&!m.hasOwnProperty(Qe))switch(Qe){case"selected":o.selected=!1;break;default:Zt(o,u,Qe,null,m,se)}for(W in m)if(se=m[W],re=g[W],m.hasOwnProperty(W)&&se!==re&&(se!=null||re!=null))switch(W){case"selected":o.selected=se&&typeof se!="function"&&typeof se!="symbol";break;default:Zt(o,u,W,se,m,re)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var He in g)se=g[He],g.hasOwnProperty(He)&&se!=null&&!m.hasOwnProperty(He)&&Zt(o,u,He,null,m,se);for(ie in m)if(se=m[ie],re=g[ie],m.hasOwnProperty(ie)&&se!==re&&(se!=null||re!=null))switch(ie){case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(n(137,u));break;default:Zt(o,u,ie,se,m,re)}return;default:if(wh(u)){for(var Jt in g)se=g[Jt],g.hasOwnProperty(Jt)&&se!==void 0&&!m.hasOwnProperty(Jt)&&Zb(o,u,Jt,void 0,m,se);for(ce in m)se=m[ce],re=g[ce],!m.hasOwnProperty(ce)||se===re||se===void 0&&re===void 0||Zb(o,u,ce,se,m,re);return}}for(var Q in g)se=g[Q],g.hasOwnProperty(Q)&&se!=null&&!m.hasOwnProperty(Q)&&Zt(o,u,Q,null,m,se);for(ge in m)se=m[ge],re=g[ge],!m.hasOwnProperty(ge)||se===re||se==null&&re==null||Zt(o,u,ge,se,m,re)}var Jb=null,ex=null;function kp(o){return o.nodeType===9?o:o.ownerDocument}function WE(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function GE(o,u){if(o===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&u==="foreignObject"?0:o}function tx(o,u){return o==="textarea"||o==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var nx=null;function $z(){var o=window.event;return o&&o.type==="popstate"?o===nx?!1:(nx=o,!0):(nx=null,!1)}var qE=typeof setTimeout=="function"?setTimeout:void 0,Kz=typeof clearTimeout=="function"?clearTimeout:void 0,$E=typeof Promise=="function"?Promise:void 0,Qz=typeof queueMicrotask=="function"?queueMicrotask:typeof $E<"u"?function(o){return $E.resolve(null).then(o).catch(Zz)}:qE;function Zz(o){setTimeout(function(){throw o})}function go(o){return o==="head"}function KE(o,u){var g=u,m=0,w=0;do{var A=g.nextSibling;if(o.removeChild(g),A&&A.nodeType===8)if(g=A.data,g==="/$"){if(0<m&&8>m){g=m;var V=o.ownerDocument;if(g&1&&ad(V.documentElement),g&2&&ad(V.body),g&4)for(g=V.head,ad(g),V=g.firstChild;V;){var U=V.nextSibling,W=V.nodeName;V[cs]||W==="SCRIPT"||W==="STYLE"||W==="LINK"&&V.rel.toLowerCase()==="stylesheet"||g.removeChild(V),V=U}}if(w===0){o.removeChild(A),gd(u);return}w--}else g==="$"||g==="$?"||g==="$!"?w++:m=g.charCodeAt(0)-48;else m=0;g=A}while(g);gd(u)}function ix(o){var u=o.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var g=u;switch(u=u.nextSibling,g.nodeName){case"HTML":case"HEAD":case"BODY":ix(g),qa(g);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(g.rel.toLowerCase()==="stylesheet")continue}o.removeChild(g)}}function Jz(o,u,g,m){for(;o.nodeType===1;){var w=g;if(o.nodeName.toLowerCase()!==u.toLowerCase()){if(!m&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(m){if(!o[cs])switch(u){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(A=o.getAttribute("rel"),A==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(A!==w.rel||o.getAttribute("href")!==(w.href==null||w.href===""?null:w.href)||o.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin)||o.getAttribute("title")!==(w.title==null?null:w.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(A=o.getAttribute("src"),(A!==(w.src==null?null:w.src)||o.getAttribute("type")!==(w.type==null?null:w.type)||o.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin))&&A&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(u==="input"&&o.type==="hidden"){var A=w.name==null?null:""+w.name;if(w.type==="hidden"&&o.getAttribute("name")===A)return o}else return o;if(o=lr(o.nextSibling),o===null)break}return null}function e4(o,u,g){if(u==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!g||(o=lr(o.nextSibling),o===null))return null;return o}function sx(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState==="complete"}function t4(o,u){var g=o.ownerDocument;if(o.data!=="$?"||g.readyState==="complete")u();else{var m=function(){u(),g.removeEventListener("DOMContentLoaded",m)};g.addEventListener("DOMContentLoaded",m),o._reactRetry=m}}function lr(o){for(;o!=null;o=o.nextSibling){var u=o.nodeType;if(u===1||u===3)break;if(u===8){if(u=o.data,u==="$"||u==="$!"||u==="$?"||u==="F!"||u==="F")break;if(u==="/$")return null}}return o}var rx=null;function QE(o){o=o.previousSibling;for(var u=0;o;){if(o.nodeType===8){var g=o.data;if(g==="$"||g==="$!"||g==="$?"){if(u===0)return o;u--}else g==="/$"&&u++}o=o.previousSibling}return null}function ZE(o,u,g){switch(u=kp(g),o){case"html":if(o=u.documentElement,!o)throw Error(n(452));return o;case"head":if(o=u.head,!o)throw Error(n(453));return o;case"body":if(o=u.body,!o)throw Error(n(454));return o;default:throw Error(n(451))}}function ad(o){for(var u=o.attributes;u.length;)o.removeAttributeNode(u[0]);qa(o)}var Bs=new Map,JE=new Set;function Rp(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var xa=G.d;G.d={f:n4,r:i4,D:s4,C:r4,L:a4,m:o4,X:c4,S:l4,M:u4};function n4(){var o=xa.f(),u=xp();return o||u}function i4(o){var u=Ar(o);u!==null&&u.tag===5&&u.type==="form"?bT(u):xa.r(o)}var su=typeof document>"u"?null:document;function eC(o,u,g){var m=su;if(m&&typeof u=="string"&&u){var w=zn(u);w='link[rel="'+o+'"][href="'+w+'"]',typeof g=="string"&&(w+='[crossorigin="'+g+'"]'),JE.has(w)||(JE.add(w),o={rel:o,crossOrigin:g,href:u},m.querySelector(w)===null&&(u=m.createElement("link"),gi(u,"link",o),Nn(u),m.head.appendChild(u)))}}function s4(o){xa.D(o),eC("dns-prefetch",o,null)}function r4(o,u){xa.C(o,u),eC("preconnect",o,u)}function a4(o,u,g){xa.L(o,u,g);var m=su;if(m&&o&&u){var w='link[rel="preload"][as="'+zn(u)+'"]';u==="image"&&g&&g.imageSrcSet?(w+='[imagesrcset="'+zn(g.imageSrcSet)+'"]',typeof g.imageSizes=="string"&&(w+='[imagesizes="'+zn(g.imageSizes)+'"]')):w+='[href="'+zn(o)+'"]';var A=w;switch(u){case"style":A=ru(o);break;case"script":A=au(o)}Bs.has(A)||(o=d({rel:"preload",href:u==="image"&&g&&g.imageSrcSet?void 0:o,as:u},g),Bs.set(A,o),m.querySelector(w)!==null||u==="style"&&m.querySelector(od(A))||u==="script"&&m.querySelector(ld(A))||(u=m.createElement("link"),gi(u,"link",o),Nn(u),m.head.appendChild(u)))}}function o4(o,u){xa.m(o,u);var g=su;if(g&&o){var m=u&&typeof u.as=="string"?u.as:"script",w='link[rel="modulepreload"][as="'+zn(m)+'"][href="'+zn(o)+'"]',A=w;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":A=au(o)}if(!Bs.has(A)&&(o=d({rel:"modulepreload",href:o},u),Bs.set(A,o),g.querySelector(w)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(g.querySelector(ld(A)))return}m=g.createElement("link"),gi(m,"link",o),Nn(m),g.head.appendChild(m)}}}function l4(o,u,g){xa.S(o,u,g);var m=su;if(m&&o){var w=zi(m).hoistableStyles,A=ru(o);u=u||"default";var V=w.get(A);if(!V){var U={loading:0,preload:null};if(V=m.querySelector(od(A)))U.loading=5;else{o=d({rel:"stylesheet",href:o,"data-precedence":u},g),(g=Bs.get(A))&&ax(o,g);var W=V=m.createElement("link");Nn(W),gi(W,"link",o),W._p=new Promise(function(ie,ce){W.onload=ie,W.onerror=ce}),W.addEventListener("load",function(){U.loading|=1}),W.addEventListener("error",function(){U.loading|=2}),U.loading|=4,Ip(V,u,m)}V={type:"stylesheet",instance:V,count:1,state:U},w.set(A,V)}}}function c4(o,u){xa.X(o,u);var g=su;if(g&&o){var m=zi(g).hoistableScripts,w=au(o),A=m.get(w);A||(A=g.querySelector(ld(w)),A||(o=d({src:o,async:!0},u),(u=Bs.get(w))&&ox(o,u),A=g.createElement("script"),Nn(A),gi(A,"link",o),g.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},m.set(w,A))}}function u4(o,u){xa.M(o,u);var g=su;if(g&&o){var m=zi(g).hoistableScripts,w=au(o),A=m.get(w);A||(A=g.querySelector(ld(w)),A||(o=d({src:o,async:!0,type:"module"},u),(u=Bs.get(w))&&ox(o,u),A=g.createElement("script"),Nn(A),gi(A,"link",o),g.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},m.set(w,A))}}function tC(o,u,g,m){var w=(w=Se.current)?Rp(w):null;if(!w)throw Error(n(446));switch(o){case"meta":case"title":return null;case"style":return typeof g.precedence=="string"&&typeof g.href=="string"?(u=ru(g.href),g=zi(w).hoistableStyles,m=g.get(u),m||(m={type:"style",instance:null,count:0,state:null},g.set(u,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(g.rel==="stylesheet"&&typeof g.href=="string"&&typeof g.precedence=="string"){o=ru(g.href);var A=zi(w).hoistableStyles,V=A.get(o);if(V||(w=w.ownerDocument||w,V={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},A.set(o,V),(A=w.querySelector(od(o)))&&!A._p&&(V.instance=A,V.state.loading=5),Bs.has(o)||(g={rel:"preload",as:"style",href:g.href,crossOrigin:g.crossOrigin,integrity:g.integrity,media:g.media,hrefLang:g.hrefLang,referrerPolicy:g.referrerPolicy},Bs.set(o,g),A||h4(w,o,g,V.state))),u&&m===null)throw Error(n(528,""));return V}if(u&&m!==null)throw Error(n(529,""));return null;case"script":return u=g.async,g=g.src,typeof g=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=au(g),g=zi(w).hoistableScripts,m=g.get(u),m||(m={type:"script",instance:null,count:0,state:null},g.set(u,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,o))}}function ru(o){return'href="'+zn(o)+'"'}function od(o){return'link[rel="stylesheet"]['+o+"]"}function nC(o){return d({},o,{"data-precedence":o.precedence,precedence:null})}function h4(o,u,g,m){o.querySelector('link[rel="preload"][as="style"]['+u+"]")?m.loading=1:(u=o.createElement("link"),m.preload=u,u.addEventListener("load",function(){return m.loading|=1}),u.addEventListener("error",function(){return m.loading|=2}),gi(u,"link",g),Nn(u),o.head.appendChild(u))}function au(o){return'[src="'+zn(o)+'"]'}function ld(o){return"script[async]"+o}function iC(o,u,g){if(u.count++,u.instance===null)switch(u.type){case"style":var m=o.querySelector('style[data-href~="'+zn(g.href)+'"]');if(m)return u.instance=m,Nn(m),m;var w=d({},g,{"data-href":g.href,"data-precedence":g.precedence,href:null,precedence:null});return m=(o.ownerDocument||o).createElement("style"),Nn(m),gi(m,"style",w),Ip(m,g.precedence,o),u.instance=m;case"stylesheet":w=ru(g.href);var A=o.querySelector(od(w));if(A)return u.state.loading|=4,u.instance=A,Nn(A),A;m=nC(g),(w=Bs.get(w))&&ax(m,w),A=(o.ownerDocument||o).createElement("link"),Nn(A);var V=A;return V._p=new Promise(function(U,W){V.onload=U,V.onerror=W}),gi(A,"link",m),u.state.loading|=4,Ip(A,g.precedence,o),u.instance=A;case"script":return A=au(g.src),(w=o.querySelector(ld(A)))?(u.instance=w,Nn(w),w):(m=g,(w=Bs.get(A))&&(m=d({},g),ox(m,w)),o=o.ownerDocument||o,w=o.createElement("script"),Nn(w),gi(w,"link",m),o.head.appendChild(w),u.instance=w);case"void":return null;default:throw Error(n(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(m=u.instance,u.state.loading|=4,Ip(m,g.precedence,o));return u.instance}function Ip(o,u,g){for(var m=g.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),w=m.length?m[m.length-1]:null,A=w,V=0;V<m.length;V++){var U=m[V];if(U.dataset.precedence===u)A=U;else if(A!==w)break}A?A.parentNode.insertBefore(o,A.nextSibling):(u=g.nodeType===9?g.head:g,u.insertBefore(o,u.firstChild))}function ax(o,u){o.crossOrigin==null&&(o.crossOrigin=u.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=u.referrerPolicy),o.title==null&&(o.title=u.title)}function ox(o,u){o.crossOrigin==null&&(o.crossOrigin=u.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=u.referrerPolicy),o.integrity==null&&(o.integrity=u.integrity)}var Mp=null;function sC(o,u,g){if(Mp===null){var m=new Map,w=Mp=new Map;w.set(g,m)}else w=Mp,m=w.get(g),m||(m=new Map,w.set(g,m));if(m.has(o))return m;for(m.set(o,null),g=g.getElementsByTagName(o),w=0;w<g.length;w++){var A=g[w];if(!(A[cs]||A[gt]||o==="link"&&A.getAttribute("rel")==="stylesheet")&&A.namespaceURI!=="http://www.w3.org/2000/svg"){var V=A.getAttribute(u)||"";V=o+V;var U=m.get(V);U?U.push(A):m.set(V,[A])}}return m}function rC(o,u,g){o=o.ownerDocument||o,o.head.insertBefore(g,u==="title"?o.querySelector("head > title"):null)}function d4(o,u,g){if(g===1||u.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;switch(u.rel){case"stylesheet":return o=u.disabled,typeof u.precedence=="string"&&o==null;default:return!0}case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function aC(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}var cd=null;function f4(){}function g4(o,u,g){if(cd===null)throw Error(n(475));var m=cd;if(u.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var w=ru(g.href),A=o.querySelector(od(w));if(A){o=A._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(m.count++,m=Dp.bind(m),o.then(m,m)),u.state.loading|=4,u.instance=A,Nn(A);return}A=o.ownerDocument||o,g=nC(g),(w=Bs.get(w))&&ax(g,w),A=A.createElement("link"),Nn(A);var V=A;V._p=new Promise(function(U,W){V.onload=U,V.onerror=W}),gi(A,"link",g),u.instance=A}m.stylesheets===null&&(m.stylesheets=new Map),m.stylesheets.set(u,o),(o=u.state.preload)&&(u.state.loading&3)===0&&(m.count++,u=Dp.bind(m),o.addEventListener("load",u),o.addEventListener("error",u))}}function p4(){if(cd===null)throw Error(n(475));var o=cd;return o.stylesheets&&o.count===0&&lx(o,o.stylesheets),0<o.count?function(u){var g=setTimeout(function(){if(o.stylesheets&&lx(o,o.stylesheets),o.unsuspend){var m=o.unsuspend;o.unsuspend=null,m()}},6e4);return o.unsuspend=u,function(){o.unsuspend=null,clearTimeout(g)}}:null}function Dp(){if(this.count--,this.count===0){if(this.stylesheets)lx(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var Np=null;function lx(o,u){o.stylesheets=null,o.unsuspend!==null&&(o.count++,Np=new Map,u.forEach(m4,o),Np=null,Dp.call(o))}function m4(o,u){if(!(u.state.loading&4)){var g=Np.get(o);if(g)var m=g.get(null);else{g=new Map,Np.set(o,g);for(var w=o.querySelectorAll("link[data-precedence],style[data-precedence]"),A=0;A<w.length;A++){var V=w[A];(V.nodeName==="LINK"||V.getAttribute("media")!=="not all")&&(g.set(V.dataset.precedence,V),m=V)}m&&g.set(null,m)}w=u.instance,V=w.getAttribute("data-precedence"),A=g.get(V)||m,A===m&&g.set(null,w),g.set(V,w),this.count++,m=Dp.bind(this),w.addEventListener("load",m),w.addEventListener("error",m),A?A.parentNode.insertBefore(w,A.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(w,o.firstChild)),u.state.loading|=4}}var ud={$$typeof:C,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function y4(o,u,g,m,w,A,V,U){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ut(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ut(0),this.hiddenUpdates=ut(null),this.identifierPrefix=m,this.onUncaughtError=w,this.onCaughtError=A,this.onRecoverableError=V,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function oC(o,u,g,m,w,A,V,U,W,ie,ce,ge){return o=new y4(o,u,g,V,U,W,ie,ge),u=1,A===!0&&(u|=24),A=ds(3,null,null,u),o.current=A,A.stateNode=o,u=Uv(),u.refCount++,o.pooledCache=u,u.refCount++,A.memoizedState={element:m,isDehydrated:g,cache:u},Gv(A),o}function lC(o){return o?(o=Vc,o):Vc}function cC(o,u,g,m,w,A){w=lC(w),m.context===null?m.context=w:m.pendingContext=w,m=eo(u),m.payload={element:g},A=A===void 0?null:A,A!==null&&(m.callback=A),g=to(o,m,u),g!==null&&(ys(g,o,u),jh(g,o,u))}function uC(o,u){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var g=o.retryLane;o.retryLane=g!==0&&g<u?g:u}}function cx(o,u){uC(o,u),(o=o.alternate)&&uC(o,u)}function hC(o){if(o.tag===13){var u=Lc(o,67108864);u!==null&&ys(u,o,67108864),cx(o,67108864)}}var Pp=!0;function v4(o,u,g,m){var w=X.T;X.T=null;var A=G.p;try{G.p=2,ux(o,u,g,m)}finally{G.p=A,X.T=w}}function b4(o,u,g,m){var w=X.T;X.T=null;var A=G.p;try{G.p=8,ux(o,u,g,m)}finally{G.p=A,X.T=w}}function ux(o,u,g,m){if(Pp){var w=hx(m);if(w===null)Qb(o,u,m,Op,g),fC(o,m);else if(w4(w,o,u,g,m))m.stopPropagation();else if(fC(o,m),u&4&&-1<x4.indexOf(o)){for(;w!==null;){var A=Ar(w);if(A!==null)switch(A.tag){case 3:if(A=A.stateNode,A.current.memoizedState.isDehydrated){var V=ve(A.pendingLanes);if(V!==0){var U=A;for(U.pendingLanes|=2,U.entangledLanes|=2;V;){var W=1<<31-an(V);U.entanglements[1]|=W,V&=~W}Vr(A),(Wt&6)===0&&(vp=mt()+500,id(0))}}break;case 13:U=Lc(A,2),U!==null&&ys(U,A,2),xp(),cx(A,2)}if(A=hx(m),A===null&&Qb(o,u,m,Op,g),A===w)break;w=A}w!==null&&m.stopPropagation()}else Qb(o,u,m,null,g)}}function hx(o){return o=Ds(o),dx(o)}var Op=null;function dx(o){if(Op=null,o=Zr(o),o!==null){var u=r(o);if(u===null)o=null;else{var g=u.tag;if(g===13){if(o=a(u),o!==null)return o;o=null}else if(g===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;o=null}else u!==o&&(o=null)}}return Op=o,null}function dC(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Es()){case xn:return 2;case Sn:return 8;case wn:case Xn:return 32;case _i:return 268435456;default:return 32}default:return 32}}var fx=!1,po=null,mo=null,yo=null,hd=new Map,dd=new Map,vo=[],x4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function fC(o,u){switch(o){case"focusin":case"focusout":po=null;break;case"dragenter":case"dragleave":mo=null;break;case"mouseover":case"mouseout":yo=null;break;case"pointerover":case"pointerout":hd.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":dd.delete(u.pointerId)}}function fd(o,u,g,m,w,A){return o===null||o.nativeEvent!==A?(o={blockedOn:u,domEventName:g,eventSystemFlags:m,nativeEvent:A,targetContainers:[w]},u!==null&&(u=Ar(u),u!==null&&hC(u)),o):(o.eventSystemFlags|=m,u=o.targetContainers,w!==null&&u.indexOf(w)===-1&&u.push(w),o)}function w4(o,u,g,m,w){switch(u){case"focusin":return po=fd(po,o,u,g,m,w),!0;case"dragenter":return mo=fd(mo,o,u,g,m,w),!0;case"mouseover":return yo=fd(yo,o,u,g,m,w),!0;case"pointerover":var A=w.pointerId;return hd.set(A,fd(hd.get(A)||null,o,u,g,m,w)),!0;case"gotpointercapture":return A=w.pointerId,dd.set(A,fd(dd.get(A)||null,o,u,g,m,w)),!0}return!1}function gC(o){var u=Zr(o.target);if(u!==null){var g=r(u);if(g!==null){if(u=g.tag,u===13){if(u=a(g),u!==null){o.blockedOn=u,Bt(o.priority,function(){if(g.tag===13){var m=ms();m=ht(m);var w=Lc(g,m);w!==null&&ys(w,g,m),cx(g,m)}});return}}else if(u===3&&g.stateNode.current.memoizedState.isDehydrated){o.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Lp(o){if(o.blockedOn!==null)return!1;for(var u=o.targetContainers;0<u.length;){var g=hx(o.nativeEvent);if(g===null){g=o.nativeEvent;var m=new g.constructor(g.type,g);na=m,g.target.dispatchEvent(m),na=null}else return u=Ar(g),u!==null&&hC(u),o.blockedOn=g,!1;u.shift()}return!0}function pC(o,u,g){Lp(o)&&g.delete(u)}function _4(){fx=!1,po!==null&&Lp(po)&&(po=null),mo!==null&&Lp(mo)&&(mo=null),yo!==null&&Lp(yo)&&(yo=null),hd.forEach(pC),dd.forEach(pC)}function Vp(o,u){o.blockedOn===u&&(o.blockedOn=null,fx||(fx=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,_4)))}var Fp=null;function mC(o){Fp!==o&&(Fp=o,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Fp===o&&(Fp=null);for(var u=0;u<o.length;u+=3){var g=o[u],m=o[u+1],w=o[u+2];if(typeof m!="function"){if(dx(m||g)===null)continue;break}var A=Ar(g);A!==null&&(o.splice(u,3),u-=3,db(A,{pending:!0,data:w,method:g.method,action:m},m,w))}}))}function gd(o){function u(W){return Vp(W,o)}po!==null&&Vp(po,o),mo!==null&&Vp(mo,o),yo!==null&&Vp(yo,o),hd.forEach(u),dd.forEach(u);for(var g=0;g<vo.length;g++){var m=vo[g];m.blockedOn===o&&(m.blockedOn=null)}for(;0<vo.length&&(g=vo[0],g.blockedOn===null);)gC(g),g.blockedOn===null&&vo.shift();if(g=(o.ownerDocument||o).$$reactFormReplay,g!=null)for(m=0;m<g.length;m+=3){var w=g[m],A=g[m+1],V=w[_t]||null;if(typeof A=="function")V||mC(g);else if(V){var U=null;if(A&&A.hasAttribute("formAction")){if(w=A,V=A[_t]||null)U=V.formAction;else if(dx(w)!==null)continue}else U=V.action;typeof U=="function"?g[m+1]=U:(g.splice(m,3),m-=3),mC(g)}}}function gx(o){this._internalRoot=o}zp.prototype.render=gx.prototype.render=function(o){var u=this._internalRoot;if(u===null)throw Error(n(409));var g=u.current,m=ms();cC(g,m,o,u,null,null)},zp.prototype.unmount=gx.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var u=o.containerInfo;cC(o.current,2,null,o,null,null),xp(),u[on]=null}};function zp(o){this._internalRoot=o}zp.prototype.unstable_scheduleHydration=function(o){if(o){var u=yt();o={blockedOn:null,target:o,priority:u};for(var g=0;g<vo.length&&u!==0&&u<vo[g].priority;g++);vo.splice(g,0,o),g===0&&gC(o)}};var yC=e.version;if(yC!=="19.1.0")throw Error(n(527,yC,"19.1.0"));G.findDOMNode=function(o){var u=o._reactInternals;if(u===void 0)throw typeof o.render=="function"?Error(n(188)):(o=Object.keys(o).join(","),Error(n(268,o)));return o=c(u),o=o!==null?h(o):null,o=o===null?null:o.stateNode,o};var A4={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jp.isDisabled&&jp.supportsFiber)try{$t=jp.inject(A4),ot=jp}catch{}}return md.createRoot=function(o,u){if(!s(o))throw Error(n(299));var g=!1,m="",w=NT,A=PT,V=OT,U=null;return u!=null&&(u.unstable_strictMode===!0&&(g=!0),u.identifierPrefix!==void 0&&(m=u.identifierPrefix),u.onUncaughtError!==void 0&&(w=u.onUncaughtError),u.onCaughtError!==void 0&&(A=u.onCaughtError),u.onRecoverableError!==void 0&&(V=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(U=u.unstable_transitionCallbacks)),u=oC(o,1,!1,null,null,g,m,w,A,V,U,null),o[on]=u.current,Kb(o),new gx(u)},md.hydrateRoot=function(o,u,g){if(!s(o))throw Error(n(299));var m=!1,w="",A=NT,V=PT,U=OT,W=null,ie=null;return g!=null&&(g.unstable_strictMode===!0&&(m=!0),g.identifierPrefix!==void 0&&(w=g.identifierPrefix),g.onUncaughtError!==void 0&&(A=g.onUncaughtError),g.onCaughtError!==void 0&&(V=g.onCaughtError),g.onRecoverableError!==void 0&&(U=g.onRecoverableError),g.unstable_transitionCallbacks!==void 0&&(W=g.unstable_transitionCallbacks),g.formState!==void 0&&(ie=g.formState)),u=oC(o,1,!0,u,g??null,m,w,A,V,U,W,ie),u.context=lC(null),g=u.current,m=ms(),m=ht(m),w=eo(m),w.callback=null,to(g,w,m),g=m,u.current.lanes=g,et(u,g),Vr(u),o[on]=u.current,Kb(o),new zp(u)},md.version="19.1.0",md}var TC;function B4(){if(TC)return mx.exports;TC=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),mx.exports=j4(),mx.exports}var H4=B4();const U4=y_(H4);/**
 * react-router v7.9.6
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var EC="popstate";function Y4(i={}){function e(n,s){let{pathname:r,search:a,hash:l}=n.location;return P0("",{pathname:r,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(n,s){return typeof s=="string"?s:nf(s)}return W4(e,t,null,i)}function bn(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Qs(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function X4(){return Math.random().toString(36).substring(2,10)}function CC(i,e){return{usr:i.state,key:i.key,idx:e}}function P0(i,e,t=null,n){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Gu(e):e,state:t,key:e&&e.key||n||X4()}}function nf({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function Gu(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let n=i.indexOf("?");n>=0&&(e.search=i.substring(n),i=i.substring(0,n)),i&&(e.pathname=i)}return e}function W4(i,e,t,n={}){let{window:s=document.defaultView,v5Compat:r=!1}=n,a=s.history,l="POP",c=null,h=d();h==null&&(h=0,a.replaceState({...a.state,idx:h},""));function d(){return(a.state||{idx:null}).idx}function f(){l="POP";let _=d(),S=_==null?null:_-h;h=_,c&&c({action:l,location:x.location,delta:S})}function p(_,S){l="PUSH";let T=P0(x.location,_,S);h=d()+1;let C=CC(T,h),M=x.createHref(T);try{a.pushState(C,"",M)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;s.location.assign(M)}r&&c&&c({action:l,location:x.location,delta:1})}function y(_,S){l="REPLACE";let T=P0(x.location,_,S);h=d();let C=CC(T,h),M=x.createHref(T);a.replaceState(C,"",M),r&&c&&c({action:l,location:x.location,delta:0})}function b(_){return G4(_)}let x={get action(){return l},get location(){return i(s,a)},listen(_){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(EC,f),c=_,()=>{s.removeEventListener(EC,f),c=null}},createHref(_){return e(s,_)},createURL:b,encodeLocation(_){let S=b(_);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:p,replace:y,go(_){return a.go(_)}};return x}function G4(i,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),bn(t,"No window.location.(origin|href) available to create URL");let n=typeof i=="string"?i:nf(i);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=t+n),new URL(n,t)}function vM(i,e,t="/"){return q4(i,e,t,!1)}function q4(i,e,t,n){let s=typeof e=="string"?Gu(e):e,r=Pa(s.pathname||"/",t);if(r==null)return null;let a=bM(i);$4(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let h=aj(r);l=sj(a[c],h,n)}return l}function bM(i,e=[],t=[],n="",s=!1){let r=(a,l,c=s,h)=>{let d={relativePath:h===void 0?a.path||"":h,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(n)&&c)return;bn(d.relativePath.startsWith(n),`Absolute route path "${d.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(n.length)}let f=Ra([n,d.relativePath]),p=t.concat(d);a.children&&a.children.length>0&&(bn(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),bM(a.children,e,p,f,c)),!(a.path==null&&!a.index)&&e.push({path:f,score:nj(f,a.index),routesMeta:p})};return i.forEach((a,l)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))r(a,l);else for(let h of xM(a.path))r(a,l,!0,h)}),e}function xM(i){let e=i.split("/");if(e.length===0)return[];let[t,...n]=e,s=t.endsWith("?"),r=t.replace(/\?$/,"");if(n.length===0)return s?[r,""]:[r];let a=xM(n.join("/")),l=[];return l.push(...a.map(c=>c===""?r:[r,c].join("/"))),s&&l.push(...a),l.map(c=>i.startsWith("/")&&c===""?"/":c)}function $4(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:ij(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}var K4=/^:[\w-]+$/,Q4=3,Z4=2,J4=1,ej=10,tj=-2,kC=i=>i==="*";function nj(i,e){let t=i.split("/"),n=t.length;return t.some(kC)&&(n+=tj),e&&(n+=Z4),t.filter(s=>!kC(s)).reduce((s,r)=>s+(K4.test(r)?Q4:r===""?J4:ej),n)}function ij(i,e){return i.length===e.length&&i.slice(0,-1).every((n,s)=>n===e[s])?i[i.length-1]-e[e.length-1]:0}function sj(i,e,t=!1){let{routesMeta:n}=i,s={},r="/",a=[];for(let l=0;l<n.length;++l){let c=n[l],h=l===n.length-1,d=r==="/"?e:e.slice(r.length)||"/",f=Mm({path:c.relativePath,caseSensitive:c.caseSensitive,end:h},d),p=c.route;if(!f&&h&&t&&!n[n.length-1].route.index&&(f=Mm({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),a.push({params:s,pathname:Ra([r,f.pathname]),pathnameBase:hj(Ra([r,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(r=Ra([r,f.pathnameBase]))}return a}function Mm(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,n]=rj(i.path,i.caseSensitive,i.end),s=e.match(t);if(!s)return null;let r=s[0],a=r.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((h,{paramName:d,isOptional:f},p)=>{if(d==="*"){let b=l[p]||"";a=r.slice(0,r.length-b.length).replace(/(.)\/+$/,"$1")}const y=l[p];return f&&!y?h[d]=void 0:h[d]=(y||"").replace(/%2F/g,"/"),h},{}),pathname:r,pathnameBase:a,pattern:i}}function rj(i,e=!1,t=!0){Qs(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let n=[],s="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(n.push({paramName:"*"}),s+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":i!==""&&i!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function aj(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Qs(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Pa(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=i.charAt(t);return n&&n!=="/"?null:i.slice(t)||"/"}var oj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lj=i=>oj.test(i);function cj(i,e="/"){let{pathname:t,search:n="",hash:s=""}=typeof i=="string"?Gu(i):i,r;if(t)if(lj(t))r=t;else{if(t.includes("//")){let a=t;t=t.replace(/\/\/+/g,"/"),Qs(!1,`Pathnames cannot have embedded double slashes - normalizing ${a} -> ${t}`)}t.startsWith("/")?r=RC(t.substring(1),"/"):r=RC(t,e)}else r=e;return{pathname:r,search:dj(n),hash:fj(s)}}function RC(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function xx(i,e,t,n){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function uj(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function v_(i){let e=uj(i);return e.map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function b_(i,e,t,n=!1){let s;typeof i=="string"?s=Gu(i):(s={...i},bn(!s.pathname||!s.pathname.includes("?"),xx("?","pathname","search",s)),bn(!s.pathname||!s.pathname.includes("#"),xx("#","pathname","hash",s)),bn(!s.search||!s.search.includes("#"),xx("#","search","hash",s)));let r=i===""||s.pathname==="",a=r?"/":s.pathname,l;if(a==null)l=t;else{let f=e.length-1;if(!n&&a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),f-=1;s.pathname=p.join("/")}l=f>=0?e[f]:"/"}let c=cj(s,l),h=a&&a!=="/"&&a.endsWith("/"),d=(r||a===".")&&t.endsWith("/");return!c.pathname.endsWith("/")&&(h||d)&&(c.pathname+="/"),c}var Ra=i=>i.join("/").replace(/\/\/+/g,"/"),hj=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),dj=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,fj=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function gj(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var wM=["POST","PUT","PATCH","DELETE"];new Set(wM);var pj=["GET",...wM];new Set(pj);var qu=z.createContext(null);qu.displayName="DataRouter";var Iy=z.createContext(null);Iy.displayName="DataRouterState";z.createContext(!1);var _M=z.createContext({isTransitioning:!1});_M.displayName="ViewTransition";var mj=z.createContext(new Map);mj.displayName="Fetchers";var yj=z.createContext(null);yj.displayName="Await";var _r=z.createContext(null);_r.displayName="Navigation";var Lf=z.createContext(null);Lf.displayName="Location";var er=z.createContext({outlet:null,matches:[],isDataRoute:!1});er.displayName="Route";var x_=z.createContext(null);x_.displayName="RouteError";function vj(i,{relative:e}={}){bn($u(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:n}=z.useContext(_r),{hash:s,pathname:r,search:a}=Vf(i,{relative:e}),l=r;return t!=="/"&&(l=r==="/"?t:Ra([t,r])),n.createHref({pathname:l,search:a,hash:s})}function $u(){return z.useContext(Lf)!=null}function Ko(){return bn($u(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(Lf).location}var AM="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function SM(i){z.useContext(_r).static||z.useLayoutEffect(i)}function uc(){let{isDataRoute:i}=z.useContext(er);return i?Pj():bj()}function bj(){bn($u(),"useNavigate() may be used only in the context of a <Router> component.");let i=z.useContext(qu),{basename:e,navigator:t}=z.useContext(_r),{matches:n}=z.useContext(er),{pathname:s}=Ko(),r=JSON.stringify(v_(n)),a=z.useRef(!1);return SM(()=>{a.current=!0}),z.useCallback((c,h={})=>{if(Qs(a.current,AM),!a.current)return;if(typeof c=="number"){t.go(c);return}let d=b_(c,JSON.parse(r),s,h.relative==="path");i==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Ra([e,d.pathname])),(h.replace?t.replace:t.push)(d,h.state,h)},[e,t,r,s,i])}var xj=z.createContext(null);function wj(i){let e=z.useContext(er).outlet;return z.useMemo(()=>e&&z.createElement(xj.Provider,{value:i},e),[e,i])}function _j(){let{matches:i}=z.useContext(er),e=i[i.length-1];return e?e.params:{}}function Vf(i,{relative:e}={}){let{matches:t}=z.useContext(er),{pathname:n}=Ko(),s=JSON.stringify(v_(t));return z.useMemo(()=>b_(i,JSON.parse(s),n,e==="path"),[i,s,n,e])}function Aj(i,e){return TM(i,e)}function TM(i,e,t,n,s){var T;bn($u(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=z.useContext(_r),{matches:a}=z.useContext(er),l=a[a.length-1],c=l?l.params:{},h=l?l.pathname:"/",d=l?l.pathnameBase:"/",f=l&&l.route;{let C=f&&f.path||"";EM(h,!f||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let p=Ko(),y;if(e){let C=typeof e=="string"?Gu(e):e;bn(d==="/"||((T=C.pathname)==null?void 0:T.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${C.pathname}" was given in the \`location\` prop.`),y=C}else y=p;let b=y.pathname||"/",x=b;if(d!=="/"){let C=d.replace(/^\//,"").split("/");x="/"+b.replace(/^\//,"").split("/").slice(C.length).join("/")}let _=vM(i,{pathname:x});Qs(f||_!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),Qs(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=kj(_&&_.map(C=>Object.assign({},C,{params:Object.assign({},c,C.params),pathname:Ra([d,r.encodeLocation?r.encodeLocation(C.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?d:Ra([d,r.encodeLocation?r.encodeLocation(C.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathnameBase])})),a,t,n,s);return e&&S?z.createElement(Lf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},S):S}function Sj(){let i=Nj(),e=gj(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n},r={padding:"2px 4px",backgroundColor:n},a=null;return console.error("Error handled by React Router default ErrorBoundary:",i),a=z.createElement(z.Fragment,null,z.createElement("p",null," Hey developer "),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:r},"ErrorBoundary")," or"," ",z.createElement("code",{style:r},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),t?z.createElement("pre",{style:s},t):null,a)}var Tj=z.createElement(Sj,null),Ej=class extends z.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.onError?this.props.onError(i,e):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?z.createElement(er.Provider,{value:this.props.routeContext},z.createElement(x_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Cj({routeContext:i,match:e,children:t}){let n=z.useContext(qu);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),z.createElement(er.Provider,{value:i},t)}function kj(i,e=[],t=null,n=null,s=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let r=i,a=t==null?void 0:t.errors;if(a!=null){let d=r.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);bn(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),r=r.slice(0,Math.min(r.length,d+1))}let l=!1,c=-1;if(t)for(let d=0;d<r.length;d++){let f=r[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:p,errors:y}=t,b=f.route.loader&&!p.hasOwnProperty(f.route.id)&&(!y||y[f.route.id]===void 0);if(f.route.lazy||b){l=!0,c>=0?r=r.slice(0,c+1):r=[r[0]];break}}}let h=t&&n?(d,f)=>{var p,y;n(d,{location:t.location,params:((y=(p=t.matches)==null?void 0:p[0])==null?void 0:y.params)??{},errorInfo:f})}:void 0;return r.reduceRight((d,f,p)=>{let y,b=!1,x=null,_=null;t&&(y=a&&f.route.id?a[f.route.id]:void 0,x=f.route.errorElement||Tj,l&&(c<0&&p===0?(EM("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,_=null):c===p&&(b=!0,_=f.route.hydrateFallbackElement||null)));let S=e.concat(r.slice(0,p+1)),T=()=>{let C;return y?C=x:b?C=_:f.route.Component?C=z.createElement(f.route.Component,null):f.route.element?C=f.route.element:C=d,z.createElement(Cj,{match:f,routeContext:{outlet:d,matches:S,isDataRoute:t!=null},children:C})};return t&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?z.createElement(Ej,{location:t.location,revalidation:t.revalidation,component:x,error:y,children:T(),routeContext:{outlet:null,matches:S,isDataRoute:!0},onError:h}):T()},null)}function w_(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Rj(i){let e=z.useContext(qu);return bn(e,w_(i)),e}function Ij(i){let e=z.useContext(Iy);return bn(e,w_(i)),e}function Mj(i){let e=z.useContext(er);return bn(e,w_(i)),e}function __(i){let e=Mj(i),t=e.matches[e.matches.length-1];return bn(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function Dj(){return __("useRouteId")}function Nj(){var n;let i=z.useContext(x_),e=Ij("useRouteError"),t=__("useRouteError");return i!==void 0?i:(n=e.errors)==null?void 0:n[t]}function Pj(){let{router:i}=Rj("useNavigate"),e=__("useNavigate"),t=z.useRef(!1);return SM(()=>{t.current=!0}),z.useCallback(async(s,r={})=>{Qs(t.current,AM),t.current&&(typeof s=="number"?i.navigate(s):await i.navigate(s,{fromRouteId:e,...r}))},[i,e])}var IC={};function EM(i,e,t){!e&&!IC[i]&&(IC[i]=!0,Qs(!1,t))}z.memo(Oj);function Oj({routes:i,future:e,state:t,unstable_onError:n}){return TM(i,void 0,t,n,e)}function am({to:i,replace:e,state:t,relative:n}){bn($u(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=z.useContext(_r);Qs(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:r}=z.useContext(er),{pathname:a}=Ko(),l=uc(),c=b_(i,v_(r),a,n==="path"),h=JSON.stringify(c);return z.useEffect(()=>{l(JSON.parse(h),{replace:e,state:t,relative:n})},[l,h,n,e,t]),null}function Lj(i){return wj(i.context)}function cr(i){bn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Vj({basename:i="/",children:e=null,location:t,navigationType:n="POP",navigator:s,static:r=!1}){bn(!$u(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=i.replace(/^\/*/,"/"),l=z.useMemo(()=>({basename:a,navigator:s,static:r,future:{}}),[a,s,r]);typeof t=="string"&&(t=Gu(t));let{pathname:c="/",search:h="",hash:d="",state:f=null,key:p="default"}=t,y=z.useMemo(()=>{let b=Pa(c,a);return b==null?null:{location:{pathname:b,search:h,hash:d,state:f,key:p},navigationType:n}},[a,c,h,d,f,p,n]);return Qs(y!=null,`<Router basename="${a}"> is not able to match the URL "${c}${h}${d}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:z.createElement(_r.Provider,{value:l},z.createElement(Lf.Provider,{children:e,value:y}))}function Fj({children:i,location:e}){return Aj(O0(i),e)}function O0(i,e=[]){let t=[];return z.Children.forEach(i,(n,s)=>{if(!z.isValidElement(n))return;let r=[...e,s];if(n.type===z.Fragment){t.push.apply(t,O0(n.props.children,r));return}bn(n.type===cr,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),bn(!n.props.index||!n.props.children,"An index route cannot have child routes.");let a={id:n.props.id||r.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=O0(n.props.children,r)),t.push(a)}),t}var om="get",lm="application/x-www-form-urlencoded";function My(i){return i!=null&&typeof i.tagName=="string"}function zj(i){return My(i)&&i.tagName.toLowerCase()==="button"}function jj(i){return My(i)&&i.tagName.toLowerCase()==="form"}function Bj(i){return My(i)&&i.tagName.toLowerCase()==="input"}function Hj(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function Uj(i,e){return i.button===0&&(!e||e==="_self")&&!Hj(i)}var Bp=null;function Yj(){if(Bp===null)try{new FormData(document.createElement("form"),0),Bp=!1}catch{Bp=!0}return Bp}var Xj=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function wx(i){return i!=null&&!Xj.has(i)?(Qs(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${lm}"`),null):i}function Wj(i,e){let t,n,s,r,a;if(jj(i)){let l=i.getAttribute("action");n=l?Pa(l,e):null,t=i.getAttribute("method")||om,s=wx(i.getAttribute("enctype"))||lm,r=new FormData(i)}else if(zj(i)||Bj(i)&&(i.type==="submit"||i.type==="image")){let l=i.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=i.getAttribute("formaction")||l.getAttribute("action");if(n=c?Pa(c,e):null,t=i.getAttribute("formmethod")||l.getAttribute("method")||om,s=wx(i.getAttribute("formenctype"))||wx(l.getAttribute("enctype"))||lm,r=new FormData(l,i),!Yj()){let{name:h,type:d,value:f}=i;if(d==="image"){let p=h?`${h}.`:"";r.append(`${p}x`,"0"),r.append(`${p}y`,"0")}else h&&r.append(h,f)}}else{if(My(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=om,n=null,s=lm,a=i}return r&&s==="text/plain"&&(a=r,r=void 0),{action:n,method:t.toLowerCase(),encType:s,formData:r,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function A_(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Gj(i,e,t){let n=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return n.pathname==="/"?n.pathname=`_root.${t}`:e&&Pa(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${t}`,n}async function qj(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function $j(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function Kj(i,e,t){let n=await Promise.all(i.map(async s=>{let r=e.routes[s.route.id];if(r){let a=await qj(r,t);return a.links?a.links():[]}return[]}));return e3(n.flat(1).filter($j).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function MC(i,e,t,n,s,r){let a=(c,h)=>t[h]?c.route.id!==t[h].route.id:!0,l=(c,h)=>{var d;return t[h].pathname!==c.pathname||((d=t[h].route.path)==null?void 0:d.endsWith("*"))&&t[h].params["*"]!==c.params["*"]};return r==="assets"?e.filter((c,h)=>a(c,h)||l(c,h)):r==="data"?e.filter((c,h)=>{var f;let d=n.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(a(c,h)||l(c,h))return!0;if(c.route.shouldRevalidate){let p=c.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((f=t[0])==null?void 0:f.params)||{},nextUrl:new URL(i,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function Qj(i,e,{includeHydrateFallback:t}={}){return Zj(i.map(n=>{let s=e.routes[n.route.id];if(!s)return[];let r=[s.module];return s.clientActionModule&&(r=r.concat(s.clientActionModule)),s.clientLoaderModule&&(r=r.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(r=r.concat(s.hydrateFallbackModule)),s.imports&&(r=r.concat(s.imports)),r}).flat(1))}function Zj(i){return[...new Set(i)]}function Jj(i){let e={},t=Object.keys(i).sort();for(let n of t)e[n]=i[n];return e}function e3(i,e){let t=new Set;return new Set(e),i.reduce((n,s)=>{let r=JSON.stringify(Jj(s));return t.has(r)||(t.add(r),n.push({key:r,link:s})),n},[])}function CM(){let i=z.useContext(qu);return A_(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function t3(){let i=z.useContext(Iy);return A_(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var S_=z.createContext(void 0);S_.displayName="FrameworkContext";function kM(){let i=z.useContext(S_);return A_(i,"You must render this element inside a <HydratedRouter> element"),i}function n3(i,e){let t=z.useContext(S_),[n,s]=z.useState(!1),[r,a]=z.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:h,onMouseLeave:d,onTouchStart:f}=e,p=z.useRef(null);z.useEffect(()=>{if(i==="render"&&a(!0),i==="viewport"){let x=S=>{S.forEach(T=>{a(T.isIntersecting)})},_=new IntersectionObserver(x,{threshold:.5});return p.current&&_.observe(p.current),()=>{_.disconnect()}}},[i]),z.useEffect(()=>{if(n){let x=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(x)}}},[n]);let y=()=>{s(!0)},b=()=>{s(!1),a(!1)};return t?i!=="intent"?[r,p,{}]:[r,p,{onFocus:yd(l,y),onBlur:yd(c,b),onMouseEnter:yd(h,y),onMouseLeave:yd(d,b),onTouchStart:yd(f,y)}]:[!1,p,{}]}function yd(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function i3({page:i,...e}){let{router:t}=CM(),n=z.useMemo(()=>vM(t.routes,i,t.basename),[t.routes,i,t.basename]);return n?z.createElement(r3,{page:i,matches:n,...e}):null}function s3(i){let{manifest:e,routeModules:t}=kM(),[n,s]=z.useState([]);return z.useEffect(()=>{let r=!1;return Kj(i,e,t).then(a=>{r||s(a)}),()=>{r=!0}},[i,e,t]),n}function r3({page:i,matches:e,...t}){let n=Ko(),{manifest:s,routeModules:r}=kM(),{basename:a}=CM(),{loaderData:l,matches:c}=t3(),h=z.useMemo(()=>MC(i,e,c,s,n,"data"),[i,e,c,s,n]),d=z.useMemo(()=>MC(i,e,c,s,n,"assets"),[i,e,c,s,n]),f=z.useMemo(()=>{if(i===n.pathname+n.search+n.hash)return[];let b=new Set,x=!1;if(e.forEach(S=>{var C;let T=s.routes[S.route.id];!T||!T.hasLoader||(!h.some(M=>M.route.id===S.route.id)&&S.route.id in l&&((C=r[S.route.id])!=null&&C.shouldRevalidate)||T.hasClientLoader?x=!0:b.add(S.route.id))}),b.size===0)return[];let _=Gj(i,a,"data");return x&&b.size>0&&_.searchParams.set("_routes",e.filter(S=>b.has(S.route.id)).map(S=>S.route.id).join(",")),[_.pathname+_.search]},[a,l,n,s,h,e,i,r]),p=z.useMemo(()=>Qj(d,s),[d,s]),y=s3(d);return z.createElement(z.Fragment,null,f.map(b=>z.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...t})),p.map(b=>z.createElement("link",{key:b,rel:"modulepreload",href:b,...t})),y.map(({key:b,link:x})=>z.createElement("link",{key:b,nonce:t.nonce,...x})))}function a3(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var RM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{RM&&(window.__reactRouterVersion="7.9.6")}catch{}function o3({basename:i,children:e,window:t}){let n=z.useRef();n.current==null&&(n.current=Y4({window:t,v5Compat:!0}));let s=n.current,[r,a]=z.useState({action:s.action,location:s.location}),l=z.useCallback(c=>{z.startTransition(()=>a(c))},[a]);return z.useLayoutEffect(()=>s.listen(l),[s,l]),z.createElement(Vj,{basename:i,children:e,location:r.location,navigationType:r.action,navigator:s})}var IM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,T_=z.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:s,reloadDocument:r,replace:a,state:l,target:c,to:h,preventScrollReset:d,viewTransition:f,...p},y){let{basename:b}=z.useContext(_r),x=typeof h=="string"&&IM.test(h),_,S=!1;if(typeof h=="string"&&x&&(_=h,RM))try{let D=new URL(window.location.href),O=h.startsWith("//")?new URL(D.protocol+h):new URL(h),F=Pa(O.pathname,b);O.origin===D.origin&&F!=null?h=F+O.search+O.hash:S=!0}catch{Qs(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=vj(h,{relative:s}),[C,M,R]=n3(n,p),P=u3(h,{replace:a,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:f});function k(D){e&&e(D),D.defaultPrevented||P(D)}let E=z.createElement("a",{...p,...R,href:_||T,onClick:S||r?e:k,ref:a3(y,M),target:c,"data-discover":!x&&t==="render"?"true":void 0});return C&&!x?z.createElement(z.Fragment,null,E,z.createElement(i3,{page:T})):E});T_.displayName="Link";var MM=z.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:s=!1,style:r,to:a,viewTransition:l,children:c,...h},d){let f=Vf(a,{relative:h.relative}),p=Ko(),y=z.useContext(Iy),{navigator:b,basename:x}=z.useContext(_r),_=y!=null&&p3(f)&&l===!0,S=b.encodeLocation?b.encodeLocation(f).pathname:f.pathname,T=p.pathname,C=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;t||(T=T.toLowerCase(),C=C?C.toLowerCase():null,S=S.toLowerCase()),C&&x&&(C=Pa(C,x)||C);const M=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let R=T===S||!s&&T.startsWith(S)&&T.charAt(M)==="/",P=C!=null&&(C===S||!s&&C.startsWith(S)&&C.charAt(S.length)==="/"),k={isActive:R,isPending:P,isTransitioning:_},E=R?e:void 0,D;typeof n=="function"?D=n(k):D=[n,R?"active":null,P?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let O=typeof r=="function"?r(k):r;return z.createElement(T_,{...h,"aria-current":E,className:D,ref:d,style:O,to:a,viewTransition:l},typeof c=="function"?c(k):c)});MM.displayName="NavLink";var l3=z.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:n,replace:s,state:r,method:a=om,action:l,onSubmit:c,relative:h,preventScrollReset:d,viewTransition:f,...p},y)=>{let b=f3(),x=g3(l,{relative:h}),_=a.toLowerCase()==="get"?"get":"post",S=typeof l=="string"&&IM.test(l),T=C=>{if(c&&c(C),C.defaultPrevented)return;C.preventDefault();let M=C.nativeEvent.submitter,R=(M==null?void 0:M.getAttribute("formmethod"))||a;b(M||C.currentTarget,{fetcherKey:e,method:R,navigate:t,replace:s,state:r,relative:h,preventScrollReset:d,viewTransition:f})};return z.createElement("form",{ref:y,method:_,action:x,onSubmit:n?c:T,...p,"data-discover":!S&&i==="render"?"true":void 0})});l3.displayName="Form";function c3(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function DM(i){let e=z.useContext(qu);return bn(e,c3(i)),e}function u3(i,{target:e,replace:t,state:n,preventScrollReset:s,relative:r,viewTransition:a}={}){let l=uc(),c=Ko(),h=Vf(i,{relative:r});return z.useCallback(d=>{if(Uj(d,e)){d.preventDefault();let f=t!==void 0?t:nf(c)===nf(h);l(i,{replace:f,state:n,preventScrollReset:s,relative:r,viewTransition:a})}},[c,l,h,t,n,e,i,s,r,a])}var h3=0,d3=()=>`__${String(++h3)}__`;function f3(){let{router:i}=DM("useSubmit"),{basename:e}=z.useContext(_r),t=Dj();return z.useCallback(async(n,s={})=>{let{action:r,method:a,encType:l,formData:c,body:h}=Wj(n,e);if(s.navigate===!1){let d=s.fetcherKey||d3();await i.fetch(d,t,s.action||r,{preventScrollReset:s.preventScrollReset,formData:c,body:h,formMethod:s.method||a,formEncType:s.encType||l,flushSync:s.flushSync})}else await i.navigate(s.action||r,{preventScrollReset:s.preventScrollReset,formData:c,body:h,formMethod:s.method||a,formEncType:s.encType||l,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[i,e,t])}function g3(i,{relative:e}={}){let{basename:t}=z.useContext(_r),n=z.useContext(er);bn(n,"useFormAction must be used inside a RouteContext");let[s]=n.matches.slice(-1),r={...Vf(i||".",{relative:e})},a=Ko();if(i==null){r.search=a.search;let l=new URLSearchParams(r.search),c=l.getAll("index");if(c.some(d=>d==="")){l.delete("index"),c.filter(f=>f).forEach(f=>l.append("index",f));let d=l.toString();r.search=d?`?${d}`:""}}return(!i||i===".")&&s.route.index&&(r.search=r.search?r.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(r.pathname=r.pathname==="/"?t:Ra([t,r.pathname])),nf(r)}function p3(i,{relative:e}={}){let t=z.useContext(_M);bn(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=DM("useViewTransitionState"),s=Vf(i,{relative:e});if(!t.isTransitioning)return!1;let r=Pa(t.currentLocation.pathname,n)||t.currentLocation.pathname,a=Pa(t.nextLocation.pathname,n)||t.nextLocation.pathname;return Mm(s.pathname,a)!=null||Mm(s.pathname,r)!=null}var Sd=yM();const m3=()=>{};var DC={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NM={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ee=function(i,e){if(!i)throw Ku(e)},Ku=function(i){return new Error("Firebase Database ("+NM.SDK_VERSION+") INTERNAL ASSERT FAILED: "+i)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PM=function(i){const e=[];let t=0;for(let n=0;n<i.length;n++){let s=i.charCodeAt(n);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&n+1<i.length&&(i.charCodeAt(n+1)&64512)===56320?(s=65536+((s&1023)<<10)+(i.charCodeAt(++n)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},y3=function(i){const e=[];let t=0,n=0;for(;t<i.length;){const s=i[t++];if(s<128)e[n++]=String.fromCharCode(s);else if(s>191&&s<224){const r=i[t++];e[n++]=String.fromCharCode((s&31)<<6|r&63)}else if(s>239&&s<365){const r=i[t++],a=i[t++],l=i[t++],c=((s&7)<<18|(r&63)<<12|(a&63)<<6|l&63)-65536;e[n++]=String.fromCharCode(55296+(c>>10)),e[n++]=String.fromCharCode(56320+(c&1023))}else{const r=i[t++],a=i[t++];e[n++]=String.fromCharCode((s&15)<<12|(r&63)<<6|a&63)}}return e.join("")},E_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let s=0;s<i.length;s+=3){const r=i[s],a=s+1<i.length,l=a?i[s+1]:0,c=s+2<i.length,h=c?i[s+2]:0,d=r>>2,f=(r&3)<<4|l>>4;let p=(l&15)<<2|h>>6,y=h&63;c||(y=64,a||(p=64)),n.push(t[d],t[f],t[p],t[y])}return n.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(PM(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):y3(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let s=0;s<i.length;){const r=t[i.charAt(s++)],l=s<i.length?t[i.charAt(s)]:0;++s;const h=s<i.length?t[i.charAt(s)]:64;++s;const f=s<i.length?t[i.charAt(s)]:64;if(++s,r==null||l==null||h==null||f==null)throw new v3;const p=r<<2|l>>4;if(n.push(p),h!==64){const y=l<<4&240|h>>2;if(n.push(y),f!==64){const b=h<<6&192|f;n.push(b)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class v3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const OM=function(i){const e=PM(i);return E_.encodeByteArray(e,!0)},Dm=function(i){return OM(i).replace(/\./g,"")},Nm=function(i){try{return E_.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b3(i){return LM(void 0,i)}function LM(i,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:i===void 0&&(i={});break;case Array:i=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!x3(t)||(i[t]=LM(i[t],e[t]));return i}function x3(i){return i!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _3=()=>w3().__FIREBASE_DEFAULTS__,A3=()=>{if(typeof process>"u"||typeof DC>"u")return;const i=DC.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},S3=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&Nm(i[1]);return e&&JSON.parse(e)},Dy=()=>{try{return m3()||_3()||A3()||S3()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},VM=i=>{var e,t;return(t=(e=Dy())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[i]},C_=i=>{const e=VM(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),n]:[e.substring(0,t),n]},FM=()=>{var i;return(i=Dy())===null||i===void 0?void 0:i.config},zM=i=>{var e;return(e=Dy())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R_(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},n=e||"demo-project",s=i.iat||0,r=i.sub||i.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:s,exp:s+3600,auth_time:s,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Dm(JSON.stringify(t)),Dm(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function I_(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Vi())}function T3(){var i;const e=(i=Dy())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function E3(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function M_(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function jM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function C3(){const i=Vi();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function k3(){return NM.NODE_ADMIN===!0}function R3(){return!T3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function D_(){try{return typeof indexedDB=="object"}catch{return!1}}function N_(){return new Promise((i,e)=>{try{let t=!0;const n="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(n);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(n),i(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var r;e(((r=s.error)===null||r===void 0?void 0:r.message)||"")}}catch(t){e(t)}})}function BM(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I3="FirebaseError";class tr extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name=I3,Object.setPrototypeOf(this,tr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hc.prototype.create)}}class hc{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},s=`${this.service}/${e}`,r=this.errors[e],a=r?M3(r,n):"Error",l=`${this.serviceName}: ${a} (${s}).`;return new tr(s,l,n)}}function M3(i,e){return i.replace(D3,(t,n)=>{const s=e[n];return s!=null?String(s):`<${n}?>`})}const D3=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sf(i){return JSON.parse(i)}function yi(i){return JSON.stringify(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HM=function(i){let e={},t={},n={},s="";try{const r=i.split(".");e=sf(Nm(r[0])||""),t=sf(Nm(r[1])||""),s=r[2],n=t.d||{},delete t.d}catch{}return{header:e,claims:t,data:n,signature:s}},N3=function(i){const e=HM(i),t=e.claims;return!!t&&typeof t=="object"&&t.hasOwnProperty("iat")},P3=function(i){const e=HM(i).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ua(i,e){return Object.prototype.hasOwnProperty.call(i,e)}function Nu(i,e){if(Object.prototype.hasOwnProperty.call(i,e))return i[e]}function L0(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Pm(i,e,t){const n={};for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=e.call(t,i[s],s,i));return n}function Oa(i,e){if(i===e)return!0;const t=Object.keys(i),n=Object.keys(e);for(const s of t){if(!n.includes(s))return!1;const r=i[s],a=e[s];if(NC(r)&&NC(a)){if(!Oa(r,a))return!1}else if(r!==a)return!1}for(const s of n)if(!t.includes(s))return!1;return!0}function NC(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qu(i){const e=[];for(const[t,n]of Object.entries(i))Array.isArray(n)?n.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function Td(i){const e={};return i.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[s,r]=n.split("=");e[decodeURIComponent(s)]=decodeURIComponent(r)}}),e}function Ed(i){const e=i.indexOf("?");if(!e)return"";const t=i.indexOf("#",e);return i.substring(e,t>0?t:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O3{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if(typeof e=="string")for(let f=0;f<16;f++)n[f]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let f=0;f<16;f++)n[f]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let f=16;f<80;f++){const p=n[f-3]^n[f-8]^n[f-14]^n[f-16];n[f]=(p<<1|p>>>31)&4294967295}let s=this.chain_[0],r=this.chain_[1],a=this.chain_[2],l=this.chain_[3],c=this.chain_[4],h,d;for(let f=0;f<80;f++){f<40?f<20?(h=l^r&(a^l),d=1518500249):(h=r^a^l,d=1859775393):f<60?(h=r&a|l&(r|a),d=2400959708):(h=r^a^l,d=3395469782);const p=(s<<5|s>>>27)+h+c+d+n[f]&4294967295;c=l,l=a,a=(r<<30|r>>>2)&4294967295,r=s,s=p}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+r&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,t){if(e==null)return;t===void 0&&(t=e.length);const n=t-this.blockSize;let s=0;const r=this.buf_;let a=this.inbuf_;for(;s<t;){if(a===0)for(;s<=n;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<t;)if(r[a]=e.charCodeAt(s),++a,++s,a===this.blockSize){this.compress_(r),a=0;break}}else for(;s<t;)if(r[a]=e[s],++a,++s,a===this.blockSize){this.compress_(r),a=0;break}}this.inbuf_=a,this.total_+=t}digest(){const e=[];let t=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=t&255,t/=256;this.compress_(this.buf_);let n=0;for(let s=0;s<5;s++)for(let r=24;r>=0;r-=8)e[n]=this.chain_[s]>>r&255,++n;return e}}function L3(i,e){const t=new V3(i,e);return t.subscribe.bind(t)}class V3{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let s;if(e===void 0&&t===void 0&&n===void 0)throw new Error("Missing Observer.");F3(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:n},s.next===void 0&&(s.next=_x),s.error===void 0&&(s.error=_x),s.complete===void 0&&(s.complete=_x);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),r}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function F3(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function _x(){}function z3(i,e){return`${i} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j3=function(i){const e=[];let t=0;for(let n=0;n<i.length;n++){let s=i.charCodeAt(n);if(s>=55296&&s<=56319){const r=s-55296;n++,Ee(n<i.length,"Surrogate pair missing trail surrogate.");const a=i.charCodeAt(n)-56320;s=65536+(r<<10)+a}s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):s<65536?(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},Ny=function(i){let e=0;for(let t=0;t<i.length;t++){const n=i.charCodeAt(t);n<128?e++:n<2048?e+=2:n>=55296&&n<=56319?(e+=4,t++):e+=3}return e};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B3=1e3,H3=2,U3=4*60*60*1e3,Y3=.5;function PC(i,e=B3,t=H3){const n=e*Math.pow(t,i),s=Math.round(Y3*n*(Math.random()-.5)*2);return Math.min(U3,n+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(i){return i&&i._delegate?i._delegate:i}class Ss{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X3{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const n=new k_;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&n.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(s)return null;throw r}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(G3(e))try{this.getOrInitializeService({instanceIdentifier:Nl})}catch{}for(const[t,n]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const r=this.getOrInitializeService({instanceIdentifier:s});n.resolve(r)}catch{}}}}clearInstance(e=Nl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Nl){return this.instances.has(e)}getOptions(e=Nl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[r,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(r);n===l&&a.resolve(s)}return s}onInit(e,t){var n;const s=this.normalizeInstanceIdentifier(t),r=(n=this.onInitCallbacks.get(s))!==null&&n!==void 0?n:new Set;r.add(e),this.onInitCallbacks.set(s,r);const a=this.instances.get(s);return a&&e(a,s),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const s of n)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:W3(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Nl){return this.component?this.component.multipleInstances?e:Nl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function W3(i){return i===Nl?void 0:i}function G3(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new X3(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wt;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(wt||(wt={}));const $3={debug:wt.DEBUG,verbose:wt.VERBOSE,info:wt.INFO,warn:wt.WARN,error:wt.ERROR,silent:wt.SILENT},K3=wt.INFO,Q3={[wt.DEBUG]:"log",[wt.VERBOSE]:"log",[wt.INFO]:"info",[wt.WARN]:"warn",[wt.ERROR]:"error"},Z3=(i,e,...t)=>{if(e<i.logLevel)return;const n=new Date().toISOString(),s=Q3[e];if(s)console[s](`[${n}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ff{constructor(e){this.name=e,this._logLevel=K3,this._logHandler=Z3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in wt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,wt.DEBUG,...e),this._logHandler(this,wt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,wt.VERBOSE,...e),this._logHandler(this,wt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,wt.INFO,...e),this._logHandler(this,wt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,wt.WARN,...e),this._logHandler(this,wt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,wt.ERROR,...e),this._logHandler(this,wt.ERROR,...e)}}const J3=(i,e)=>e.some(t=>i instanceof t);let OC,LC;function eB(){return OC||(OC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function tB(){return LC||(LC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const UM=new WeakMap,V0=new WeakMap,YM=new WeakMap,Ax=new WeakMap,P_=new WeakMap;function nB(i){const e=new Promise((t,n)=>{const s=()=>{i.removeEventListener("success",r),i.removeEventListener("error",a)},r=()=>{t(Io(i.result)),s()},a=()=>{n(i.error),s()};i.addEventListener("success",r),i.addEventListener("error",a)});return e.then(t=>{t instanceof IDBCursor&&UM.set(t,i)}).catch(()=>{}),P_.set(e,i),e}function iB(i){if(V0.has(i))return;const e=new Promise((t,n)=>{const s=()=>{i.removeEventListener("complete",r),i.removeEventListener("error",a),i.removeEventListener("abort",a)},r=()=>{t(),s()},a=()=>{n(i.error||new DOMException("AbortError","AbortError")),s()};i.addEventListener("complete",r),i.addEventListener("error",a),i.addEventListener("abort",a)});V0.set(i,e)}let F0={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return V0.get(i);if(e==="objectStoreNames")return i.objectStoreNames||YM.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Io(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function sB(i){F0=i(F0)}function rB(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const n=i.call(Sx(this),e,...t);return YM.set(n,e.sort?e.sort():[e]),Io(n)}:tB().includes(i)?function(...e){return i.apply(Sx(this),e),Io(UM.get(this))}:function(...e){return Io(i.apply(Sx(this),e))}}function aB(i){return typeof i=="function"?rB(i):(i instanceof IDBTransaction&&iB(i),J3(i,eB())?new Proxy(i,F0):i)}function Io(i){if(i instanceof IDBRequest)return nB(i);if(Ax.has(i))return Ax.get(i);const e=aB(i);return e!==i&&(Ax.set(i,e),P_.set(e,i)),e}const Sx=i=>P_.get(i);function XM(i,e,{blocked:t,upgrade:n,blocking:s,terminated:r}={}){const a=indexedDB.open(i,e),l=Io(a);return n&&a.addEventListener("upgradeneeded",c=>{n(Io(a.result),c.oldVersion,c.newVersion,Io(a.transaction),c)}),t&&a.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),l.then(c=>{r&&c.addEventListener("close",()=>r()),s&&c.addEventListener("versionchange",h=>s(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const oB=["get","getKey","getAll","getAllKeys","count"],lB=["put","add","delete","clear"],Tx=new Map;function VC(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Tx.get(e))return Tx.get(e);const t=e.replace(/FromIndex$/,""),n=e!==t,s=lB.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!(s||oB.includes(t)))return;const r=async function(a,...l){const c=this.transaction(a,s?"readwrite":"readonly");let h=c.store;return n&&(h=h.index(l.shift())),(await Promise.all([h[t](...l),s&&c.done]))[0]};return Tx.set(e,r),r}sB(i=>({...i,get:(e,t,n)=>VC(e,t)||i.get(e,t,n),has:(e,t)=>!!VC(e,t)||i.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cB{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(uB(t)){const n=t.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(t=>t).join(" ")}}function uB(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const z0="@firebase/app",FC="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const La=new Ff("@firebase/app"),hB="@firebase/app-compat",dB="@firebase/analytics-compat",fB="@firebase/analytics",gB="@firebase/app-check-compat",pB="@firebase/app-check",mB="@firebase/auth",yB="@firebase/auth-compat",vB="@firebase/database",bB="@firebase/data-connect",xB="@firebase/database-compat",wB="@firebase/functions",_B="@firebase/functions-compat",AB="@firebase/installations",SB="@firebase/installations-compat",TB="@firebase/messaging",EB="@firebase/messaging-compat",CB="@firebase/performance",kB="@firebase/performance-compat",RB="@firebase/remote-config",IB="@firebase/remote-config-compat",MB="@firebase/storage",DB="@firebase/storage-compat",NB="@firebase/firestore",PB="@firebase/vertexai",OB="@firebase/firestore-compat",LB="firebase",VB="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0="[DEFAULT]",FB={[z0]:"fire-core",[hB]:"fire-core-compat",[fB]:"fire-analytics",[dB]:"fire-analytics-compat",[pB]:"fire-app-check",[gB]:"fire-app-check-compat",[mB]:"fire-auth",[yB]:"fire-auth-compat",[vB]:"fire-rtdb",[bB]:"fire-data-connect",[xB]:"fire-rtdb-compat",[wB]:"fire-fn",[_B]:"fire-fn-compat",[AB]:"fire-iid",[SB]:"fire-iid-compat",[TB]:"fire-fcm",[EB]:"fire-fcm-compat",[CB]:"fire-perf",[kB]:"fire-perf-compat",[RB]:"fire-rc",[IB]:"fire-rc-compat",[MB]:"fire-gcs",[DB]:"fire-gcs-compat",[NB]:"fire-fst",[OB]:"fire-fst-compat",[PB]:"fire-vertex","fire-js":"fire-js",[LB]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Om=new Map,zB=new Map,B0=new Map;function zC(i,e){try{i.container.addComponent(e)}catch(t){La.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function Zs(i){const e=i.name;if(B0.has(e))return La.debug(`There were multiple attempts to register component ${e}.`),!1;B0.set(e,i);for(const t of Om.values())zC(t,i);for(const t of zB.values())zC(t,i);return!0}function Ya(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function ns(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jB={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Mo=new hc("app","Firebase",jB);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BB{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Ss("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Mo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qo=VB;function WM(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const n=Object.assign({name:j0,automaticDataCollectionEnabled:!1},e),s=n.name;if(typeof s!="string"||!s)throw Mo.create("bad-app-name",{appName:String(s)});if(t||(t=FM()),!t)throw Mo.create("no-options");const r=Om.get(s);if(r){if(Oa(t,r.options)&&Oa(n,r.config))return r;throw Mo.create("duplicate-app",{appName:s})}const a=new q3(s);for(const c of B0.values())a.addComponent(c);const l=new BB(t,n,a);return Om.set(s,l),l}function zf(i=j0){const e=Om.get(i);if(!e&&i===j0&&FM())return WM();if(!e)throw Mo.create("no-app",{appName:i});return e}function Oi(i,e,t){var n;let s=(n=FB[i])!==null&&n!==void 0?n:i;t&&(s+=`-${t}`);const r=s.match(/\s|\//),a=e.match(/\s|\//);if(r||a){const l=[`Unable to register library "${s}" with version "${e}":`];r&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),r&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),La.warn(l.join(" "));return}Zs(new Ss(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HB="firebase-heartbeat-database",UB=1,rf="firebase-heartbeat-store";let Ex=null;function GM(){return Ex||(Ex=XM(HB,UB,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(rf)}catch(t){console.warn(t)}}}}).catch(i=>{throw Mo.create("idb-open",{originalErrorMessage:i.message})})),Ex}async function YB(i){try{const t=(await GM()).transaction(rf),n=await t.objectStore(rf).get(qM(i));return await t.done,n}catch(e){if(e instanceof tr)La.warn(e.message);else{const t=Mo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});La.warn(t.message)}}}async function jC(i,e){try{const n=(await GM()).transaction(rf,"readwrite");await n.objectStore(rf).put(e,qM(i)),await n.done}catch(t){if(t instanceof tr)La.warn(t.message);else{const n=Mo.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});La.warn(n.message)}}}function qM(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XB=1024,WB=30;class GB{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new $B(t),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=BC();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:s}),this._heartbeatsCache.heartbeats.length>WB){const a=KB(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){La.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=BC(),{heartbeatsToSend:n,unsentEntries:s}=qB(this._heartbeatsCache.heartbeats),r=Dm(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(t){return La.warn(t),""}}}function BC(){return new Date().toISOString().substring(0,10)}function qB(i,e=XB){const t=[];let n=i.slice();for(const s of i){const r=t.find(a=>a.agent===s.agent);if(r){if(r.dates.push(s.date),HC(t)>e){r.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),HC(t)>e){t.pop();break}n=n.slice(1)}return{heartbeatsToSend:t,unsentEntries:n}}class $B{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return D_()?N_().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await YB(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return jC(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return jC(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function HC(i){return Dm(JSON.stringify({version:2,heartbeats:i})).length}function KB(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let n=1;n<i.length;n++)i[n].date<t&&(t=i[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QB(i){Zs(new Ss("platform-logger",e=>new cB(e),"PRIVATE")),Zs(new Ss("heartbeat",e=>new GB(e),"PRIVATE")),Oi(z0,FC,i),Oi(z0,FC,"esm2017"),Oi("fire-js","")}QB("");function O_(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(i);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(i,n[s])&&(t[n[s]]=i[n[s]]);return t}function $M(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ZB=$M,KM=new hc("auth","Firebase",$M());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lm=new Ff("@firebase/auth");function JB(i,...e){Lm.logLevel<=wt.WARN&&Lm.warn(`Auth (${Qo}): ${i}`,...e)}function cm(i,...e){Lm.logLevel<=wt.ERROR&&Lm.error(`Auth (${Qo}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function br(i,...e){throw L_(i,...e)}function jr(i,...e){return L_(i,...e)}function QM(i,e,t){const n=Object.assign(Object.assign({},ZB()),{[e]:t});return new hc("auth","Firebase",n).create(e,{appName:i.name})}function Ia(i){return QM(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function L_(i,...e){if(typeof i!="string"){const t=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=i.name),i._errorFactory.create(t,...n)}return KM.create(i,...e)}function We(i,e,...t){if(!i)throw L_(e,...t)}function Sa(i){const e="INTERNAL ASSERTION FAILED: "+i;throw cm(e),new Error(e)}function Va(i,e){i||Sa(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H0(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function eH(){return UC()==="http:"||UC()==="https:"}function UC(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tH(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(eH()||M_()||"connection"in navigator)?navigator.onLine:!0}function nH(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(e,t){this.shortDelay=e,this.longDelay=t,Va(t>e,"Short delay should be less than long delay!"),this.isMobile=I_()||jM()}get(){return tH()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V_(i,e){Va(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZM{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Sa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Sa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Sa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iH={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sH=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],rH=new jf(3e4,6e4);function Xa(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function Wa(i,e,t,n,s={}){return JM(i,s,async()=>{let r={},a={};n&&(e==="GET"?a=n:r={body:JSON.stringify(n)});const l=Qu(Object.assign({key:i.config.apiKey},a)).slice(1),c=await i._getAdditionalHeaders();c["Content-Type"]="application/json",i.languageCode&&(c["X-Firebase-Locale"]=i.languageCode);const h=Object.assign({method:e,headers:c},r);return E3()||(h.referrerPolicy="no-referrer"),ZM.fetch()(await eD(i,i.config.apiHost,t,l),h)})}async function JM(i,e,t){i._canInitEmulator=!1;const n=Object.assign(Object.assign({},iH),e);try{const s=new oH(i),r=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const a=await r.json();if("needConfirmation"in a)throw Hp(i,"account-exists-with-different-credential",a);if(r.ok&&!("errorMessage"in a))return a;{const l=r.ok?a.errorMessage:a.error.message,[c,h]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Hp(i,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw Hp(i,"email-already-in-use",a);if(c==="USER_DISABLED")throw Hp(i,"user-disabled",a);const d=n[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw QM(i,d,h);br(i,d)}}catch(s){if(s instanceof tr)throw s;br(i,"network-request-failed",{message:String(s)})}}async function Bf(i,e,t,n,s={}){const r=await Wa(i,e,t,n,s);return"mfaPendingCredential"in r&&br(i,"multi-factor-auth-required",{_serverResponse:r}),r}async function eD(i,e,t,n){const s=`${e}${t}?${n}`,r=i,a=r.config.emulator?V_(i.config,s):`${i.config.apiScheme}://${s}`;return sH.includes(t)&&(await r._persistenceManagerAvailable,r._getPersistenceType()==="COOKIE")?r._getPersistence()._getFinalTarget(a).toString():a}function aH(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class oH{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,n)=>{this.timer=setTimeout(()=>n(jr(this.auth,"network-request-failed")),rH.get())})}}function Hp(i,e,t){const n={appName:i.name};t.email&&(n.email=t.email),t.phoneNumber&&(n.phoneNumber=t.phoneNumber);const s=jr(i,e,n);return s.customData._tokenResponse=t,s}function YC(i){return i!==void 0&&i.enterprise!==void 0}class lH{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return aH(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function cH(i,e){return Wa(i,"GET","/v2/recaptchaConfig",Xa(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uH(i,e){return Wa(i,"POST","/v1/accounts:delete",e)}async function Vm(i,e){return Wa(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ld(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function hH(i,e=!1){const t=dn(i),n=await t.getIdToken(e),s=F_(n);We(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const r=typeof s.firebase=="object"?s.firebase:void 0,a=r==null?void 0:r.sign_in_provider;return{claims:s,token:n,authTime:Ld(Cx(s.auth_time)),issuedAtTime:Ld(Cx(s.iat)),expirationTime:Ld(Cx(s.exp)),signInProvider:a||null,signInSecondFactor:(r==null?void 0:r.sign_in_second_factor)||null}}function Cx(i){return Number(i)*1e3}function F_(i){const[e,t,n]=i.split(".");if(e===void 0||t===void 0||n===void 0)return cm("JWT malformed, contained fewer than 3 sections"),null;try{const s=Nm(t);return s?JSON.parse(s):(cm("Failed to decode base64 JWT payload"),null)}catch(s){return cm("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function XC(i){const e=F_(i);return We(e,"internal-error"),We(typeof e.exp<"u","internal-error"),We(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function af(i,e,t=!1){if(t)return e;try{return await e}catch(n){throw n instanceof tr&&dH(n)&&i.auth.currentUser===i&&await i.auth.signOut(),n}}function dH({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fH{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ld(this.lastLoginAt),this.creationTime=Ld(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fm(i){var e;const t=i.auth,n=await i.getIdToken(),s=await af(i,Vm(t,{idToken:n}));We(s==null?void 0:s.users.length,t,"internal-error");const r=s.users[0];i._notifyReloadListener(r);const a=!((e=r.providerUserInfo)===null||e===void 0)&&e.length?tD(r.providerUserInfo):[],l=pH(i.providerData,a),c=i.isAnonymous,h=!(i.email&&r.passwordHash)&&!(l!=null&&l.length),d=c?h:!1,f={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:l,metadata:new U0(r.createdAt,r.lastLoginAt),isAnonymous:d};Object.assign(i,f)}async function gH(i){const e=dn(i);await Fm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function pH(i,e){return[...i.filter(n=>!e.some(s=>s.providerId===n.providerId)),...e]}function tD(i){return i.map(e=>{var{providerId:t}=e,n=O_(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mH(i,e){const t=await JM(i,{},async()=>{const n=Qu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:r}=i.config,a=await eD(i,s,"/v1/token",`key=${r}`),l=await i._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",ZM.fetch()(a,{method:"POST",headers:l,body:n})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function yH(i,e){return Wa(i,"POST","/v2/accounts:revokeToken",Xa(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){We(e.idToken,"internal-error"),We(typeof e.idToken<"u","internal-error"),We(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):XC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){We(e.length!==0,"internal-error");const t=XC(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(We(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:s,expiresIn:r}=await mH(e,t);this.updateTokensAndExpiration(n,s,Number(r))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,t){const{refreshToken:n,accessToken:s,expirationTime:r}=t,a=new Tu;return n&&(We(typeof n=="string","internal-error",{appName:e}),a.refreshToken=n),s&&(We(typeof s=="string","internal-error",{appName:e}),a.accessToken=s),r&&(We(typeof r=="number","internal-error",{appName:e}),a.expirationTime=r),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Tu,this.toJSON())}_performRefresh(){return Sa("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xo(i,e){We(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class dr{constructor(e){var{uid:t,auth:n,stsTokenManager:s}=e,r=O_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new fH(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new U0(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const t=await af(this,this.stsTokenManager.getToken(this.auth,e));return We(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return hH(this,e)}reload(){return gH(this)}_assign(e){this!==e&&(We(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new dr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){We(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Fm(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ns(this.auth.app))return Promise.reject(Ia(this.auth));const e=await this.getIdToken();return await af(this,uH(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,s,r,a,l,c,h,d;const f=(n=t.displayName)!==null&&n!==void 0?n:void 0,p=(s=t.email)!==null&&s!==void 0?s:void 0,y=(r=t.phoneNumber)!==null&&r!==void 0?r:void 0,b=(a=t.photoURL)!==null&&a!==void 0?a:void 0,x=(l=t.tenantId)!==null&&l!==void 0?l:void 0,_=(c=t._redirectEventId)!==null&&c!==void 0?c:void 0,S=(h=t.createdAt)!==null&&h!==void 0?h:void 0,T=(d=t.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:C,emailVerified:M,isAnonymous:R,providerData:P,stsTokenManager:k}=t;We(C&&k,e,"internal-error");const E=Tu.fromJSON(this.name,k);We(typeof C=="string",e,"internal-error"),xo(f,e.name),xo(p,e.name),We(typeof M=="boolean",e,"internal-error"),We(typeof R=="boolean",e,"internal-error"),xo(y,e.name),xo(b,e.name),xo(x,e.name),xo(_,e.name),xo(S,e.name),xo(T,e.name);const D=new dr({uid:C,auth:e,email:p,emailVerified:M,displayName:f,isAnonymous:R,photoURL:b,phoneNumber:y,tenantId:x,stsTokenManager:E,createdAt:S,lastLoginAt:T});return P&&Array.isArray(P)&&(D.providerData=P.map(O=>Object.assign({},O))),_&&(D._redirectEventId=_),D}static async _fromIdTokenResponse(e,t,n=!1){const s=new Tu;s.updateFromServerResponse(t);const r=new dr({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:n});return await Fm(r),r}static async _fromGetAccountInfoResponse(e,t,n){const s=t.users[0];We(s.localId!==void 0,"internal-error");const r=s.providerUserInfo!==void 0?tD(s.providerUserInfo):[],a=!(s.email&&s.passwordHash)&&!(r!=null&&r.length),l=new Tu;l.updateFromIdToken(n);const c=new dr({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:a}),h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:r,metadata:new U0(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(r!=null&&r.length)};return Object.assign(c,h),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC=new Map;function Ta(i){Va(i instanceof Function,"Expected a class definition");let e=WC.get(i);return e?(Va(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,WC.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}nD.type="NONE";const GC=nD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function um(i,e,t){return`firebase:${i}:${e}:${t}`}class Eu{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:s,name:r}=this.auth;this.fullUserKey=um(this.userKey,s.apiKey,r),this.fullPersistenceKey=um("persistence",s.apiKey,r),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Vm(this.auth,{idToken:e}).catch(()=>{});return t?dr._fromGetAccountInfoResponse(this.auth,t,e):null}return dr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new Eu(Ta(GC),e,n);const s=(await Promise.all(t.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let r=s[0]||Ta(GC);const a=um(n,e.config.apiKey,e.name);let l=null;for(const h of t)try{const d=await h._get(a);if(d){let f;if(typeof d=="string"){const p=await Vm(e,{idToken:d}).catch(()=>{});if(!p)break;f=await dr._fromGetAccountInfoResponse(e,p,d)}else f=dr._fromJSON(e,d);h!==r&&(l=f),r=h;break}}catch{}const c=s.filter(h=>h._shouldAllowMigration);return!r._shouldAllowMigration||!c.length?new Eu(r,e,n):(r=c[0],l&&await r._set(a,l.toJSON()),await Promise.all(t.map(async h=>{if(h!==r)try{await h._remove(a)}catch{}})),new Eu(r,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qC(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(aD(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(iD(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(lD(e))return"Blackberry";if(cD(e))return"Webos";if(sD(e))return"Safari";if((e.includes("chrome/")||rD(e))&&!e.includes("edge/"))return"Chrome";if(oD(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=i.match(t);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function iD(i=Vi()){return/firefox\//i.test(i)}function sD(i=Vi()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function rD(i=Vi()){return/crios\//i.test(i)}function aD(i=Vi()){return/iemobile/i.test(i)}function oD(i=Vi()){return/android/i.test(i)}function lD(i=Vi()){return/blackberry/i.test(i)}function cD(i=Vi()){return/webos/i.test(i)}function z_(i=Vi()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function vH(i=Vi()){var e;return z_(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function bH(){return C3()&&document.documentMode===10}function uD(i=Vi()){return z_(i)||oD(i)||cD(i)||lD(i)||/windows phone/i.test(i)||aD(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hD(i,e=[]){let t;switch(i){case"Browser":t=qC(Vi());break;case"Worker":t=`${qC(Vi())}-${i}`;break;default:t=i}const n=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Qo}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xH{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=r=>new Promise((a,l)=>{try{const c=e(r);a(c)}catch(c){l(c)}});n.onAbort=t,this.queue.push(n);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wH(i,e={}){return Wa(i,"GET","/v2/passwordPolicy",Xa(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _H=6;class AH{constructor(e){var t,n,s,r;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=a.minPasswordLength)!==null&&t!==void 0?t:_H,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(r=e.forceUpgradeOnSignin)!==null&&r!==void 0?r:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,s,r,a,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(t=c.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),c.isValid&&(c.isValid=(n=c.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(s=c.containsLowercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(r=c.containsUppercaseLetter)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(a=c.containsNumericCharacter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let n;for(let s=0;s<e.length;s++)n=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,s,r){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SH{constructor(e,t,n,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $C(this),this.idTokenSubscription=new $C(this),this.beforeStateQueue=new xH(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=KM,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(r=>this._resolvePersistenceManagerAvailable=r)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ta(t)),this._initializationPromise=this.queue(async()=>{var n,s,r;if(!this._deleted&&(this.persistenceManager=await Eu.create(this,e),(n=this._resolvePersistenceManagerAvailable)===null||n===void 0||n.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Vm(this,{idToken:e}),n=await dr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(ns(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,l=s==null?void 0:s._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===l)&&(c!=null&&c.user)&&(s=c.user,r=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(s)}catch(a){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return We(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Fm(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=nH()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ns(this.app))return Promise.reject(Ia(this));const t=e?dn(e):null;return t&&We(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&We(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ns(this.app)?Promise.reject(Ia(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ns(this.app)?Promise.reject(Ia(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ta(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await wH(this),t=new AH(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new hc("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(n.tenantId=this.tenantId),await yH(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ta(e)||this._popupRedirectResolver;We(t,this,"argument-error"),this.redirectPersistenceManager=await Eu.create(this,[Ta(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,s){if(this._deleted)return()=>{};const r=typeof t=="function"?t:t.next.bind(t);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(We(l,this,"internal-error"),l.then(()=>{a||r(this.currentUser)}),typeof t=="function"){const c=e.addObserver(t,n,s);return()=>{a=!0,c()}}else{const c=e.addObserver(t);return()=>{a=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return We(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=hD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;if(ns(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&JB(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Zo(i){return dn(i)}class $C{constructor(e){this.auth=e,this.observer=null,this.addObserver=L3(t=>this.observer=t)}get next(){return We(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Py={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function TH(i){Py=i}function dD(i){return Py.loadJS(i)}function EH(){return Py.recaptchaEnterpriseScript}function CH(){return Py.gapiScript}function kH(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class RH{constructor(){this.enterprise=new IH}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class IH{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const MH="recaptcha-enterprise",fD="NO_RECAPTCHA";class DH{constructor(e){this.type=MH,this.auth=Zo(e)}async verify(e="verify",t=!1){async function n(r){if(!t){if(r.tenantId==null&&r._agentRecaptchaConfig!=null)return r._agentRecaptchaConfig.siteKey;if(r.tenantId!=null&&r._tenantRecaptchaConfigs[r.tenantId]!==void 0)return r._tenantRecaptchaConfigs[r.tenantId].siteKey}return new Promise(async(a,l)=>{cH(r,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const h=new lH(c);return r.tenantId==null?r._agentRecaptchaConfig=h:r._tenantRecaptchaConfigs[r.tenantId]=h,a(h.siteKey)}}).catch(c=>{l(c)})})}function s(r,a,l){const c=window.grecaptcha;YC(c)?c.enterprise.ready(()=>{c.enterprise.execute(r,{action:e}).then(h=>{a(h)}).catch(()=>{a(fD)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new RH().execute("siteKey",{action:"verify"}):new Promise((r,a)=>{n(this.auth).then(l=>{if(!t&&YC(window.grecaptcha))s(l,r,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let c=EH();c.length!==0&&(c+=l),dD(c).then(()=>{s(l,r,a)}).catch(h=>{a(h)})}}).catch(l=>{a(l)})})}}async function KC(i,e,t,n=!1,s=!1){const r=new DH(i);let a;if(s)a=fD;else try{a=await r.verify(t)}catch{a=await r.verify(t,!0)}const l=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,h=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:h,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return n?Object.assign(l,{captchaResp:a}):Object.assign(l,{captchaResponse:a}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function zm(i,e,t,n,s){var r;if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await KC(i,e,t,t==="getOobCode");return n(i,a)}else return n(i,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await KC(i,e,t,t==="getOobCode");return n(i,l)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NH(i,e){const t=Ya(i,"auth");if(t.isInitialized()){const s=t.getImmediate(),r=t.getOptions();if(Oa(r,e??{}))return s;br(s,"already-initialized")}return t.initialize({options:e})}function PH(i,e){const t=(e==null?void 0:e.persistence)||[],n=(Array.isArray(t)?t:[t]).map(Ta);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function OH(i,e,t){const n=Zo(i);We(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const s=!1,r=gD(e),{host:a,port:l}=LH(e),c=l===null?"":`:${l}`,h={url:`${r}//${a}${c}/`},d=Object.freeze({host:a,port:l,protocol:r.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!n._canInitEmulator){We(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),We(Oa(h,n.config.emulator)&&Oa(d,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=h,n.emulatorConfig=d,n.settings.appVerificationDisabledForTesting=!0,VH()}function gD(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function LH(i){const e=gD(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const n=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(n);if(s){const r=s[1];return{host:r,port:QC(n.substr(r.length+1))}}else{const[r,a]=n.split(":");return{host:r,port:QC(a)}}}function QC(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function VH(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Sa("not implemented")}_getIdTokenResponse(e){return Sa("not implemented")}_linkToIdToken(e,t){return Sa("not implemented")}_getReauthenticationResolver(e){return Sa("not implemented")}}async function FH(i,e){return Wa(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zH(i,e){return Bf(i,"POST","/v1/accounts:signInWithPassword",Xa(i,e))}async function jH(i,e){return Wa(i,"POST","/v1/accounts:sendOobCode",Xa(i,e))}async function BH(i,e){return jH(i,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HH(i,e){return Bf(i,"POST","/v1/accounts:signInWithEmailLink",Xa(i,e))}async function UH(i,e){return Bf(i,"POST","/v1/accounts:signInWithEmailLink",Xa(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of extends j_{constructor(e,t,n,s=null){super("password",n),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new of(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new of(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zm(e,t,"signInWithPassword",zH);case"emailLink":return HH(e,{email:this._email,oobCode:this._password});default:br(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const n={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zm(e,n,"signUpPassword",FH);case"emailLink":return UH(e,{idToken:t,email:this._email,oobCode:this._password});default:br(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cu(i,e){return Bf(i,"POST","/v1/accounts:signInWithIdp",Xa(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YH="http://localhost";class Zl extends j_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Zl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):br("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:s}=t,r=O_(t,["providerId","signInMethod"]);if(!n||!s)return null;const a=new Zl(n,s);return a.idToken=r.idToken||void 0,a.accessToken=r.accessToken||void 0,a.secret=r.secret,a.nonce=r.nonce,a.pendingToken=r.pendingToken||null,a}_getIdTokenResponse(e){const t=this.buildRequest();return Cu(e,t)}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Cu(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Cu(e,t)}buildRequest(){const e={requestUri:YH,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Qu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XH(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function WH(i){const e=Td(Ed(i)).link,t=e?Td(Ed(e)).deep_link_id:null,n=Td(Ed(i)).deep_link_id;return(n?Td(Ed(n)).link:null)||n||t||e||i}class B_{constructor(e){var t,n,s,r,a,l;const c=Td(Ed(e)),h=(t=c.apiKey)!==null&&t!==void 0?t:null,d=(n=c.oobCode)!==null&&n!==void 0?n:null,f=XH((s=c.mode)!==null&&s!==void 0?s:null);We(h&&d&&f,"argument-error"),this.apiKey=h,this.operation=f,this.code=d,this.continueUrl=(r=c.continueUrl)!==null&&r!==void 0?r:null,this.languageCode=(a=c.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const t=WH(e);try{return new B_(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(){this.providerId=Zu.PROVIDER_ID}static credential(e,t){return of._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=B_.parseLink(t);return We(n,"argument-error"),of._fromEmailAndCode(e,n.code,n.tenantId)}}Zu.PROVIDER_ID="password";Zu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Zu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf extends pD{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao extends Hf{constructor(){super("facebook.com")}static credential(e){return Zl._fromParams({providerId:Ao.PROVIDER_ID,signInMethod:Ao.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ao.credentialFromTaggedObject(e)}static credentialFromError(e){return Ao.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ao.credential(e.oauthAccessToken)}catch{return null}}}Ao.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ao.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So extends Hf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Zl._fromParams({providerId:So.PROVIDER_ID,signInMethod:So.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return So.credentialFromTaggedObject(e)}static credentialFromError(e){return So.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return So.credential(t,n)}catch{return null}}}So.GOOGLE_SIGN_IN_METHOD="google.com";So.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To extends Hf{constructor(){super("github.com")}static credential(e){return Zl._fromParams({providerId:To.PROVIDER_ID,signInMethod:To.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return To.credentialFromTaggedObject(e)}static credentialFromError(e){return To.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return To.credential(e.oauthAccessToken)}catch{return null}}}To.GITHUB_SIGN_IN_METHOD="github.com";To.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo extends Hf{constructor(){super("twitter.com")}static credential(e,t){return Zl._fromParams({providerId:Eo.PROVIDER_ID,signInMethod:Eo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Eo.credentialFromTaggedObject(e)}static credentialFromError(e){return Eo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return Eo.credential(t,n)}catch{return null}}}Eo.TWITTER_SIGN_IN_METHOD="twitter.com";Eo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GH(i,e){return Bf(i,"POST","/v1/accounts:signUp",Xa(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,s=!1){const r=await dr._fromIdTokenResponse(e,n,s),a=ZC(n);return new Jl({user:r,providerId:a,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const s=ZC(n);return new Jl({user:e,providerId:s,_tokenResponse:n,operationType:t})}}function ZC(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm extends tr{constructor(e,t,n,s){var r;super(t.code,t.message),this.operationType=n,this.user=s,Object.setPrototypeOf(this,jm.prototype),this.customData={appName:e.name,tenantId:(r=e.tenantId)!==null&&r!==void 0?r:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,s){return new jm(e,t,n,s)}}function mD(i,e,t,n){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(r=>{throw r.code==="auth/multi-factor-auth-required"?jm._fromErrorAndOperation(i,r,e,n):r})}async function qH(i,e,t=!1){const n=await af(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return Jl._forOperation(i,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $H(i,e,t=!1){const{auth:n}=i;if(ns(n.app))return Promise.reject(Ia(n));const s="reauthenticate";try{const r=await af(i,mD(n,s,e,i),t);We(r.idToken,n,"internal-error");const a=F_(r.idToken);We(a,n,"internal-error");const{sub:l}=a;return We(i.uid===l,n,"user-mismatch"),Jl._forOperation(i,s,r)}catch(r){throw(r==null?void 0:r.code)==="auth/user-not-found"&&br(n,"user-mismatch"),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yD(i,e,t=!1){if(ns(i.app))return Promise.reject(Ia(i));const n="signIn",s=await mD(i,n,e),r=await Jl._fromIdTokenResponse(i,n,s);return t||await i._updateCurrentUser(r.user),r}async function KH(i,e){return yD(Zo(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vD(i){const e=Zo(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function QH(i,e,t){const n=Zo(i);await zm(n,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",BH)}async function bD(i,e,t){if(ns(i.app))return Promise.reject(Ia(i));const n=Zo(i),a=await zm(n,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",GH).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&vD(i),c}),l=await Jl._fromIdTokenResponse(n,"signIn",a);return await n._updateCurrentUser(l.user),l}function xD(i,e,t){return ns(i.app)?Promise.reject(Ia(i)):KH(dn(i),Zu.credential(e,t)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&vD(i),n})}function ZH(i,e,t,n){return dn(i).onIdTokenChanged(e,t,n)}function JH(i,e,t){return dn(i).beforeAuthStateChanged(e,t)}function H_(i,e,t,n){return dn(i).onAuthStateChanged(e,t,n)}function Bm(i){return dn(i).signOut()}const Hm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Hm,"1"),this.storage.removeItem(Hm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eU=1e3,tU=10;class _D extends wD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=uD(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),s=this.localCache[t];n!==s&&e(t,s,n)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});return}const n=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const a=this.storage.getItem(n);!t&&this.localCache[n]===a||this.notifyListeners(n,a)},r=this.storage.getItem(n);bH()&&r!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,tU):s()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const s of Array.from(n))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},eU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}_D.type="LOCAL";const nU=_D;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD extends wD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}AD.type="SESSION";const SD=AD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iU(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const n=new Oy(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:s,data:r}=t.data,a=this.handlersMap[s];if(!(a!=null&&a.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:s});const l=Array.from(a).map(async h=>h(t.origin,r)),c=await iU(l);t.ports[0].postMessage({status:"done",eventId:n,eventType:s,response:c})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Oy.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U_(i="",e=10){let t="";for(let n=0;n<e;n++)t+=Math.floor(Math.random()*10);return i+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sU{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let r,a;return new Promise((l,c)=>{const h=U_("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},n);a={messageChannel:s,onMessage(f){const p=f;if(p.data.eventId===h)switch(p.data.status){case"ack":clearTimeout(d),r=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),l(p.data.response);break;default:clearTimeout(d),clearTimeout(r),c(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:h,data:t},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Br(){return window}function rU(i){Br().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TD(){return typeof Br().WorkerGlobalScope<"u"&&typeof Br().importScripts=="function"}async function aU(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function oU(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function lU(){return TD()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ED="firebaseLocalStorageDb",cU=1,Um="firebaseLocalStorage",CD="fbase_key";class Uf{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Ly(i,e){return i.transaction([Um],e?"readwrite":"readonly").objectStore(Um)}function uU(){const i=indexedDB.deleteDatabase(ED);return new Uf(i).toPromise()}function Y0(){const i=indexedDB.open(ED,cU);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const n=i.result;try{n.createObjectStore(Um,{keyPath:CD})}catch(s){t(s)}}),i.addEventListener("success",async()=>{const n=i.result;n.objectStoreNames.contains(Um)?e(n):(n.close(),await uU(),e(await Y0()))})})}async function JC(i,e,t){const n=Ly(i,!0).put({[CD]:e,value:t});return new Uf(n).toPromise()}async function hU(i,e){const t=Ly(i,!1).get(e),n=await new Uf(t).toPromise();return n===void 0?null:n.value}function ek(i,e){const t=Ly(i,!0).delete(e);return new Uf(t).toPromise()}const dU=800,fU=3;class kD{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Y0(),this.db)}async _withRetries(e){let t=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(t++>fU)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return TD()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Oy._getInstance(lU()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await aU(),!this.activeServiceWorker)return;this.sender=new sU(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((t=n[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||oU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Y0();return await JC(e,Hm,"1"),await ek(e,Hm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>JC(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(n=>hU(n,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>ek(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const r=Ly(s,!1).getAll();return new Uf(r).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],n=new Set;if(e.length!==0)for(const{fbase_key:s,value:r}of e)n.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(r)&&(this.notifyListeners(s,r),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!n.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const s of Array.from(n))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),dU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}kD.type="LOCAL";const gU=kD;new jf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pU(i,e){return e?Ta(e):(We(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_ extends j_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Cu(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Cu(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Cu(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function mU(i){return yD(i.auth,new Y_(i),i.bypassAuthState)}function yU(i){const{auth:e,user:t}=i;return We(t,e,"internal-error"),$H(t,new Y_(i),i.bypassAuthState)}async function vU(i){const{auth:e,user:t}=i;return We(t,e,"internal-error"),qH(t,new Y_(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(e,t,n,s,r=!1){this.auth=e,this.resolver=n,this.user=s,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:s,tenantId:r,error:a,type:l}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:t,sessionId:n,tenantId:r||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return mU;case"linkViaPopup":case"linkViaRedirect":return vU;case"reauthViaPopup":case"reauthViaRedirect":return yU;default:br(this.auth,"internal-error")}}resolve(e){Va(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Va(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bU=new jf(2e3,1e4);class pu extends RD{constructor(e,t,n,s,r){super(e,t,s,r),this.provider=n,this.authWindow=null,this.pollId=null,pu.currentPopupAction&&pu.currentPopupAction.cancel(),pu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return We(e,this.auth,"internal-error"),e}async onExecution(){Va(this.filter.length===1,"Popup operations only handle one event");const e=U_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(jr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(jr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,pu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;if(!((n=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(jr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,bU.get())};e()}}pu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xU="pendingRedirect",hm=new Map;class wU extends RD{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=hm.get(this.auth._key());if(!e){try{const n=await _U(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}hm.set(this.auth._key(),e)}return this.bypassAuthState||hm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _U(i,e){const t=TU(e),n=SU(i);if(!await n._isAvailable())return!1;const s=await n._get(t)==="true";return await n._remove(t),s}function AU(i,e){hm.set(i._key(),e)}function SU(i){return Ta(i._redirectPersistence)}function TU(i){return um(xU,i.config.apiKey,i.name)}async function EU(i,e,t=!1){if(ns(i.app))return Promise.reject(Ia(i));const n=Zo(i),s=pU(n,e),a=await new wU(n,s,t).execute();return a&&!t&&(delete a.user._redirectEventId,await n._persistUserIfCurrent(a.user),await n._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CU=10*60*1e3;class kU{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!RU(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!ID(e)){const s=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";t.onError(jr(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=CU&&this.cachedEventUids.clear(),this.cachedEventUids.has(tk(e))}saveEventToCache(e){this.cachedEventUids.add(tk(e)),this.lastProcessedEventTime=Date.now()}}function tk(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function ID({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function RU(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ID(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IU(i,e={}){return Wa(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,DU=/^https?/;async function NU(i){if(i.config.emulator)return;const{authorizedDomains:e}=await IU(i);for(const t of e)try{if(PU(t))return}catch{}br(i,"unauthorized-domain")}function PU(i){const e=H0(),{protocol:t,hostname:n}=new URL(e);if(i.startsWith("chrome-extension://")){const a=new URL(i);return a.hostname===""&&n===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&a.hostname===n}if(!DU.test(t))return!1;if(MU.test(i))return n===i;const s=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OU=new jf(3e4,6e4);function nk(){const i=Br().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function LU(i){return new Promise((e,t)=>{var n,s,r;function a(){nk(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{nk(),t(jr(i,"network-request-failed"))},timeout:OU.get()})}if(!((s=(n=Br().gapi)===null||n===void 0?void 0:n.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((r=Br().gapi)===null||r===void 0)&&r.load)a();else{const l=kH("iframefcb");return Br()[l]=()=>{gapi.load?a():t(jr(i,"network-request-failed"))},dD(`${CH()}?onload=${l}`).catch(c=>t(c))}}).catch(e=>{throw dm=null,e})}let dm=null;function VU(i){return dm=dm||LU(i),dm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FU=new jf(5e3,15e3),zU="__/auth/iframe",jU="emulator/auth/iframe",BU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},HU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function UU(i){const e=i.config;We(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?V_(e,jU):`https://${i.config.authDomain}/${zU}`,n={apiKey:e.apiKey,appName:i.name,v:Qo},s=HU.get(i.config.apiHost);s&&(n.eid=s);const r=i._getFrameworks();return r.length&&(n.fw=r.join(",")),`${t}?${Qu(n).slice(1)}`}async function YU(i){const e=await VU(i),t=Br().gapi;return We(t,i,"internal-error"),e.open({where:document.body,url:UU(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:BU,dontclear:!0},n=>new Promise(async(s,r)=>{await n.restyle({setHideOnLeave:!1});const a=jr(i,"network-request-failed"),l=Br().setTimeout(()=>{r(a)},FU.get());function c(){Br().clearTimeout(l),s(n)}n.ping(c).then(c,()=>{r(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},WU=500,GU=600,qU="_blank",$U="http://localhost";class ik{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function KU(i,e,t,n=WU,s=GU){const r=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-n)/2,0).toString();let l="";const c=Object.assign(Object.assign({},XU),{width:n.toString(),height:s.toString(),top:r,left:a}),h=Vi().toLowerCase();t&&(l=rD(h)?qU:t),iD(h)&&(e=e||$U,c.scrollbars="yes");const d=Object.entries(c).reduce((p,[y,b])=>`${p}${y}=${b},`,"");if(vH(h)&&l!=="_self")return QU(e||"",l),new ik(null);const f=window.open(e||"",l,d);We(f,i,"popup-blocked");try{f.focus()}catch{}return new ik(f)}function QU(i,e){const t=document.createElement("a");t.href=i,t.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZU="__/auth/handler",JU="emulator/auth/handler",e5=encodeURIComponent("fac");async function sk(i,e,t,n,s,r){We(i.config.authDomain,i,"auth-domain-config-required"),We(i.config.apiKey,i,"invalid-api-key");const a={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:n,v:Qo,eventId:s};if(e instanceof pD){e.setDefaultLanguage(i.languageCode),a.providerId=e.providerId||"",L0(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))a[d]=f}if(e instanceof Hf){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(a.scopes=d.join(","))}i.tenantId&&(a.tid=i.tenantId);const l=a;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const c=await i._getAppCheckToken(),h=c?`#${e5}=${encodeURIComponent(c)}`:"";return`${t5(i)}?${Qu(l).slice(1)}${h}`}function t5({config:i}){return i.emulator?V_(i,JU):`https://${i.authDomain}/${ZU}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kx="webStorageSupport";class n5{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=SD,this._completeRedirectFn=EU,this._overrideRedirectResult=AU}async _openPopup(e,t,n,s){var r;Va((r=this.eventManagers[e._key()])===null||r===void 0?void 0:r.manager,"_initialize() not called before _openPopup()");const a=await sk(e,t,n,H0(),s);return KU(e,a,U_())}async _openRedirect(e,t,n,s){await this._originValidation(e);const r=await sk(e,t,n,H0(),s);return rU(r),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:r}=this.eventManagers[t];return s?Promise.resolve(s):(Va(r,"If manager is not set, promise should be"),r)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await YU(e),n=new kU(e);return t.register("authEvent",s=>(We(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:n.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(kx,{type:kx},s=>{var r;const a=(r=s==null?void 0:s[0])===null||r===void 0?void 0:r[kx];a!==void 0&&t(!!a),br(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=NU(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return uD()||sD()||z_()}}const i5=n5;var rk="@firebase/auth",ak="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s5{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){We(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r5(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function a5(i){Zs(new Ss("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),r=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=n.options;We(a&&!a.includes(":"),"invalid-api-key",{appName:n.name});const c={apiKey:a,authDomain:l,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hD(i)},h=new SH(n,s,r,c);return PH(h,t),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),Zs(new Ss("auth-internal",e=>{const t=Zo(e.getProvider("auth").getImmediate());return(n=>new s5(n))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Oi(rk,ak,r5(i)),Oi(rk,ak,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o5=5*60,l5=zM("authIdTokenMaxAge")||o5;let ok=null;const c5=i=>async e=>{const t=e&&await e.getIdTokenResult(),n=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>l5)return;const s=t==null?void 0:t.token;ok!==s&&(ok=s,await fetch(i,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function MD(i=zf()){const e=Ya(i,"auth");if(e.isInitialized())return e.getImmediate();const t=NH(i,{popupRedirectResolver:i5,persistence:[gU,nU,SD]}),n=zM("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const r=new URL(n,location.origin);if(location.origin===r.origin){const a=c5(r.toString());JH(t,a,()=>a(t.currentUser)),ZH(t,l=>a(l))}}const s=VM("auth");return s&&OH(t,`http://${s}`),t}function u5(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}TH({loadJS(i){return new Promise((e,t)=>{const n=document.createElement("script");n.setAttribute("src",i),n.onload=e,n.onerror=s=>{const r=jr("internal-error");r.customData=s,t(r)},n.type="text/javascript",n.charset="UTF-8",u5().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});a5("Browser");var lk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Do,DD;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,E){function D(){}D.prototype=E.prototype,k.D=E.prototype,k.prototype=new D,k.prototype.constructor=k,k.C=function(O,F,H){for(var B=Array(arguments.length-2),K=2;K<arguments.length;K++)B[K-2]=arguments[K];return E.prototype[F].apply(O,B)}}function t(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,t),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(k,E,D){D||(D=0);var O=Array(16);if(typeof E=="string")for(var F=0;16>F;++F)O[F]=E.charCodeAt(D++)|E.charCodeAt(D++)<<8|E.charCodeAt(D++)<<16|E.charCodeAt(D++)<<24;else for(F=0;16>F;++F)O[F]=E[D++]|E[D++]<<8|E[D++]<<16|E[D++]<<24;E=k.g[0],D=k.g[1],F=k.g[2];var H=k.g[3],B=E+(H^D&(F^H))+O[0]+3614090360&4294967295;E=D+(B<<7&4294967295|B>>>25),B=H+(F^E&(D^F))+O[1]+3905402710&4294967295,H=E+(B<<12&4294967295|B>>>20),B=F+(D^H&(E^D))+O[2]+606105819&4294967295,F=H+(B<<17&4294967295|B>>>15),B=D+(E^F&(H^E))+O[3]+3250441966&4294967295,D=F+(B<<22&4294967295|B>>>10),B=E+(H^D&(F^H))+O[4]+4118548399&4294967295,E=D+(B<<7&4294967295|B>>>25),B=H+(F^E&(D^F))+O[5]+1200080426&4294967295,H=E+(B<<12&4294967295|B>>>20),B=F+(D^H&(E^D))+O[6]+2821735955&4294967295,F=H+(B<<17&4294967295|B>>>15),B=D+(E^F&(H^E))+O[7]+4249261313&4294967295,D=F+(B<<22&4294967295|B>>>10),B=E+(H^D&(F^H))+O[8]+1770035416&4294967295,E=D+(B<<7&4294967295|B>>>25),B=H+(F^E&(D^F))+O[9]+2336552879&4294967295,H=E+(B<<12&4294967295|B>>>20),B=F+(D^H&(E^D))+O[10]+4294925233&4294967295,F=H+(B<<17&4294967295|B>>>15),B=D+(E^F&(H^E))+O[11]+2304563134&4294967295,D=F+(B<<22&4294967295|B>>>10),B=E+(H^D&(F^H))+O[12]+1804603682&4294967295,E=D+(B<<7&4294967295|B>>>25),B=H+(F^E&(D^F))+O[13]+4254626195&4294967295,H=E+(B<<12&4294967295|B>>>20),B=F+(D^H&(E^D))+O[14]+2792965006&4294967295,F=H+(B<<17&4294967295|B>>>15),B=D+(E^F&(H^E))+O[15]+1236535329&4294967295,D=F+(B<<22&4294967295|B>>>10),B=E+(F^H&(D^F))+O[1]+4129170786&4294967295,E=D+(B<<5&4294967295|B>>>27),B=H+(D^F&(E^D))+O[6]+3225465664&4294967295,H=E+(B<<9&4294967295|B>>>23),B=F+(E^D&(H^E))+O[11]+643717713&4294967295,F=H+(B<<14&4294967295|B>>>18),B=D+(H^E&(F^H))+O[0]+3921069994&4294967295,D=F+(B<<20&4294967295|B>>>12),B=E+(F^H&(D^F))+O[5]+3593408605&4294967295,E=D+(B<<5&4294967295|B>>>27),B=H+(D^F&(E^D))+O[10]+38016083&4294967295,H=E+(B<<9&4294967295|B>>>23),B=F+(E^D&(H^E))+O[15]+3634488961&4294967295,F=H+(B<<14&4294967295|B>>>18),B=D+(H^E&(F^H))+O[4]+3889429448&4294967295,D=F+(B<<20&4294967295|B>>>12),B=E+(F^H&(D^F))+O[9]+568446438&4294967295,E=D+(B<<5&4294967295|B>>>27),B=H+(D^F&(E^D))+O[14]+3275163606&4294967295,H=E+(B<<9&4294967295|B>>>23),B=F+(E^D&(H^E))+O[3]+4107603335&4294967295,F=H+(B<<14&4294967295|B>>>18),B=D+(H^E&(F^H))+O[8]+1163531501&4294967295,D=F+(B<<20&4294967295|B>>>12),B=E+(F^H&(D^F))+O[13]+2850285829&4294967295,E=D+(B<<5&4294967295|B>>>27),B=H+(D^F&(E^D))+O[2]+4243563512&4294967295,H=E+(B<<9&4294967295|B>>>23),B=F+(E^D&(H^E))+O[7]+1735328473&4294967295,F=H+(B<<14&4294967295|B>>>18),B=D+(H^E&(F^H))+O[12]+2368359562&4294967295,D=F+(B<<20&4294967295|B>>>12),B=E+(D^F^H)+O[5]+4294588738&4294967295,E=D+(B<<4&4294967295|B>>>28),B=H+(E^D^F)+O[8]+2272392833&4294967295,H=E+(B<<11&4294967295|B>>>21),B=F+(H^E^D)+O[11]+1839030562&4294967295,F=H+(B<<16&4294967295|B>>>16),B=D+(F^H^E)+O[14]+4259657740&4294967295,D=F+(B<<23&4294967295|B>>>9),B=E+(D^F^H)+O[1]+2763975236&4294967295,E=D+(B<<4&4294967295|B>>>28),B=H+(E^D^F)+O[4]+1272893353&4294967295,H=E+(B<<11&4294967295|B>>>21),B=F+(H^E^D)+O[7]+4139469664&4294967295,F=H+(B<<16&4294967295|B>>>16),B=D+(F^H^E)+O[10]+3200236656&4294967295,D=F+(B<<23&4294967295|B>>>9),B=E+(D^F^H)+O[13]+681279174&4294967295,E=D+(B<<4&4294967295|B>>>28),B=H+(E^D^F)+O[0]+3936430074&4294967295,H=E+(B<<11&4294967295|B>>>21),B=F+(H^E^D)+O[3]+3572445317&4294967295,F=H+(B<<16&4294967295|B>>>16),B=D+(F^H^E)+O[6]+76029189&4294967295,D=F+(B<<23&4294967295|B>>>9),B=E+(D^F^H)+O[9]+3654602809&4294967295,E=D+(B<<4&4294967295|B>>>28),B=H+(E^D^F)+O[12]+3873151461&4294967295,H=E+(B<<11&4294967295|B>>>21),B=F+(H^E^D)+O[15]+530742520&4294967295,F=H+(B<<16&4294967295|B>>>16),B=D+(F^H^E)+O[2]+3299628645&4294967295,D=F+(B<<23&4294967295|B>>>9),B=E+(F^(D|~H))+O[0]+4096336452&4294967295,E=D+(B<<6&4294967295|B>>>26),B=H+(D^(E|~F))+O[7]+1126891415&4294967295,H=E+(B<<10&4294967295|B>>>22),B=F+(E^(H|~D))+O[14]+2878612391&4294967295,F=H+(B<<15&4294967295|B>>>17),B=D+(H^(F|~E))+O[5]+4237533241&4294967295,D=F+(B<<21&4294967295|B>>>11),B=E+(F^(D|~H))+O[12]+1700485571&4294967295,E=D+(B<<6&4294967295|B>>>26),B=H+(D^(E|~F))+O[3]+2399980690&4294967295,H=E+(B<<10&4294967295|B>>>22),B=F+(E^(H|~D))+O[10]+4293915773&4294967295,F=H+(B<<15&4294967295|B>>>17),B=D+(H^(F|~E))+O[1]+2240044497&4294967295,D=F+(B<<21&4294967295|B>>>11),B=E+(F^(D|~H))+O[8]+1873313359&4294967295,E=D+(B<<6&4294967295|B>>>26),B=H+(D^(E|~F))+O[15]+4264355552&4294967295,H=E+(B<<10&4294967295|B>>>22),B=F+(E^(H|~D))+O[6]+2734768916&4294967295,F=H+(B<<15&4294967295|B>>>17),B=D+(H^(F|~E))+O[13]+1309151649&4294967295,D=F+(B<<21&4294967295|B>>>11),B=E+(F^(D|~H))+O[4]+4149444226&4294967295,E=D+(B<<6&4294967295|B>>>26),B=H+(D^(E|~F))+O[11]+3174756917&4294967295,H=E+(B<<10&4294967295|B>>>22),B=F+(E^(H|~D))+O[2]+718787259&4294967295,F=H+(B<<15&4294967295|B>>>17),B=D+(H^(F|~E))+O[9]+3951481745&4294967295,k.g[0]=k.g[0]+E&4294967295,k.g[1]=k.g[1]+(F+(B<<21&4294967295|B>>>11))&4294967295,k.g[2]=k.g[2]+F&4294967295,k.g[3]=k.g[3]+H&4294967295}n.prototype.u=function(k,E){E===void 0&&(E=k.length);for(var D=E-this.blockSize,O=this.B,F=this.h,H=0;H<E;){if(F==0)for(;H<=D;)s(this,k,H),H+=this.blockSize;if(typeof k=="string"){for(;H<E;)if(O[F++]=k.charCodeAt(H++),F==this.blockSize){s(this,O),F=0;break}}else for(;H<E;)if(O[F++]=k[H++],F==this.blockSize){s(this,O),F=0;break}}this.h=F,this.o+=E},n.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var E=1;E<k.length-8;++E)k[E]=0;var D=8*this.o;for(E=k.length-8;E<k.length;++E)k[E]=D&255,D/=256;for(this.u(k),k=Array(16),E=D=0;4>E;++E)for(var O=0;32>O;O+=8)k[D++]=this.g[E]>>>O&255;return k};function r(k,E){var D=l;return Object.prototype.hasOwnProperty.call(D,k)?D[k]:D[k]=E(k)}function a(k,E){this.h=E;for(var D=[],O=!0,F=k.length-1;0<=F;F--){var H=k[F]|0;O&&H==E||(D[F]=H,O=!1)}this.g=D}var l={};function c(k){return-128<=k&&128>k?r(k,function(E){return new a([E|0],0>E?-1:0)}):new a([k|0],0>k?-1:0)}function h(k){if(isNaN(k)||!isFinite(k))return f;if(0>k)return _(h(-k));for(var E=[],D=1,O=0;k>=D;O++)E[O]=k/D|0,D*=4294967296;return new a(E,0)}function d(k,E){if(k.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(k.charAt(0)=="-")return _(d(k.substring(1),E));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=h(Math.pow(E,8)),O=f,F=0;F<k.length;F+=8){var H=Math.min(8,k.length-F),B=parseInt(k.substring(F,F+H),E);8>H?(H=h(Math.pow(E,H)),O=O.j(H).add(h(B))):(O=O.j(D),O=O.add(h(B)))}return O}var f=c(0),p=c(1),y=c(16777216);i=a.prototype,i.m=function(){if(x(this))return-_(this).m();for(var k=0,E=1,D=0;D<this.g.length;D++){var O=this.i(D);k+=(0<=O?O:4294967296+O)*E,E*=4294967296}return k},i.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(b(this))return"0";if(x(this))return"-"+_(this).toString(k);for(var E=h(Math.pow(k,6)),D=this,O="";;){var F=M(D,E).g;D=S(D,F.j(E));var H=((0<D.g.length?D.g[0]:D.h)>>>0).toString(k);if(D=F,b(D))return H+O;for(;6>H.length;)H="0"+H;O=H+O}},i.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function b(k){if(k.h!=0)return!1;for(var E=0;E<k.g.length;E++)if(k.g[E]!=0)return!1;return!0}function x(k){return k.h==-1}i.l=function(k){return k=S(this,k),x(k)?-1:b(k)?0:1};function _(k){for(var E=k.g.length,D=[],O=0;O<E;O++)D[O]=~k.g[O];return new a(D,~k.h).add(p)}i.abs=function(){return x(this)?_(this):this},i.add=function(k){for(var E=Math.max(this.g.length,k.g.length),D=[],O=0,F=0;F<=E;F++){var H=O+(this.i(F)&65535)+(k.i(F)&65535),B=(H>>>16)+(this.i(F)>>>16)+(k.i(F)>>>16);O=B>>>16,H&=65535,B&=65535,D[F]=B<<16|H}return new a(D,D[D.length-1]&-2147483648?-1:0)};function S(k,E){return k.add(_(E))}i.j=function(k){if(b(this)||b(k))return f;if(x(this))return x(k)?_(this).j(_(k)):_(_(this).j(k));if(x(k))return _(this.j(_(k)));if(0>this.l(y)&&0>k.l(y))return h(this.m()*k.m());for(var E=this.g.length+k.g.length,D=[],O=0;O<2*E;O++)D[O]=0;for(O=0;O<this.g.length;O++)for(var F=0;F<k.g.length;F++){var H=this.i(O)>>>16,B=this.i(O)&65535,K=k.i(F)>>>16,ne=k.i(F)&65535;D[2*O+2*F]+=B*ne,T(D,2*O+2*F),D[2*O+2*F+1]+=H*ne,T(D,2*O+2*F+1),D[2*O+2*F+1]+=B*K,T(D,2*O+2*F+1),D[2*O+2*F+2]+=H*K,T(D,2*O+2*F+2)}for(O=0;O<E;O++)D[O]=D[2*O+1]<<16|D[2*O];for(O=E;O<2*E;O++)D[O]=0;return new a(D,0)};function T(k,E){for(;(k[E]&65535)!=k[E];)k[E+1]+=k[E]>>>16,k[E]&=65535,E++}function C(k,E){this.g=k,this.h=E}function M(k,E){if(b(E))throw Error("division by zero");if(b(k))return new C(f,f);if(x(k))return E=M(_(k),E),new C(_(E.g),_(E.h));if(x(E))return E=M(k,_(E)),new C(_(E.g),E.h);if(30<k.g.length){if(x(k)||x(E))throw Error("slowDivide_ only works with positive integers.");for(var D=p,O=E;0>=O.l(k);)D=R(D),O=R(O);var F=P(D,1),H=P(O,1);for(O=P(O,2),D=P(D,2);!b(O);){var B=H.add(O);0>=B.l(k)&&(F=F.add(D),H=B),O=P(O,1),D=P(D,1)}return E=S(k,F.j(E)),new C(F,E)}for(F=f;0<=k.l(E);){for(D=Math.max(1,Math.floor(k.m()/E.m())),O=Math.ceil(Math.log(D)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),H=h(D),B=H.j(E);x(B)||0<B.l(k);)D-=O,H=h(D),B=H.j(E);b(H)&&(H=p),F=F.add(H),k=S(k,B)}return new C(F,k)}i.A=function(k){return M(this,k).h},i.and=function(k){for(var E=Math.max(this.g.length,k.g.length),D=[],O=0;O<E;O++)D[O]=this.i(O)&k.i(O);return new a(D,this.h&k.h)},i.or=function(k){for(var E=Math.max(this.g.length,k.g.length),D=[],O=0;O<E;O++)D[O]=this.i(O)|k.i(O);return new a(D,this.h|k.h)},i.xor=function(k){for(var E=Math.max(this.g.length,k.g.length),D=[],O=0;O<E;O++)D[O]=this.i(O)^k.i(O);return new a(D,this.h^k.h)};function R(k){for(var E=k.g.length+1,D=[],O=0;O<E;O++)D[O]=k.i(O)<<1|k.i(O-1)>>>31;return new a(D,k.h)}function P(k,E){var D=E>>5;E%=32;for(var O=k.g.length-D,F=[],H=0;H<O;H++)F[H]=0<E?k.i(H+D)>>>E|k.i(H+D+1)<<32-E:k.i(H+D);return new a(F,k.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,DD=n,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=h,a.fromString=d,Do=a}).apply(typeof lk<"u"?lk:typeof self<"u"?self:typeof window<"u"?window:{});var Up=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ND,Cd,PD,fm,X0,OD,LD,VD;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(v,I,L){return v==Array.prototype||v==Object.prototype||(v[I]=L.value),v};function t(v){v=[typeof globalThis=="object"&&globalThis,v,typeof window=="object"&&window,typeof self=="object"&&self,typeof Up=="object"&&Up];for(var I=0;I<v.length;++I){var L=v[I];if(L&&L.Math==Math)return L}throw Error("Cannot find global object")}var n=t(this);function s(v,I){if(I)e:{var L=n;v=v.split(".");for(var Y=0;Y<v.length-1;Y++){var Z=v[Y];if(!(Z in L))break e;L=L[Z]}v=v[v.length-1],Y=L[v],I=I(Y),I!=Y&&I!=null&&e(L,v,{configurable:!0,writable:!0,value:I})}}function r(v,I){v instanceof String&&(v+="");var L=0,Y=!1,Z={next:function(){if(!Y&&L<v.length){var oe=L++;return{value:I(oe,v[oe]),done:!1}}return Y=!0,{done:!0,value:void 0}}};return Z[Symbol.iterator]=function(){return Z},Z}s("Array.prototype.values",function(v){return v||function(){return r(this,function(I,L){return L})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function c(v){var I=typeof v;return I=I!="object"?I:v?Array.isArray(v)?"array":I:"null",I=="array"||I=="object"&&typeof v.length=="number"}function h(v){var I=typeof v;return I=="object"&&v!=null||I=="function"}function d(v,I,L){return v.call.apply(v.bind,arguments)}function f(v,I,L){if(!v)throw Error();if(2<arguments.length){var Y=Array.prototype.slice.call(arguments,2);return function(){var Z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Z,Y),v.apply(I,Z)}}return function(){return v.apply(I,arguments)}}function p(v,I,L){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,p.apply(null,arguments)}function y(v,I){var L=Array.prototype.slice.call(arguments,1);return function(){var Y=L.slice();return Y.push.apply(Y,arguments),v.apply(this,Y)}}function b(v,I){function L(){}L.prototype=I.prototype,v.aa=I.prototype,v.prototype=new L,v.prototype.constructor=v,v.Qb=function(Y,Z,oe){for(var xe=Array(arguments.length-2),Et=2;Et<arguments.length;Et++)xe[Et-2]=arguments[Et];return I.prototype[Z].apply(Y,xe)}}function x(v){const I=v.length;if(0<I){const L=Array(I);for(let Y=0;Y<I;Y++)L[Y]=v[Y];return L}return[]}function _(v,I){for(let L=1;L<arguments.length;L++){const Y=arguments[L];if(c(Y)){const Z=v.length||0,oe=Y.length||0;v.length=Z+oe;for(let xe=0;xe<oe;xe++)v[Z+xe]=Y[xe]}else v.push(Y)}}class S{constructor(I,L){this.i=I,this.j=L,this.h=0,this.g=null}get(){let I;return 0<this.h?(this.h--,I=this.g,this.g=I.next,I.next=null):I=this.i(),I}}function T(v){return/^[\s\xa0]*$/.test(v)}function C(){var v=l.navigator;return v&&(v=v.userAgent)?v:""}function M(v){return M[" "](v),v}M[" "]=function(){};var R=C().indexOf("Gecko")!=-1&&!(C().toLowerCase().indexOf("webkit")!=-1&&C().indexOf("Edge")==-1)&&!(C().indexOf("Trident")!=-1||C().indexOf("MSIE")!=-1)&&C().indexOf("Edge")==-1;function P(v,I,L){for(const Y in v)I.call(L,v[Y],Y,v)}function k(v,I){for(const L in v)I.call(void 0,v[L],L,v)}function E(v){const I={};for(const L in v)I[L]=v[L];return I}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(v,I){let L,Y;for(let Z=1;Z<arguments.length;Z++){Y=arguments[Z];for(L in Y)v[L]=Y[L];for(let oe=0;oe<D.length;oe++)L=D[oe],Object.prototype.hasOwnProperty.call(Y,L)&&(v[L]=Y[L])}}function F(v){var I=1;v=v.split(":");const L=[];for(;0<I&&v.length;)L.push(v.shift()),I--;return v.length&&L.push(v.join(":")),L}function H(v){l.setTimeout(()=>{throw v},0)}function B(){var v=ue;let I=null;return v.g&&(I=v.g,v.g=v.g.next,v.g||(v.h=null),I.next=null),I}class K{constructor(){this.h=this.g=null}add(I,L){const Y=ne.get();Y.set(I,L),this.h?this.h.next=Y:this.g=Y,this.h=Y}}var ne=new S(()=>new X,v=>v.reset());class X{constructor(){this.next=this.g=this.h=null}set(I,L){this.h=I,this.g=L,this.next=null}reset(){this.next=this.g=this.h=null}}let G,ee=!1,ue=new K,le=()=>{const v=l.Promise.resolve(void 0);G=()=>{v.then(me)}};var me=()=>{for(var v;v=B();){try{v.h.call(v.g)}catch(L){H(L)}var I=ne;I.j(v),100>I.h&&(I.h++,v.next=I.g,I.g=v)}ee=!1};function ae(){this.s=this.s,this.C=this.C}ae.prototype.s=!1,ae.prototype.ma=function(){this.s||(this.s=!0,this.N())},ae.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ye(v,I){this.type=v,this.g=this.target=I,this.defaultPrevented=!1}ye.prototype.h=function(){this.defaultPrevented=!0};var _e=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var v=!1,I=Object.defineProperty({},"passive",{get:function(){v=!0}});try{const L=()=>{};l.addEventListener("test",L,I),l.removeEventListener("test",L,I)}catch{}return v}();function Pe(v,I){if(ye.call(this,v?v.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,v){var L=this.type=v.type,Y=v.changedTouches&&v.changedTouches.length?v.changedTouches[0]:null;if(this.target=v.target||v.srcElement,this.g=I,I=v.relatedTarget){if(R){e:{try{M(I.nodeName);var Z=!0;break e}catch{}Z=!1}Z||(I=null)}}else L=="mouseover"?I=v.fromElement:L=="mouseout"&&(I=v.toElement);this.relatedTarget=I,Y?(this.clientX=Y.clientX!==void 0?Y.clientX:Y.pageX,this.clientY=Y.clientY!==void 0?Y.clientY:Y.pageY,this.screenX=Y.screenX||0,this.screenY=Y.screenY||0):(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0),this.button=v.button,this.key=v.key||"",this.ctrlKey=v.ctrlKey,this.altKey=v.altKey,this.shiftKey=v.shiftKey,this.metaKey=v.metaKey,this.pointerId=v.pointerId||0,this.pointerType=typeof v.pointerType=="string"?v.pointerType:Se[v.pointerType]||"",this.state=v.state,this.i=v,v.defaultPrevented&&Pe.aa.h.call(this)}}b(Pe,ye);var Se={2:"touch",3:"pen",4:"mouse"};Pe.prototype.h=function(){Pe.aa.h.call(this);var v=this.i;v.preventDefault?v.preventDefault():v.returnValue=!1};var Me="closure_listenable_"+(1e6*Math.random()|0),we=0;function Te(v,I,L,Y,Z){this.listener=v,this.proxy=null,this.src=I,this.type=L,this.capture=!!Y,this.ha=Z,this.key=++we,this.da=this.fa=!1}function Ae(v){v.da=!0,v.listener=null,v.proxy=null,v.src=null,v.ha=null}function Ne(v){this.src=v,this.g={},this.h=0}Ne.prototype.add=function(v,I,L,Y,Z){var oe=v.toString();v=this.g[oe],v||(v=this.g[oe]=[],this.h++);var xe=Ge(v,I,Y,Z);return-1<xe?(I=v[xe],L||(I.fa=!1)):(I=new Te(I,this.src,oe,!!Y,Z),I.fa=L,v.push(I)),I};function Ue(v,I){var L=I.type;if(L in v.g){var Y=v.g[L],Z=Array.prototype.indexOf.call(Y,I,void 0),oe;(oe=0<=Z)&&Array.prototype.splice.call(Y,Z,1),oe&&(Ae(I),v.g[L].length==0&&(delete v.g[L],v.h--))}}function Ge(v,I,L,Y){for(var Z=0;Z<v.length;++Z){var oe=v[Z];if(!oe.da&&oe.listener==I&&oe.capture==!!L&&oe.ha==Y)return Z}return-1}var qe="closure_lm_"+(1e6*Math.random()|0),$e={};function at(v,I,L,Y,Z){if(Array.isArray(I)){for(var oe=0;oe<I.length;oe++)at(v,I[oe],L,Y,Z);return null}return L=Cs(L),v&&v[Me]?v.K(I,L,h(Y)?!!Y.capture:!1,Z):mt(v,I,L,!1,Y,Z)}function mt(v,I,L,Y,Z,oe){if(!I)throw Error("Invalid event type");var xe=h(Z)?!!Z.capture:!!Z,Et=_i(v);if(Et||(v[qe]=Et=new Ne(v)),L=Et.add(I,L,Y,xe,oe),L.proxy)return L;if(Y=Es(),L.proxy=Y,Y.src=v,Y.listener=L,v.addEventListener)_e||(Z=xe),Z===void 0&&(Z=!1),v.addEventListener(I.toString(),Y,Z);else if(v.attachEvent)v.attachEvent(wn(I.toString()),Y);else if(v.addListener&&v.removeListener)v.addListener(Y);else throw Error("addEventListener and attachEvent are unavailable.");return L}function Es(){function v(L){return I.call(v.src,v.listener,L)}const I=Xn;return v}function xn(v,I,L,Y,Z){if(Array.isArray(I))for(var oe=0;oe<I.length;oe++)xn(v,I[oe],L,Y,Z);else Y=h(Y)?!!Y.capture:!!Y,L=Cs(L),v&&v[Me]?(v=v.i,I=String(I).toString(),I in v.g&&(oe=v.g[I],L=Ge(oe,L,Y,Z),-1<L&&(Ae(oe[L]),Array.prototype.splice.call(oe,L,1),oe.length==0&&(delete v.g[I],v.h--)))):v&&(v=_i(v))&&(I=v.g[I.toString()],v=-1,I&&(v=Ge(I,L,Y,Z)),(L=-1<v?I[v]:null)&&Sn(L))}function Sn(v){if(typeof v!="number"&&v&&!v.da){var I=v.src;if(I&&I[Me])Ue(I.i,v);else{var L=v.type,Y=v.proxy;I.removeEventListener?I.removeEventListener(L,Y,v.capture):I.detachEvent?I.detachEvent(wn(L),Y):I.addListener&&I.removeListener&&I.removeListener(Y),(L=_i(I))?(Ue(L,v),L.h==0&&(L.src=null,I[qe]=null)):Ae(v)}}}function wn(v){return v in $e?$e[v]:$e[v]="on"+v}function Xn(v,I){if(v.da)v=!0;else{I=new Pe(I,this);var L=v.listener,Y=v.ha||v.src;v.fa&&Sn(v),v=L.call(Y,I)}return v}function _i(v){return v=v[qe],v instanceof Ne?v:null}var Fi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Cs(v){return typeof v=="function"?v:(v[Fi]||(v[Fi]=function(I){return v.handleEvent(I)}),v[Fi])}function $t(){ae.call(this),this.i=new Ne(this),this.M=this,this.F=null}b($t,ae),$t.prototype[Me]=!0,$t.prototype.removeEventListener=function(v,I,L,Y){xn(this,v,I,L,Y)};function ot(v,I){var L,Y=v.F;if(Y)for(L=[];Y;Y=Y.F)L.push(Y);if(v=v.M,Y=I.type||I,typeof I=="string")I=new ye(I,v);else if(I instanceof ye)I.target=I.target||v;else{var Z=I;I=new ye(Y,v),O(I,Z)}if(Z=!0,L)for(var oe=L.length-1;0<=oe;oe--){var xe=I.g=L[oe];Z=Tn(xe,Y,!0,I)&&Z}if(xe=I.g=v,Z=Tn(xe,Y,!0,I)&&Z,Z=Tn(xe,Y,!1,I)&&Z,L)for(oe=0;oe<L.length;oe++)xe=I.g=L[oe],Z=Tn(xe,Y,!1,I)&&Z}$t.prototype.N=function(){if($t.aa.N.call(this),this.i){var v=this.i,I;for(I in v.g){for(var L=v.g[I],Y=0;Y<L.length;Y++)Ae(L[Y]);delete v.g[I],v.h--}}this.F=null},$t.prototype.K=function(v,I,L,Y){return this.i.add(String(v),I,!1,L,Y)},$t.prototype.L=function(v,I,L,Y){return this.i.add(String(v),I,!0,L,Y)};function Tn(v,I,L,Y){if(I=v.i.g[String(I)],!I)return!0;I=I.concat();for(var Z=!0,oe=0;oe<I.length;++oe){var xe=I[oe];if(xe&&!xe.da&&xe.capture==L){var Et=xe.listener,Gn=xe.ha||xe.src;xe.fa&&Ue(v.i,xe),Z=Et.call(Gn,Y)!==!1&&Z}}return Z&&!Y.defaultPrevented}function an(v,I,L){if(typeof v=="function")L&&(v=p(v,L));else if(v&&typeof v.handleEvent=="function")v=p(v.handleEvent,v);else throw Error("Invalid listener argument");return 2147483647<Number(I)?-1:l.setTimeout(v,I||0)}function nr(v){v.g=an(()=>{v.g=null,v.i&&(v.i=!1,nr(v))},v.l);const I=v.h;v.h=null,v.m.apply(null,I)}class Ki extends ae{constructor(I,L){super(),this.m=I,this.l=L,this.h=null,this.i=!1,this.g=null}j(I){this.h=arguments,this.g?this.i=!0:nr(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ks(v){ae.call(this),this.h=v,this.g={}}b(ks,ae);var ir=[];function J(v){P(v.g,function(I,L){this.g.hasOwnProperty(L)&&Sn(I)},v),v.g={}}ks.prototype.N=function(){ks.aa.N.call(this),J(this)},ks.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ve=l.JSON.stringify,Be=l.JSON.parse,Je=class{stringify(v){return l.JSON.stringify(v,void 0)}parse(v){return l.JSON.parse(v,void 0)}};function Tt(){}Tt.prototype.h=null;function Lt(v){return v.h||(v.h=v.i())}function rt(){}var ut={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function et(){ye.call(this,"d")}b(et,ye);function Vt(){ye.call(this,"c")}b(Vt,ye);var ze={},Dn=null;function ht(){return Dn=Dn||new $t}ze.La="serverreachability";function Ke(v){ye.call(this,ze.La,v)}b(Ke,ye);function yt(v){const I=ht();ot(I,new Ke(I))}ze.STAT_EVENT="statevent";function Bt(v,I){ye.call(this,ze.STAT_EVENT,v),this.stat=I}b(Bt,ye);function Oe(v){const I=ht();ot(I,new Bt(I,v))}ze.Ma="timingevent";function gt(v,I){ye.call(this,ze.Ma,v),this.size=I}b(gt,ye);function _t(v,I){if(typeof v!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){v()},I)}function on(){this.g=!0}on.prototype.xa=function(){this.g=!1};function ls(v,I,L,Y,Z,oe){v.info(function(){if(v.g)if(oe)for(var xe="",Et=oe.split("&"),Gn=0;Gn<Et.length;Gn++){var Ct=Et[Gn].split("=");if(1<Ct.length){var ei=Ct[0];Ct=Ct[1];var qn=ei.split("_");xe=2<=qn.length&&qn[1]=="type"?xe+(ei+"="+Ct+"&"):xe+(ei+"=redacted&")}}else xe=null;else xe=oe;return"XMLHTTP REQ ("+Y+") [attempt "+Z+"]: "+I+`
`+L+`
`+xe})}function Rs(v,I,L,Y,Z,oe,xe){v.info(function(){return"XMLHTTP RESP ("+Y+") [ attempt "+Z+"]: "+I+`
`+L+`
`+oe+" "+xe})}function Wn(v,I,L,Y){v.info(function(){return"XMLHTTP TEXT ("+I+"): "+cs(v,L)+(Y?" "+Y:"")})}function Is(v,I){v.info(function(){return"TIMEOUT: "+I})}on.prototype.info=function(){};function cs(v,I){if(!v.g)return I;if(!I)return null;try{var L=JSON.parse(I);if(L){for(v=0;v<L.length;v++)if(Array.isArray(L[v])){var Y=L[v];if(!(2>Y.length)){var Z=Y[1];if(Array.isArray(Z)&&!(1>Z.length)){var oe=Z[0];if(oe!="noop"&&oe!="stop"&&oe!="close")for(var xe=1;xe<Z.length;xe++)Z[xe]=""}}}}return ve(L)}catch{return I}}var qa={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Zr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ar;function Sr(){}b(Sr,Tt),Sr.prototype.g=function(){return new XMLHttpRequest},Sr.prototype.i=function(){return{}},Ar=new Sr;function zi(v,I,L,Y){this.j=v,this.i=I,this.l=L,this.R=Y||1,this.U=new ks(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Nn}function Nn(){this.i=null,this.g="",this.h=!1}var mh={},bc={};function sr(v,I,L){v.L=1,v.v=ll(us(I)),v.m=L,v.P=!0,Jr(v,null)}function Jr(v,I){v.F=Date.now(),sl(v),v.A=us(v.v);var L=v.A,Y=v.R;Array.isArray(Y)||(Y=[String(Y)]),_h(L.i,"t",Y),v.C=0,L=v.j.J,v.h=new Nn,v.g=Vg(v.j,L?I:null,!v.m),0<v.O&&(v.M=new Ki(p(v.Y,v,v.g),v.O)),I=v.U,L=v.g,Y=v.ca;var Z="readystatechange";Array.isArray(Z)||(Z&&(ir[0]=Z.toString()),Z=ir);for(var oe=0;oe<Z.length;oe++){var xe=at(L,Z[oe],Y||I.handleEvent,!1,I.h||I);if(!xe)break;I.g[xe.key]=xe}I=v.H?E(v.H):{},v.m?(v.u||(v.u="POST"),I["Content-Type"]="application/x-www-form-urlencoded",v.g.ea(v.A,v.u,v.m,I)):(v.u="GET",v.g.ea(v.A,v.u,null,I)),yt(),ls(v.i,v.u,v.A,v.l,v.R,v.m)}zi.prototype.ca=function(v){v=v.target;const I=this.M;I&&Ps(v)==3?I.j():this.Y(v)},zi.prototype.Y=function(v){try{if(v==this.g)e:{const qn=Ps(this.g);var I=this.g.Ba();const oa=this.g.Z();if(!(3>qn)&&(qn!=3||this.g&&(this.h.h||this.g.oa()||Rg(this.g)))){this.J||qn!=4||I==7||(I==8||0>=oa?yt(3):yt(2)),$a(this);var L=this.g.Z();this.X=L;t:if(_g(this)){var Y=Rg(this.g);v="";var Z=Y.length,oe=Ps(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ui(this),Tr(this);var xe="";break t}this.h.i=new l.TextDecoder}for(I=0;I<Z;I++)this.h.h=!0,v+=this.h.i.decode(Y[I],{stream:!(oe&&I==Z-1)});Y.length=0,this.h.g+=v,this.C=0,xe=this.h.g}else xe=this.g.oa();if(this.o=L==200,Rs(this.i,this.u,this.A,this.l,this.R,qn,L),this.o){if(this.T&&!this.K){t:{if(this.g){var Et,Gn=this.g;if((Et=Gn.g?Gn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!T(Et)){var Ct=Et;break t}}Ct=null}if(L=Ct)Wn(this.i,this.l,L,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,rl(this,L);else{this.o=!1,this.s=3,Oe(12),ui(this),Tr(this);break e}}if(this.P){L=!0;let hi;for(;!this.J&&this.C<xe.length;)if(hi=Ag(this,xe),hi==bc){qn==4&&(this.s=4,Oe(14),L=!1),Wn(this.i,this.l,null,"[Incomplete Response]");break}else if(hi==mh){this.s=4,Oe(15),Wn(this.i,this.l,xe,"[Invalid Chunk]"),L=!1;break}else Wn(this.i,this.l,hi,null),rl(this,hi);if(_g(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),qn!=4||xe.length!=0||this.h.h||(this.s=1,Oe(16),L=!1),this.o=this.o&&L,!L)Wn(this.i,this.l,xe,"[Invalid Chunked Response]"),ui(this),Tr(this);else if(0<xe.length&&!this.W){this.W=!0;var ei=this.j;ei.g==this&&ei.ba&&!ei.M&&(ei.j.info("Great, no buffering proxy detected. Bytes received: "+xe.length),ml(ei),ei.M=!0,Oe(11))}}else Wn(this.i,this.l,xe,null),rl(this,xe);qn==4&&ui(this),this.o&&!this.J&&(qn==4?Pg(this.j,this):(this.o=!1,sl(this)))}else Av(this.g),L==400&&0<xe.indexOf("Unknown SID")?(this.s=3,Oe(12)):(this.s=0,Oe(13)),ui(this),Tr(this)}}}catch{}finally{}};function _g(v){return v.g?v.u=="GET"&&v.L!=2&&v.j.Ca:!1}function Ag(v,I){var L=v.C,Y=I.indexOf(`
`,L);return Y==-1?bc:(L=Number(I.substring(L,Y)),isNaN(L)?mh:(Y+=1,Y+L>I.length?bc:(I=I.slice(Y,Y+L),v.C=Y+L,I)))}zi.prototype.cancel=function(){this.J=!0,ui(this)};function sl(v){v.S=Date.now()+v.I,Sg(v,v.I)}function Sg(v,I){if(v.B!=null)throw Error("WatchDog timer not null");v.B=_t(p(v.ba,v),I)}function $a(v){v.B&&(l.clearTimeout(v.B),v.B=null)}zi.prototype.ba=function(){this.B=null;const v=Date.now();0<=v-this.S?(Is(this.i,this.A),this.L!=2&&(yt(),Oe(17)),ui(this),this.s=2,Tr(this)):Sg(this,this.S-v)};function Tr(v){v.j.G==0||v.J||Pg(v.j,v)}function ui(v){$a(v);var I=v.M;I&&typeof I.ma=="function"&&I.ma(),v.M=null,J(v.U),v.g&&(I=v.g,v.g=null,I.abort(),I.ma())}function rl(v,I){try{var L=v.j;if(L.G!=0&&(L.g==v||yh(L.h,v))){if(!v.K&&yh(L.h,v)&&L.G==3){try{var Y=L.Da.g.parse(I)}catch{Y=null}if(Array.isArray(Y)&&Y.length==3){var Z=Y;if(Z[0]==0){e:if(!L.u){if(L.g)if(L.g.F+3e3<v.F)Mc(L),Rc(L);else break e;Ch(L),Oe(18)}}else L.za=Z[1],0<L.za-L.T&&37500>Z[2]&&L.F&&L.v==0&&!L.C&&(L.C=_t(p(L.Za,L),6e3));if(1>=wc(L.h)&&L.ca){try{L.ca()}catch{}L.ca=void 0}}else aa(L,11)}else if((v.K||L.g==v)&&Mc(L),!T(I))for(Z=L.Da.g.parse(I),I=0;I<Z.length;I++){let Ct=Z[I];if(L.T=Ct[0],Ct=Ct[1],L.G==2)if(Ct[0]=="c"){L.K=Ct[1],L.ia=Ct[2];const ei=Ct[3];ei!=null&&(L.la=ei,L.j.info("VER="+L.la));const qn=Ct[4];qn!=null&&(L.Aa=qn,L.j.info("SVER="+L.Aa));const oa=Ct[5];oa!=null&&typeof oa=="number"&&0<oa&&(Y=1.5*oa,L.L=Y,L.j.info("backChannelRequestTimeoutMs_="+Y)),Y=L;const hi=v.g;if(hi){const Dr=hi.g?hi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Dr){var oe=Y.h;oe.g||Dr.indexOf("spdy")==-1&&Dr.indexOf("quic")==-1&&Dr.indexOf("h2")==-1||(oe.j=oe.l,oe.g=new Set,oe.h&&(_c(oe,oe.h),oe.h=null))}if(Y.D){const Rh=hi.g?hi.g.getResponseHeader("X-HTTP-Session-Id"):null;Rh&&(Y.ya=Rh,Kt(Y.I,Y.D,Rh))}}L.G=3,L.l&&L.l.ua(),L.ba&&(L.R=Date.now()-v.F,L.j.info("Handshake RTT: "+L.R+"ms")),Y=L;var xe=v;if(Y.qa=Lg(Y,Y.J?Y.ia:null,Y.W),xe.K){ji(Y.h,xe);var Et=xe,Gn=Y.L;Gn&&(Et.I=Gn),Et.B&&($a(Et),sl(Et)),Y.g=xe}else Dg(Y);0<L.i.length&&Ic(L)}else Ct[0]!="stop"&&Ct[0]!="close"||aa(L,7);else L.G==3&&(Ct[0]=="stop"||Ct[0]=="close"?Ct[0]=="stop"?aa(L,7):Th(L):Ct[0]!="noop"&&L.l&&L.l.ta(Ct),L.v=0)}}yt(4)}catch{}}var Tg=class{constructor(v,I){this.g=v,this.map=I}};function ea(v){this.l=v||10,l.PerformanceNavigationTiming?(v=l.performance.getEntriesByType("navigation"),v=0<v.length&&(v[0].nextHopProtocol=="hq"||v[0].nextHopProtocol=="h2")):v=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=v?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function xc(v){return v.h?!0:v.g?v.g.size>=v.j:!1}function wc(v){return v.h?1:v.g?v.g.size:0}function yh(v,I){return v.h?v.h==I:v.g?v.g.has(I):!1}function _c(v,I){v.g?v.g.add(I):v.h=I}function ji(v,I){v.h&&v.h==I?v.h=null:v.g&&v.g.has(I)&&v.g.delete(I)}ea.prototype.cancel=function(){if(this.i=vh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const v of this.g.values())v.cancel();this.g.clear()}};function vh(v){if(v.h!=null)return v.i.concat(v.h.D);if(v.g!=null&&v.g.size!==0){let I=v.i;for(const L of v.g.values())I=I.concat(L.D);return I}return x(v.i)}function bv(v){if(v.V&&typeof v.V=="function")return v.V();if(typeof Map<"u"&&v instanceof Map||typeof Set<"u"&&v instanceof Set)return Array.from(v.values());if(typeof v=="string")return v.split("");if(c(v)){for(var I=[],L=v.length,Y=0;Y<L;Y++)I.push(v[Y]);return I}I=[],L=0;for(Y in v)I[L++]=v[Y];return I}function Ac(v){if(v.na&&typeof v.na=="function")return v.na();if(!v.V||typeof v.V!="function"){if(typeof Map<"u"&&v instanceof Map)return Array.from(v.keys());if(!(typeof Set<"u"&&v instanceof Set)){if(c(v)||typeof v=="string"){var I=[];v=v.length;for(var L=0;L<v;L++)I.push(L);return I}I=[],L=0;for(const Y in v)I[L++]=Y;return I}}}function bh(v,I){if(v.forEach&&typeof v.forEach=="function")v.forEach(I,void 0);else if(c(v)||typeof v=="string")Array.prototype.forEach.call(v,I,void 0);else for(var L=Ac(v),Y=bv(v),Z=Y.length,oe=0;oe<Z;oe++)I.call(void 0,Y[oe],L&&L[oe],v)}var al=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xv(v,I){if(v){v=v.split("&");for(var L=0;L<v.length;L++){var Y=v[L].indexOf("="),Z=null;if(0<=Y){var oe=v[L].substring(0,Y);Z=v[L].substring(Y+1)}else oe=v[L];I(oe,Z?decodeURIComponent(Z.replace(/\+/g," ")):"")}}}function zn(v){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,v instanceof zn){this.h=v.h,ol(this,v.j),this.o=v.o,this.g=v.g,Ka(this,v.s),this.l=v.l;var I=v.i,L=new na;L.i=I.i,I.g&&(L.g=new Map(I.g),L.h=I.h),ta(this,L),this.m=v.m}else v&&(I=String(v).match(al))?(this.h=!1,ol(this,I[1]||"",!0),this.o=Ms(I[2]||""),this.g=Ms(I[3]||"",!0),Ka(this,I[4]),this.l=Ms(I[5]||"",!0),ta(this,I[6]||"",!0),this.m=Ms(I[7]||"")):(this.h=!1,this.i=new na(null,this.h))}zn.prototype.toString=function(){var v=[],I=this.j;I&&v.push(cl(I,xh,!0),":");var L=this.g;return(L||I=="file")&&(v.push("//"),(I=this.o)&&v.push(cl(I,xh,!0),"@"),v.push(encodeURIComponent(String(L)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),L=this.s,L!=null&&v.push(":",String(L))),(L=this.l)&&(this.g&&L.charAt(0)!="/"&&v.push("/"),v.push(cl(L,L.charAt(0)=="/"?wv:wh,!0))),(L=this.i.toString())&&v.push("?",L),(L=this.m)&&v.push("#",cl(L,Sc)),v.join("")};function us(v){return new zn(v)}function ol(v,I,L){v.j=L?Ms(I,!0):I,v.j&&(v.j=v.j.replace(/:$/,""))}function Ka(v,I){if(I){if(I=Number(I),isNaN(I)||0>I)throw Error("Bad port number "+I);v.s=I}else v.s=null}function ta(v,I,L){I instanceof na?(v.i=I,Cg(v.i,v.h)):(L||(I=cl(I,_v)),v.i=new na(I,v.h))}function Kt(v,I,L){v.i.set(I,L)}function ll(v){return Kt(v,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),v}function Ms(v,I){return v?I?decodeURI(v.replace(/%25/g,"%2525")):decodeURIComponent(v):""}function cl(v,I,L){return typeof v=="string"?(v=encodeURI(v).replace(I,Eg),L&&(v=v.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v):null}function Eg(v){return v=v.charCodeAt(0),"%"+(v>>4&15).toString(16)+(v&15).toString(16)}var xh=/[#\/\?@]/g,wh=/[#\?:]/g,wv=/[#\?]/g,_v=/[#\?@]/g,Sc=/#/g;function na(v,I){this.h=this.g=null,this.i=v||null,this.j=!!I}function Ds(v){v.g||(v.g=new Map,v.h=0,v.i&&xv(v.i,function(I,L){v.add(decodeURIComponent(I.replace(/\+/g," ")),L)}))}i=na.prototype,i.add=function(v,I){Ds(this),this.i=null,v=Er(this,v);var L=this.g.get(v);return L||this.g.set(v,L=[]),L.push(I),this.h+=1,this};function ia(v,I){Ds(v),I=Er(v,I),v.g.has(I)&&(v.i=null,v.h-=v.g.get(I).length,v.g.delete(I))}function sa(v,I){return Ds(v),I=Er(v,I),v.g.has(I)}i.forEach=function(v,I){Ds(this),this.g.forEach(function(L,Y){L.forEach(function(Z){v.call(I,Z,Y,this)},this)},this)},i.na=function(){Ds(this);const v=Array.from(this.g.values()),I=Array.from(this.g.keys()),L=[];for(let Y=0;Y<I.length;Y++){const Z=v[Y];for(let oe=0;oe<Z.length;oe++)L.push(I[Y])}return L},i.V=function(v){Ds(this);let I=[];if(typeof v=="string")sa(this,v)&&(I=I.concat(this.g.get(Er(this,v))));else{v=Array.from(this.g.values());for(let L=0;L<v.length;L++)I=I.concat(v[L])}return I},i.set=function(v,I){return Ds(this),this.i=null,v=Er(this,v),sa(this,v)&&(this.h-=this.g.get(v).length),this.g.set(v,[I]),this.h+=1,this},i.get=function(v,I){return v?(v=this.V(v),0<v.length?String(v[0]):I):I};function _h(v,I,L){ia(v,I),0<L.length&&(v.i=null,v.g.set(Er(v,I),x(L)),v.h+=L.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const v=[],I=Array.from(this.g.keys());for(var L=0;L<I.length;L++){var Y=I[L];const oe=encodeURIComponent(String(Y)),xe=this.V(Y);for(Y=0;Y<xe.length;Y++){var Z=oe;xe[Y]!==""&&(Z+="="+encodeURIComponent(String(xe[Y]))),v.push(Z)}}return this.i=v.join("&")};function Er(v,I){return I=String(I),v.j&&(I=I.toLowerCase()),I}function Cg(v,I){I&&!v.j&&(Ds(v),v.i=null,v.g.forEach(function(L,Y){var Z=Y.toLowerCase();Y!=Z&&(ia(this,Y),_h(this,Z,L))},v)),v.j=I}function ul(v,I){const L=new on;if(l.Image){const Y=new Image;Y.onload=y(Ns,L,"TestLoadImage: loaded",!0,I,Y),Y.onerror=y(Ns,L,"TestLoadImage: error",!1,I,Y),Y.onabort=y(Ns,L,"TestLoadImage: abort",!1,I,Y),Y.ontimeout=y(Ns,L,"TestLoadImage: timeout",!1,I,Y),l.setTimeout(function(){Y.ontimeout&&Y.ontimeout()},1e4),Y.src=v}else I(!1)}function rr(v,I){const L=new on,Y=new AbortController,Z=setTimeout(()=>{Y.abort(),Ns(L,"TestPingServer: timeout",!1,I)},1e4);fetch(v,{signal:Y.signal}).then(oe=>{clearTimeout(Z),oe.ok?Ns(L,"TestPingServer: ok",!0,I):Ns(L,"TestPingServer: server error",!1,I)}).catch(()=>{clearTimeout(Z),Ns(L,"TestPingServer: error",!1,I)})}function Ns(v,I,L,Y,Z){try{Z&&(Z.onload=null,Z.onerror=null,Z.onabort=null,Z.ontimeout=null),Y(L)}catch{}}function hl(){this.g=new Je}function Cr(v,I,L){const Y=L||"";try{bh(v,function(Z,oe){let xe=Z;h(Z)&&(xe=ve(Z)),I.push(Y+oe+"="+encodeURIComponent(xe))})}catch(Z){throw I.push(Y+"type="+encodeURIComponent("_badmap")),Z}}function Qa(v){this.l=v.Ub||null,this.j=v.eb||!1}b(Qa,Tt),Qa.prototype.g=function(){return new ra(this.l,this.j)},Qa.prototype.i=function(v){return function(){return v}}({});function ra(v,I){$t.call(this),this.D=v,this.o=I,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(ra,$t),i=ra.prototype,i.open=function(v,I){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=v,this.A=I,this.readyState=1,Rr(this)},i.send=function(v){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const I={headers:this.u,method:this.B,credentials:this.m,cache:void 0};v&&(I.body=v),(this.D||l).fetch(new Request(this.A,I)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,kr(this)),this.readyState=0},i.Sa=function(v){if(this.g&&(this.l=v,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=v.headers,this.readyState=2,Rr(this)),this.g&&(this.readyState=3,Rr(this),this.g)))if(this.responseType==="arraybuffer")v.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in v){if(this.j=v.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ah(this)}else v.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ah(v){v.j.read().then(v.Pa.bind(v)).catch(v.ga.bind(v))}i.Pa=function(v){if(this.g){if(this.o&&v.value)this.response.push(v.value);else if(!this.o){var I=v.value?v.value:new Uint8Array(0);(I=this.v.decode(I,{stream:!v.done}))&&(this.response=this.responseText+=I)}v.done?kr(this):Rr(this),this.readyState==3&&Ah(this)}},i.Ra=function(v){this.g&&(this.response=this.responseText=v,kr(this))},i.Qa=function(v){this.g&&(this.response=v,kr(this))},i.ga=function(){this.g&&kr(this)};function kr(v){v.readyState=4,v.l=null,v.j=null,v.v=null,Rr(v)}i.setRequestHeader=function(v,I){this.u.append(v,I)},i.getResponseHeader=function(v){return this.h&&this.h.get(v.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const v=[],I=this.h.entries();for(var L=I.next();!L.done;)L=L.value,v.push(L[0]+": "+L[1]),L=I.next();return v.join(`\r
`)};function Rr(v){v.onreadystatechange&&v.onreadystatechange.call(v)}Object.defineProperty(ra.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(v){this.m=v?"include":"same-origin"}});function Sh(v){let I="";return P(v,function(L,Y){I+=Y,I+=":",I+=L,I+=`\r
`}),I}function Jn(v,I,L){e:{for(Y in L){var Y=!1;break e}Y=!0}Y||(L=Sh(L),typeof v=="string"?L!=null&&encodeURIComponent(String(L)):Kt(v,I,L))}function Ht(v){$t.call(this),this.headers=new Map,this.o=v||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(Ht,$t);var Tc=/^https?$/i,dl=["POST","PUT"];i=Ht.prototype,i.Ha=function(v){this.J=v},i.ea=function(v,I,L,Y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+v);I=I?I.toUpperCase():"GET",this.D=v,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ar.g(),this.v=this.o?Lt(this.o):Lt(Ar),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(I,String(v),!0),this.B=!1}catch(oe){kg(this,oe);return}if(v=L||"",L=new Map(this.headers),Y)if(Object.getPrototypeOf(Y)===Object.prototype)for(var Z in Y)L.set(Z,Y[Z]);else if(typeof Y.keys=="function"&&typeof Y.get=="function")for(const oe of Y.keys())L.set(oe,Y.get(oe));else throw Error("Unknown input type for opt_headers: "+String(Y));Y=Array.from(L.keys()).find(oe=>oe.toLowerCase()=="content-type"),Z=l.FormData&&v instanceof l.FormData,!(0<=Array.prototype.indexOf.call(dl,I,void 0))||Y||Z||L.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[oe,xe]of L)this.g.setRequestHeader(oe,xe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{fl(this),this.u=!0,this.g.send(v),this.u=!1}catch(oe){kg(this,oe)}};function kg(v,I){v.h=!1,v.g&&(v.j=!0,v.g.abort(),v.j=!1),v.l=I,v.m=5,Ec(v),Ir(v)}function Ec(v){v.A||(v.A=!0,ot(v,"complete"),ot(v,"error"))}i.abort=function(v){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=v||7,ot(this,"complete"),ot(this,"abort"),Ir(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ir(this,!0)),Ht.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Cc(this):this.bb())},i.bb=function(){Cc(this)};function Cc(v){if(v.h&&typeof a<"u"&&(!v.v[1]||Ps(v)!=4||v.Z()!=2)){if(v.u&&Ps(v)==4)an(v.Ea,0,v);else if(ot(v,"readystatechange"),Ps(v)==4){v.h=!1;try{const xe=v.Z();e:switch(xe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var I=!0;break e;default:I=!1}var L;if(!(L=I)){var Y;if(Y=xe===0){var Z=String(v.D).match(al)[1]||null;!Z&&l.self&&l.self.location&&(Z=l.self.location.protocol.slice(0,-1)),Y=!Tc.test(Z?Z.toLowerCase():"")}L=Y}if(L)ot(v,"complete"),ot(v,"success");else{v.m=6;try{var oe=2<Ps(v)?v.g.statusText:""}catch{oe=""}v.l=oe+" ["+v.Z()+"]",Ec(v)}}finally{Ir(v)}}}}function Ir(v,I){if(v.g){fl(v);const L=v.g,Y=v.v[0]?()=>{}:null;v.g=null,v.v=null,I||ot(v,"ready");try{L.onreadystatechange=Y}catch{}}}function fl(v){v.I&&(l.clearTimeout(v.I),v.I=null)}i.isActive=function(){return!!this.g};function Ps(v){return v.g?v.g.readyState:0}i.Z=function(){try{return 2<Ps(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(v){if(this.g){var I=this.g.responseText;return v&&I.indexOf(v)==0&&(I=I.substring(v.length)),Be(I)}};function Rg(v){try{if(!v.g)return null;if("response"in v.g)return v.g.response;switch(v.H){case"":case"text":return v.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in v.g)return v.g.mozResponseArrayBuffer}return null}catch{return null}}function Av(v){const I={};v=(v.g&&2<=Ps(v)&&v.g.getAllResponseHeaders()||"").split(`\r
`);for(let Y=0;Y<v.length;Y++){if(T(v[Y]))continue;var L=F(v[Y]);const Z=L[0];if(L=L[1],typeof L!="string")continue;L=L.trim();const oe=I[Z]||[];I[Z]=oe,oe.push(L)}k(I,function(Y){return Y.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function gl(v,I,L){return L&&L.internalChannelParams&&L.internalChannelParams[v]||I}function kc(v){this.Aa=0,this.i=[],this.j=new on,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=gl("failFast",!1,v),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=gl("baseRetryDelayMs",5e3,v),this.cb=gl("retryDelaySeedMs",1e4,v),this.Wa=gl("forwardChannelMaxRetries",2,v),this.wa=gl("forwardChannelRequestTimeoutMs",2e4,v),this.pa=v&&v.xmlHttpFactory||void 0,this.Xa=v&&v.Tb||void 0,this.Ca=v&&v.useFetchStreams||!1,this.L=void 0,this.J=v&&v.supportsCrossDomainXhr||!1,this.K="",this.h=new ea(v&&v.concurrentRequestLimit),this.Da=new hl,this.P=v&&v.fastHandshake||!1,this.O=v&&v.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=v&&v.Rb||!1,v&&v.xa&&this.j.xa(),v&&v.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&v&&v.detectBufferingProxy||!1,this.ja=void 0,v&&v.longPollingTimeout&&0<v.longPollingTimeout&&(this.ja=v.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=kc.prototype,i.la=8,i.G=1,i.connect=function(v,I,L,Y){Oe(0),this.W=v,this.H=I||{},L&&Y!==void 0&&(this.H.OSID=L,this.H.OAID=Y),this.F=this.X,this.I=Lg(this,null,this.W),Ic(this)};function Th(v){if(Ig(v),v.G==3){var I=v.U++,L=us(v.I);if(Kt(L,"SID",v.K),Kt(L,"RID",I),Kt(L,"TYPE","terminate"),pl(v,L),I=new zi(v,v.j,I),I.L=2,I.v=ll(us(L)),L=!1,l.navigator&&l.navigator.sendBeacon)try{L=l.navigator.sendBeacon(I.v.toString(),"")}catch{}!L&&l.Image&&(new Image().src=I.v,L=!0),L||(I.g=Vg(I.j,null),I.g.ea(I.v)),I.F=Date.now(),sl(I)}Og(v)}function Rc(v){v.g&&(ml(v),v.g.cancel(),v.g=null)}function Ig(v){Rc(v),v.u&&(l.clearTimeout(v.u),v.u=null),Mc(v),v.h.cancel(),v.s&&(typeof v.s=="number"&&l.clearTimeout(v.s),v.s=null)}function Ic(v){if(!xc(v.h)&&!v.s){v.s=!0;var I=v.Ga;G||le(),ee||(G(),ee=!0),ue.add(I,v),v.B=0}}function Sv(v,I){return wc(v.h)>=v.h.j-(v.s?1:0)?!1:v.s?(v.i=I.D.concat(v.i),!0):v.G==1||v.G==2||v.B>=(v.Va?0:v.Wa)?!1:(v.s=_t(p(v.Ga,v,I),kh(v,v.B)),v.B++,!0)}i.Ga=function(v){if(this.s)if(this.s=null,this.G==1){if(!v){this.U=Math.floor(1e5*Math.random()),v=this.U++;const Z=new zi(this,this.j,v);let oe=this.o;if(this.S&&(oe?(oe=E(oe),O(oe,this.S)):oe=this.S),this.m!==null||this.O||(Z.H=oe,oe=null),this.P)e:{for(var I=0,L=0;L<this.i.length;L++){t:{var Y=this.i[L];if("__data__"in Y.map&&(Y=Y.map.__data__,typeof Y=="string")){Y=Y.length;break t}Y=void 0}if(Y===void 0)break;if(I+=Y,4096<I){I=L;break e}if(I===4096||L===this.i.length-1){I=L+1;break e}}I=1e3}else I=1e3;I=Mg(this,Z,I),L=us(this.I),Kt(L,"RID",v),Kt(L,"CVER",22),this.D&&Kt(L,"X-HTTP-Session-Id",this.D),pl(this,L),oe&&(this.O?I="headers="+encodeURIComponent(String(Sh(oe)))+"&"+I:this.m&&Jn(L,this.m,oe)),_c(this.h,Z),this.Ua&&Kt(L,"TYPE","init"),this.P?(Kt(L,"$req",I),Kt(L,"SID","null"),Z.T=!0,sr(Z,L,null)):sr(Z,L,I),this.G=2}}else this.G==3&&(v?Eh(this,v):this.i.length==0||xc(this.h)||Eh(this))};function Eh(v,I){var L;I?L=I.l:L=v.U++;const Y=us(v.I);Kt(Y,"SID",v.K),Kt(Y,"RID",L),Kt(Y,"AID",v.T),pl(v,Y),v.m&&v.o&&Jn(Y,v.m,v.o),L=new zi(v,v.j,L,v.B+1),v.m===null&&(L.H=v.o),I&&(v.i=I.D.concat(v.i)),I=Mg(v,L,1e3),L.I=Math.round(.5*v.wa)+Math.round(.5*v.wa*Math.random()),_c(v.h,L),sr(L,Y,I)}function pl(v,I){v.H&&P(v.H,function(L,Y){Kt(I,Y,L)}),v.l&&bh({},function(L,Y){Kt(I,Y,L)})}function Mg(v,I,L){L=Math.min(v.i.length,L);var Y=v.l?p(v.l.Na,v.l,v):null;e:{var Z=v.i;let oe=-1;for(;;){const xe=["count="+L];oe==-1?0<L?(oe=Z[0].g,xe.push("ofs="+oe)):oe=0:xe.push("ofs="+oe);let Et=!0;for(let Gn=0;Gn<L;Gn++){let Ct=Z[Gn].g;const ei=Z[Gn].map;if(Ct-=oe,0>Ct)oe=Math.max(0,Z[Gn].g-100),Et=!1;else try{Cr(ei,xe,"req"+Ct+"_")}catch{Y&&Y(ei)}}if(Et){Y=xe.join("&");break e}}}return v=v.i.splice(0,L),I.D=v,Y}function Dg(v){if(!v.g&&!v.u){v.Y=1;var I=v.Fa;G||le(),ee||(G(),ee=!0),ue.add(I,v),v.v=0}}function Ch(v){return v.g||v.u||3<=v.v?!1:(v.Y++,v.u=_t(p(v.Fa,v),kh(v,v.v)),v.v++,!0)}i.Fa=function(){if(this.u=null,Ng(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var v=2*this.R;this.j.info("BP detection timer enabled: "+v),this.A=_t(p(this.ab,this),v)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Oe(10),Rc(this),Ng(this))};function ml(v){v.A!=null&&(l.clearTimeout(v.A),v.A=null)}function Ng(v){v.g=new zi(v,v.j,"rpc",v.Y),v.m===null&&(v.g.H=v.o),v.g.O=0;var I=us(v.qa);Kt(I,"RID","rpc"),Kt(I,"SID",v.K),Kt(I,"AID",v.T),Kt(I,"CI",v.F?"0":"1"),!v.F&&v.ja&&Kt(I,"TO",v.ja),Kt(I,"TYPE","xmlhttp"),pl(v,I),v.m&&v.o&&Jn(I,v.m,v.o),v.L&&(v.g.I=v.L);var L=v.g;v=v.ia,L.L=1,L.v=ll(us(I)),L.m=null,L.P=!0,Jr(L,v)}i.Za=function(){this.C!=null&&(this.C=null,Rc(this),Ch(this),Oe(19))};function Mc(v){v.C!=null&&(l.clearTimeout(v.C),v.C=null)}function Pg(v,I){var L=null;if(v.g==I){Mc(v),ml(v),v.g=null;var Y=2}else if(yh(v.h,I))L=I.D,ji(v.h,I),Y=1;else return;if(v.G!=0){if(I.o)if(Y==1){L=I.m?I.m.length:0,I=Date.now()-I.F;var Z=v.B;Y=ht(),ot(Y,new gt(Y,L)),Ic(v)}else Dg(v);else if(Z=I.s,Z==3||Z==0&&0<I.X||!(Y==1&&Sv(v,I)||Y==2&&Ch(v)))switch(L&&0<L.length&&(I=v.h,I.i=I.i.concat(L)),Z){case 1:aa(v,5);break;case 4:aa(v,10);break;case 3:aa(v,6);break;default:aa(v,2)}}}function kh(v,I){let L=v.Ta+Math.floor(Math.random()*v.cb);return v.isActive()||(L*=2),L*I}function aa(v,I){if(v.j.info("Error code "+I),I==2){var L=p(v.fb,v),Y=v.Xa;const Z=!Y;Y=new zn(Y||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||ol(Y,"https"),ll(Y),Z?ul(Y.toString(),L):rr(Y.toString(),L)}else Oe(2);v.G=0,v.l&&v.l.sa(I),Og(v),Ig(v)}i.fb=function(v){v?(this.j.info("Successfully pinged google.com"),Oe(2)):(this.j.info("Failed to ping google.com"),Oe(1))};function Og(v){if(v.G=0,v.ka=[],v.l){const I=vh(v.h);(I.length!=0||v.i.length!=0)&&(_(v.ka,I),_(v.ka,v.i),v.h.i.length=0,x(v.i),v.i.length=0),v.l.ra()}}function Lg(v,I,L){var Y=L instanceof zn?us(L):new zn(L);if(Y.g!="")I&&(Y.g=I+"."+Y.g),Ka(Y,Y.s);else{var Z=l.location;Y=Z.protocol,I=I?I+"."+Z.hostname:Z.hostname,Z=+Z.port;var oe=new zn(null);Y&&ol(oe,Y),I&&(oe.g=I),Z&&Ka(oe,Z),L&&(oe.l=L),Y=oe}return L=v.D,I=v.ya,L&&I&&Kt(Y,L,I),Kt(Y,"VER",v.la),pl(v,Y),Y}function Vg(v,I,L){if(I&&!v.J)throw Error("Can't create secondary domain capable XhrIo object.");return I=v.Ca&&!v.pa?new Ht(new Qa({eb:L})):new Ht(v.pa),I.Ha(v.J),I}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Fg(){}i=Fg.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Dc(){}Dc.prototype.g=function(v,I){return new Bi(v,I)};function Bi(v,I){$t.call(this),this.g=new kc(I),this.l=v,this.h=I&&I.messageUrlParams||null,v=I&&I.messageHeaders||null,I&&I.clientProtocolHeaderRequired&&(v?v["X-Client-Protocol"]="webchannel":v={"X-Client-Protocol":"webchannel"}),this.g.o=v,v=I&&I.initMessageHeaders||null,I&&I.messageContentType&&(v?v["X-WebChannel-Content-Type"]=I.messageContentType:v={"X-WebChannel-Content-Type":I.messageContentType}),I&&I.va&&(v?v["X-WebChannel-Client-Profile"]=I.va:v={"X-WebChannel-Client-Profile":I.va}),this.g.S=v,(v=I&&I.Sb)&&!T(v)&&(this.g.m=v),this.v=I&&I.supportsCrossDomainXhr||!1,this.u=I&&I.sendRawJson||!1,(I=I&&I.httpSessionIdParam)&&!T(I)&&(this.g.D=I,v=this.h,v!==null&&I in v&&(v=this.h,I in v&&delete v[I])),this.j=new Mr(this)}b(Bi,$t),Bi.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Bi.prototype.close=function(){Th(this.g)},Bi.prototype.o=function(v){var I=this.g;if(typeof v=="string"){var L={};L.__data__=v,v=L}else this.u&&(L={},L.__data__=ve(v),v=L);I.i.push(new Tg(I.Ya++,v)),I.G==3&&Ic(I)},Bi.prototype.N=function(){this.g.l=null,delete this.j,Th(this.g),delete this.g,Bi.aa.N.call(this)};function zg(v){et.call(this),v.__headers__&&(this.headers=v.__headers__,this.statusCode=v.__status__,delete v.__headers__,delete v.__status__);var I=v.__sm__;if(I){e:{for(const L in I){v=L;break e}v=void 0}(this.i=v)&&(v=this.i,I=I!==null&&v in I?I[v]:void 0),this.data=I}else this.data=v}b(zg,et);function jg(){Vt.call(this),this.status=1}b(jg,Vt);function Mr(v){this.g=v}b(Mr,Fg),Mr.prototype.ua=function(){ot(this.g,"a")},Mr.prototype.ta=function(v){ot(this.g,new zg(v))},Mr.prototype.sa=function(v){ot(this.g,new jg)},Mr.prototype.ra=function(){ot(this.g,"b")},Dc.prototype.createWebChannel=Dc.prototype.g,Bi.prototype.send=Bi.prototype.o,Bi.prototype.open=Bi.prototype.m,Bi.prototype.close=Bi.prototype.close,VD=function(){return new Dc},LD=function(){return ht()},OD=ze,X0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},qa.NO_ERROR=0,qa.TIMEOUT=8,qa.HTTP_ERROR=6,fm=qa,Zr.COMPLETE="complete",PD=Zr,rt.EventType=ut,ut.OPEN="a",ut.CLOSE="b",ut.ERROR="c",ut.MESSAGE="d",$t.prototype.listen=$t.prototype.K,Cd=rt,Ht.prototype.listenOnce=Ht.prototype.L,Ht.prototype.getLastError=Ht.prototype.Ka,Ht.prototype.getLastErrorCode=Ht.prototype.Ba,Ht.prototype.getStatus=Ht.prototype.Z,Ht.prototype.getResponseJson=Ht.prototype.Oa,Ht.prototype.getResponseText=Ht.prototype.oa,Ht.prototype.send=Ht.prototype.ea,Ht.prototype.setWithCredentials=Ht.prototype.Ha,ND=Ht}).apply(typeof Up<"u"?Up:typeof self<"u"?self:typeof window<"u"?window:{});const ck="@firebase/firestore",uk="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ki=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ki.UNAUTHENTICATED=new ki(null),ki.GOOGLE_CREDENTIALS=new ki("google-credentials-uid"),ki.FIRST_PARTY=new ki("first-party-uid"),ki.MOCK_USER=new ki("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ju="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ec=new Ff("@firebase/firestore");function hu(){return ec.logLevel}function Ie(i,...e){if(ec.logLevel<=wt.DEBUG){const t=e.map(X_);ec.debug(`Firestore (${Ju}): ${i}`,...t)}}function Fa(i,...e){if(ec.logLevel<=wt.ERROR){const t=e.map(X_);ec.error(`Firestore (${Ju}): ${i}`,...t)}}function Pu(i,...e){if(ec.logLevel<=wt.WARN){const t=e.map(X_);ec.warn(`Firestore (${Ju}): ${i}`,...t)}}function X_(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ze(i="Unexpected state"){const e=`FIRESTORE (${Ju}) INTERNAL ASSERTION FAILED: `+i;throw Fa(e),new Error(e)}function Xt(i,e){i||Ze()}function st(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Re extends tr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class h5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ki.UNAUTHENTICATED))}shutdown(){}}class d5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class f5{constructor(e){this.t=e,this.currentUser=ki.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Xt(this.o===void 0);let n=this.i;const s=c=>this.i!==n?(n=this.i,t(c)):Promise.resolve();let r=new Ma;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new Ma,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=r;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},l=c=>{Ie("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(Ie("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new Ma)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(n=>this.i!==e?(Ie("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Xt(typeof n.accessToken=="string"),new FD(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xt(e===null||typeof e=="string"),new ki(e)}}class g5{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=ki.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class p5{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new g5(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(ki.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class hk{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class m5{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,ns(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Xt(this.o===void 0);const n=r=>{r.error!=null&&Ie("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${r.error.message}`);const a=r.token!==this.R;return this.R=r.token,Ie("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?t(r.token):Promise.resolve()};this.o=r=>{e.enqueueRetryable(()=>n(r))};const s=r=>{Ie("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(r=>s(r)),setTimeout(()=>{if(!this.appCheck){const r=this.A.getImmediate({optional:!0});r?s(r):Ie("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new hk(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Xt(typeof t.token=="string"),this.R=t.token,new hk(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y5(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let n=0;n<i;n++)t[n]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zD(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const s=y5(40);for(let r=0;r<s.length;++r)n.length<20&&s[r]<t&&(n+=e.charAt(s[r]%62))}return n}}function ft(i,e){return i<e?-1:i>e?1:0}function W0(i,e){let t=0;for(;t<i.length&&t<e.length;){const n=i.codePointAt(t),s=e.codePointAt(t);if(n!==s){if(n<128&&s<128)return ft(n,s);{const r=zD(),a=v5(r.encode(dk(i,t)),r.encode(dk(e,t)));return a!==0?a:ft(n,s)}}t+=n>65535?2:1}return ft(i.length,e.length)}function dk(i,e){return i.codePointAt(e)>65535?i.substring(e,e+2):i.substring(e,e+1)}function v5(i,e){for(let t=0;t<i.length&&t<e.length;++t)if(i[t]!==e[t])return ft(i[t],e[t]);return ft(i.length,e.length)}function Ou(i,e,t){return i.length===e.length&&i.every((n,s)=>t(n,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fk=-62135596800,gk=1e6;class un{static now(){return un.fromMillis(Date.now())}static fromDate(e){return un.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*gk);return new un(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Re(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Re(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<fk)throw new Re(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Re(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/gk}_compareTo(e){return this.seconds===e.seconds?ft(this.nanoseconds,e.nanoseconds):ft(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-fk;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{static fromTimestamp(e){return new nt(e)}static min(){return new nt(new un(0,0))}static max(){return new nt(new un(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pk="__name__";class Fr{constructor(e,t,n){t===void 0?t=0:t>e.length&&Ze(),n===void 0?n=e.length-t:n>e.length-t&&Ze(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return Fr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Fr?e.forEach(n=>{t.push(n)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let s=0;s<n;s++){const r=Fr.compareSegments(e.get(s),t.get(s));if(r!==0)return r}return ft(e.length,t.length)}static compareSegments(e,t){const n=Fr.isNumericId(e),s=Fr.isNumericId(t);return n&&!s?-1:!n&&s?1:n&&s?Fr.extractNumericId(e).compare(Fr.extractNumericId(t)):W0(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Do.fromString(e.substring(4,e.length-2))}}class mn extends Fr{construct(e,t,n){return new mn(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new Re(de.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(s=>s.length>0))}return new mn(t)}static emptyPath(){return new mn([])}}const b5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vi extends Fr{construct(e,t,n){return new vi(e,t,n)}static isValidIdentifier(e){return b5.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===pk}static keyField(){return new vi([pk])}static fromServerFormat(e){const t=[];let n="",s=0;const r=()=>{if(n.length===0)throw new Re(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let a=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new Re(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Re(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=c,s+=2}else l==="`"?(a=!a,s++):l!=="."||a?(n+=l,s++):(r(),s++)}if(r(),a)throw new Re(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new vi(t)}static emptyPath(){return new vi([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e){this.path=e}static fromPath(e){return new Fe(mn.fromString(e))}static fromName(e){return new Fe(mn.fromString(e).popFirst(5))}static empty(){return new Fe(mn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&mn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return mn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Fe(new mn(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lf=-1;function x5(i,e){const t=i.toTimestamp().seconds,n=i.toTimestamp().nanoseconds+1,s=nt.fromTimestamp(n===1e9?new un(t+1,0):new un(t,n));return new Vo(s,Fe.empty(),e)}function w5(i){return new Vo(i.readTime,i.key,lf)}class Vo{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Vo(nt.min(),Fe.empty(),lf)}static max(){return new Vo(nt.max(),Fe.empty(),lf)}}function _5(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=Fe.comparator(i.documentKey,e.documentKey),t!==0?t:ft(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class S5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eh(i){if(i.code!==de.FAILED_PRECONDITION||i.message!==A5)throw i;Ie("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ze(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new pe((n,s)=>{this.nextCallback=r=>{this.wrapSuccess(e,r).next(n,s)},this.catchCallback=r=>{this.wrapFailure(t,r).next(n,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof pe?t:pe.resolve(t)}catch(t){return pe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):pe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):pe.reject(t)}static resolve(e){return new pe((t,n)=>{t(e)})}static reject(e){return new pe((t,n)=>{n(e)})}static waitFor(e){return new pe((t,n)=>{let s=0,r=0,a=!1;e.forEach(l=>{++s,l.next(()=>{++r,a&&r===s&&t()},c=>n(c))}),a=!0,r===s&&t()})}static or(e){let t=pe.resolve(!1);for(const n of e)t=t.next(s=>s?pe.resolve(s):n());return t}static forEach(e,t){const n=[];return e.forEach((s,r)=>{n.push(t.call(this,s,r))}),this.waitFor(n)}static mapArray(e,t){return new pe((n,s)=>{const r=e.length,a=new Array(r);let l=0;for(let c=0;c<r;c++){const h=c;t(e[h]).next(d=>{a[h]=d,++l,l===r&&n(a)},d=>s(d))}})}static doWhile(e,t){return new pe((n,s)=>{const r=()=>{e()===!0?t().next(()=>{r()},s):n()};r()})}}function T5(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function th(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=n=>this.oe(n),this._e=n=>t.writeSequenceNumber(n))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Vy.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_=-1;function Fy(i){return i==null}function Ym(i){return i===0&&1/i==-1/0}function E5(i){return typeof i=="number"&&Number.isInteger(i)&&!Ym(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BD="";function C5(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=mk(e)),e=k5(i.get(t),e);return mk(e)}function k5(i,e){let t=e;const n=i.length;for(let s=0;s<n;s++){const r=i.charAt(s);switch(r){case"\0":t+="";break;case BD:t+="";break;default:t+=r}}return t}function mk(i){return i+BD+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yk(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function Jo(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function HD(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yn=class G0{constructor(e,t){this.comparator=e,this.root=t||No.EMPTY}insert(e,t){return new G0(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,No.BLACK,null,null))}remove(e){return new G0(this.comparator,this.root.remove(e,this.comparator).copy(null,null,No.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(n===0)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return t+n.left.size;s<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yp(this.root,e,this.comparator,!0)}},Yp=class{constructor(e,t,n,s){this.isReverse=s,this.nodeStack=[];let r=1;for(;!e.isEmpty();)if(r=t?n(e.key,t):1,t&&s&&(r*=-1),r<0)e=this.isReverse?e.left:e.right;else{if(r===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},No=class _a{constructor(e,t,n,s,r){this.key=e,this.value=t,this.color=n??_a.RED,this.left=s??_a.EMPTY,this.right=r??_a.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,s,r){return new _a(e??this.key,t??this.value,n??this.color,s??this.left,r??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let s=this;const r=n(e,s.key);return s=r<0?s.copy(null,null,null,s.left.insert(e,t,n),null):r===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,n)),s.fixUp()}removeMin(){if(this.left.isEmpty())return _a.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return _a.EMPTY;n=s.right.min(),s=s.copy(n.key,n.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_a.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_a.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ze();const e=this.left.check();if(e!==this.right.check())throw Ze();return e+(this.isRed()?0:1)}};No.EMPTY=null,No.RED=!0,No.BLACK=!1;No.EMPTY=new class{constructor(){this.size=0}get key(){throw Ze()}get value(){throw Ze()}get color(){throw Ze()}get left(){throw Ze()}get right(){throw Ze()}copy(e,t,n,s,r){return this}insert(e,t,n){return new No(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this.comparator=e,this.data=new Yn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const s=n.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let n;for(n=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new vk(this.data.getIterator())}getIteratorFrom(e){return new vk(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(n=>{t=t.add(n)}),t}isEqual(e){if(!(e instanceof Zn)||this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,r=n.getNext().key;if(this.comparator(s,r)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Zn(this.comparator);return t.data=e,t}}class vk{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e){this.fields=e,e.sort(vi.comparator)}static empty(){return new xs([])}unionWith(e){let t=new Zn(vi.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new xs(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ou(this.fields,e.fields,(t,n)=>t.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new UD("Invalid base64 string: "+r):r}}(e);return new xi(t)}static fromUint8Array(e){const t=function(s){let r="";for(let a=0;a<s.length;++a)r+=String.fromCharCode(s[a]);return r}(e);return new xi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const n=new Uint8Array(t.length);for(let s=0;s<t.length;s++)n[s]=t.charCodeAt(s);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ft(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xi.EMPTY_BYTE_STRING=new xi("");const R5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fo(i){if(Xt(!!i),typeof i=="string"){let e=0;const t=R5.exec(i);if(Xt(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const n=new Date(i);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Fn(i.seconds),nanos:Fn(i.nanos)}}function Fn(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function zo(i){return typeof i=="string"?xi.fromBase64String(i):xi.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD="server_timestamp",XD="__type__",WD="__previous_value__",GD="__local_write_time__";function G_(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[XD])===null||t===void 0?void 0:t.stringValue)===YD}function zy(i){const e=i.mapValue.fields[WD];return G_(e)?zy(e):e}function cf(i){const e=Fo(i.mapValue.fields[GD].timestampValue);return new un(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I5{constructor(e,t,n,s,r,a,l,c,h){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=s,this.ssl=r,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=h}}const Xm="(default)";class uf{constructor(e,t){this.projectId=e,this.database=t||Xm}static empty(){return new uf("","")}get isDefaultDatabase(){return this.database===Xm}isEqual(e){return e instanceof uf&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD="__type__",M5="__max__",Xp={mapValue:{}},$D="__vector__",Wm="value";function jo(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?G_(i)?4:N5(i)?9007199254740991:D5(i)?10:11:Ze()}function qr(i,e){if(i===e)return!0;const t=jo(i);if(t!==jo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return cf(i).isEqual(cf(e));case 3:return function(s,r){if(typeof s.timestampValue=="string"&&typeof r.timestampValue=="string"&&s.timestampValue.length===r.timestampValue.length)return s.timestampValue===r.timestampValue;const a=Fo(s.timestampValue),l=Fo(r.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(s,r){return zo(s.bytesValue).isEqual(zo(r.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(s,r){return Fn(s.geoPointValue.latitude)===Fn(r.geoPointValue.latitude)&&Fn(s.geoPointValue.longitude)===Fn(r.geoPointValue.longitude)}(i,e);case 2:return function(s,r){if("integerValue"in s&&"integerValue"in r)return Fn(s.integerValue)===Fn(r.integerValue);if("doubleValue"in s&&"doubleValue"in r){const a=Fn(s.doubleValue),l=Fn(r.doubleValue);return a===l?Ym(a)===Ym(l):isNaN(a)&&isNaN(l)}return!1}(i,e);case 9:return Ou(i.arrayValue.values||[],e.arrayValue.values||[],qr);case 10:case 11:return function(s,r){const a=s.mapValue.fields||{},l=r.mapValue.fields||{};if(yk(a)!==yk(l))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(l[c]===void 0||!qr(a[c],l[c])))return!1;return!0}(i,e);default:return Ze()}}function hf(i,e){return(i.values||[]).find(t=>qr(t,e))!==void 0}function Lu(i,e){if(i===e)return 0;const t=jo(i),n=jo(e);if(t!==n)return ft(t,n);switch(t){case 0:case 9007199254740991:return 0;case 1:return ft(i.booleanValue,e.booleanValue);case 2:return function(r,a){const l=Fn(r.integerValue||r.doubleValue),c=Fn(a.integerValue||a.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(i,e);case 3:return bk(i.timestampValue,e.timestampValue);case 4:return bk(cf(i),cf(e));case 5:return W0(i.stringValue,e.stringValue);case 6:return function(r,a){const l=zo(r),c=zo(a);return l.compareTo(c)}(i.bytesValue,e.bytesValue);case 7:return function(r,a){const l=r.split("/"),c=a.split("/");for(let h=0;h<l.length&&h<c.length;h++){const d=ft(l[h],c[h]);if(d!==0)return d}return ft(l.length,c.length)}(i.referenceValue,e.referenceValue);case 8:return function(r,a){const l=ft(Fn(r.latitude),Fn(a.latitude));return l!==0?l:ft(Fn(r.longitude),Fn(a.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return xk(i.arrayValue,e.arrayValue);case 10:return function(r,a){var l,c,h,d;const f=r.fields||{},p=a.fields||{},y=(l=f[Wm])===null||l===void 0?void 0:l.arrayValue,b=(c=p[Wm])===null||c===void 0?void 0:c.arrayValue,x=ft(((h=y==null?void 0:y.values)===null||h===void 0?void 0:h.length)||0,((d=b==null?void 0:b.values)===null||d===void 0?void 0:d.length)||0);return x!==0?x:xk(y,b)}(i.mapValue,e.mapValue);case 11:return function(r,a){if(r===Xp.mapValue&&a===Xp.mapValue)return 0;if(r===Xp.mapValue)return 1;if(a===Xp.mapValue)return-1;const l=r.fields||{},c=Object.keys(l),h=a.fields||{},d=Object.keys(h);c.sort(),d.sort();for(let f=0;f<c.length&&f<d.length;++f){const p=W0(c[f],d[f]);if(p!==0)return p;const y=Lu(l[c[f]],h[d[f]]);if(y!==0)return y}return ft(c.length,d.length)}(i.mapValue,e.mapValue);default:throw Ze()}}function bk(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return ft(i,e);const t=Fo(i),n=Fo(e),s=ft(t.seconds,n.seconds);return s!==0?s:ft(t.nanos,n.nanos)}function xk(i,e){const t=i.values||[],n=e.values||[];for(let s=0;s<t.length&&s<n.length;++s){const r=Lu(t[s],n[s]);if(r)return r}return ft(t.length,n.length)}function Vu(i){return q0(i)}function q0(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(t){const n=Fo(t);return`time(${n.seconds},${n.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(t){return zo(t).toBase64()}(i.bytesValue):"referenceValue"in i?function(t){return Fe.fromName(t).toString()}(i.referenceValue):"geoPointValue"in i?function(t){return`geo(${t.latitude},${t.longitude})`}(i.geoPointValue):"arrayValue"in i?function(t){let n="[",s=!0;for(const r of t.values||[])s?s=!1:n+=",",n+=q0(r);return n+"]"}(i.arrayValue):"mapValue"in i?function(t){const n=Object.keys(t.fields||{}).sort();let s="{",r=!0;for(const a of n)r?r=!1:s+=",",s+=`${a}:${q0(t.fields[a])}`;return s+"}"}(i.mapValue):Ze()}function gm(i){switch(jo(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=zy(i);return e?16+gm(e):16;case 5:return 2*i.stringValue.length;case 6:return zo(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((s,r)=>s+gm(r),0)}(i.arrayValue);case 10:case 11:return function(n){let s=0;return Jo(n.fields,(r,a)=>{s+=r.length+gm(a)}),s}(i.mapValue);default:throw Ze()}}function wk(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function $0(i){return!!i&&"integerValue"in i}function q_(i){return!!i&&"arrayValue"in i}function _k(i){return!!i&&"nullValue"in i}function Ak(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function pm(i){return!!i&&"mapValue"in i}function D5(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[qD])===null||t===void 0?void 0:t.stringValue)===$D}function Vd(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Jo(i.mapValue.fields,(t,n)=>e.mapValue.fields[t]=Vd(n)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Vd(i.arrayValue.values[t]);return e}return Object.assign({},i)}function N5(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===M5}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e){this.value=e}static empty(){return new is({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!pm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vd(t)}setAll(e){let t=vi.emptyPath(),n={},s=[];e.forEach((a,l)=>{if(!t.isImmediateParentOf(l)){const c=this.getFieldsMap(t);this.applyChanges(c,n,s),n={},s=[],t=l.popLast()}a?n[l.lastSegment()]=Vd(a):s.push(l.lastSegment())});const r=this.getFieldsMap(t);this.applyChanges(r,n,s)}delete(e){const t=this.field(e.popLast());pm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return qr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let s=t.mapValue.fields[e.get(n)];pm(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,n){Jo(t,(s,r)=>e[s]=r);for(const s of n)delete e[s]}clone(){return new is(Vd(this.value))}}function KD(i){const e=[];return Jo(i.fields,(t,n)=>{const s=new vi([t]);if(pm(n)){const r=KD(n.mapValue).fields;if(r.length===0)e.push(s);else for(const a of r)e.push(s.child(a))}else e.push(s)}),new xs(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(e,t,n,s,r,a,l){this.key=e,this.documentType=t,this.version=n,this.readTime=s,this.createTime=r,this.data=a,this.documentState=l}static newInvalidDocument(e){return new Ii(e,0,nt.min(),nt.min(),nt.min(),is.empty(),0)}static newFoundDocument(e,t,n,s){return new Ii(e,1,t,nt.min(),n,s,0)}static newNoDocument(e,t){return new Ii(e,2,t,nt.min(),nt.min(),is.empty(),0)}static newUnknownDocument(e,t){return new Ii(e,3,t,nt.min(),nt.min(),is.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(nt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=is.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=is.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=nt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ii&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ii(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(e,t){this.position=e,this.inclusive=t}}function Sk(i,e,t){let n=0;for(let s=0;s<i.position.length;s++){const r=e[s],a=i.position[s];if(r.field.isKeyField()?n=Fe.comparator(Fe.fromName(a.referenceValue),t.key):n=Lu(a,t.data.field(r.field)),r.dir==="desc"&&(n*=-1),n!==0)break}return n}function Tk(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!qr(i.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(e,t="asc"){this.field=e,this.dir=t}}function P5(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{}class Un extends QD{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,n):new L5(e,t,n):t==="array-contains"?new z5(e,n):t==="in"?new j5(e,n):t==="not-in"?new B5(e,n):t==="array-contains-any"?new H5(e,n):new Un(e,t,n)}static createKeyFieldInFilter(e,t,n){return t==="in"?new V5(e,n):new F5(e,n)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Lu(t,this.value)):t!==null&&jo(this.value)===jo(t)&&this.matchesComparison(Lu(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ze()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class xr extends QD{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new xr(e,t)}matches(e){return ZD(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function ZD(i){return i.op==="and"}function JD(i){return O5(i)&&ZD(i)}function O5(i){for(const e of i.filters)if(e instanceof xr)return!1;return!0}function K0(i){if(i instanceof Un)return i.field.canonicalString()+i.op.toString()+Vu(i.value);if(JD(i))return i.filters.map(e=>K0(e)).join(",");{const e=i.filters.map(t=>K0(t)).join(",");return`${i.op}(${e})`}}function eN(i,e){return i instanceof Un?function(n,s){return s instanceof Un&&n.op===s.op&&n.field.isEqual(s.field)&&qr(n.value,s.value)}(i,e):i instanceof xr?function(n,s){return s instanceof xr&&n.op===s.op&&n.filters.length===s.filters.length?n.filters.reduce((r,a,l)=>r&&eN(a,s.filters[l]),!0):!1}(i,e):void Ze()}function tN(i){return i instanceof Un?function(t){return`${t.field.canonicalString()} ${t.op} ${Vu(t.value)}`}(i):i instanceof xr?function(t){return t.op.toString()+" {"+t.getFilters().map(tN).join(" ,")+"}"}(i):"Filter"}class L5 extends Un{constructor(e,t,n){super(e,t,n),this.key=Fe.fromName(n.referenceValue)}matches(e){const t=Fe.comparator(e.key,this.key);return this.matchesComparison(t)}}class V5 extends Un{constructor(e,t){super(e,"in",t),this.keys=nN("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class F5 extends Un{constructor(e,t){super(e,"not-in",t),this.keys=nN("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function nN(i,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(n=>Fe.fromName(n.referenceValue))}class z5 extends Un{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return q_(t)&&hf(t.arrayValue,this.value)}}class j5 extends Un{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&hf(this.value.arrayValue,t)}}class B5 extends Un{constructor(e,t){super(e,"not-in",t)}matches(e){if(hf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!hf(this.value.arrayValue,t)}}class H5 extends Un{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!q_(t)||!t.arrayValue.values)&&t.arrayValue.values.some(n=>hf(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U5{constructor(e,t=null,n=[],s=[],r=null,a=null,l=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=s,this.limit=r,this.startAt=a,this.endAt=l,this.le=null}}function Ek(i,e=null,t=[],n=[],s=null,r=null,a=null){return new U5(i,e,t,n,s,r,a)}function $_(i){const e=st(i);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(n=>K0(n)).join(","),t+="|ob:",t+=e.orderBy.map(n=>function(r){return r.field.canonicalString()+r.dir}(n)).join(","),Fy(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(n=>Vu(n)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(n=>Vu(n)).join(",")),e.le=t}return e.le}function K_(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!P5(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!eN(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Tk(i.startAt,e.startAt)&&Tk(i.endAt,e.endAt)}function Q0(i){return Fe.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e,t=null,n=[],s=[],r=null,a="F",l=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=s,this.limit=r,this.limitType=a,this.startAt=l,this.endAt=c,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function Y5(i,e,t,n,s,r,a,l){return new nh(i,e,t,n,s,r,a,l)}function jy(i){return new nh(i)}function Ck(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function iN(i){return i.collectionGroup!==null}function Fd(i){const e=st(i);if(e.he===null){e.he=[];const t=new Set;for(const r of e.explicitOrderBy)e.he.push(r),t.add(r.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new Zn(vi.comparator);return a.filters.forEach(c=>{c.getFlattenedFilters().forEach(h=>{h.isInequality()&&(l=l.add(h.field))})}),l})(e).forEach(r=>{t.has(r.canonicalString())||r.isKeyField()||e.he.push(new df(r,n))}),t.has(vi.keyField().canonicalString())||e.he.push(new df(vi.keyField(),n))}return e.he}function Hr(i){const e=st(i);return e.Pe||(e.Pe=X5(e,Fd(i))),e.Pe}function X5(i,e){if(i.limitType==="F")return Ek(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(s=>{const r=s.dir==="desc"?"asc":"desc";return new df(s.field,r)});const t=i.endAt?new Gm(i.endAt.position,i.endAt.inclusive):null,n=i.startAt?new Gm(i.startAt.position,i.startAt.inclusive):null;return Ek(i.path,i.collectionGroup,e,i.filters,i.limit,t,n)}}function Z0(i,e){const t=i.filters.concat([e]);return new nh(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function J0(i,e,t){return new nh(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function By(i,e){return K_(Hr(i),Hr(e))&&i.limitType===e.limitType}function sN(i){return`${$_(Hr(i))}|lt:${i.limitType}`}function du(i){return`Query(target=${function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map(s=>tN(s)).join(", ")}]`),Fy(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map(s=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(s)).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(s=>Vu(s)).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(s=>Vu(s)).join(",")),`Target(${n})`}(Hr(i))}; limitType=${i.limitType})`}function Hy(i,e){return e.isFoundDocument()&&function(n,s){const r=s.key.path;return n.collectionGroup!==null?s.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(r):Fe.isDocumentKey(n.path)?n.path.isEqual(r):n.path.isImmediateParentOf(r)}(i,e)&&function(n,s){for(const r of Fd(n))if(!r.field.isKeyField()&&s.data.field(r.field)===null)return!1;return!0}(i,e)&&function(n,s){for(const r of n.filters)if(!r.matches(s))return!1;return!0}(i,e)&&function(n,s){return!(n.startAt&&!function(a,l,c){const h=Sk(a,l,c);return a.inclusive?h<=0:h<0}(n.startAt,Fd(n),s)||n.endAt&&!function(a,l,c){const h=Sk(a,l,c);return a.inclusive?h>=0:h>0}(n.endAt,Fd(n),s))}(i,e)}function W5(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function rN(i){return(e,t)=>{let n=!1;for(const s of Fd(i)){const r=G5(s,e,t);if(r!==0)return r;n=n||s.field.isKeyField()}return 0}}function G5(i,e,t){const n=i.field.isKeyField()?Fe.comparator(e.key,t.key):function(r,a,l){const c=a.data.field(r),h=l.data.field(r);return c!==null&&h!==null?Lu(c,h):Ze()}(i.field,e,t);switch(i.dir){case"asc":return n;case"desc":return-1*n;default:return Ze()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n!==void 0){for(const[s,r]of n)if(this.equalsFn(s,e))return r}}has(e){return this.get(e)!==void 0}set(e,t){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return this.inner[n]=[[e,t]],void this.innerSize++;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],e))return void(s[r]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n===void 0)return!1;for(let s=0;s<n.length;s++)if(this.equalsFn(n[s][0],e))return n.length===1?delete this.inner[t]:n.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Jo(this.inner,(t,n)=>{for(const[s,r]of n)e(s,r)})}isEmpty(){return HD(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q5=new Yn(Fe.comparator);function za(){return q5}const aN=new Yn(Fe.comparator);function kd(...i){let e=aN;for(const t of i)e=e.insert(t.key,t);return e}function oN(i){let e=aN;return i.forEach((t,n)=>e=e.insert(t,n.overlayedDocument)),e}function Bl(){return zd()}function lN(){return zd()}function zd(){return new dc(i=>i.toString(),(i,e)=>i.isEqual(e))}const $5=new Yn(Fe.comparator),K5=new Zn(Fe.comparator);function At(...i){let e=K5;for(const t of i)e=e.add(t);return e}const Q5=new Zn(ft);function Z5(){return Q5}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q_(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ym(e)?"-0":e}}function cN(i){return{integerValue:""+i}}function J5(i,e){return E5(e)?cN(e):Q_(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy{constructor(){this._=void 0}}function e6(i,e,t){return i instanceof ff?function(s,r){const a={fields:{[XD]:{stringValue:YD},[GD]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return r&&G_(r)&&(r=zy(r)),r&&(a.fields[WD]=r),{mapValue:a}}(t,e):i instanceof gf?hN(i,e):i instanceof pf?dN(i,e):function(s,r){const a=uN(s,r),l=kk(a)+kk(s.Ie);return $0(a)&&$0(s.Ie)?cN(l):Q_(s.serializer,l)}(i,e)}function t6(i,e,t){return i instanceof gf?hN(i,e):i instanceof pf?dN(i,e):t}function uN(i,e){return i instanceof qm?function(n){return $0(n)||function(r){return!!r&&"doubleValue"in r}(n)}(e)?e:{integerValue:0}:null}class ff extends Uy{}class gf extends Uy{constructor(e){super(),this.elements=e}}function hN(i,e){const t=fN(e);for(const n of i.elements)t.some(s=>qr(s,n))||t.push(n);return{arrayValue:{values:t}}}class pf extends Uy{constructor(e){super(),this.elements=e}}function dN(i,e){let t=fN(e);for(const n of i.elements)t=t.filter(s=>!qr(s,n));return{arrayValue:{values:t}}}class qm extends Uy{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function kk(i){return Fn(i.integerValue||i.doubleValue)}function fN(i){return q_(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6{constructor(e,t){this.field=e,this.transform=t}}function i6(i,e){return i.field.isEqual(e.field)&&function(n,s){return n instanceof gf&&s instanceof gf||n instanceof pf&&s instanceof pf?Ou(n.elements,s.elements,qr):n instanceof qm&&s instanceof qm?qr(n.Ie,s.Ie):n instanceof ff&&s instanceof ff}(i.transform,e.transform)}class s6{constructor(e,t){this.version=e,this.transformResults=t}}class Gi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Gi}static exists(e){return new Gi(void 0,e)}static updateTime(e){return new Gi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function mm(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Yy{}function gN(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Xy(i.key,Gi.none()):new Yf(i.key,i.data,Gi.none());{const t=i.data,n=is.empty();let s=new Zn(vi.comparator);for(let r of e.fields)if(!s.has(r)){let a=t.field(r);a===null&&r.length>1&&(r=r.popLast(),a=t.field(r)),a===null?n.delete(r):n.set(r,a),s=s.add(r)}return new el(i.key,n,new xs(s.toArray()),Gi.none())}}function r6(i,e,t){i instanceof Yf?function(s,r,a){const l=s.value.clone(),c=Ik(s.fieldTransforms,r,a.transformResults);l.setAll(c),r.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(i,e,t):i instanceof el?function(s,r,a){if(!mm(s.precondition,r))return void r.convertToUnknownDocument(a.version);const l=Ik(s.fieldTransforms,r,a.transformResults),c=r.data;c.setAll(pN(s)),c.setAll(l),r.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(i,e,t):function(s,r,a){r.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,t)}function jd(i,e,t,n){return i instanceof Yf?function(r,a,l,c){if(!mm(r.precondition,a))return l;const h=r.value.clone(),d=Mk(r.fieldTransforms,c,a);return h.setAll(d),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),null}(i,e,t,n):i instanceof el?function(r,a,l,c){if(!mm(r.precondition,a))return l;const h=Mk(r.fieldTransforms,c,a),d=a.data;return d.setAll(pN(r)),d.setAll(h),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),l===null?null:l.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(f=>f.field))}(i,e,t,n):function(r,a,l){return mm(r.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(i,e,t)}function a6(i,e){let t=null;for(const n of i.fieldTransforms){const s=e.data.field(n.field),r=uN(n.transform,s||null);r!=null&&(t===null&&(t=is.empty()),t.set(n.field,r))}return t||null}function Rk(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(n,s){return n===void 0&&s===void 0||!(!n||!s)&&Ou(n,s,(r,a)=>i6(r,a))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Yf extends Yy{constructor(e,t,n,s=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class el extends Yy{constructor(e,t,n,s,r=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=s,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function pN(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const n=i.data.field(t);e.set(t,n)}}),e}function Ik(i,e,t){const n=new Map;Xt(i.length===t.length);for(let s=0;s<t.length;s++){const r=i[s],a=r.transform,l=e.data.field(r.field);n.set(r.field,t6(a,l,t[s]))}return n}function Mk(i,e,t){const n=new Map;for(const s of i){const r=s.transform,a=t.data.field(s.field);n.set(s.field,e6(r,a,e))}return n}class Xy extends Yy{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class o6 extends Yy{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l6{constructor(e,t,n,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=s}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const r=this.mutations[s];r.key.isEqual(e.key)&&r6(r,e,n[s])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=jd(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=jd(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=lN();return this.mutations.forEach(s=>{const r=e.get(s.key),a=r.overlayedDocument;let l=this.applyToLocalView(a,r.mutatedFields);l=t.has(s.key)?null:l;const c=gN(a,l);c!==null&&n.set(s.key,c),a.isValidDocument()||a.convertToNoDocument(nt.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),At())}isEqual(e){return this.batchId===e.batchId&&Ou(this.mutations,e.mutations,(t,n)=>Rk(t,n))&&Ou(this.baseMutations,e.baseMutations,(t,n)=>Rk(t,n))}}class Z_{constructor(e,t,n,s){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=s}static from(e,t,n){Xt(e.mutations.length===n.length);let s=function(){return $5}();const r=e.mutations;for(let a=0;a<r.length;a++)s=s.insert(r[a].key,n[a].version);return new Z_(e,t,n,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c6{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u6{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hn,Rt;function h6(i){switch(i){case de.OK:return Ze();case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0;default:return Ze()}}function mN(i){if(i===void 0)return Fa("GRPC error has no .code"),de.UNKNOWN;switch(i){case Hn.OK:return de.OK;case Hn.CANCELLED:return de.CANCELLED;case Hn.UNKNOWN:return de.UNKNOWN;case Hn.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case Hn.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case Hn.INTERNAL:return de.INTERNAL;case Hn.UNAVAILABLE:return de.UNAVAILABLE;case Hn.UNAUTHENTICATED:return de.UNAUTHENTICATED;case Hn.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case Hn.NOT_FOUND:return de.NOT_FOUND;case Hn.ALREADY_EXISTS:return de.ALREADY_EXISTS;case Hn.PERMISSION_DENIED:return de.PERMISSION_DENIED;case Hn.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case Hn.ABORTED:return de.ABORTED;case Hn.OUT_OF_RANGE:return de.OUT_OF_RANGE;case Hn.UNIMPLEMENTED:return de.UNIMPLEMENTED;case Hn.DATA_LOSS:return de.DATA_LOSS;default:return Ze()}}(Rt=Hn||(Hn={}))[Rt.OK=0]="OK",Rt[Rt.CANCELLED=1]="CANCELLED",Rt[Rt.UNKNOWN=2]="UNKNOWN",Rt[Rt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Rt[Rt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Rt[Rt.NOT_FOUND=5]="NOT_FOUND",Rt[Rt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Rt[Rt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Rt[Rt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Rt[Rt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Rt[Rt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Rt[Rt.ABORTED=10]="ABORTED",Rt[Rt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Rt[Rt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Rt[Rt.INTERNAL=13]="INTERNAL",Rt[Rt.UNAVAILABLE=14]="UNAVAILABLE",Rt[Rt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d6=new Do([4294967295,4294967295],0);function Dk(i){const e=zD().encode(i),t=new DD;return t.update(e),new Uint8Array(t.digest())}function Nk(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),n=e.getUint32(4,!0),s=e.getUint32(8,!0),r=e.getUint32(12,!0);return[new Do([t,n],0),new Do([s,r],0)]}class J_{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Rd(`Invalid padding: ${t}`);if(n<0)throw new Rd(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Rd(`Invalid hash count: ${n}`);if(e.length===0&&t!==0)throw new Rd(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Do.fromNumber(this.Ee)}Ae(e,t,n){let s=e.add(t.multiply(Do.fromNumber(n)));return s.compare(d6)===1&&(s=new Do([s.getBits(0),s.getBits(1)],0)),s.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=Dk(e),[n,s]=Nk(t);for(let r=0;r<this.hashCount;r++){const a=this.Ae(n,s,r);if(!this.Re(a))return!1}return!0}static create(e,t,n){const s=e%8==0?0:8-e%8,r=new Uint8Array(Math.ceil(e/8)),a=new J_(r,s,t);return n.forEach(l=>a.insert(l)),a}insert(e){if(this.Ee===0)return;const t=Dk(e),[n,s]=Nk(t);for(let r=0;r<this.hashCount;r++){const a=this.Ae(n,s,r);this.Ve(a)}}Ve(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Rd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{constructor(e,t,n,s,r){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=s,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const s=new Map;return s.set(e,Xf.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Wy(nt.min(),s,new Yn(ft),za(),At())}}class Xf{constructor(e,t,n,s,r){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=s,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Xf(n,t,At(),At(),At())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(e,t,n,s){this.me=e,this.removedTargetIds=t,this.key=n,this.fe=s}}class yN{constructor(e,t){this.targetId=e,this.ge=t}}class vN{constructor(e,t,n=xi.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=s}}class Pk{constructor(){this.pe=0,this.ye=Ok(),this.we=xi.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=At(),t=At(),n=At();return this.ye.forEach((s,r)=>{switch(r){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:n=n.add(s);break;default:Ze()}}),new Xf(this.we,this.Se,e,t,n)}Me(){this.be=!1,this.ye=Ok()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Xt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class f6{constructor(e){this.ke=e,this.qe=new Map,this.Qe=za(),this.$e=Wp(),this.Ue=Wp(),this.Ke=new Yn(ft)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const n=this.He(t);switch(e.state){case 0:this.Je(t)&&n.Ce(e.resumeToken);break;case 1:n.Be(),n.De||n.Me(),n.Ce(e.resumeToken);break;case 2:n.Be(),n.De||this.removeTarget(t);break;case 3:this.Je(t)&&(n.Le(),n.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),n.Ce(e.resumeToken));break;default:Ze()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((n,s)=>{this.Je(s)&&t(s)})}Ze(e){const t=e.targetId,n=e.ge.count,s=this.Xe(t);if(s){const r=s.target;if(Q0(r))if(n===0){const a=new Fe(r.path);this.ze(t,a,Ii.newNoDocument(a,nt.min()))}else Xt(n===1);else{const a=this.et(t);if(a!==n){const l=this.tt(e),c=l?this.nt(l,e,a):1;if(c!==0){this.Ye(t);const h=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,h)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:s=0},hashCount:r=0}=t;let a,l;try{a=zo(n).toUint8Array()}catch(c){if(c instanceof UD)return Pu("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new J_(a,s,r)}catch(c){return Pu(c instanceof Rd?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.Ee===0?null:l}nt(e,t,n){return t.ge.count===n-this.st(e,t.targetId)?0:2}st(e,t){const n=this.ke.getRemoteKeysForTarget(t);let s=0;return n.forEach(r=>{const a=this.ke.it(),l=`projects/${a.projectId}/databases/${a.database}/documents/${r.path.canonicalString()}`;e.mightContain(l)||(this.ze(t,r,null),s++)}),s}ot(e){const t=new Map;this.qe.forEach((r,a)=>{const l=this.Xe(a);if(l){if(r.current&&Q0(l.target)){const c=new Fe(l.target.path);this._t(c).has(a)||this.ut(a,c)||this.ze(a,c,Ii.newNoDocument(c,e))}r.ve&&(t.set(a,r.Fe()),r.Me())}});let n=At();this.Ue.forEach((r,a)=>{let l=!0;a.forEachWhile(c=>{const h=this.Xe(c);return!h||h.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(n=n.add(r))}),this.Qe.forEach((r,a)=>a.setReadTime(e));const s=new Wy(e,t,this.Ke,this.Qe,n);return this.Qe=za(),this.$e=Wp(),this.Ue=Wp(),this.Ke=new Yn(ft),s}Ge(e,t){if(!this.Je(e))return;const n=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,n),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}ze(e,t,n){if(!this.Je(e))return;const s=this.He(e);this.ut(e,t)?s.xe(t,1):s.Oe(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),this.Ue=this.Ue.insert(t,this.ct(t).add(e)),n&&(this.Qe=this.Qe.insert(t,n))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new Pk,this.qe.set(e,t)),t}ct(e){let t=this.Ue.get(e);return t||(t=new Zn(ft),this.Ue=this.Ue.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Zn(ft),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||Ie("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Pk),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function Wp(){return new Yn(Fe.comparator)}function Ok(){return new Yn(Fe.comparator)}const g6={asc:"ASCENDING",desc:"DESCENDING"},p6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},m6={and:"AND",or:"OR"};class y6{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function ew(i,e){return i.useProto3Json||Fy(e)?e:{value:e}}function $m(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function bN(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function v6(i,e){return $m(i,e.toTimestamp())}function Ur(i){return Xt(!!i),nt.fromTimestamp(function(t){const n=Fo(t);return new un(n.seconds,n.nanos)}(i))}function eA(i,e){return tw(i,e).canonicalString()}function tw(i,e){const t=function(s){return new mn(["projects",s.projectId,"databases",s.database])}(i).child("documents");return e===void 0?t:t.child(e)}function xN(i){const e=mn.fromString(i);return Xt(TN(e)),e}function nw(i,e){return eA(i.databaseId,e.path)}function Rx(i,e){const t=xN(e);if(t.get(1)!==i.databaseId.projectId)throw new Re(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new Re(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new Fe(_N(t))}function wN(i,e){return eA(i.databaseId,e)}function b6(i){const e=xN(i);return e.length===4?mn.emptyPath():_N(e)}function iw(i){return new mn(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function _N(i){return Xt(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function Lk(i,e,t){return{name:nw(i,e),fields:t.value.mapValue.fields}}function x6(i,e){let t;if("targetChange"in e){e.targetChange;const n=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Ze()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],r=function(h,d){return h.useProto3Json?(Xt(d===void 0||typeof d=="string"),xi.fromBase64String(d||"")):(Xt(d===void 0||d instanceof Buffer||d instanceof Uint8Array),xi.fromUint8Array(d||new Uint8Array))}(i,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&function(h){const d=h.code===void 0?de.UNKNOWN:mN(h.code);return new Re(d,h.message||"")}(a);t=new vN(n,s,r,l||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const s=Rx(i,n.document.name),r=Ur(n.document.updateTime),a=n.document.createTime?Ur(n.document.createTime):nt.min(),l=new is({mapValue:{fields:n.document.fields}}),c=Ii.newFoundDocument(s,r,a,l),h=n.targetIds||[],d=n.removedTargetIds||[];t=new ym(h,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const s=Rx(i,n.document),r=n.readTime?Ur(n.readTime):nt.min(),a=Ii.newNoDocument(s,r),l=n.removedTargetIds||[];t=new ym([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const s=Rx(i,n.document),r=n.removedTargetIds||[];t=new ym([],r,s,null)}else{if(!("filter"in e))return Ze();{e.filter;const n=e.filter;n.targetId;const{count:s=0,unchangedNames:r}=n,a=new u6(s,r),l=n.targetId;t=new yN(l,a)}}return t}function w6(i,e){let t;if(e instanceof Yf)t={update:Lk(i,e.key,e.value)};else if(e instanceof Xy)t={delete:nw(i,e.key)};else if(e instanceof el)t={update:Lk(i,e.key,e.data),updateMask:I6(e.fieldMask)};else{if(!(e instanceof o6))return Ze();t={verify:nw(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(n=>function(r,a){const l=a.transform;if(l instanceof ff)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof gf)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof pf)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof qm)return{fieldPath:a.field.canonicalString(),increment:l.Ie};throw Ze()}(0,n))),e.precondition.isNone||(t.currentDocument=function(s,r){return r.updateTime!==void 0?{updateTime:v6(s,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:Ze()}(i,e.precondition)),t}function _6(i,e){return i&&i.length>0?(Xt(e!==void 0),i.map(t=>function(s,r){let a=s.updateTime?Ur(s.updateTime):Ur(r);return a.isEqual(nt.min())&&(a=Ur(r)),new s6(a,s.transformResults||[])}(t,e))):[]}function A6(i,e){return{documents:[wN(i,e.path)]}}function S6(i,e){const t={structuredQuery:{}},n=e.path;let s;e.collectionGroup!==null?(s=n,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=n.popLast(),t.structuredQuery.from=[{collectionId:n.lastSegment()}]),t.parent=wN(i,s);const r=function(h){if(h.length!==0)return SN(xr.create(h,"and"))}(e.filters);r&&(t.structuredQuery.where=r);const a=function(h){if(h.length!==0)return h.map(d=>function(p){return{field:fu(p.field),direction:C6(p.dir)}}(d))}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const l=ew(i,e.limit);return l!==null&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{ht:t,parent:s}}function T6(i){let e=b6(i.parent);const t=i.structuredQuery,n=t.from?t.from.length:0;let s=null;if(n>0){Xt(n===1);const d=t.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let r=[];t.where&&(r=function(f){const p=AN(f);return p instanceof xr&&JD(p)?p.getFilters():[p]}(t.where));let a=[];t.orderBy&&(a=function(f){return f.map(p=>function(b){return new df(gu(b.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(p))}(t.orderBy));let l=null;t.limit&&(l=function(f){let p;return p=typeof f=="object"?f.value:f,Fy(p)?null:p}(t.limit));let c=null;t.startAt&&(c=function(f){const p=!!f.before,y=f.values||[];return new Gm(y,p)}(t.startAt));let h=null;return t.endAt&&(h=function(f){const p=!f.before,y=f.values||[];return new Gm(y,p)}(t.endAt)),Y5(e,s,a,r,l,"F",c,h)}function E6(i,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ze()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function AN(i){return i.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=gu(t.unaryFilter.field);return Un.create(n,"==",{doubleValue:NaN});case"IS_NULL":const s=gu(t.unaryFilter.field);return Un.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=gu(t.unaryFilter.field);return Un.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=gu(t.unaryFilter.field);return Un.create(a,"!=",{nullValue:"NULL_VALUE"});default:return Ze()}}(i):i.fieldFilter!==void 0?function(t){return Un.create(gu(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ze()}}(t.fieldFilter.op),t.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(t){return xr.create(t.compositeFilter.filters.map(n=>AN(n)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ze()}}(t.compositeFilter.op))}(i):Ze()}function C6(i){return g6[i]}function k6(i){return p6[i]}function R6(i){return m6[i]}function fu(i){return{fieldPath:i.canonicalString()}}function gu(i){return vi.fromServerFormat(i.fieldPath)}function SN(i){return i instanceof Un?function(t){if(t.op==="=="){if(Ak(t.value))return{unaryFilter:{field:fu(t.field),op:"IS_NAN"}};if(_k(t.value))return{unaryFilter:{field:fu(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Ak(t.value))return{unaryFilter:{field:fu(t.field),op:"IS_NOT_NAN"}};if(_k(t.value))return{unaryFilter:{field:fu(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fu(t.field),op:k6(t.op),value:t.value}}}(i):i instanceof xr?function(t){const n=t.getFilters().map(s=>SN(s));return n.length===1?n[0]:{compositeFilter:{op:R6(t.op),filters:n}}}(i):Ze()}function I6(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function TN(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e,t,n,s,r=nt.min(),a=nt.min(),l=xi.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=s,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new Ro(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ro(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ro(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ro(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M6{constructor(e){this.Tt=e}}function D6(i){const e=T6({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?J0(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N6{constructor(){this.Tn=new P6}addToCollectionParentIndex(e,t){return this.Tn.add(t),pe.resolve()}getCollectionParents(e,t){return pe.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return pe.resolve()}deleteFieldIndex(e,t){return pe.resolve()}deleteAllFieldIndexes(e){return pe.resolve()}createTargetIndexes(e,t){return pe.resolve()}getDocumentsMatchingTarget(e,t){return pe.resolve(null)}getIndexType(e,t){return pe.resolve(0)}getFieldIndexes(e,t){return pe.resolve([])}getNextCollectionGroupToUpdate(e){return pe.resolve(null)}getMinOffset(e,t){return pe.resolve(Vo.min())}getMinOffsetFromCollectionGroup(e,t){return pe.resolve(Vo.min())}updateCollectionGroup(e,t,n){return pe.resolve()}updateIndexEntries(e,t){return pe.resolve()}}class P6{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),s=this.index[t]||new Zn(mn.comparator),r=!s.has(n);return this.index[t]=s.add(n),r}has(e){const t=e.lastSegment(),n=e.popLast(),s=this.index[t];return s&&s.has(n)}getEntries(e){return(this.index[e]||new Zn(mn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vk={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},EN=41943040;class ts{static withCacheSize(e){return new ts(e,ts.DEFAULT_COLLECTION_PERCENTILE,ts.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ts.DEFAULT_COLLECTION_PERCENTILE=10,ts.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ts.DEFAULT=new ts(EN,ts.DEFAULT_COLLECTION_PERCENTILE,ts.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ts.DISABLED=new ts(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Fu(0)}static Kn(){return new Fu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fk="LruGarbageCollector",O6=1048576;function zk([i,e],[t,n]){const s=ft(i,t);return s===0?ft(e,n):s}class L6{constructor(e){this.Hn=e,this.buffer=new Zn(zk),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const n=this.buffer.last();zk(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}get maxValue(){return this.buffer.last()[0]}}class V6{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){Ie(Fk,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){th(t)?Ie(Fk,"Ignoring IndexedDB error during garbage collection: ",t):await eh(t)}await this.er(3e5)})}}class F6{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(n=>Math.floor(t/100*n))}nthSequenceNumber(e,t){if(t===0)return pe.resolve(Vy.ae);const n=new L6(t);return this.tr.forEachTarget(e,s=>n.Zn(s.sequenceNumber)).next(()=>this.tr.rr(e,s=>n.Zn(s))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.tr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Ie("LruGarbageCollector","Garbage collection skipped; disabled"),pe.resolve(Vk)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(Ie("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Vk):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let n,s,r,a,l,c,h;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(Ie("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,a=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(n=f,l=Date.now(),this.removeTargets(e,n,t))).next(f=>(r=f,c=Date.now(),this.removeOrphanedDocuments(e,n))).next(f=>(h=Date.now(),hu()<=wt.DEBUG&&Ie("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-d}ms
	Determined least recently used ${s} in `+(l-a)+`ms
	Removed ${r} targets in `+(c-l)+`ms
	Removed ${f} documents in `+(h-c)+`ms
Total Duration: ${h-d}ms`),pe.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:r,documentsRemoved:f})))}}function z6(i,e){return new F6(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j6{constructor(){this.changes=new dc(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ii.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return n!==void 0?pe.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B6{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H6{constructor(e,t,n,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=s}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(n=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(n!==null&&jd(n.mutation,s,xs.empty(),un.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.getLocalViewOfDocuments(e,n,At()).next(()=>n))}getLocalViewOfDocuments(e,t,n=At()){const s=Bl();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,n).next(r=>{let a=kd();return r.forEach((l,c)=>{a=a.insert(l,c.overlayedDocument)}),a}))}getOverlayedDocuments(e,t){const n=Bl();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,At()))}populateOverlays(e,t,n){const s=[];return n.forEach(r=>{t.has(r)||s.push(r)}),this.documentOverlayCache.getOverlays(e,s).next(r=>{r.forEach((a,l)=>{t.set(a,l)})})}computeViews(e,t,n,s){let r=za();const a=zd(),l=function(){return zd()}();return t.forEach((c,h)=>{const d=n.get(h.key);s.has(h.key)&&(d===void 0||d.mutation instanceof el)?r=r.insert(h.key,h):d!==void 0?(a.set(h.key,d.mutation.getFieldMask()),jd(d.mutation,h,d.mutation.getFieldMask(),un.now())):a.set(h.key,xs.empty())}),this.recalculateAndSaveOverlays(e,r).next(c=>(c.forEach((h,d)=>a.set(h,d)),t.forEach((h,d)=>{var f;return l.set(h,new B6(d,(f=a.get(h))!==null&&f!==void 0?f:null))}),l))}recalculateAndSaveOverlays(e,t){const n=zd();let s=new Yn((a,l)=>a-l),r=At();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(a=>{for(const l of a)l.keys().forEach(c=>{const h=t.get(c);if(h===null)return;let d=n.get(c)||xs.empty();d=l.applyToLocalView(h,d),n.set(c,d);const f=(s.get(l.batchId)||At()).add(c);s=s.insert(l.batchId,f)})}).next(()=>{const a=[],l=s.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),h=c.key,d=c.value,f=lN();d.forEach(p=>{if(!r.has(p)){const y=gN(t.get(p),n.get(p));y!==null&&f.set(p,y),r=r.add(p)}}),a.push(this.documentOverlayCache.saveOverlays(e,h,f))}return pe.waitFor(a)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,t,n,s){return function(a){return Fe.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):iN(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,s):this.getDocumentsMatchingCollectionQuery(e,t,n,s)}getNextDocuments(e,t,n,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,s).next(r=>{const a=s-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,s-r.size):pe.resolve(Bl());let l=lf,c=r;return a.next(h=>pe.forEach(h,(d,f)=>(l<f.largestBatchId&&(l=f.largestBatchId),r.get(d)?pe.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{c=c.insert(d,p)}))).next(()=>this.populateOverlays(e,h,r)).next(()=>this.computeViews(e,c,h,At())).next(d=>({batchId:l,changes:oN(d)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Fe(t)).next(n=>{let s=kd();return n.isFoundDocument()&&(s=s.insert(n.key,n)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,n,s){const r=t.collectionGroup;let a=kd();return this.indexManager.getCollectionParents(e,r).next(l=>pe.forEach(l,c=>{const h=function(f,p){return new nh(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(t,c.child(r));return this.getDocumentsMatchingCollectionQuery(e,h,n,s).next(d=>{d.forEach((f,p)=>{a=a.insert(f,p)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,n,s){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(a=>(r=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r,s))).next(a=>{r.forEach((c,h)=>{const d=h.getKey();a.get(d)===null&&(a=a.insert(d,Ii.newInvalidDocument(d)))});let l=kd();return a.forEach((c,h)=>{const d=r.get(c);d!==void 0&&jd(d.mutation,h,xs.empty(),un.now()),Hy(t,h)&&(l=l.insert(c,h))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U6{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return pe.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:Ur(s.createTime)}}(t)),pe.resolve()}getNamedQuery(e,t){return pe.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(s){return{name:s.name,query:D6(s.bundledQuery),readTime:Ur(s.readTime)}}(t)),pe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y6{constructor(){this.overlays=new Yn(Fe.comparator),this.Rr=new Map}getOverlay(e,t){return pe.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Bl();return pe.forEach(t,s=>this.getOverlay(e,s).next(r=>{r!==null&&n.set(s,r)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((s,r)=>{this.Et(e,t,r)}),pe.resolve()}removeOverlaysForBatchId(e,t,n){const s=this.Rr.get(n);return s!==void 0&&(s.forEach(r=>this.overlays=this.overlays.remove(r)),this.Rr.delete(n)),pe.resolve()}getOverlaysForCollection(e,t,n){const s=Bl(),r=t.length+1,a=new Fe(t.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const c=l.getNext().value,h=c.getKey();if(!t.isPrefixOf(h.path))break;h.path.length===r&&c.largestBatchId>n&&s.set(c.getKey(),c)}return pe.resolve(s)}getOverlaysForCollectionGroup(e,t,n,s){let r=new Yn((h,d)=>h-d);const a=this.overlays.getIterator();for(;a.hasNext();){const h=a.getNext().value;if(h.getKey().getCollectionGroup()===t&&h.largestBatchId>n){let d=r.get(h.largestBatchId);d===null&&(d=Bl(),r=r.insert(h.largestBatchId,d)),d.set(h.getKey(),h)}}const l=Bl(),c=r.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((h,d)=>l.set(h,d)),!(l.size()>=s)););return pe.resolve(l)}Et(e,t,n){const s=this.overlays.get(n.key);if(s!==null){const a=this.Rr.get(s.largestBatchId).delete(n.key);this.Rr.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(n.key,new c6(t,n));let r=this.Rr.get(t);r===void 0&&(r=At(),this.Rr.set(t,r)),this.Rr.set(t,r.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X6{constructor(){this.sessionToken=xi.EMPTY_BYTE_STRING}getSessionToken(e){return pe.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,pe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(){this.Vr=new Zn(ri.mr),this.gr=new Zn(ri.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const n=new ri(e,t);this.Vr=this.Vr.add(n),this.gr=this.gr.add(n)}yr(e,t){e.forEach(n=>this.addReference(n,t))}removeReference(e,t){this.wr(new ri(e,t))}Sr(e,t){e.forEach(n=>this.removeReference(n,t))}br(e){const t=new Fe(new mn([])),n=new ri(t,e),s=new ri(t,e+1),r=[];return this.gr.forEachInRange([n,s],a=>{this.wr(a),r.push(a.key)}),r}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new Fe(new mn([])),n=new ri(t,e),s=new ri(t,e+1);let r=At();return this.gr.forEachInRange([n,s],a=>{r=r.add(a.key)}),r}containsKey(e){const t=new ri(e,0),n=this.Vr.firstAfterOrEqual(t);return n!==null&&e.isEqual(n.key)}}class ri{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return Fe.comparator(e.key,t.key)||ft(e.Cr,t.Cr)}static pr(e,t){return ft(e.Cr,t.Cr)||Fe.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W6{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Zn(ri.mr)}checkEmpty(e){return pe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,n,s){const r=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new l6(r,t,n,s);this.mutationQueue.push(a);for(const l of s)this.Mr=this.Mr.add(new ri(l.key,r)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return pe.resolve(a)}lookupMutationBatch(e,t){return pe.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,s=this.Nr(n),r=s<0?0:s;return pe.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return pe.resolve(this.mutationQueue.length===0?W_:this.Fr-1)}getAllMutationBatches(e){return pe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new ri(t,0),s=new ri(t,Number.POSITIVE_INFINITY),r=[];return this.Mr.forEachInRange([n,s],a=>{const l=this.Or(a.Cr);r.push(l)}),pe.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Zn(ft);return t.forEach(s=>{const r=new ri(s,0),a=new ri(s,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([r,a],l=>{n=n.add(l.Cr)})}),pe.resolve(this.Br(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,s=n.length+1;let r=n;Fe.isDocumentKey(r)||(r=r.child(""));const a=new ri(new Fe(r),0);let l=new Zn(ft);return this.Mr.forEachWhile(c=>{const h=c.key.path;return!!n.isPrefixOf(h)&&(h.length===s&&(l=l.add(c.Cr)),!0)},a),pe.resolve(this.Br(l))}Br(e){const t=[];return e.forEach(n=>{const s=this.Or(n);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){Xt(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let n=this.Mr;return pe.forEach(t.mutations,s=>{const r=new ri(s.key,t.batchId);return n=n.delete(r),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Mr=n})}qn(e){}containsKey(e,t){const n=new ri(t,0),s=this.Mr.firstAfterOrEqual(n);return pe.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,pe.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G6{constructor(e){this.kr=e,this.docs=function(){return new Yn(Fe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,s=this.docs.get(n),r=s?s.size:0,a=this.kr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-r,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return pe.resolve(n?n.document.mutableCopy():Ii.newInvalidDocument(t))}getEntries(e,t){let n=za();return t.forEach(s=>{const r=this.docs.get(s);n=n.insert(s,r?r.document.mutableCopy():Ii.newInvalidDocument(s))}),pe.resolve(n)}getDocumentsMatchingQuery(e,t,n,s){let r=za();const a=t.path,l=new Fe(a.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:h,value:{document:d}}=c.getNext();if(!a.isPrefixOf(h.path))break;h.path.length>a.length+1||_5(w5(d),n)<=0||(s.has(d.key)||Hy(t,d))&&(r=r.insert(d.key,d.mutableCopy()))}return pe.resolve(r)}getAllFromCollectionGroup(e,t,n,s){Ze()}qr(e,t){return pe.forEach(this.docs,n=>t(n))}newChangeBuffer(e){return new q6(this)}getSize(e){return pe.resolve(this.size)}}class q6 extends j6{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((n,s)=>{s.isValidDocument()?t.push(this.Ir.addEntry(e,s)):this.Ir.removeEntry(n)}),pe.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $6{constructor(e){this.persistence=e,this.Qr=new dc(t=>$_(t),K_),this.lastRemoteSnapshotVersion=nt.min(),this.highestTargetId=0,this.$r=0,this.Ur=new tA,this.targetCount=0,this.Kr=Fu.Un()}forEachTarget(e,t){return this.Qr.forEach((n,s)=>t(s)),pe.resolve()}getLastRemoteSnapshotVersion(e){return pe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return pe.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),pe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.$r&&(this.$r=t),pe.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Kr=new Fu(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,pe.resolve()}updateTargetData(e,t){return this.zn(t),pe.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Ur.br(t.targetId),this.targetCount-=1,pe.resolve()}removeTargets(e,t,n){let s=0;const r=[];return this.Qr.forEach((a,l)=>{l.sequenceNumber<=t&&n.get(l.targetId)===null&&(this.Qr.delete(a),r.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),pe.waitFor(r).next(()=>s)}getTargetCount(e){return pe.resolve(this.targetCount)}getTargetData(e,t){const n=this.Qr.get(t)||null;return pe.resolve(n)}addMatchingKeys(e,t,n){return this.Ur.yr(t,n),pe.resolve()}removeMatchingKeys(e,t,n){this.Ur.Sr(t,n);const s=this.persistence.referenceDelegate,r=[];return s&&t.forEach(a=>{r.push(s.markPotentiallyOrphaned(e,a))}),pe.waitFor(r)}removeMatchingKeysForTargetId(e,t){return this.Ur.br(t),pe.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Ur.vr(t);return pe.resolve(n)}containsKey(e,t){return pe.resolve(this.Ur.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new Vy(0),this.zr=!1,this.zr=!0,this.jr=new X6,this.referenceDelegate=e(this),this.Hr=new $6(this),this.indexManager=new N6,this.remoteDocumentCache=function(s){return new G6(s)}(n=>this.referenceDelegate.Jr(n)),this.serializer=new M6(t),this.Yr=new U6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Y6,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Wr[e.toKey()];return n||(n=new W6(t,this.referenceDelegate),this.Wr[e.toKey()]=n),n}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,n){Ie("MemoryPersistence","Starting transaction:",e);const s=new K6(this.Gr.next());return this.referenceDelegate.Zr(),n(s).next(r=>this.referenceDelegate.Xr(s).next(()=>r)).toPromise().then(r=>(s.raiseOnCommittedEvent(),r))}ei(e,t){return pe.or(Object.values(this.Wr).map(n=>()=>n.containsKey(e,t)))}}class K6 extends S5{constructor(e){super(),this.currentSequenceNumber=e}}class nA{constructor(e){this.persistence=e,this.ti=new tA,this.ni=null}static ri(e){return new nA(e)}get ii(){if(this.ni)return this.ni;throw Ze()}addReference(e,t,n){return this.ti.addReference(n,t),this.ii.delete(n.toString()),pe.resolve()}removeReference(e,t,n){return this.ti.removeReference(n,t),this.ii.add(n.toString()),pe.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),pe.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(s=>this.ii.add(s.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(r=>this.ii.add(r.toString()))}).next(()=>n.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pe.forEach(this.ii,n=>{const s=Fe.fromPath(n);return this.si(e,s).next(r=>{r||t.removeEntry(s,nt.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(n=>{n?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return pe.or([()=>pe.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Km{constructor(e,t){this.persistence=e,this.oi=new dc(n=>C5(n.path),(n,s)=>n.isEqual(s)),this.garbageCollector=z6(this,t)}static ri(e,t){return new Km(e,t)}Zr(){}Xr(e){return pe.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(n=>t.next(s=>n+s))}sr(e){let t=0;return this.rr(e,n=>{t++}).next(()=>t)}rr(e,t){return pe.forEach(this.oi,(n,s)=>this.ar(e,n,s).next(r=>r?pe.resolve():t(s)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const s=this.persistence.getRemoteDocumentCache(),r=s.newChangeBuffer();return s.qr(e,a=>this.ar(e,a,t).next(l=>{l||(n++,r.removeEntry(a,nt.min()))})).next(()=>r.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),pe.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.oi.set(n,e.currentSequenceNumber),pe.resolve()}removeReference(e,t,n){return this.oi.set(n,e.currentSequenceNumber),pe.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),pe.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=gm(e.data.value)),t}ar(e,t,n){return pe.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.oi.get(t);return pe.resolve(s!==void 0&&s>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{constructor(e,t,n,s){this.targetId=e,this.fromCache=t,this.Hi=n,this.Ji=s}static Yi(e,t){let n=At(),s=At();for(const r of t.docChanges)switch(r.type){case 0:n=n.add(r.doc.key);break;case 1:s=s.add(r.doc.key)}return new iA(e,t.fromCache,n,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z6{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return R3()?8:T5(Vi())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,n,s){const r={result:null};return this.rs(e,t).next(a=>{r.result=a}).next(()=>{if(!r.result)return this.ss(e,t,s,n).next(a=>{r.result=a})}).next(()=>{if(r.result)return;const a=new Q6;return this._s(e,t,a).next(l=>{if(r.result=l,this.Xi)return this.us(e,t,a,l.size)})}).next(()=>r.result)}us(e,t,n,s){return n.documentReadCount<this.es?(hu()<=wt.DEBUG&&Ie("QueryEngine","SDK will not create cache indexes for query:",du(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),pe.resolve()):(hu()<=wt.DEBUG&&Ie("QueryEngine","Query:",du(t),"scans",n.documentReadCount,"local documents and returns",s,"documents as results."),n.documentReadCount>this.ts*s?(hu()<=wt.DEBUG&&Ie("QueryEngine","The SDK decides to create cache indexes for query:",du(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Hr(t))):pe.resolve())}rs(e,t){if(Ck(t))return pe.resolve(null);let n=Hr(t);return this.indexManager.getIndexType(e,n).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=J0(t,null,"F"),n=Hr(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const a=At(...r);return this.ns.getDocuments(e,a).next(l=>this.indexManager.getMinOffset(e,n).next(c=>{const h=this.cs(t,l);return this.ls(t,h,a,c.readTime)?this.rs(e,J0(t,null,"F")):this.hs(e,h,t,c)}))})))}ss(e,t,n,s){return Ck(t)||s.isEqual(nt.min())?pe.resolve(null):this.ns.getDocuments(e,n).next(r=>{const a=this.cs(t,r);return this.ls(t,a,n,s)?pe.resolve(null):(hu()<=wt.DEBUG&&Ie("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),du(t)),this.hs(e,a,t,x5(s,lf)).next(l=>l))})}cs(e,t){let n=new Zn(rN(e));return t.forEach((s,r)=>{Hy(e,r)&&(n=n.add(r))}),n}ls(e,t,n,s){if(e.limit===null)return!1;if(n.size!==t.size)return!0;const r=e.limitType==="F"?t.last():t.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(s)>0)}_s(e,t,n){return hu()<=wt.DEBUG&&Ie("QueryEngine","Using full collection scan to execute query:",du(t)),this.ns.getDocumentsMatchingQuery(e,t,Vo.min(),n)}hs(e,t,n,s){return this.ns.getDocumentsMatchingQuery(e,n,s).next(r=>(t.forEach(a=>{r=r.insert(a.key,a)}),r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sA="LocalStore",J6=3e8;class eY{constructor(e,t,n,s){this.persistence=e,this.Ps=t,this.serializer=s,this.Ts=new Yn(ft),this.Is=new dc(r=>$_(r),K_),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(n)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new H6(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function tY(i,e,t,n){return new eY(i,e,t,n)}async function kN(i,e){const t=st(i);return await t.persistence.runTransaction("Handle user change","readonly",n=>{let s;return t.mutationQueue.getAllMutationBatches(n).next(r=>(s=r,t.As(e),t.mutationQueue.getAllMutationBatches(n))).next(r=>{const a=[],l=[];let c=At();for(const h of s){a.push(h.batchId);for(const d of h.mutations)c=c.add(d.key)}for(const h of r){l.push(h.batchId);for(const d of h.mutations)c=c.add(d.key)}return t.localDocuments.getDocuments(n,c).next(h=>({Rs:h,removedBatchIds:a,addedBatchIds:l}))})})}function nY(i,e){const t=st(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const s=e.batch.keys(),r=t.ds.newChangeBuffer({trackRemovals:!0});return function(l,c,h,d){const f=h.batch,p=f.keys();let y=pe.resolve();return p.forEach(b=>{y=y.next(()=>d.getEntry(c,b)).next(x=>{const _=h.docVersions.get(b);Xt(_!==null),x.version.compareTo(_)<0&&(f.applyToRemoteDocument(x,h),x.isValidDocument()&&(x.setReadTime(h.commitVersion),d.addEntry(x)))})}),y.next(()=>l.mutationQueue.removeMutationBatch(c,f))}(t,n,e,r).next(()=>r.apply(n)).next(()=>t.mutationQueue.performConsistencyCheck(n)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(n,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(l){let c=At();for(let h=0;h<l.mutationResults.length;++h)l.mutationResults[h].transformResults.length>0&&(c=c.add(l.batch.mutations[h].key));return c}(e))).next(()=>t.localDocuments.getDocuments(n,s))})}function RN(i){const e=st(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function iY(i,e){const t=st(i),n=e.snapshotVersion;let s=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",r=>{const a=t.ds.newChangeBuffer({trackRemovals:!0});s=t.Ts;const l=[];e.targetChanges.forEach((d,f)=>{const p=s.get(f);if(!p)return;l.push(t.Hr.removeMatchingKeys(r,d.removedDocuments,f).next(()=>t.Hr.addMatchingKeys(r,d.addedDocuments,f)));let y=p.withSequenceNumber(r.currentSequenceNumber);e.targetMismatches.get(f)!==null?y=y.withResumeToken(xi.EMPTY_BYTE_STRING,nt.min()).withLastLimboFreeSnapshotVersion(nt.min()):d.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(d.resumeToken,n)),s=s.insert(f,y),function(x,_,S){return x.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=J6?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(p,y,d)&&l.push(t.Hr.updateTargetData(r,y))});let c=za(),h=At();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&l.push(t.persistence.referenceDelegate.updateLimboDocument(r,d))}),l.push(sY(r,a,e.documentUpdates).next(d=>{c=d.Vs,h=d.fs})),!n.isEqual(nt.min())){const d=t.Hr.getLastRemoteSnapshotVersion(r).next(f=>t.Hr.setTargetsMetadata(r,r.currentSequenceNumber,n));l.push(d)}return pe.waitFor(l).next(()=>a.apply(r)).next(()=>t.localDocuments.getLocalViewOfDocuments(r,c,h)).next(()=>c)}).then(r=>(t.Ts=s,r))}function sY(i,e,t){let n=At(),s=At();return t.forEach(r=>n=n.add(r)),e.getEntries(i,n).next(r=>{let a=za();return t.forEach((l,c)=>{const h=r.get(l);c.isFoundDocument()!==h.isFoundDocument()&&(s=s.add(l)),c.isNoDocument()&&c.version.isEqual(nt.min())?(e.removeEntry(l,c.readTime),a=a.insert(l,c)):!h.isValidDocument()||c.version.compareTo(h.version)>0||c.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(c),a=a.insert(l,c)):Ie(sA,"Ignoring outdated watch update for ",l,". Current version:",h.version," Watch version:",c.version)}),{Vs:a,fs:s}})}function rY(i,e){const t=st(i);return t.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=W_),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function aY(i,e){const t=st(i);return t.persistence.runTransaction("Allocate target","readwrite",n=>{let s;return t.Hr.getTargetData(n,e).next(r=>r?(s=r,pe.resolve(s)):t.Hr.allocateTargetId(n).next(a=>(s=new Ro(e,a,"TargetPurposeListen",n.currentSequenceNumber),t.Hr.addTargetData(n,s).next(()=>s))))}).then(n=>{const s=t.Ts.get(n.targetId);return(s===null||n.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(n.targetId,n),t.Is.set(e,n.targetId)),n})}async function sw(i,e,t){const n=st(i),s=n.Ts.get(e),r=t?"readwrite":"readwrite-primary";try{t||await n.persistence.runTransaction("Release target",r,a=>n.persistence.referenceDelegate.removeTarget(a,s))}catch(a){if(!th(a))throw a;Ie(sA,`Failed to update sequence numbers for target ${e}: ${a}`)}n.Ts=n.Ts.remove(e),n.Is.delete(s.target)}function jk(i,e,t){const n=st(i);let s=nt.min(),r=At();return n.persistence.runTransaction("Execute query","readwrite",a=>function(c,h,d){const f=st(c),p=f.Is.get(d);return p!==void 0?pe.resolve(f.Ts.get(p)):f.Hr.getTargetData(h,d)}(n,a,Hr(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,n.Hr.getMatchingKeysForTargetId(a,l.targetId).next(c=>{r=c})}).next(()=>n.Ps.getDocumentsMatchingQuery(a,e,t?s:nt.min(),t?r:At())).next(l=>(oY(n,W5(e),l),{documents:l,gs:r})))}function oY(i,e,t){let n=i.Es.get(e)||nt.min();t.forEach((s,r)=>{r.readTime.compareTo(n)>0&&(n=r.readTime)}),i.Es.set(e,n)}class Bk{constructor(){this.activeTargetIds=Z5()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class lY{constructor(){this.ho=new Bk,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,n){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Bk,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cY{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hk="ConnectivityMonitor";class Uk{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){Ie(Hk,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){Ie(Hk,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gp=null;function rw(){return Gp===null?Gp=function(){return 268435456+Math.round(2147483648*Math.random())}():Gp++,"0x"+Gp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ix="RestConnection",uY={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class hY{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${n}/databases/${s}`,this.wo=this.databaseId.database===Xm?`project_id=${n}`:`project_id=${n}&database_id=${s}`}So(e,t,n,s,r){const a=rw(),l=this.bo(e,t.toUriEncodedString());Ie(Ix,`Sending RPC '${e}' ${a}:`,l,n);const c={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(c,s,r),this.vo(e,l,c,n).then(h=>(Ie(Ix,`Received RPC '${e}' ${a}: `,h),h),h=>{throw Pu(Ix,`RPC '${e}' ${a} failed with error: `,h,"url: ",l,"request:",n),h})}Co(e,t,n,s,r,a){return this.So(e,t,n,s,r)}Do(e,t,n){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ju}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,r)=>e[r]=s),n&&n.headers.forEach((s,r)=>e[r]=s)}bo(e,t){const n=uY[e];return`${this.po}/v1/${t}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dY{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ti="WebChannelConnection";class fY extends hY{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,n,s){const r=rw();return new Promise((a,l)=>{const c=new ND;c.setWithCredentials(!0),c.listenOnce(PD.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case fm.NO_ERROR:const d=c.getResponseJson();Ie(Ti,`XHR for RPC '${e}' ${r} received:`,JSON.stringify(d)),a(d);break;case fm.TIMEOUT:Ie(Ti,`RPC '${e}' ${r} timed out`),l(new Re(de.DEADLINE_EXCEEDED,"Request time out"));break;case fm.HTTP_ERROR:const f=c.getStatus();if(Ie(Ti,`RPC '${e}' ${r} failed with status:`,f,"response text:",c.getResponseText()),f>0){let p=c.getResponseJson();Array.isArray(p)&&(p=p[0]);const y=p==null?void 0:p.error;if(y&&y.status&&y.message){const b=function(_){const S=_.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(S)>=0?S:de.UNKNOWN}(y.status);l(new Re(b,y.message))}else l(new Re(de.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new Re(de.UNAVAILABLE,"Connection failed."));break;default:Ze()}}finally{Ie(Ti,`RPC '${e}' ${r} completed.`)}});const h=JSON.stringify(s);Ie(Ti,`RPC '${e}' ${r} sending request:`,s),c.send(t,"POST",h,n,15)})}Wo(e,t,n){const s=rw(),r=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=VD(),l=LD(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(c.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Do(c.initMessageHeaders,t,n),c.encodeInitMessageHeaders=!0;const d=r.join("");Ie(Ti,`Creating RPC '${e}' stream ${s}: ${d}`,c);const f=a.createWebChannel(d,c);let p=!1,y=!1;const b=new dY({Fo:_=>{y?Ie(Ti,`Not sending because RPC '${e}' stream ${s} is closed:`,_):(p||(Ie(Ti,`Opening RPC '${e}' stream ${s} transport.`),f.open(),p=!0),Ie(Ti,`RPC '${e}' stream ${s} sending:`,_),f.send(_))},Mo:()=>f.close()}),x=(_,S,T)=>{_.listen(S,C=>{try{T(C)}catch(M){setTimeout(()=>{throw M},0)}})};return x(f,Cd.EventType.OPEN,()=>{y||(Ie(Ti,`RPC '${e}' stream ${s} transport opened.`),b.Qo())}),x(f,Cd.EventType.CLOSE,()=>{y||(y=!0,Ie(Ti,`RPC '${e}' stream ${s} transport closed`),b.Uo())}),x(f,Cd.EventType.ERROR,_=>{y||(y=!0,Pu(Ti,`RPC '${e}' stream ${s} transport errored:`,_),b.Uo(new Re(de.UNAVAILABLE,"The operation could not be completed")))}),x(f,Cd.EventType.MESSAGE,_=>{var S;if(!y){const T=_.data[0];Xt(!!T);const C=T,M=(C==null?void 0:C.error)||((S=C[0])===null||S===void 0?void 0:S.error);if(M){Ie(Ti,`RPC '${e}' stream ${s} received error:`,M);const R=M.status;let P=function(D){const O=Hn[D];if(O!==void 0)return mN(O)}(R),k=M.message;P===void 0&&(P=de.INTERNAL,k="Unknown error status: "+R+" with message "+M.message),y=!0,b.Uo(new Re(P,k)),f.close()}else Ie(Ti,`RPC '${e}' stream ${s} received:`,T),b.Ko(T)}}),x(l,OD.STAT_EVENT,_=>{_.stat===X0.PROXY?Ie(Ti,`RPC '${e}' stream ${s} detected buffering proxy`):_.stat===X0.NOPROXY&&Ie(Ti,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{b.$o()},0),b}}function Mx(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gy(i){return new y6(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(e,t,n=1e3,s=1.5,r=6e4){this.Ti=e,this.timerId=t,this.Go=n,this.zo=s,this.jo=r,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),n=Math.max(0,Date.now()-this.Yo),s=Math.max(0,t-n);s>0&&Ie("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,s,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yk="PersistentStream";class MN{constructor(e,t,n,s,r,a,l,c){this.Ti=e,this.n_=n,this.r_=s,this.connection=r,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new IN(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===de.RESOURCE_EXHAUSTED?(Fa(t.toString()),Fa("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===de.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,s])=>{this.i_===t&&this.V_(n,s)},n=>{e(()=>{const s=new Re(de.UNKNOWN,"Fetching auth token failed: "+n.message);return this.m_(s)})})}V_(e,t){const n=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{n(()=>this.listener.xo())}),this.stream.No(()=>{n(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(s=>{n(()=>this.m_(s))}),this.stream.onMessage(s=>{n(()=>++this.__==1?this.g_(s):this.onNext(s))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return Ie(Yk,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(Ie(Yk,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class gY extends MN{constructor(e,t,n,s,r,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,s,a),this.serializer=r}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=x6(this.serializer,e),n=function(r){if(!("targetChange"in r))return nt.min();const a=r.targetChange;return a.targetIds&&a.targetIds.length?nt.min():a.readTime?Ur(a.readTime):nt.min()}(e);return this.listener.p_(t,n)}y_(e){const t={};t.database=iw(this.serializer),t.addTarget=function(r,a){let l;const c=a.target;if(l=Q0(c)?{documents:A6(r,c)}:{query:S6(r,c).ht},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=bN(r,a.resumeToken);const h=ew(r,a.expectedCount);h!==null&&(l.expectedCount=h)}else if(a.snapshotVersion.compareTo(nt.min())>0){l.readTime=$m(r,a.snapshotVersion.toTimestamp());const h=ew(r,a.expectedCount);h!==null&&(l.expectedCount=h)}return l}(this.serializer,e);const n=E6(this.serializer,e);n&&(t.labels=n),this.I_(t)}w_(e){const t={};t.database=iw(this.serializer),t.removeTarget=e,this.I_(t)}}class pY extends MN{constructor(e,t,n,s,r,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,s,a),this.serializer=r}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return Xt(!!e.streamToken),this.lastStreamToken=e.streamToken,Xt(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Xt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=_6(e.writeResults,e.commitTime),n=Ur(e.commitTime);return this.listener.v_(n,t)}C_(){const e={};e.database=iw(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(n=>w6(this.serializer,n))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mY{}class yY extends mY{constructor(e,t,n,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=s,this.F_=!1}M_(){if(this.F_)throw new Re(de.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,n,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,a])=>this.connection.So(e,tw(t,n),s,r,a)).catch(r=>{throw r.name==="FirebaseError"?(r.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Re(de.UNKNOWN,r.toString())})}Co(e,t,n,s,r){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Co(e,tw(t,n),s,a,l,r)).catch(a=>{throw a.name==="FirebaseError"?(a.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Re(de.UNKNOWN,a.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class vY{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Fa(t),this.N_=!1):Ie("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tc="RemoteStore";class bY{constructor(e,t,n,s,r){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=r,this.z_.To(a=>{n.enqueueAndForget(async()=>{fc(this)&&(Ie(tc,"Restarting streams for network reachability change."),await async function(c){const h=st(c);h.W_.add(4),await Wf(h),h.j_.set("Unknown"),h.W_.delete(4),await qy(h)}(this))})}),this.j_=new vY(n,s)}}async function qy(i){if(fc(i))for(const e of i.G_)await e(!0)}async function Wf(i){for(const e of i.G_)await e(!1)}function DN(i,e){const t=st(i);t.K_.has(e.targetId)||(t.K_.set(e.targetId,e),lA(t)?oA(t):ih(t).c_()&&aA(t,e))}function rA(i,e){const t=st(i),n=ih(t);t.K_.delete(e),n.c_()&&NN(t,e),t.K_.size===0&&(n.c_()?n.P_():fc(t)&&t.j_.set("Unknown"))}function aA(i,e){if(i.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(nt.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ih(i).y_(e)}function NN(i,e){i.H_.Ne(e),ih(i).w_(e)}function oA(i){i.H_=new f6({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>i.K_.get(e)||null,it:()=>i.datastore.serializer.databaseId}),ih(i).start(),i.j_.B_()}function lA(i){return fc(i)&&!ih(i).u_()&&i.K_.size>0}function fc(i){return st(i).W_.size===0}function PN(i){i.H_=void 0}async function xY(i){i.j_.set("Online")}async function wY(i){i.K_.forEach((e,t)=>{aA(i,e)})}async function _Y(i,e){PN(i),lA(i)?(i.j_.q_(e),oA(i)):i.j_.set("Unknown")}async function AY(i,e,t){if(i.j_.set("Online"),e instanceof vN&&e.state===2&&e.cause)try{await async function(s,r){const a=r.cause;for(const l of r.targetIds)s.K_.has(l)&&(await s.remoteSyncer.rejectListen(l,a),s.K_.delete(l),s.H_.removeTarget(l))}(i,e)}catch(n){Ie(tc,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Qm(i,n)}else if(e instanceof ym?i.H_.We(e):e instanceof yN?i.H_.Ze(e):i.H_.je(e),!t.isEqual(nt.min()))try{const n=await RN(i.localStore);t.compareTo(n)>=0&&await function(r,a){const l=r.H_.ot(a);return l.targetChanges.forEach((c,h)=>{if(c.resumeToken.approximateByteSize()>0){const d=r.K_.get(h);d&&r.K_.set(h,d.withResumeToken(c.resumeToken,a))}}),l.targetMismatches.forEach((c,h)=>{const d=r.K_.get(c);if(!d)return;r.K_.set(c,d.withResumeToken(xi.EMPTY_BYTE_STRING,d.snapshotVersion)),NN(r,c);const f=new Ro(d.target,c,h,d.sequenceNumber);aA(r,f)}),r.remoteSyncer.applyRemoteEvent(l)}(i,t)}catch(n){Ie(tc,"Failed to raise snapshot:",n),await Qm(i,n)}}async function Qm(i,e,t){if(!th(e))throw e;i.W_.add(1),await Wf(i),i.j_.set("Offline"),t||(t=()=>RN(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{Ie(tc,"Retrying IndexedDB access"),await t(),i.W_.delete(1),await qy(i)})}function ON(i,e){return e().catch(t=>Qm(i,t,e))}async function $y(i){const e=st(i),t=Bo(e);let n=e.U_.length>0?e.U_[e.U_.length-1].batchId:W_;for(;SY(e);)try{const s=await rY(e.localStore,n);if(s===null){e.U_.length===0&&t.P_();break}n=s.batchId,TY(e,s)}catch(s){await Qm(e,s)}LN(e)&&VN(e)}function SY(i){return fc(i)&&i.U_.length<10}function TY(i,e){i.U_.push(e);const t=Bo(i);t.c_()&&t.S_&&t.b_(e.mutations)}function LN(i){return fc(i)&&!Bo(i).u_()&&i.U_.length>0}function VN(i){Bo(i).start()}async function EY(i){Bo(i).C_()}async function CY(i){const e=Bo(i);for(const t of i.U_)e.b_(t.mutations)}async function kY(i,e,t){const n=i.U_.shift(),s=Z_.from(n,e,t);await ON(i,()=>i.remoteSyncer.applySuccessfulWrite(s)),await $y(i)}async function RY(i,e){e&&Bo(i).S_&&await async function(n,s){if(function(a){return h6(a)&&a!==de.ABORTED}(s.code)){const r=n.U_.shift();Bo(n).h_(),await ON(n,()=>n.remoteSyncer.rejectFailedWrite(r.batchId,s)),await $y(n)}}(i,e),LN(i)&&VN(i)}async function Xk(i,e){const t=st(i);t.asyncQueue.verifyOperationInProgress(),Ie(tc,"RemoteStore received new credentials");const n=fc(t);t.W_.add(3),await Wf(t),n&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await qy(t)}async function IY(i,e){const t=st(i);e?(t.W_.delete(2),await qy(t)):e||(t.W_.add(2),await Wf(t),t.j_.set("Unknown"))}function ih(i){return i.J_||(i.J_=function(t,n,s){const r=st(t);return r.M_(),new gY(n,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(i.datastore,i.asyncQueue,{xo:xY.bind(null,i),No:wY.bind(null,i),Lo:_Y.bind(null,i),p_:AY.bind(null,i)}),i.G_.push(async e=>{e?(i.J_.h_(),lA(i)?oA(i):i.j_.set("Unknown")):(await i.J_.stop(),PN(i))})),i.J_}function Bo(i){return i.Y_||(i.Y_=function(t,n,s){const r=st(t);return r.M_(),new pY(n,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(i.datastore,i.asyncQueue,{xo:()=>Promise.resolve(),No:EY.bind(null,i),Lo:RY.bind(null,i),D_:CY.bind(null,i),v_:kY.bind(null,i)}),i.G_.push(async e=>{e?(i.Y_.h_(),await $y(i)):(await i.Y_.stop(),i.U_.length>0&&(Ie(tc,`Stopping write stream with ${i.U_.length} pending writes`),i.U_=[]))})),i.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(e,t,n,s,r){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=s,this.removalCallback=r,this.deferred=new Ma,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,s,r){const a=Date.now()+n,l=new cA(e,t,a,s,r);return l.start(n),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Re(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function uA(i,e){if(Fa("AsyncQueue",`${e}: ${i}`),th(i))return new Re(de.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{static emptySet(e){return new ku(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||Fe.comparator(t.key,n.key):(t,n)=>Fe.comparator(t.key,n.key),this.keyedMap=kd(),this.sortedSet=new Yn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ku)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,r=n.getNext().key;if(!s.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const n=new ku;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(){this.Z_=new Yn(Fe.comparator)}track(e){const t=e.doc.key,n=this.Z_.get(t);n?e.type!==0&&n.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&n.type!==1?this.Z_=this.Z_.insert(t,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.Z_=this.Z_.remove(t):e.type===1&&n.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Ze():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,n)=>{e.push(n)}),e}}class zu{constructor(e,t,n,s,r,a,l,c,h){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=s,this.mutatedKeys=r,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=h}static fromInitialDocuments(e,t,n,s,r){const a=[];return t.forEach(l=>{a.push({type:0,doc:l})}),new zu(e,t,ku.emptySet(t),a,n,s,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&By(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==n[s].type||!t[s].doc.isEqual(n[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MY{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class DY{constructor(){this.queries=Gk(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,n){const s=st(t),r=s.queries;s.queries=Gk(),r.forEach((a,l)=>{for(const c of l.ta)c.onError(n)})})(this,new Re(de.ABORTED,"Firestore shutting down"))}}function Gk(){return new dc(i=>sN(i),By)}async function hA(i,e){const t=st(i);let n=3;const s=e.query;let r=t.queries.get(s);r?!r.na()&&e.ra()&&(n=2):(r=new MY,n=e.ra()?0:1);try{switch(n){case 0:r.ea=await t.onListen(s,!0);break;case 1:r.ea=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(a){const l=uA(a,`Initialization of query '${du(e.query)}' failed`);return void e.onError(l)}t.queries.set(s,r),r.ta.push(e),e.sa(t.onlineState),r.ea&&e.oa(r.ea)&&fA(t)}async function dA(i,e){const t=st(i),n=e.query;let s=3;const r=t.queries.get(n);if(r){const a=r.ta.indexOf(e);a>=0&&(r.ta.splice(a,1),r.ta.length===0?s=e.ra()?0:1:!r.na()&&e.ra()&&(s=2))}switch(s){case 0:return t.queries.delete(n),t.onUnlisten(n,!0);case 1:return t.queries.delete(n),t.onUnlisten(n,!1);case 2:return t.onLastRemoteStoreUnlisten(n);default:return}}function NY(i,e){const t=st(i);let n=!1;for(const s of e){const r=s.query,a=t.queries.get(r);if(a){for(const l of a.ta)l.oa(s)&&(n=!0);a.ea=s}}n&&fA(t)}function PY(i,e,t){const n=st(i),s=n.queries.get(e);if(s)for(const r of s.ta)r.onError(t);n.queries.delete(e)}function fA(i){i.ia.forEach(e=>{e.next()})}var aw,qk;(qk=aw||(aw={}))._a="default",qk.Cache="cache";class gA{constructor(e,t,n){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=n||{}}oa(e){if(!this.options.includeMetadataChanges){const n=[];for(const s of e.docChanges)s.type!==3&&n.push(s);e=new zu(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const n=t!=="Offline";return(!this.options.Ta||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=zu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==aw.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(e){this.key=e}}class zN{constructor(e){this.key=e}}class OY{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=At(),this.mutatedKeys=At(),this.ya=rN(e),this.wa=new ku(this.ya)}get Sa(){return this.fa}ba(e,t){const n=t?t.Da:new Wk,s=t?t.wa:this.wa;let r=t?t.mutatedKeys:this.mutatedKeys,a=s,l=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,h=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,f)=>{const p=s.get(d),y=Hy(this.query,f)?f:null,b=!!p&&this.mutatedKeys.has(p.key),x=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let _=!1;p&&y?p.data.isEqual(y.data)?b!==x&&(n.track({type:3,doc:y}),_=!0):this.va(p,y)||(n.track({type:2,doc:y}),_=!0,(c&&this.ya(y,c)>0||h&&this.ya(y,h)<0)&&(l=!0)):!p&&y?(n.track({type:0,doc:y}),_=!0):p&&!y&&(n.track({type:1,doc:p}),_=!0,(c||h)&&(l=!0)),_&&(y?(a=a.add(y),r=x?r.add(d):r.delete(d)):(a=a.delete(d),r=r.delete(d)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const d=this.query.limitType==="F"?a.last():a.first();a=a.delete(d.key),r=r.delete(d.key),n.track({type:1,doc:d})}return{wa:a,Da:n,ls:l,mutatedKeys:r}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,s){const r=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const a=e.Da.X_();a.sort((d,f)=>function(y,b){const x=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ze()}};return x(y)-x(b)}(d.type,f.type)||this.ya(d.doc,f.doc)),this.Ca(n),s=s!=null&&s;const l=t&&!s?this.Fa():[],c=this.pa.size===0&&this.current&&!s?1:0,h=c!==this.ga;return this.ga=c,a.length!==0||h?{snapshot:new zu(this.query,e.wa,r,a,e.mutatedKeys,c===0,h,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ma:l}:{Ma:l}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Wk,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=At(),this.wa.forEach(n=>{this.xa(n.key)&&(this.pa=this.pa.add(n.key))});const t=[];return e.forEach(n=>{this.pa.has(n)||t.push(new zN(n))}),this.pa.forEach(n=>{e.has(n)||t.push(new FN(n))}),t}Oa(e){this.fa=e.gs,this.pa=At();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return zu.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const pA="SyncEngine";class LY{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class VY{constructor(e){this.key=e,this.Ba=!1}}class FY{constructor(e,t,n,s,r,a){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=s,this.currentUser=r,this.maxConcurrentLimboResolutions=a,this.La={},this.ka=new dc(l=>sN(l),By),this.qa=new Map,this.Qa=new Set,this.$a=new Yn(Fe.comparator),this.Ua=new Map,this.Ka=new tA,this.Wa={},this.Ga=new Map,this.za=Fu.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function zY(i,e,t=!0){const n=XN(i);let s;const r=n.ka.get(e);return r?(n.sharedClientState.addLocalQueryTarget(r.targetId),s=r.view.Na()):s=await jN(n,e,t,!0),s}async function jY(i,e){const t=XN(i);await jN(t,e,!0,!1)}async function jN(i,e,t,n){const s=await aY(i.localStore,Hr(e)),r=s.targetId,a=i.sharedClientState.addLocalQueryTarget(r,t);let l;return n&&(l=await BY(i,e,r,a==="current",s.resumeToken)),i.isPrimaryClient&&t&&DN(i.remoteStore,s),l}async function BY(i,e,t,n,s){i.Ha=(f,p,y)=>async function(x,_,S,T){let C=_.view.ba(S);C.ls&&(C=await jk(x.localStore,_.query,!1).then(({documents:k})=>_.view.ba(k,C)));const M=T&&T.targetChanges.get(_.targetId),R=T&&T.targetMismatches.get(_.targetId)!=null,P=_.view.applyChanges(C,x.isPrimaryClient,M,R);return Kk(x,_.targetId,P.Ma),P.snapshot}(i,f,p,y);const r=await jk(i.localStore,e,!0),a=new OY(e,r.gs),l=a.ba(r.documents),c=Xf.createSynthesizedTargetChangeForCurrentChange(t,n&&i.onlineState!=="Offline",s),h=a.applyChanges(l,i.isPrimaryClient,c);Kk(i,t,h.Ma);const d=new LY(e,t,a);return i.ka.set(e,d),i.qa.has(t)?i.qa.get(t).push(e):i.qa.set(t,[e]),h.snapshot}async function HY(i,e,t){const n=st(i),s=n.ka.get(e),r=n.qa.get(s.targetId);if(r.length>1)return n.qa.set(s.targetId,r.filter(a=>!By(a,e))),void n.ka.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||await sw(n.localStore,s.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(s.targetId),t&&rA(n.remoteStore,s.targetId),ow(n,s.targetId)}).catch(eh)):(ow(n,s.targetId),await sw(n.localStore,s.targetId,!0))}async function UY(i,e){const t=st(i),n=t.ka.get(e),s=t.qa.get(n.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(n.targetId),rA(t.remoteStore,n.targetId))}async function YY(i,e,t){const n=QY(i);try{const s=await function(a,l){const c=st(a),h=un.now(),d=l.reduce((y,b)=>y.add(b.key),At());let f,p;return c.persistence.runTransaction("Locally write mutations","readwrite",y=>{let b=za(),x=At();return c.ds.getEntries(y,d).next(_=>{b=_,b.forEach((S,T)=>{T.isValidDocument()||(x=x.add(S))})}).next(()=>c.localDocuments.getOverlayedDocuments(y,b)).next(_=>{f=_;const S=[];for(const T of l){const C=a6(T,f.get(T.key).overlayedDocument);C!=null&&S.push(new el(T.key,C,KD(C.value.mapValue),Gi.exists(!0)))}return c.mutationQueue.addMutationBatch(y,h,S,l)}).next(_=>{p=_;const S=_.applyToLocalDocumentSet(f,x);return c.documentOverlayCache.saveOverlays(y,_.batchId,S)})}).then(()=>({batchId:p.batchId,changes:oN(f)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(s.batchId),function(a,l,c){let h=a.Wa[a.currentUser.toKey()];h||(h=new Yn(ft)),h=h.insert(l,c),a.Wa[a.currentUser.toKey()]=h}(n,s.batchId,t),await Gf(n,s.changes),await $y(n.remoteStore)}catch(s){const r=uA(s,"Failed to persist write");t.reject(r)}}async function BN(i,e){const t=st(i);try{const n=await iY(t.localStore,e);e.targetChanges.forEach((s,r)=>{const a=t.Ua.get(r);a&&(Xt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?a.Ba=!0:s.modifiedDocuments.size>0?Xt(a.Ba):s.removedDocuments.size>0&&(Xt(a.Ba),a.Ba=!1))}),await Gf(t,n,e)}catch(n){await eh(n)}}function $k(i,e,t){const n=st(i);if(n.isPrimaryClient&&t===0||!n.isPrimaryClient&&t===1){const s=[];n.ka.forEach((r,a)=>{const l=a.view.sa(e);l.snapshot&&s.push(l.snapshot)}),function(a,l){const c=st(a);c.onlineState=l;let h=!1;c.queries.forEach((d,f)=>{for(const p of f.ta)p.sa(l)&&(h=!0)}),h&&fA(c)}(n.eventManager,e),s.length&&n.La.p_(s),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function XY(i,e,t){const n=st(i);n.sharedClientState.updateQueryState(e,"rejected",t);const s=n.Ua.get(e),r=s&&s.key;if(r){let a=new Yn(Fe.comparator);a=a.insert(r,Ii.newNoDocument(r,nt.min()));const l=At().add(r),c=new Wy(nt.min(),new Map,new Yn(ft),a,l);await BN(n,c),n.$a=n.$a.remove(r),n.Ua.delete(e),mA(n)}else await sw(n.localStore,e,!1).then(()=>ow(n,e,t)).catch(eh)}async function WY(i,e){const t=st(i),n=e.batch.batchId;try{const s=await nY(t.localStore,e);UN(t,n,null),HN(t,n),t.sharedClientState.updateMutationState(n,"acknowledged"),await Gf(t,s)}catch(s){await eh(s)}}async function GY(i,e,t){const n=st(i);try{const s=await function(a,l){const c=st(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let d;return c.mutationQueue.lookupMutationBatch(h,l).next(f=>(Xt(f!==null),d=f.keys(),c.mutationQueue.removeMutationBatch(h,f))).next(()=>c.mutationQueue.performConsistencyCheck(h)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(h,d,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,d)).next(()=>c.localDocuments.getDocuments(h,d))})}(n.localStore,e);UN(n,e,t),HN(n,e),n.sharedClientState.updateMutationState(e,"rejected",t),await Gf(n,s)}catch(s){await eh(s)}}function HN(i,e){(i.Ga.get(e)||[]).forEach(t=>{t.resolve()}),i.Ga.delete(e)}function UN(i,e,t){const n=st(i);let s=n.Wa[n.currentUser.toKey()];if(s){const r=s.get(e);r&&(t?r.reject(t):r.resolve(),s=s.remove(e)),n.Wa[n.currentUser.toKey()]=s}}function ow(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const n of i.qa.get(e))i.ka.delete(n),t&&i.La.Ja(n,t);i.qa.delete(e),i.isPrimaryClient&&i.Ka.br(e).forEach(n=>{i.Ka.containsKey(n)||YN(i,n)})}function YN(i,e){i.Qa.delete(e.path.canonicalString());const t=i.$a.get(e);t!==null&&(rA(i.remoteStore,t),i.$a=i.$a.remove(e),i.Ua.delete(t),mA(i))}function Kk(i,e,t){for(const n of t)n instanceof FN?(i.Ka.addReference(n.key,e),qY(i,n)):n instanceof zN?(Ie(pA,"Document no longer in limbo: "+n.key),i.Ka.removeReference(n.key,e),i.Ka.containsKey(n.key)||YN(i,n.key)):Ze()}function qY(i,e){const t=e.key,n=t.path.canonicalString();i.$a.get(t)||i.Qa.has(n)||(Ie(pA,"New document in limbo: "+t),i.Qa.add(n),mA(i))}function mA(i){for(;i.Qa.size>0&&i.$a.size<i.maxConcurrentLimboResolutions;){const e=i.Qa.values().next().value;i.Qa.delete(e);const t=new Fe(mn.fromString(e)),n=i.za.next();i.Ua.set(n,new VY(t)),i.$a=i.$a.insert(t,n),DN(i.remoteStore,new Ro(Hr(jy(t.path)),n,"TargetPurposeLimboResolution",Vy.ae))}}async function Gf(i,e,t){const n=st(i),s=[],r=[],a=[];n.ka.isEmpty()||(n.ka.forEach((l,c)=>{a.push(n.Ha(c,e,t).then(h=>{var d;if((h||t)&&n.isPrimaryClient){const f=h?!h.fromCache:(d=t==null?void 0:t.targetChanges.get(c.targetId))===null||d===void 0?void 0:d.current;n.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(h){s.push(h);const f=iA.Yi(c.targetId,h);r.push(f)}}))}),await Promise.all(a),n.La.p_(s),await async function(c,h){const d=st(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>pe.forEach(h,p=>pe.forEach(p.Hi,y=>d.persistence.referenceDelegate.addReference(f,p.targetId,y)).next(()=>pe.forEach(p.Ji,y=>d.persistence.referenceDelegate.removeReference(f,p.targetId,y)))))}catch(f){if(!th(f))throw f;Ie(sA,"Failed to update sequence numbers: "+f)}for(const f of h){const p=f.targetId;if(!f.fromCache){const y=d.Ts.get(p),b=y.snapshotVersion,x=y.withLastLimboFreeSnapshotVersion(b);d.Ts=d.Ts.insert(p,x)}}}(n.localStore,r))}async function $Y(i,e){const t=st(i);if(!t.currentUser.isEqual(e)){Ie(pA,"User change. New user:",e.toKey());const n=await kN(t.localStore,e);t.currentUser=e,function(r,a){r.Ga.forEach(l=>{l.forEach(c=>{c.reject(new Re(de.CANCELLED,a))})}),r.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Gf(t,n.Rs)}}function KY(i,e){const t=st(i),n=t.Ua.get(e);if(n&&n.Ba)return At().add(n.key);{let s=At();const r=t.qa.get(e);if(!r)return s;for(const a of r){const l=t.ka.get(a);s=s.unionWith(l.view.Sa)}return s}}function XN(i){const e=st(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=BN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=KY.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=XY.bind(null,e),e.La.p_=NY.bind(null,e.eventManager),e.La.Ja=PY.bind(null,e.eventManager),e}function QY(i){const e=st(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=WY.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=GY.bind(null,e),e}class Zm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Gy(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return tY(this.persistence,new Z6,e.initialUser,this.serializer)}Xa(e){return new CN(nA.ri,this.serializer)}Za(e){return new lY}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Zm.provider={build:()=>new Zm};class ZY extends Zm{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Xt(this.persistence.referenceDelegate instanceof Km);const n=this.persistence.referenceDelegate.garbageCollector;return new V6(n,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?ts.withCacheSize(this.cacheSizeBytes):ts.DEFAULT;return new CN(n=>Km.ri(n,t),this.serializer)}}class lw{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>$k(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=$Y.bind(null,this.syncEngine),await IY(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new DY}()}createDatastore(e){const t=Gy(e.databaseInfo.databaseId),n=function(r){return new fY(r)}(e.databaseInfo);return function(r,a,l,c){return new yY(r,a,l,c)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(n,s,r,a,l){return new bY(n,s,r,a,l)}(this.localStore,this.datastore,e.asyncQueue,t=>$k(this.syncEngine,t,0),function(){return Uk.D()?new Uk:new cY}())}createSyncEngine(e,t){return function(s,r,a,l,c,h,d){const f=new FY(s,r,a,l,c,h);return d&&(f.ja=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const r=st(s);Ie(tc,"RemoteStore shutting down."),r.W_.add(5),await Wf(r),r.z_.shutdown(),r.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}lw.provider={build:()=>new lw};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Fa("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ho="FirestoreClient";class JY{constructor(e,t,n,s,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=s,this.user=ki.UNAUTHENTICATED,this.clientId=jD.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=r,this.authCredentials.start(n,async a=>{Ie(Ho,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(n,a=>(Ie(Ho,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ma;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=uA(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Dx(i,e){i.asyncQueue.verifyOperationInProgress(),Ie(Ho,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let n=t.initialUser;i.setCredentialChangeListener(async s=>{n.isEqual(s)||(await kN(e.localStore,s),n=s)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function Qk(i,e){i.asyncQueue.verifyOperationInProgress();const t=await e9(i);Ie(Ho,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener(n=>Xk(e.remoteStore,n)),i.setAppCheckTokenChangeListener((n,s)=>Xk(e.remoteStore,s)),i._onlineComponents=e}async function e9(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){Ie(Ho,"Using user provided OfflineComponentProvider");try{await Dx(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===de.FAILED_PRECONDITION||s.code===de.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;Pu("Error using user provided cache. Falling back to memory cache: "+t),await Dx(i,new Zm)}}else Ie(Ho,"Using default OfflineComponentProvider"),await Dx(i,new ZY(void 0));return i._offlineComponents}async function WN(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(Ie(Ho,"Using user provided OnlineComponentProvider"),await Qk(i,i._uninitializedComponentsProvider._online)):(Ie(Ho,"Using default OnlineComponentProvider"),await Qk(i,new lw))),i._onlineComponents}function t9(i){return WN(i).then(e=>e.syncEngine)}async function Jm(i){const e=await WN(i),t=e.eventManager;return t.onListen=zY.bind(null,e.syncEngine),t.onUnlisten=HY.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=jY.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=UY.bind(null,e.syncEngine),t}function n9(i,e,t={}){const n=new Ma;return i.asyncQueue.enqueueAndForget(async()=>function(r,a,l,c,h){const d=new yA({next:p=>{d.su(),a.enqueueAndForget(()=>dA(r,f));const y=p.docs.has(l);!y&&p.fromCache?h.reject(new Re(de.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&p.fromCache&&c&&c.source==="server"?h.reject(new Re(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(p)},error:p=>h.reject(p)}),f=new gA(jy(l.path),d,{includeMetadataChanges:!0,Ta:!0});return hA(r,f)}(await Jm(i),i.asyncQueue,e,t,n)),n.promise}function i9(i,e,t={}){const n=new Ma;return i.asyncQueue.enqueueAndForget(async()=>function(r,a,l,c,h){const d=new yA({next:p=>{d.su(),a.enqueueAndForget(()=>dA(r,f)),p.fromCache&&c.source==="server"?h.reject(new Re(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(p)},error:p=>h.reject(p)}),f=new gA(l,d,{includeMetadataChanges:!0,Ta:!0});return hA(r,f)}(await Jm(i),i.asyncQueue,e,t,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GN(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zk=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qN(i,e,t){if(!t)throw new Re(de.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function s9(i,e,t,n){if(e===!0&&n===!0)throw new Re(de.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function Jk(i){if(!Fe.isDocumentKey(i))throw new Re(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function eR(i){if(Fe.isDocumentKey(i))throw new Re(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Ky(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Ze()}function qi(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Re(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Ky(i);throw new Re(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N="firestore.googleapis.com",tR=!0;class nR{constructor(e){var t,n;if(e.host===void 0){if(e.ssl!==void 0)throw new Re(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=$N,this.ssl=tR}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:tR;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=EN;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<O6)throw new Re(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}s9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=GN((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Re(de.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Re(de.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Re(de.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,s){return n.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Qy{constructor(e,t,n,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nR({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Re(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Re(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nR(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new h5;switch(n.type){case"firstParty":return new p5(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Re(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const n=Zk.get(t);n&&(Ie("ComponentProvider","Removing Datastore"),Zk.delete(t),n.terminate())}(this),Promise.resolve()}}function r9(i,e,t,n={}){var s;const r=(i=qi(i,Qy))._getSettings(),a=Object.assign(Object.assign({},r),{emulatorOptions:i._getEmulatorOptions()}),l=`${e}:${t}`;r.host!==$N&&r.host!==l&&Pu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},r),{host:l,ssl:!1,emulatorOptions:n});if(!Oa(c,a)&&(i._setSettings(c),n.mockUserToken)){let h,d;if(typeof n.mockUserToken=="string")h=n.mockUserToken,d=ki.MOCK_USER;else{h=R_(n.mockUserToken,(s=i._app)===null||s===void 0?void 0:s.options.projectId);const f=n.mockUserToken.sub||n.mockUserToken.user_id;if(!f)throw new Re(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new ki(f)}i._authCredentials=new d5(new FD(h,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new tl(this.firestore,e,this._query)}}class Li{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Po(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Li(this.firestore,e,this._key)}}class Po extends tl{constructor(e,t,n){super(e,t,jy(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Li(this.firestore,null,new Fe(e))}withConverter(e){return new Po(this.firestore,e,this._path)}}function Vn(i,e,...t){if(i=dn(i),qN("collection","path",e),i instanceof Qy){const n=mn.fromString(e,...t);return eR(n),new Po(i,null,n)}{if(!(i instanceof Li||i instanceof Po))throw new Re(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=i._path.child(mn.fromString(e,...t));return eR(n),new Po(i.firestore,null,n)}}function lt(i,e,...t){if(i=dn(i),arguments.length===1&&(e=jD.newId()),qN("doc","path",e),i instanceof Qy){const n=mn.fromString(e,...t);return Jk(n),new Li(i,null,new Fe(n))}{if(!(i instanceof Li||i instanceof Po))throw new Re(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=i._path.child(mn.fromString(e,...t));return Jk(n),new Li(i.firestore,i instanceof Po?i.converter:null,new Fe(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR="AsyncQueue";class sR{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new IN(this,"async_queue_retry"),this.Su=()=>{const n=Mx();n&&Ie(iR,"Visibility state changed to "+n.visibilityState),this.a_.t_()},this.bu=e;const t=Mx();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Mx();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new Ma;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!th(e))throw e;Ie(iR,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(n=>{this.gu=n,this.pu=!1;const s=function(a){let l=a.message||"";return a.stack&&(l=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),l}(n);throw Fa("INTERNAL UNHANDLED ERROR: ",s),n}).then(n=>(this.pu=!1,n))));return this.bu=t,t}enqueueAfterDelay(e,t,n){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const s=cA.createAndSchedule(this,e,t,n,r=>this.Fu(r));return this.fu.push(s),s}Du(){this.gu&&Ze()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,n)=>t.targetTimeMs-n.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}function rR(i){return function(t,n){if(typeof t!="object"||t===null)return!1;const s=t;for(const r of n)if(r in s&&typeof s[r]=="function")return!0;return!1}(i,["next","error","complete"])}class $r extends Qy{constructor(e,t,n,s){super(e,t,n,s),this.type="firestore",this._queue=new sR,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new sR(e),this._firestoreClient=void 0,await e}}}function Zy(i,e){const t=typeof i=="object"?i:zf(),n=typeof i=="string"?i:Xm,s=Ya(t,"firestore").getImmediate({identifier:n});if(!s._initialized){const r=C_("firestore");r&&r9(s,...r)}return s}function qf(i){if(i._terminated)throw new Re(de.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||a9(i),i._firestoreClient}function a9(i){var e,t,n;const s=i._freezeSettings(),r=function(l,c,h,d){return new I5(l,c,h,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,GN(d.experimentalLongPollingOptions),d.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,s);i._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((n=s.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(i._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),i._firestoreClient=new JY(i._authCredentials,i._appCheckCredentials,i._queue,r,i._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ju(xi.fromBase64String(e))}catch(t){throw new Re(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ju(xi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Re(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Re(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Re(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ft(this._lat,e._lat)||ft(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,s){if(n.length!==s.length)return!1;for(let r=0;r<n.length;++r)if(n[r]!==s[r])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o9=/^__.*__$/;class l9{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return this.fieldMask!==null?new el(e,this.data,this.fieldMask,t,this.fieldTransforms):new Yf(e,this.data,t,this.fieldTransforms)}}class KN{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new el(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function QN(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ze()}}class xA{constructor(e,t,n,s,r,a){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=s,r===void 0&&this.Bu(),this.fieldTransforms=r||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new xA(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const n=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.ku({path:n,Qu:!1});return s.$u(e),s}Uu(e){var t;const n=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.ku({path:n,Qu:!1});return s.Bu(),s}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return ey(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(QN(this.Lu)&&o9.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class c9{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Gy(e)}ju(e,t,n,s=!1){return new xA({Lu:e,methodName:t,zu:n,path:vi.emptyPath(),Qu:!1,Gu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Kf(i){const e=i._freezeSettings(),t=Gy(i._databaseId);return new c9(i._databaseId,!!e.ignoreUndefinedProperties,t)}function wA(i,e,t,n,s,r={}){const a=i.ju(r.merge||r.mergeFields?2:0,e,t,s);AA("Data must be an object, but it was:",a,n);const l=eP(n,a);let c,h;if(r.merge)c=new xs(a.fieldMask),h=a.fieldTransforms;else if(r.mergeFields){const d=[];for(const f of r.mergeFields){const p=cw(e,f,t);if(!a.contains(p))throw new Re(de.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);nP(d,p)||d.push(p)}c=new xs(d),h=a.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,h=a.fieldTransforms;return new l9(new is(l),c,h)}class ev extends Jy{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ev}}class _A extends Jy{_toFieldTransform(e){return new n6(e.path,new ff)}isEqual(e){return e instanceof _A}}function ZN(i,e,t,n){const s=i.ju(1,e,t);AA("Data must be an object, but it was:",s,n);const r=[],a=is.empty();Jo(n,(c,h)=>{const d=SA(e,c,t);h=dn(h);const f=s.Uu(d);if(h instanceof ev)r.push(d);else{const p=Qf(h,f);p!=null&&(r.push(d),a.set(d,p))}});const l=new xs(r);return new KN(a,l,s.fieldTransforms)}function JN(i,e,t,n,s,r){const a=i.ju(1,e,t),l=[cw(e,n,t)],c=[s];if(r.length%2!=0)throw new Re(de.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<r.length;p+=2)l.push(cw(e,r[p])),c.push(r[p+1]);const h=[],d=is.empty();for(let p=l.length-1;p>=0;--p)if(!nP(h,l[p])){const y=l[p];let b=c[p];b=dn(b);const x=a.Uu(y);if(b instanceof ev)h.push(y);else{const _=Qf(b,x);_!=null&&(h.push(y),d.set(y,_))}}const f=new xs(h);return new KN(d,f,a.fieldTransforms)}function u9(i,e,t,n=!1){return Qf(t,i.ju(n?4:3,e))}function Qf(i,e){if(tP(i=dn(i)))return AA("Unsupported field value:",e,i),eP(i,e);if(i instanceof Jy)return function(n,s){if(!QN(s.Lu))throw s.Wu(`${n._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Wu(`${n._methodName}() is not currently supported inside arrays`);const r=n._toFieldTransform(s);r&&s.fieldTransforms.push(r)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(n,s){const r=[];let a=0;for(const l of n){let c=Qf(l,s.Ku(a));c==null&&(c={nullValue:"NULL_VALUE"}),r.push(c),a++}return{arrayValue:{values:r}}}(i,e)}return function(n,s){if((n=dn(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return J5(s.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const r=un.fromDate(n);return{timestampValue:$m(s.serializer,r)}}if(n instanceof un){const r=new un(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:$m(s.serializer,r)}}if(n instanceof vA)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ju)return{bytesValue:bN(s.serializer,n._byteString)};if(n instanceof Li){const r=s.databaseId,a=n.firestore._databaseId;if(!a.isEqual(r))throw s.Wu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:eA(n.firestore._databaseId||s.databaseId,n._key.path)}}if(n instanceof bA)return function(a,l){return{mapValue:{fields:{[qD]:{stringValue:$D},[Wm]:{arrayValue:{values:a.toArray().map(h=>{if(typeof h!="number")throw l.Wu("VectorValues must only contain numeric values.");return Q_(l.serializer,h)})}}}}}}(n,s);throw s.Wu(`Unsupported field value: ${Ky(n)}`)}(i,e)}function eP(i,e){const t={};return HD(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Jo(i,(n,s)=>{const r=Qf(s,e.qu(n));r!=null&&(t[n]=r)}),{mapValue:{fields:t}}}function tP(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof un||i instanceof vA||i instanceof ju||i instanceof Li||i instanceof Jy||i instanceof bA)}function AA(i,e,t){if(!tP(t)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(t)){const n=Ky(t);throw n==="an object"?e.Wu(i+" a custom object"):e.Wu(i+" "+n)}}function cw(i,e,t){if((e=dn(e))instanceof $f)return e._internalPath;if(typeof e=="string")return SA(i,e);throw ey("Field path arguments must be of type string or ",i,!1,void 0,t)}const h9=new RegExp("[~\\*/\\[\\]]");function SA(i,e,t){if(e.search(h9)>=0)throw ey(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new $f(...e.split("."))._internalPath}catch{throw ey(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function ey(i,e,t,n,s){const r=n&&!n.isEmpty(),a=s!==void 0;let l=`Function ${e}() called with invalid data`;t&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(r||a)&&(c+=" (found",r&&(c+=` in field ${n}`),a&&(c+=` in document ${s}`),c+=")"),new Re(de.INVALID_ARGUMENT,l+i+c)}function nP(i,e){return i.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{constructor(e,t,n,s,r){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=s,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new Li(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new d9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(tv("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class d9 extends iP{data(){return super.data()}}function tv(i,e){return typeof e=="string"?SA(i,e):e instanceof $f?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sP(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new Re(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class TA{}class rP extends TA{}function Aa(i,e,...t){let n=[];e instanceof TA&&n.push(e),n=n.concat(t),function(r){const a=r.filter(c=>c instanceof EA).length,l=r.filter(c=>c instanceof nv).length;if(a>1||a>0&&l>0)throw new Re(de.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const s of n)i=s._apply(i);return i}class nv extends rP{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new nv(e,t,n)}_apply(e){const t=this._parse(e);return aP(e._query,t),new tl(e.firestore,e.converter,Z0(e._query,t))}_parse(e){const t=Kf(e.firestore);return function(r,a,l,c,h,d,f){let p;if(h.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new Re(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){oR(f,d);const b=[];for(const x of f)b.push(aR(c,r,x));p={arrayValue:{values:b}}}else p=aR(c,r,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||oR(f,d),p=u9(l,a,f,d==="in"||d==="not-in");return Un.create(h,d,p)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function zl(i,e,t){const n=e,s=tv("where",i);return nv._create(s,n,t)}class EA extends TA{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new EA(e,t)}_parse(e){const t=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return t.length===1?t[0]:xr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(s,r){let a=s;const l=r.getFlattenedFilters();for(const c of l)aP(a,c),a=Z0(a,c)}(e._query,t),new tl(e.firestore,e.converter,Z0(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class CA extends rP{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new CA(e,t)}_apply(e){const t=function(s,r,a){if(s.startAt!==null)throw new Re(de.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new Re(de.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new df(r,a)}(e._query,this._field,this._direction);return new tl(e.firestore,e.converter,function(s,r){const a=s.explicitOrderBy.concat([r]);return new nh(s.path,s.collectionGroup,a,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}function Id(i,e="asc"){const t=e,n=tv("orderBy",i);return CA._create(n,t)}function aR(i,e,t){if(typeof(t=dn(t))=="string"){if(t==="")throw new Re(de.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!iN(e)&&t.indexOf("/")!==-1)throw new Re(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const n=e.path.child(mn.fromString(t));if(!Fe.isDocumentKey(n))throw new Re(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return wk(i,new Fe(n))}if(t instanceof Li)return wk(i,t._key);throw new Re(de.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ky(t)}.`)}function oR(i,e){if(!Array.isArray(i)||i.length===0)throw new Re(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function aP(i,e){const t=function(s,r){for(const a of s)for(const l of a.getFlattenedFilters())if(r.indexOf(l.op)>=0)return l.op;return null}(i.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Re(de.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Re(de.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class f9{convertValue(e,t="none"){switch(jo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Fn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(zo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ze()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return Jo(e,(s,r)=>{n[s]=this.convertValue(r,t)}),n}convertVectorValue(e){var t,n,s;const r=(s=(n=(t=e.fields)===null||t===void 0?void 0:t[Wm].arrayValue)===null||n===void 0?void 0:n.values)===null||s===void 0?void 0:s.map(a=>Fn(a.doubleValue));return new bA(r)}convertGeoPoint(e){return new vA(Fn(e.latitude),Fn(e.longitude))}convertArray(e,t){return(e.values||[]).map(n=>this.convertValue(n,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=zy(e);return n==null?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(cf(e));default:return null}}convertTimestamp(e){const t=Fo(e);return new un(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=mn.fromString(e);Xt(TN(n));const s=new uf(n.get(1),n.get(3)),r=new Fe(n.popFirst(5));return s.isEqual(t)||Fa(`Document ${r} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kA(i,e,t){let n;return n=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class oP extends iP{constructor(e,t,n,s,r,a){super(e,t,n,s,a),this._firestore=e,this._firestoreImpl=e,this.metadata=r}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new vm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(tv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class vm extends oP{data(e={}){return super.data(e)}}class lP{constructor(e,t,n,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new Md(s.hasPendingWrites,s.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new vm(this._firestore,this._userDataWriter,n.key,n,new Md(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Re(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,r){if(s._snapshot.oldDocs.isEmpty()){let a=0;return s._snapshot.docChanges.map(l=>{const c=new vm(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Md(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}})}{let a=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>r||l.type!==3).map(l=>{const c=new vm(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Md(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let h=-1,d=-1;return l.type!==0&&(h=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),d=a.indexOf(l.doc.key)),{type:g9(l.type),doc:c,oldIndex:h,newIndex:d}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function g9(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ze()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zf(i){i=qi(i,Li);const e=qi(i.firestore,$r);return n9(qf(e),i._key).then(t=>uP(e,i,t))}class RA extends f9{constructor(e){super(),this.firestore=e}convertBytes(e){return new ju(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Li(this.firestore,null,t)}}function mf(i){i=qi(i,tl);const e=qi(i.firestore,$r),t=qf(e),n=new RA(e);return sP(i._query),i9(t,i._query).then(s=>new lP(e,n,i,s))}function fn(i,e,t){i=qi(i,Li);const n=qi(i.firestore,$r),s=kA(i.converter,e,t);return Jf(n,[wA(Kf(n),"setDoc",i._key,s,i.converter!==null,t).toMutation(i._key,Gi.none())])}function cP(i,e,t,...n){i=qi(i,Li);const s=qi(i.firestore,$r),r=Kf(s);let a;return a=typeof(e=dn(e))=="string"||e instanceof $f?JN(r,"updateDoc",i._key,e,t,n):ZN(r,"updateDoc",i._key,e),Jf(s,[a.toMutation(i._key,Gi.exists(!0))])}function Ea(i){return Jf(qi(i.firestore,$r),[new Xy(i._key,Gi.none())])}function bm(i,e){const t=qi(i.firestore,$r),n=lt(i),s=kA(i.converter,e);return Jf(t,[wA(Kf(i.firestore),"addDoc",n._key,s,i.converter!==null,{}).toMutation(n._key,Gi.exists(!1))]).then(()=>n)}function Dd(i,...e){var t,n,s;i=dn(i);let r={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||rR(e[a])||(r=e[a],a++);const l={includeMetadataChanges:r.includeMetadataChanges,source:r.source};if(rR(e[a])){const f=e[a];e[a]=(t=f.next)===null||t===void 0?void 0:t.bind(f),e[a+1]=(n=f.error)===null||n===void 0?void 0:n.bind(f),e[a+2]=(s=f.complete)===null||s===void 0?void 0:s.bind(f)}let c,h,d;if(i instanceof Li)h=qi(i.firestore,$r),d=jy(i._key.path),c={next:f=>{e[a]&&e[a](uP(h,i,f))},error:e[a+1],complete:e[a+2]};else{const f=qi(i,tl);h=qi(f.firestore,$r),d=f._query;const p=new RA(h);c={next:y=>{e[a]&&e[a](new lP(h,p,f,y))},error:e[a+1],complete:e[a+2]},sP(i._query)}return function(p,y,b,x){const _=new yA(x),S=new gA(y,_,b);return p.asyncQueue.enqueueAndForget(async()=>hA(await Jm(p),S)),()=>{_.su(),p.asyncQueue.enqueueAndForget(async()=>dA(await Jm(p),S))}}(qf(h),d,l,c)}function Jf(i,e){return function(n,s){const r=new Ma;return n.asyncQueue.enqueueAndForget(async()=>YY(await t9(n),s,r)),r.promise}(qf(i),e)}function uP(i,e,t){const n=t.docs.get(e._key),s=new RA(i);return new oP(i,s,e._key,n,new Md(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p9{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Kf(e)}set(e,t,n){this._verifyNotCommitted();const s=Nx(e,this._firestore),r=kA(s.converter,t,n),a=wA(this._dataReader,"WriteBatch.set",s._key,r,s.converter!==null,n);return this._mutations.push(a.toMutation(s._key,Gi.none())),this}update(e,t,n,...s){this._verifyNotCommitted();const r=Nx(e,this._firestore);let a;return a=typeof(t=dn(t))=="string"||t instanceof $f?JN(this._dataReader,"WriteBatch.update",r._key,t,n,s):ZN(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(a.toMutation(r._key,Gi.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Nx(e,this._firestore);return this._mutations=this._mutations.concat(new Xy(t._key,Gi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Re(de.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Nx(i,e){if((i=dn(i)).firestore!==e)throw new Re(de.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}function vs(){return new _A("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m9(i){return qf(i=qi(i,$r)),new p9(i,e=>Jf(i,e))}(function(e,t=!0){(function(s){Ju=s})(Qo),Zs(new Ss("firestore",(n,{instanceIdentifier:s,options:r})=>{const a=n.getProvider("app").getImmediate(),l=new $r(new f5(n.getProvider("auth-internal")),new m5(a,n.getProvider("app-check-internal")),function(h,d){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Re(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new uf(h.options.projectId,d)}(a,s),a);return r=Object.assign({useFetchStreams:t},r),l._setSettings(r),l},"PUBLIC").setMultipleInstances(!0)),Oi(ck,uk,e),Oi(ck,uk,"esm2017")})();var y9="firebase",v9="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Oi(y9,v9,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hP="firebasestorage.googleapis.com",b9="storageBucket",x9=2*60*1e3,w9=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr extends tr{constructor(e,t,n=0){super(Px(e),`Firebase Storage: ${t} (${Px(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Qr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Px(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Kr;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Kr||(Kr={}));function Px(i){return"storage/"+i}function _9(){const i="An unknown error occurred, please check the error payload for server response.";return new Qr(Kr.UNKNOWN,i)}function A9(){return new Qr(Kr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function S9(){return new Qr(Kr.CANCELED,"User canceled the upload/download.")}function T9(i){return new Qr(Kr.INVALID_URL,"Invalid URL '"+i+"'.")}function E9(i){return new Qr(Kr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function lR(i){return new Qr(Kr.INVALID_ARGUMENT,i)}function dP(){return new Qr(Kr.APP_DELETED,"The Firebase app was deleted.")}function C9(i){return new Qr(Kr.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=fr.makeFromUrl(e,t)}catch{return new fr(e,"")}if(n.path==="")return n;throw E9(e)}static makeFromUrl(e,t){let n=null;const s="([A-Za-z0-9.\\-_]+)";function r(M){M.path.charAt(M.path.length-1)==="/"&&(M.path_=M.path_.slice(0,-1))}const a="(/(.*))?$",l=new RegExp("^gs://"+s+a,"i"),c={bucket:1,path:3};function h(M){M.path_=decodeURIComponent(M.path)}const d="v[A-Za-z0-9_]+",f=t.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",y=new RegExp(`^https?://${f}/${d}/b/${s}/o${p}`,"i"),b={bucket:1,path:3},x=t===hP?"(?:storage.googleapis.com|storage.cloud.google.com)":t,_="([^?#]*)",S=new RegExp(`^https?://${x}/${s}/${_}`,"i"),C=[{regex:l,indices:c,postModify:r},{regex:y,indices:b,postModify:h},{regex:S,indices:{bucket:1,path:2},postModify:h}];for(let M=0;M<C.length;M++){const R=C[M],P=R.regex.exec(e);if(P){const k=P[R.indices.bucket];let E=P[R.indices.path];E||(E=""),n=new fr(k,E),R.postModify(n);break}}if(n==null)throw T9(e);return n}}class k9{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R9(i,e,t){let n=1,s=null,r=null,a=!1,l=0;function c(){return l===2}let h=!1;function d(..._){h||(h=!0,e.apply(null,_))}function f(_){s=setTimeout(()=>{s=null,i(y,c())},_)}function p(){r&&clearTimeout(r)}function y(_,...S){if(h){p();return}if(_){p(),d.call(null,_,...S);return}if(c()||a){p(),d.call(null,_,...S);return}n<64&&(n*=2);let C;l===1?(l=2,C=0):C=(n+Math.random())*1e3,f(C)}let b=!1;function x(_){b||(b=!0,p(),!h&&(s!==null?(_||(l=2),clearTimeout(s),f(0)):_||(l=1)))}return f(0),r=setTimeout(()=>{a=!0,x(!0)},t),x}function I9(i){i(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M9(i){return i!==void 0}function cR(i,e,t,n){if(n<e)throw lR(`Invalid value for '${i}'. Expected ${e} or greater.`);if(n>t)throw lR(`Invalid value for '${i}'. Expected ${t} or less.`)}function D9(i){const e=encodeURIComponent;let t="?";for(const n in i)if(i.hasOwnProperty(n)){const s=e(n)+"="+e(i[n]);t=t+s+"&"}return t=t.slice(0,-1),t}var ty;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(ty||(ty={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N9(i,e){const t=i>=500&&i<600,s=[408,429].indexOf(i)!==-1,r=e.indexOf(i)!==-1;return t||s||r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P9{constructor(e,t,n,s,r,a,l,c,h,d,f,p=!0){this.url_=e,this.method_=t,this.headers_=n,this.body_=s,this.successCodes_=r,this.additionalRetryCodes_=a,this.callback_=l,this.errorCallback_=c,this.timeout_=h,this.progressCallback_=d,this.connectionFactory_=f,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((y,b)=>{this.resolve_=y,this.reject_=b,this.start_()})}start_(){const e=(n,s)=>{if(s){n(!1,new qp(!1,null,!0));return}const r=this.connectionFactory_();this.pendingConnection_=r;const a=l=>{const c=l.loaded,h=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,h)};this.progressCallback_!==null&&r.addUploadProgressListener(a),r.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&r.removeUploadProgressListener(a),this.pendingConnection_=null;const l=r.getErrorCode()===ty.NO_ERROR,c=r.getStatus();if(!l||N9(c,this.additionalRetryCodes_)&&this.retry){const d=r.getErrorCode()===ty.ABORT;n(!1,new qp(!1,null,d));return}const h=this.successCodes_.indexOf(c)!==-1;n(!0,new qp(h,r))})},t=(n,s)=>{const r=this.resolve_,a=this.reject_,l=s.connection;if(s.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());M9(c)?r(c):r()}catch(c){a(c)}else if(l!==null){const c=_9();c.serverResponse=l.getErrorText(),this.errorCallback_?a(this.errorCallback_(l,c)):a(c)}else if(s.canceled){const c=this.appDelete_?dP():S9();a(c)}else{const c=A9();a(c)}};this.canceled_?t(!1,new qp(!1,null,!0)):this.backoffId_=R9(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&I9(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class qp{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function O9(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function L9(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function V9(i,e){e&&(i["X-Firebase-GMPID"]=e)}function F9(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function z9(i,e,t,n,s,r,a=!0){const l=D9(i.urlParams),c=i.url+l,h=Object.assign({},i.headers);return V9(h,e),O9(h,t),L9(h,r),F9(h,n),new P9(c,i.method,h,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,s,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j9(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function B9(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(e,t){this._service=e,t instanceof fr?this._location=t:this._location=fr.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new ny(e,t)}get root(){const e=new fr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return B9(this._location.path)}get storage(){return this._service}get parent(){const e=j9(this._location.path);if(e===null)return null;const t=new fr(this._location.bucket,e);return new ny(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw C9(e)}}function uR(i,e){const t=e==null?void 0:e[b9];return t==null?null:fr.makeFromBucketSpec(t,i)}function H9(i,e,t,n={}){i.host=`${e}:${t}`,i._protocol="http";const{mockUserToken:s}=n;s&&(i._overrideAuthToken=typeof s=="string"?s:R_(s,i.app.options.projectId))}class U9{constructor(e,t,n,s,r){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=s,this._firebaseVersion=r,this._bucket=null,this._host=hP,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=x9,this._maxUploadRetryTime=w9,this._requests=new Set,s!=null?this._bucket=fr.makeFromBucketSpec(s,this._host):this._bucket=uR(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=fr.makeFromBucketSpec(this._url,e):this._bucket=uR(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){cR("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){cR("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(ns(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ny(this,e)}_makeRequest(e,t,n,s,r=!0){if(this._deleted)return new k9(dP());{const a=z9(e,this._appId,n,s,t,this._firebaseVersion,r);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,t){const[n,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,s).getPromise()}}const hR="@firebase/storage",dR="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fP="storage";function Y9(i=zf(),e){i=dn(i);const n=Ya(i,fP).getImmediate({identifier:e}),s=C_("storage");return s&&X9(n,...s),n}function X9(i,e,t,n={}){H9(i,e,t,n)}function W9(i,{instanceIdentifier:e}){const t=i.getProvider("app").getImmediate(),n=i.getProvider("auth-internal"),s=i.getProvider("app-check-internal");return new U9(t,n,s,e,Qo)}function G9(){Zs(new Ss(fP,W9,"PUBLIC").setMultipleInstances(!0)),Oi(hR,dR,""),Oi(hR,dR,"esm2017")}G9();var fR={};const gR="@firebase/database",pR="1.0.14";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gP="";function q9(i){gP=i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $9{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){t==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),yi(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return t==null?null:sf(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K9{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){t==null?delete this.cache_[e]:this.cache_[e]=t}get(e){return Ua(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pP=function(i){try{if(typeof window<"u"&&typeof window[i]<"u"){const e=window[i];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new $9(e)}}catch{}return new K9},Hl=pP("localStorage"),Q9=pP("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ru=new Ff("@firebase/database"),Z9=function(){let i=1;return function(){return i++}}(),mP=function(i){const e=j3(i),t=new O3;t.update(e);const n=t.digest();return E_.encodeByteArray(n)},eg=function(...i){let e="";for(let t=0;t<i.length;t++){const n=i[t];Array.isArray(n)||n&&typeof n=="object"&&typeof n.length=="number"?e+=eg.apply(null,n):typeof n=="object"?e+=yi(n):e+=n,e+=" "}return e};let Bd=null,mR=!0;const J9=function(i,e){Ee(!0,"Can't turn on custom loggers persistently."),Ru.logLevel=wt.VERBOSE,Bd=Ru.log.bind(Ru)},Mi=function(...i){if(mR===!0&&(mR=!1,Bd===null&&Q9.get("logging_enabled")===!0&&J9()),Bd){const e=eg.apply(null,i);Bd(e)}},tg=function(i){return function(...e){Mi(i,...e)}},uw=function(...i){const e="FIREBASE INTERNAL ERROR: "+eg(...i);Ru.error(e)},ja=function(...i){const e=`FIREBASE FATAL ERROR: ${eg(...i)}`;throw Ru.error(e),new Error(e)},ws=function(...i){const e="FIREBASE WARNING: "+eg(...i);Ru.warn(e)},eX=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&ws("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},yP=function(i){return typeof i=="number"&&(i!==i||i===Number.POSITIVE_INFINITY||i===Number.NEGATIVE_INFINITY)},tX=function(i){if(document.readyState==="complete")i();else{let e=!1;const t=function(){if(!document.body){setTimeout(t,Math.floor(10));return}e||(e=!0,i())};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&t()}),window.attachEvent("onload",t))}},Bu="[MIN_NAME]",nc="[MAX_NAME]",sh=function(i,e){if(i===e)return 0;if(i===Bu||e===nc)return-1;if(e===Bu||i===nc)return 1;{const t=yR(i),n=yR(e);return t!==null?n!==null?t-n===0?i.length-e.length:t-n:-1:n!==null?1:i<e?-1:1}},nX=function(i,e){return i===e?0:i<e?-1:1},vd=function(i,e){if(e&&i in e)return e[i];throw new Error("Missing required key ("+i+") in object: "+yi(e))},IA=function(i){if(typeof i!="object"||i===null)return yi(i);const e=[];for(const n in i)e.push(n);e.sort();let t="{";for(let n=0;n<e.length;n++)n!==0&&(t+=","),t+=yi(e[n]),t+=":",t+=IA(i[e[n]]);return t+="}",t},vP=function(i,e){const t=i.length;if(t<=e)return[i];const n=[];for(let s=0;s<t;s+=e)s+e>t?n.push(i.substring(s,t)):n.push(i.substring(s,s+e));return n};function Js(i,e){for(const t in i)i.hasOwnProperty(t)&&e(t,i[t])}const bP=function(i){Ee(!yP(i),"Invalid JSON number");const e=11,t=52,n=(1<<e-1)-1;let s,r,a,l,c;i===0?(r=0,a=0,s=1/i===-1/0?1:0):(s=i<0,i=Math.abs(i),i>=Math.pow(2,1-n)?(l=Math.min(Math.floor(Math.log(i)/Math.LN2),n),r=l+n,a=Math.round(i*Math.pow(2,t-l)-Math.pow(2,t))):(r=0,a=Math.round(i/Math.pow(2,1-n-t))));const h=[];for(c=t;c;c-=1)h.push(a%2?1:0),a=Math.floor(a/2);for(c=e;c;c-=1)h.push(r%2?1:0),r=Math.floor(r/2);h.push(s?1:0),h.reverse();const d=h.join("");let f="";for(c=0;c<64;c+=8){let p=parseInt(d.substr(c,8),2).toString(16);p.length===1&&(p="0"+p),f=f+p}return f.toLowerCase()},iX=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},sX=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},rX=new RegExp("^-?(0*)\\d{1,10}$"),aX=-2147483648,oX=2147483647,yR=function(i){if(rX.test(i)){const e=Number(i);if(e>=aX&&e<=oX)return e}return null},ng=function(i){try{i()}catch(e){setTimeout(()=>{const t=e.stack||"";throw ws("Exception was thrown by user callback.",t),e},Math.floor(0))}},lX=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Hd=function(i,e){const t=setTimeout(i,e);return typeof t=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):typeof t=="object"&&t.unref&&t.unref(),t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cX{constructor(e,t){this.appCheckProvider=t,this.appName=e.name,ns(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=t==null?void 0:t.getImmediate({optional:!0}),this.appCheck||t==null||t.get().then(n=>this.appCheck=n)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((t,n)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,n):t(null)},0)})}addTokenChangeListener(e){var t;(t=this.appCheckProvider)===null||t===void 0||t.get().then(n=>n.addTokenListener(e))}notifyForInvalidToken(){ws(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uX{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&t.code==="auth/token-not-initialized"?(Mi("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,n)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,n):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ws(e)}}class xm{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}xm.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MA="5",xP="v",wP="s",_P="r",AP="f",SP=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,TP="ls",EP="p",hw="ac",CP="websocket",kP="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(e,t,n,s,r=!1,a="",l=!1,c=!1,h=null){this.secure=t,this.namespace=n,this.webSocketOnly=s,this.nodeAdmin=r,this.persistenceKey=a,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=c,this.emulatorOptions=h,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Hl.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Hl.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function hX(i){return i.host!==i.internalHost||i.isCustomHost()||i.includeNamespaceInQueryParams}function IP(i,e,t){Ee(typeof e=="string","typeof type must == string"),Ee(typeof t=="object","typeof params must == object");let n;if(e===CP)n=(i.secure?"wss://":"ws://")+i.internalHost+"/.ws?";else if(e===kP)n=(i.secure?"https://":"http://")+i.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);hX(i)&&(t.ns=i.namespace);const s=[];return Js(t,(r,a)=>{s.push(r+"="+a)}),n+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dX{constructor(){this.counters_={}}incrementCounter(e,t=1){Ua(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return b3(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ox={},Lx={};function DA(i){const e=i.toString();return Ox[e]||(Ox[e]=new dX),Ox[e]}function fX(i,e){const t=i.toString();return Lx[t]||(Lx[t]=e()),Lx[t]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gX{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const n=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<n.length;++s)n[s]&&ng(()=>{this.onMessage_(n[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR="start",pX="close",mX="pLPCommand",yX="pRTLPCB",MP="id",DP="pw",NP="ser",vX="cb",bX="seg",xX="ts",wX="d",_X="dframe",PP=1870,OP=30,AX=PP-OP,SX=25e3,TX=3e4;class mu{constructor(e,t,n,s,r,a,l){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=s,this.authToken=r,this.transportSessionId=a,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=tg(e),this.stats_=DA(t),this.urlFn=c=>(this.appCheckToken&&(c[hw]=this.appCheckToken),IP(t,kP,c))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new gX(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(TX)),tX(()=>{if(this.isClosed_)return;this.scriptTagHolder=new NA((...r)=>{const[a,l,c,h,d]=r;if(this.incrementIncomingBytes_(r),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,a===vR)this.id=l,this.password=c;else if(a===pX)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+a)},(...r)=>{const[a,l]=r;this.incrementIncomingBytes_(r),this.myPacketOrderer.handleResponse(a,l)},()=>{this.onClosed_()},this.urlFn);const n={};n[vR]="t",n[NP]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(n[vX]=this.scriptTagHolder.uniqueCallbackIdentifier),n[xP]=MA,this.transportSessionId&&(n[wP]=this.transportSessionId),this.lastSessionId&&(n[TP]=this.lastSessionId),this.applicationId&&(n[EP]=this.applicationId),this.appCheckToken&&(n[hw]=this.appCheckToken),typeof location<"u"&&location.hostname&&SP.test(location.hostname)&&(n[_P]=AP);const s=this.urlFn(n);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){mu.forceAllow_=!0}static forceDisallow(){mu.forceDisallow_=!0}static isAvailable(){return mu.forceAllow_?!0:!mu.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!iX()&&!sX()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=yi(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=OM(t),s=vP(n,AX);for(let r=0;r<s.length;r++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[r]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const n={};n[_X]="t",n[MP]=e,n[DP]=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=yi(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class NA{constructor(e,t,n,s){this.onDisconnect=n,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Z9(),window[mX+this.uniqueCallbackIdentifier]=e,window[yX+this.uniqueCallbackIdentifier]=t,this.myIFrame=NA.createIFrame_();let r="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(r='<script>document.domain="'+document.domain+'";<\/script>');const a="<html><body>"+r+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(l){Mi("frame writing exception"),l.stack&&Mi(l.stack),Mi(l)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Mi("No IE domain setting required")}catch{const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[MP]=this.myID,e[DP]=this.myPW,e[NP]=this.currentSerial;let t=this.urlFn(e),n="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+OP+n.length<=PP;){const a=this.pendingSegs.shift();n=n+"&"+bX+s+"="+a.seg+"&"+xX+s+"="+a.ts+"&"+wX+s+"="+a.d,s++}return t=t+n,this.addLongPollTag_(t,this.currentSerial),!0}else return!1}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},s=setTimeout(n,Math.floor(SX)),r=()=>{clearTimeout(s),n()};this.addTag(e,r)}addTag(e,t){setTimeout(()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const s=n.readyState;(!s||s==="loaded"||s==="complete")&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{Mi("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EX=16384,CX=45e3;let iy=null;typeof MozWebSocket<"u"?iy=MozWebSocket:typeof WebSocket<"u"&&(iy=WebSocket);class hr{constructor(e,t,n,s,r,a,l){this.connId=e,this.applicationId=n,this.appCheckToken=s,this.authToken=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=tg(this.connId),this.stats_=DA(t),this.connURL=hr.connectionURL_(t,a,l,s,n),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,n,s,r){const a={};return a[xP]=MA,typeof location<"u"&&location.hostname&&SP.test(location.hostname)&&(a[_P]=AP),t&&(a[wP]=t),n&&(a[TP]=n),s&&(a[hw]=s),r&&(a[EP]=r),IP(e,CP,a)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Hl.set("previous_websocket_failure",!0);try{let n;k3(),this.mySock=new iy(this.connURL,[],n)}catch(n){this.log_("Error instantiating WebSocket.");const s=n.message||n.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=n=>{this.handleIncomingFrame(n)},this.mySock.onerror=n=>{this.log_("WebSocket error.  Closing connection.");const s=n.message||n.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){hr.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(t);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&iy!==null&&!hr.forceDisallow_}static previouslyFailed(){return Hl.isInMemoryStorage||Hl.get("previous_websocket_failure")===!0}markConnectionHealthy(){Hl.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const t=this.frames.join("");this.frames=null;const n=sf(t);this.onMessage(n)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Ee(this.frames===null,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(t);else{const n=this.extractFrameCount_(t);n!==null&&this.appendFrame_(n)}}send(e){this.resetKeepAlive();const t=yi(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=vP(t,EX);n.length>1&&this.sendString_(String(n.length));for(let s=0;s<n.length;s++)this.sendString_(n[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(CX))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}hr.responsesRequiredToBeHealthy=2;hr.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{static get ALL_TRANSPORTS(){return[mu,hr]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const t=hr&&hr.isAvailable();let n=t&&!hr.previouslyFailed();if(e.webSocketOnly&&(t||ws("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[hr];else{const s=this.transports_=[];for(const r of yf.ALL_TRANSPORTS)r&&r.isAvailable()&&s.push(r);yf.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}yf.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kX=6e4,RX=5e3,IX=10*1024,MX=100*1024,Vx="t",bR="d",DX="s",xR="r",NX="e",wR="o",_R="a",AR="n",SR="p",PX="h";class OX{constructor(e,t,n,s,r,a,l,c,h,d){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=s,this.authToken_=r,this.onMessage_=a,this.onReady_=l,this.onDisconnect_=c,this.onKill_=h,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=tg("c:"+this.id+":"),this.transportManager_=new yf(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,n)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=Hd(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>MX?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>IX?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Vx in e){const t=e[Vx];t===_R?this.upgradeIfSecondaryHealthy_():t===xR?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):t===wR&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=vd("t",e),n=vd("d",e);if(t==="c")this.onSecondaryControl_(n);else if(t==="d")this.pendingDataMessages.push(n);else throw new Error("Unknown protocol layer: "+t)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:SR,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:_R,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:AR,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=vd("t",e),n=vd("d",e);t==="c"?this.onControl_(n):t==="d"&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=vd(Vx,e);if(bR in e){const n=e[bR];if(t===PX){const s=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(t===AR){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else t===DX?this.onConnectionShutdown_(n):t===xR?this.onReset_(n):t===NX?uw("Server Error: "+n):t===wR?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):uw("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,n=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),MA!==n&&ws("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),Hd(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(kX))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Hd(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(RX))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:SR,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Hl.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{put(e,t,n,s){}merge(e,t,n,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{constructor(e){this.allowedEvents_=e,this.listeners_={},Ee(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const n=[...this.listeners_[e]];for(let s=0;s<n.length;s++)n[s].callback.apply(n[s].context,t)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});const s=this.getInitialEvent(e);s&&t.apply(n,s)}off(e,t,n){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let r=0;r<s.length;r++)if(s[r].callback===t&&(!n||n===s[r].context)){s.splice(r,1);return}}validateEventType_(e){Ee(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy extends VP{static getInstance(){return new sy}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!I_()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return Ee(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR=32,ER=768;class yn{constructor(e,t){if(t===void 0){this.pieces_=e.split("/");let n=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[n]=this.pieces_[s],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)this.pieces_[t]!==""&&(e+="/"+this.pieces_[t]);return e||"/"}}function tn(){return new yn("")}function Mt(i){return i.pieceNum_>=i.pieces_.length?null:i.pieces_[i.pieceNum_]}function Uo(i){return i.pieces_.length-i.pieceNum_}function pn(i){let e=i.pieceNum_;return e<i.pieces_.length&&e++,new yn(i.pieces_,e)}function FP(i){return i.pieceNum_<i.pieces_.length?i.pieces_[i.pieces_.length-1]:null}function LX(i){let e="";for(let t=i.pieceNum_;t<i.pieces_.length;t++)i.pieces_[t]!==""&&(e+="/"+encodeURIComponent(String(i.pieces_[t])));return e||"/"}function zP(i,e=0){return i.pieces_.slice(i.pieceNum_+e)}function jP(i){if(i.pieceNum_>=i.pieces_.length)return null;const e=[];for(let t=i.pieceNum_;t<i.pieces_.length-1;t++)e.push(i.pieces_[t]);return new yn(e,0)}function ci(i,e){const t=[];for(let n=i.pieceNum_;n<i.pieces_.length;n++)t.push(i.pieces_[n]);if(e instanceof yn)for(let n=e.pieceNum_;n<e.pieces_.length;n++)t.push(e.pieces_[n]);else{const n=e.split("/");for(let s=0;s<n.length;s++)n[s].length>0&&t.push(n[s])}return new yn(t,0)}function St(i){return i.pieceNum_>=i.pieces_.length}function Gs(i,e){const t=Mt(i),n=Mt(e);if(t===null)return e;if(t===n)return Gs(pn(i),pn(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+i+")")}function BP(i,e){if(Uo(i)!==Uo(e))return!1;for(let t=i.pieceNum_,n=e.pieceNum_;t<=i.pieces_.length;t++,n++)if(i.pieces_[t]!==e.pieces_[n])return!1;return!0}function gr(i,e){let t=i.pieceNum_,n=e.pieceNum_;if(Uo(i)>Uo(e))return!1;for(;t<i.pieces_.length;){if(i.pieces_[t]!==e.pieces_[n])return!1;++t,++n}return!0}class VX{constructor(e,t){this.errorPrefix_=t,this.parts_=zP(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=Ny(this.parts_[n]);HP(this)}}function FX(i,e){i.parts_.length>0&&(i.byteLength_+=1),i.parts_.push(e),i.byteLength_+=Ny(e),HP(i)}function zX(i){const e=i.parts_.pop();i.byteLength_-=Ny(e),i.parts_.length>0&&(i.byteLength_-=1)}function HP(i){if(i.byteLength_>ER)throw new Error(i.errorPrefix_+"has a key path longer than "+ER+" bytes ("+i.byteLength_+").");if(i.parts_.length>TR)throw new Error(i.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+TR+") or object contains a cycle "+Pl(i))}function Pl(i){return i.parts_.length===0?"":"in property '"+i.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA extends VP{static getInstance(){return new PA}constructor(){super(["visible"]);let e,t;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const n=!document[e];n!==this.visible_&&(this.visible_=n,this.trigger("visible",n))},!1)}getInitialEvent(e){return Ee(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bd=1e3,jX=60*5*1e3,CR=30*1e3,BX=1.3,HX=3e4,UX="server_kill",kR=3;class Da extends LP{constructor(e,t,n,s,r,a,l,c){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=n,this.onConnectStatus_=s,this.onServerInfoUpdate_=r,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=Da.nextPersistentConnectionId_++,this.log_=tg("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=bd,this.maxReconnectDelay_=jX,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");PA.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&sy.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,n){const s=++this.requestNumber_,r={r:s,a:e,b:t};this.log_(yi(r)),Ee(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(r),n&&(this.requestCBHash_[s]=n)}get(e){this.initConnection_();const t=new k_,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:a=>{const l=a.d;a.s==="ok"?t.resolve(l):t.reject(l)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}listen(e,t,n,s){this.initConnection_();const r=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+r),this.listens.has(a)||this.listens.set(a,new Map),Ee(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Ee(!this.listens.get(a).has(r),"listen() called twice for same path/queryId.");const l={onComplete:s,hashFn:t,query:e,tag:n};this.listens.get(a).set(r,l),this.connected_&&this.sendListen_(l)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)})}sendListen_(e){const t=e.query,n=t._path.toString(),s=t._queryIdentifier;this.log_("Listen on "+n+" for "+s);const r={p:n},a="q";e.tag&&(r.q=t._queryObject,r.t=e.tag),r.h=e.hashFn(),this.sendRequest(a,r,l=>{const c=l.d,h=l.s;Da.warnOnListenWarnings_(c,t),(this.listens.get(n)&&this.listens.get(n).get(s))===e&&(this.log_("listen response",l),h!=="ok"&&this.removeListen_(n,s),e.onComplete&&e.onComplete(h,c))})}static warnOnListenWarnings_(e,t){if(e&&typeof e=="object"&&Ua(e,"w")){const n=Nu(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const s='".indexOn": "'+t._queryParams.getIndex().toString()+'"',r=t._path.toString();ws(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${r} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||P3(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=CR)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=N3(e)?"auth":"gauth",n={cred:e};this.authOverride_===null?n.noauth=!0:typeof this.authOverride_=="object"&&(n.authvar=this.authOverride_),this.sendRequest(t,n,s=>{const r=s.s,a=s.d||"error";this.authToken_===e&&(r==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(r,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const t=e.s,n=e.d||"error";t==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)})}unlisten(e,t){const n=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+s),Ee(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,s)&&this.connected_&&this.sendUnlisten_(n,s,e._queryObject,t)}sendUnlisten_(e,t,n,s){this.log_("Unlisten on "+e+" for "+t);const r={p:e},a="n";s&&(r.q=n,r.t=s),this.sendRequest(a,r)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,n,s){const r={p:t,d:n};this.log_("onDisconnect "+e,r),this.sendRequest(e,r,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(e,t,n,s){this.putInternal("p",e,t,n,s)}merge(e,t,n,s){this.putInternal("m",e,t,n,s)}putInternal(e,t,n,s,r){this.initConnection_();const a={p:t,d:n};r!==void 0&&(a.h=r),this.outstandingPuts_.push({action:e,request:a,onComplete:s}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,r=>{this.log_(t+" response",r),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(r.s,r.d)})}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,n=>{if(n.s!=="ok"){const r=n.d;this.log_("reportStats","Error sending stats: "+r)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+yi(e));const t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),e==="d"?this.onDataUpdate_(t.p,t.d,!1,t.t):e==="m"?this.onDataUpdate_(t.p,t.d,!0,t.t):e==="c"?this.onListenRevoked_(t.p,t.q):e==="ac"?this.onAuthRevoked_(t.s,t.d):e==="apc"?this.onAppCheckRevoked_(t.s,t.d):e==="sd"?this.onSecurityDebugPacket_(t):uw("Unrecognized action received from server: "+yi(e)+`
Are you using the latest client?`)}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Ee(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=bd,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=bd,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>HX&&(this.reconnectDelay_=bd),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*BX)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+Da.nextConnectionId_++,r=this.lastSessionId;let a=!1,l=null;const c=function(){l?l.close():(a=!0,n())},h=function(f){Ee(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(f)};this.realtime_={close:c,sendRequest:h};const d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[f,p]=await Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);a?Mi("getToken() completed but was canceled"):(Mi("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=p&&p.token,l=new OX(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,n,y=>{ws(y+" ("+this.repoInfo_.toString()+")"),this.interrupt(UX)},r))}catch(f){this.log_("Failed to get token: "+f),a||(this.repoInfo_.nodeAdmin&&ws(f),c())}}}interrupt(e){Mi("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Mi("Resuming connection for reason: "+e),delete this.interruptReasons_[e],L0(this.interruptReasons_)&&(this.reconnectDelay_=bd,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;t?n=t.map(r=>IA(r)).join("$"):n="default";const s=this.removeListen_(e,n);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,t){const n=new yn(e).toString();let s;if(this.listens.has(n)){const r=this.listens.get(n);s=r.get(t),r.delete(t),r.size===0&&this.listens.delete(n)}else s=void 0;return s}onAuthRevoked_(e,t){Mi("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=kR&&(this.reconnectDelay_=CR,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){Mi("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=kR&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";e["sdk."+t+"."+gP.replace(/\./g,"-")]=1,I_()?e["framework.cordova"]=1:jM()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=sy.getInstance().currentlyOnline();return L0(this.interruptReasons_)&&e}}Da.nextPersistentConnectionId_=0;Da.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new Dt(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const n=new Dt(Bu,e),s=new Dt(Bu,t);return this.compare(n,s)!==0}minPost(){return Dt.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $p;class UP extends iv{static get __EMPTY_NODE(){return $p}static set __EMPTY_NODE(e){$p=e}compare(e,t){return sh(e.name,t.name)}isDefinedOn(e){throw Ku("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Dt.MIN}maxPost(){return new Dt(nc,$p)}makePost(e,t){return Ee(typeof e=="string","KeyIndex indexValue must always be a string."),new Dt(e,$p)}toString(){return".key"}}const Iu=new UP;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(e,t,n,s,r=null){this.isReverse_=s,this.resultGenerator_=r,this.nodeStack_=[];let a=1;for(;!e.isEmpty();)if(e=e,a=t?n(e.key,t):1,s&&(a*=-1),a<0)this.isReverse_?e=e.left:e=e.right;else if(a===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),t;if(this.resultGenerator_?t=this.resultGenerator_(e.key,e.value):t={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class ai{constructor(e,t,n,s,r){this.key=e,this.value=t,this.color=n??ai.RED,this.left=s??ss.EMPTY_NODE,this.right=r??ss.EMPTY_NODE}copy(e,t,n,s,r){return new ai(e??this.key,t??this.value,n??this.color,s??this.left,r??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let s=this;const r=n(e,s.key);return r<0?s=s.copy(null,null,null,s.left.insert(e,t,n),null):r===0?s=s.copy(null,t,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,t,n)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return ss.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let n,s;if(n=this,t(e,n.key)<0)!n.left.isEmpty()&&!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),!n.right.isEmpty()&&!n.right.isRed_()&&!n.right.left.isRed_()&&(n=n.moveRedRight_()),t(e,n.key)===0){if(n.right.isEmpty())return ss.EMPTY_NODE;s=n.right.min_(),n=n.copy(s.key,s.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,ai.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,ai.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}ai.RED=!0;ai.BLACK=!1;class YX{copy(e,t,n,s,r){return this}insert(e,t,n){return new ai(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class ss{constructor(e,t=ss.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new ss(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,ai.BLACK,null,null))}remove(e){return new ss(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ai.BLACK,null,null))}get(e){let t,n=this.root_;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),t===0)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,s=null;for(;!n.isEmpty();)if(t=this.comparator_(e,n.key),t===0){if(n.left.isEmpty())return s?s.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}else t<0?n=n.left:t>0&&(s=n,n=n.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Kp(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new Kp(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new Kp(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new Kp(this.root_,null,this.comparator_,!0,e)}}ss.EMPTY_NODE=new YX;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XX(i,e){return sh(i.name,e.name)}function OA(i,e){return sh(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dw;function WX(i){dw=i}const YP=function(i){return typeof i=="number"?"number:"+bP(i):"string:"+i},XP=function(i){if(i.isLeafNode()){const e=i.val();Ee(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Ua(e,".sv"),"Priority must be a string or number.")}else Ee(i===dw||i.isEmpty(),"priority of unexpected type.");Ee(i===dw||i.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let RR;class si{static set __childrenNodeConstructor(e){RR=e}static get __childrenNodeConstructor(){return RR}constructor(e,t=si.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=t,this.lazyHash_=null,Ee(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),XP(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new si(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:si.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return St(e)?this:Mt(e)===".priority"?this.priorityNode_:si.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return e===".priority"?this.updatePriority(t):t.isEmpty()&&e!==".priority"?this:si.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const n=Mt(e);return n===null?t:t.isEmpty()&&n!==".priority"?this:(Ee(n!==".priority"||Uo(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(n,si.__childrenNodeConstructor.EMPTY_NODE.updateChild(pn(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+YP(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",t==="number"?e+=bP(this.value_):e+=this.value_,this.lazyHash_=mP(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===si.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof si.__childrenNodeConstructor?-1:(Ee(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,n=typeof this.value_,s=si.VALUE_TYPE_ORDER.indexOf(t),r=si.VALUE_TYPE_ORDER.indexOf(n);return Ee(s>=0,"Unknown leaf type: "+t),Ee(r>=0,"Unknown leaf type: "+n),s===r?n==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:r-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}else return!1}}si.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let WP,GP;function GX(i){WP=i}function qX(i){GP=i}class $X extends iv{compare(e,t){const n=e.node.getPriority(),s=t.node.getPriority(),r=n.compareTo(s);return r===0?sh(e.name,t.name):r}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Dt.MIN}maxPost(){return new Dt(nc,new si("[PRIORITY-POST]",GP))}makePost(e,t){const n=WP(e);return new Dt(t,new si("[PRIORITY-POST]",n))}toString(){return".priority"}}const Ni=new $X;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KX=Math.log(2);class QX{constructor(e){const t=r=>parseInt(Math.log(r)/KX,10),n=r=>parseInt(Array(r+1).join("1"),2);this.count=t(e+1),this.current_=this.count-1;const s=n(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const ry=function(i,e,t,n){i.sort(e);const s=function(c,h){const d=h-c;let f,p;if(d===0)return null;if(d===1)return f=i[c],p=t?t(f):f,new ai(p,f.node,ai.BLACK,null,null);{const y=parseInt(d/2,10)+c,b=s(c,y),x=s(y+1,h);return f=i[y],p=t?t(f):f,new ai(p,f.node,ai.BLACK,b,x)}},r=function(c){let h=null,d=null,f=i.length;const p=function(b,x){const _=f-b,S=f;f-=b;const T=s(_+1,S),C=i[_],M=t?t(C):C;y(new ai(M,C.node,x,null,T))},y=function(b){h?(h.left=b,h=b):(d=b,h=b)};for(let b=0;b<c.count;++b){const x=c.nextBitIsOne(),_=Math.pow(2,c.count-(b+1));x?p(_,ai.BLACK):(p(_,ai.BLACK),p(_,ai.RED))}return d},a=new QX(i.length),l=r(a);return new ss(n||e,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fx;const ou={};class Ca{static get Default(){return Ee(ou&&Ni,"ChildrenNode.ts has not been loaded"),Fx=Fx||new Ca({".priority":ou},{".priority":Ni}),Fx}constructor(e,t){this.indexes_=e,this.indexSet_=t}get(e){const t=Nu(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof ss?t:null}hasIndex(e){return Ua(this.indexSet_,e.toString())}addIndex(e,t){Ee(e!==Iu,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let s=!1;const r=t.getIterator(Dt.Wrap);let a=r.getNext();for(;a;)s=s||e.isDefinedOn(a.node),n.push(a),a=r.getNext();let l;s?l=ry(n,e.getCompare()):l=ou;const c=e.toString(),h=Object.assign({},this.indexSet_);h[c]=e;const d=Object.assign({},this.indexes_);return d[c]=l,new Ca(d,h)}addToIndexes(e,t){const n=Pm(this.indexes_,(s,r)=>{const a=Nu(this.indexSet_,r);if(Ee(a,"Missing index implementation for "+r),s===ou)if(a.isDefinedOn(e.node)){const l=[],c=t.getIterator(Dt.Wrap);let h=c.getNext();for(;h;)h.name!==e.name&&l.push(h),h=c.getNext();return l.push(e),ry(l,a.getCompare())}else return ou;else{const l=t.get(e.name);let c=s;return l&&(c=c.remove(new Dt(e.name,l))),c.insert(e,e.node)}});return new Ca(n,this.indexSet_)}removeFromIndexes(e,t){const n=Pm(this.indexes_,s=>{if(s===ou)return s;{const r=t.get(e.name);return r?s.remove(new Dt(e.name,r)):s}});return new Ca(n,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xd;class Yt{static get EMPTY_NODE(){return xd||(xd=new Yt(new ss(OA),null,Ca.Default))}constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&XP(this.priorityNode_),this.children_.isEmpty()&&Ee(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||xd}updatePriority(e){return this.children_.isEmpty()?this:new Yt(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const t=this.children_.get(e);return t===null?xd:t}}getChild(e){const t=Mt(e);return t===null?this:this.getImmediateChild(t).getChild(pn(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,t){if(Ee(t,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(t);{const n=new Dt(e,t);let s,r;t.isEmpty()?(s=this.children_.remove(e),r=this.indexMap_.removeFromIndexes(n,this.children_)):(s=this.children_.insert(e,t),r=this.indexMap_.addToIndexes(n,this.children_));const a=s.isEmpty()?xd:this.priorityNode_;return new Yt(s,a,r)}}updateChild(e,t){const n=Mt(e);if(n===null)return t;{Ee(Mt(e)!==".priority"||Uo(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(n).updateChild(pn(e),t);return this.updateImmediateChild(n,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let n=0,s=0,r=!0;if(this.forEachChild(Ni,(a,l)=>{t[a]=l.val(e),n++,r&&Yt.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):r=!1}),!e&&r&&s<2*n){const a=[];for(const l in t)a[l]=t[l];return a}else return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+YP(this.getPriority().val())+":"),this.forEachChild(Ni,(t,n)=>{const s=n.hash();s!==""&&(e+=":"+t+":"+s)}),this.lazyHash_=e===""?"":mP(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){const s=this.resolveIndex_(n);if(s){const r=s.getPredecessorKey(new Dt(e,t));return r?r.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const n=t.minKey();return n&&n.name}else return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new Dt(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const n=t.maxKey();return n&&n.name}else return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new Dt(t,this.children_.get(t)):null}forEachChild(e,t){const n=this.resolveIndex_(e);return n?n.inorderTraversal(s=>t(s.name,s.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,Dt.Wrap);let r=s.peek();for(;r!=null&&t.compare(r,e)<0;)s.getNext(),r=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,Dt.Wrap);let r=s.peek();for(;r!=null&&t.compare(r,e)>0;)s.getNext(),r=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===ig?-1:0}withIndex(e){if(e===Iu||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new Yt(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===Iu||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority()))if(this.children_.count()===t.children_.count()){const n=this.getIterator(Ni),s=t.getIterator(Ni);let r=n.getNext(),a=s.getNext();for(;r&&a;){if(r.name!==a.name||!r.node.equals(a.node))return!1;r=n.getNext(),a=s.getNext()}return r===null&&a===null}else return!1;else return!1}}resolveIndex_(e){return e===Iu?null:this.indexMap_.get(e.toString())}}Yt.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class ZX extends Yt{constructor(){super(new ss(OA),Yt.EMPTY_NODE,Ca.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Yt.EMPTY_NODE}isEmpty(){return!1}}const ig=new ZX;Object.defineProperties(Dt,{MIN:{value:new Dt(Bu,Yt.EMPTY_NODE)},MAX:{value:new Dt(nc,ig)}});UP.__EMPTY_NODE=Yt.EMPTY_NODE;si.__childrenNodeConstructor=Yt;WX(ig);qX(ig);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JX=!0;function Di(i,e=null){if(i===null)return Yt.EMPTY_NODE;if(typeof i=="object"&&".priority"in i&&(e=i[".priority"]),Ee(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof i=="object"&&".value"in i&&i[".value"]!==null&&(i=i[".value"]),typeof i!="object"||".sv"in i){const t=i;return new si(t,Di(e))}if(!(i instanceof Array)&&JX){const t=[];let n=!1;if(Js(i,(a,l)=>{if(a.substring(0,1)!=="."){const c=Di(l);c.isEmpty()||(n=n||!c.getPriority().isEmpty(),t.push(new Dt(a,c)))}}),t.length===0)return Yt.EMPTY_NODE;const r=ry(t,XX,a=>a.name,OA);if(n){const a=ry(t,Ni.getCompare());return new Yt(r,Di(e),new Ca({".priority":a},{".priority":Ni}))}else return new Yt(r,Di(e),Ca.Default)}else{let t=Yt.EMPTY_NODE;return Js(i,(n,s)=>{if(Ua(i,n)&&n.substring(0,1)!=="."){const r=Di(s);(r.isLeafNode()||!r.isEmpty())&&(t=t.updateImmediateChild(n,r))}}),t.updatePriority(Di(e))}}GX(Di);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eW extends iv{constructor(e){super(),this.indexPath_=e,Ee(!St(e)&&Mt(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const n=this.extractChild(e.node),s=this.extractChild(t.node),r=n.compareTo(s);return r===0?sh(e.name,t.name):r}makePost(e,t){const n=Di(e),s=Yt.EMPTY_NODE.updateChild(this.indexPath_,n);return new Dt(t,s)}maxPost(){const e=Yt.EMPTY_NODE.updateChild(this.indexPath_,ig);return new Dt(nc,e)}toString(){return zP(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tW extends iv{compare(e,t){const n=e.node.compareTo(t.node);return n===0?sh(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Dt.MIN}maxPost(){return Dt.MAX}makePost(e,t){const n=Di(e);return new Dt(t,n)}toString(){return".value"}}const nW=new tW;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iW(i){return{type:"value",snapshotNode:i}}function sW(i,e){return{type:"child_added",snapshotNode:e,childName:i}}function rW(i,e){return{type:"child_removed",snapshotNode:e,childName:i}}function IR(i,e,t){return{type:"child_changed",snapshotNode:e,childName:i,oldSnap:t}}function aW(i,e){return{type:"child_moved",snapshotNode:e,childName:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ni}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Ee(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Ee(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Bu}hasEnd(){return this.endSet_}getIndexEndValue(){return Ee(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Ee(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:nc}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Ee(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ni}copy(){const e=new LA;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function MR(i){const e={};if(i.isDefault())return e;let t;if(i.index_===Ni?t="$priority":i.index_===nW?t="$value":i.index_===Iu?t="$key":(Ee(i.index_ instanceof eW,"Unrecognized index type!"),t=i.index_.toString()),e.orderBy=yi(t),i.startSet_){const n=i.startAfterSet_?"startAfter":"startAt";e[n]=yi(i.indexStartValue_),i.startNameSet_&&(e[n]+=","+yi(i.indexStartName_))}if(i.endSet_){const n=i.endBeforeSet_?"endBefore":"endAt";e[n]=yi(i.indexEndValue_),i.endNameSet_&&(e[n]+=","+yi(i.indexEndName_))}return i.limitSet_&&(i.isViewFromLeft()?e.limitToFirst=i.limit_:e.limitToLast=i.limit_),e}function DR(i){const e={};if(i.startSet_&&(e.sp=i.indexStartValue_,i.startNameSet_&&(e.sn=i.indexStartName_),e.sin=!i.startAfterSet_),i.endSet_&&(e.ep=i.indexEndValue_,i.endNameSet_&&(e.en=i.indexEndName_),e.ein=!i.endBeforeSet_),i.limitSet_){e.l=i.limit_;let t=i.viewFrom_;t===""&&(i.isViewFromLeft()?t="l":t="r"),e.vf=t}return i.index_!==Ni&&(e.i=i.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay extends LP{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return t!==void 0?"tag$"+t:(Ee(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,t,n,s){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=s,this.log_=tg("p:rest:"),this.listens_={}}listen(e,t,n,s){const r=e._path.toString();this.log_("Listen called for "+r+" "+e._queryIdentifier);const a=ay.getListenId_(e,n),l={};this.listens_[a]=l;const c=MR(e._queryParams);this.restRequest_(r+".json",c,(h,d)=>{let f=d;if(h===404&&(f=null,h=null),h===null&&this.onDataUpdate_(r,f,!1,n),Nu(this.listens_,a)===l){let p;h?h===401?p="permission_denied":p="rest_error:"+h:p="ok",s(p,null)}})}unlisten(e,t){const n=ay.getListenId_(e,t);delete this.listens_[n]}get(e){const t=MR(e._queryParams),n=e._path.toString(),s=new k_;return this.restRequest_(n+".json",t,(r,a)=>{let l=a;r===404&&(l=null,r=null),r===null?(this.onDataUpdate_(n,l,!1,null),s.resolve(l)):s.reject(new Error(l))}),s.promise}refreshAuthToken(e){}restRequest_(e,t={},n){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,r])=>{s&&s.accessToken&&(t.auth=s.accessToken),r&&r.token&&(t.ac=r.token);const a=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Qu(t);this.log_("Sending REST request for "+a);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(n&&l.readyState===4){this.log_("REST Response for "+a+" received. status:",l.status,"response:",l.responseText);let c=null;if(l.status>=200&&l.status<300){try{c=sf(l.responseText)}catch{ws("Failed to parse JSON response for "+a+": "+l.responseText)}n(null,c)}else l.status!==401&&l.status!==404&&ws("Got unsuccessful REST response for "+a+" Status: "+l.status),n(l.status);n=null}},l.open("GET",a,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oW{constructor(){this.rootNode_=Yt.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oy(){return{value:null,children:new Map}}function qP(i,e,t){if(St(e))i.value=t,i.children.clear();else if(i.value!==null)i.value=i.value.updateChild(e,t);else{const n=Mt(e);i.children.has(n)||i.children.set(n,oy());const s=i.children.get(n);e=pn(e),qP(s,e,t)}}function fw(i,e,t){i.value!==null?t(e,i.value):lW(i,(n,s)=>{const r=new yn(e.toString()+"/"+n);fw(s,r,t)})}function lW(i,e){i.children.forEach((t,n)=>{e(n,t)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cW{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Js(this.last_,(n,s)=>{t[n]=t[n]-s}),this.last_=e,t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR=10*1e3,uW=30*1e3,hW=5*60*1e3;class dW{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new cW(e);const n=NR+(uW-NR)*Math.random();Hd(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),t={};let n=!1;Js(e,(s,r)=>{r>0&&Ua(this.statsToReport_,s)&&(t[s]=r,n=!0)}),n&&this.server_.reportStats(t),Hd(this.reportStats_.bind(this),Math.floor(Math.random()*2*hW))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zr;(function(i){i[i.OVERWRITE=0]="OVERWRITE",i[i.MERGE=1]="MERGE",i[i.ACK_USER_WRITE=2]="ACK_USER_WRITE",i[i.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(zr||(zr={}));function $P(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function KP(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function QP(i){return{fromUser:!1,fromServer:!0,queryId:i,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=zr.ACK_USER_WRITE,this.source=$P()}operationForChild(e){if(St(this.path)){if(this.affectedTree.value!=null)return Ee(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new yn(e));return new ly(tn(),t,this.revert)}}else return Ee(Mt(this.path)===e,"operationForChild called for unrelated child."),new ly(pn(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=zr.OVERWRITE}operationForChild(e){return St(this.path)?new ic(this.source,tn(),this.snap.getImmediateChild(e)):new ic(this.source,pn(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=zr.MERGE}operationForChild(e){if(St(this.path)){const t=this.children.subtree(new yn(e));return t.isEmpty()?null:t.value?new ic(this.source,tn(),t.value):new vf(this.source,tn(),t)}else return Ee(Mt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new vf(this.source,pn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(St(e))return this.isFullyInitialized()&&!this.filtered_;const t=Mt(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function fW(i,e,t,n){const s=[],r=[];return e.forEach(a=>{a.type==="child_changed"&&i.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&r.push(aW(a.childName,a.snapshotNode))}),wd(i,s,"child_removed",e,n,t),wd(i,s,"child_added",e,n,t),wd(i,s,"child_moved",r,n,t),wd(i,s,"child_changed",e,n,t),wd(i,s,"value",e,n,t),s}function wd(i,e,t,n,s,r){const a=n.filter(l=>l.type===t);a.sort((l,c)=>pW(i,l,c)),a.forEach(l=>{const c=gW(i,l,r);s.forEach(h=>{h.respondsTo(l.type)&&e.push(h.createEvent(c,i.query_))})})}function gW(i,e,t){return e.type==="value"||e.type==="child_removed"||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,i.index_)),e}function pW(i,e,t){if(e.childName==null||t.childName==null)throw Ku("Should only compare child_ events.");const n=new Dt(e.childName,e.snapshotNode),s=new Dt(t.childName,t.snapshotNode);return i.index_.compare(n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZP(i,e){return{eventCache:i,serverCache:e}}function Ud(i,e,t,n){return ZP(new VA(e,t,n),i.serverCache)}function JP(i,e,t,n){return ZP(i.eventCache,new VA(e,t,n))}function gw(i){return i.eventCache.isFullyInitialized()?i.eventCache.getNode():null}function sc(i){return i.serverCache.isFullyInitialized()?i.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zx;const mW=()=>(zx||(zx=new ss(nX)),zx);class gn{static fromObject(e){let t=new gn(null);return Js(e,(n,s)=>{t=t.set(new yn(n),s)}),t}constructor(e,t=mW()){this.value=e,this.children=t}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(this.value!=null&&t(this.value))return{path:tn(),value:this.value};if(St(e))return null;{const n=Mt(e),s=this.children.get(n);if(s!==null){const r=s.findRootMostMatchingPathAndValue(pn(e),t);return r!=null?{path:ci(new yn(n),r.path),value:r.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(St(e))return this;{const t=Mt(e),n=this.children.get(t);return n!==null?n.subtree(pn(e)):new gn(null)}}set(e,t){if(St(e))return new gn(t,this.children);{const n=Mt(e),r=(this.children.get(n)||new gn(null)).set(pn(e),t),a=this.children.insert(n,r);return new gn(this.value,a)}}remove(e){if(St(e))return this.children.isEmpty()?new gn(null):new gn(null,this.children);{const t=Mt(e),n=this.children.get(t);if(n){const s=n.remove(pn(e));let r;return s.isEmpty()?r=this.children.remove(t):r=this.children.insert(t,s),this.value===null&&r.isEmpty()?new gn(null):new gn(this.value,r)}else return this}}get(e){if(St(e))return this.value;{const t=Mt(e),n=this.children.get(t);return n?n.get(pn(e)):null}}setTree(e,t){if(St(e))return t;{const n=Mt(e),r=(this.children.get(n)||new gn(null)).setTree(pn(e),t);let a;return r.isEmpty()?a=this.children.remove(n):a=this.children.insert(n,r),new gn(this.value,a)}}fold(e){return this.fold_(tn(),e)}fold_(e,t){const n={};return this.children.inorderTraversal((s,r)=>{n[s]=r.fold_(ci(e,s),t)}),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,tn(),t)}findOnPath_(e,t,n){const s=this.value?n(t,this.value):!1;if(s)return s;if(St(e))return null;{const r=Mt(e),a=this.children.get(r);return a?a.findOnPath_(pn(e),ci(t,r),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,tn(),t)}foreachOnPath_(e,t,n){if(St(e))return this;{this.value&&n(t,this.value);const s=Mt(e),r=this.children.get(s);return r?r.foreachOnPath_(pn(e),ci(t,s),n):new gn(null)}}foreach(e){this.foreach_(tn(),e)}foreach_(e,t){this.children.inorderTraversal((n,s)=>{s.foreach_(ci(e,n),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,n)=>{n.value&&e(t,n.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e){this.writeTree_=e}static empty(){return new yr(new gn(null))}}function Yd(i,e,t){if(St(e))return new yr(new gn(t));{const n=i.writeTree_.findRootMostValueAndPath(e);if(n!=null){const s=n.path;let r=n.value;const a=Gs(s,e);return r=r.updateChild(a,t),new yr(i.writeTree_.set(s,r))}else{const s=new gn(t),r=i.writeTree_.setTree(e,s);return new yr(r)}}}function PR(i,e,t){let n=i;return Js(t,(s,r)=>{n=Yd(n,ci(e,s),r)}),n}function OR(i,e){if(St(e))return yr.empty();{const t=i.writeTree_.setTree(e,new gn(null));return new yr(t)}}function pw(i,e){return gc(i,e)!=null}function gc(i,e){const t=i.writeTree_.findRootMostValueAndPath(e);return t!=null?i.writeTree_.get(t.path).getChild(Gs(t.path,e)):null}function LR(i){const e=[],t=i.writeTree_.value;return t!=null?t.isLeafNode()||t.forEachChild(Ni,(n,s)=>{e.push(new Dt(n,s))}):i.writeTree_.children.inorderTraversal((n,s)=>{s.value!=null&&e.push(new Dt(n,s.value))}),e}function Oo(i,e){if(St(e))return i;{const t=gc(i,e);return t!=null?new yr(new gn(t)):new yr(i.writeTree_.subtree(e))}}function mw(i){return i.writeTree_.isEmpty()}function Hu(i,e){return eO(tn(),i.writeTree_,e)}function eO(i,e,t){if(e.value!=null)return t.updateChild(i,e.value);{let n=null;return e.children.inorderTraversal((s,r)=>{s===".priority"?(Ee(r.value!==null,"Priority writes must always be leaf nodes"),n=r.value):t=eO(ci(i,s),r,t)}),!t.getChild(i).isEmpty()&&n!==null&&(t=t.updateChild(ci(i,".priority"),n)),t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tO(i,e){return aO(e,i)}function yW(i,e,t,n,s){Ee(n>i.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),i.allWrites.push({path:e,snap:t,writeId:n,visible:s}),s&&(i.visibleWrites=Yd(i.visibleWrites,e,t)),i.lastWriteId=n}function vW(i,e){for(let t=0;t<i.allWrites.length;t++){const n=i.allWrites[t];if(n.writeId===e)return n}return null}function bW(i,e){const t=i.allWrites.findIndex(l=>l.writeId===e);Ee(t>=0,"removeWrite called with nonexistent writeId.");const n=i.allWrites[t];i.allWrites.splice(t,1);let s=n.visible,r=!1,a=i.allWrites.length-1;for(;s&&a>=0;){const l=i.allWrites[a];l.visible&&(a>=t&&xW(l,n.path)?s=!1:gr(n.path,l.path)&&(r=!0)),a--}if(s){if(r)return wW(i),!0;if(n.snap)i.visibleWrites=OR(i.visibleWrites,n.path);else{const l=n.children;Js(l,c=>{i.visibleWrites=OR(i.visibleWrites,ci(n.path,c))})}return!0}else return!1}function xW(i,e){if(i.snap)return gr(i.path,e);for(const t in i.children)if(i.children.hasOwnProperty(t)&&gr(ci(i.path,t),e))return!0;return!1}function wW(i){i.visibleWrites=nO(i.allWrites,_W,tn()),i.allWrites.length>0?i.lastWriteId=i.allWrites[i.allWrites.length-1].writeId:i.lastWriteId=-1}function _W(i){return i.visible}function nO(i,e,t){let n=yr.empty();for(let s=0;s<i.length;++s){const r=i[s];if(e(r)){const a=r.path;let l;if(r.snap)gr(t,a)?(l=Gs(t,a),n=Yd(n,l,r.snap)):gr(a,t)&&(l=Gs(a,t),n=Yd(n,tn(),r.snap.getChild(l)));else if(r.children){if(gr(t,a))l=Gs(t,a),n=PR(n,l,r.children);else if(gr(a,t))if(l=Gs(a,t),St(l))n=PR(n,tn(),r.children);else{const c=Nu(r.children,Mt(l));if(c){const h=c.getChild(pn(l));n=Yd(n,tn(),h)}}}else throw Ku("WriteRecord should have .snap or .children")}}return n}function iO(i,e,t,n,s){if(!n&&!s){const r=gc(i.visibleWrites,e);if(r!=null)return r;{const a=Oo(i.visibleWrites,e);if(mw(a))return t;if(t==null&&!pw(a,tn()))return null;{const l=t||Yt.EMPTY_NODE;return Hu(a,l)}}}else{const r=Oo(i.visibleWrites,e);if(!s&&mw(r))return t;if(!s&&t==null&&!pw(r,tn()))return null;{const a=function(h){return(h.visible||s)&&(!n||!~n.indexOf(h.writeId))&&(gr(h.path,e)||gr(e,h.path))},l=nO(i.allWrites,a,e),c=t||Yt.EMPTY_NODE;return Hu(l,c)}}}function AW(i,e,t){let n=Yt.EMPTY_NODE;const s=gc(i.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(Ni,(r,a)=>{n=n.updateImmediateChild(r,a)}),n;if(t){const r=Oo(i.visibleWrites,e);return t.forEachChild(Ni,(a,l)=>{const c=Hu(Oo(r,new yn(a)),l);n=n.updateImmediateChild(a,c)}),LR(r).forEach(a=>{n=n.updateImmediateChild(a.name,a.node)}),n}else{const r=Oo(i.visibleWrites,e);return LR(r).forEach(a=>{n=n.updateImmediateChild(a.name,a.node)}),n}}function SW(i,e,t,n,s){Ee(n||s,"Either existingEventSnap or existingServerSnap must exist");const r=ci(e,t);if(pw(i.visibleWrites,r))return null;{const a=Oo(i.visibleWrites,r);return mw(a)?s.getChild(t):Hu(a,s.getChild(t))}}function TW(i,e,t,n){const s=ci(e,t),r=gc(i.visibleWrites,s);if(r!=null)return r;if(n.isCompleteForChild(t)){const a=Oo(i.visibleWrites,s);return Hu(a,n.getNode().getImmediateChild(t))}else return null}function EW(i,e){return gc(i.visibleWrites,e)}function CW(i,e,t,n,s,r,a){let l;const c=Oo(i.visibleWrites,e),h=gc(c,tn());if(h!=null)l=h;else if(t!=null)l=Hu(c,t);else return[];if(l=l.withIndex(a),!l.isEmpty()&&!l.isLeafNode()){const d=[],f=a.getCompare(),p=r?l.getReverseIteratorFrom(n,a):l.getIteratorFrom(n,a);let y=p.getNext();for(;y&&d.length<s;)f(y,n)!==0&&d.push(y),y=p.getNext();return d}else return[]}function kW(){return{visibleWrites:yr.empty(),allWrites:[],lastWriteId:-1}}function yw(i,e,t,n){return iO(i.writeTree,i.treePath,e,t,n)}function sO(i,e){return AW(i.writeTree,i.treePath,e)}function VR(i,e,t,n){return SW(i.writeTree,i.treePath,e,t,n)}function cy(i,e){return EW(i.writeTree,ci(i.treePath,e))}function RW(i,e,t,n,s,r){return CW(i.writeTree,i.treePath,e,t,n,s,r)}function FA(i,e,t){return TW(i.writeTree,i.treePath,e,t)}function rO(i,e){return aO(ci(i.treePath,e),i.writeTree)}function aO(i,e){return{treePath:i,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IW{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,n=e.childName;Ee(t==="child_added"||t==="child_changed"||t==="child_removed","Only child changes supported for tracking"),Ee(n!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(n);if(s){const r=s.type;if(t==="child_added"&&r==="child_removed")this.changeMap.set(n,IR(n,e.snapshotNode,s.snapshotNode));else if(t==="child_removed"&&r==="child_added")this.changeMap.delete(n);else if(t==="child_removed"&&r==="child_changed")this.changeMap.set(n,rW(n,s.oldSnap));else if(t==="child_changed"&&r==="child_added")this.changeMap.set(n,sW(n,e.snapshotNode));else if(t==="child_changed"&&r==="child_changed")this.changeMap.set(n,IR(n,e.snapshotNode,s.oldSnap));else throw Ku("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MW{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}}const oO=new MW;class zA{constructor(e,t,n=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const n=this.optCompleteServerCache_!=null?new VA(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return FA(this.writes_,e,n)}}getChildAfterChild(e,t,n){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:sc(this.viewCache_),r=RW(this.writes_,s,t,1,n,e);return r.length===0?null:r[0]}}function DW(i,e){Ee(e.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),Ee(e.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed")}function NW(i,e,t,n,s){const r=new IW;let a,l;if(t.type===zr.OVERWRITE){const h=t;h.source.fromUser?a=vw(i,e,h.path,h.snap,n,s,r):(Ee(h.source.fromServer,"Unknown source."),l=h.source.tagged||e.serverCache.isFiltered()&&!St(h.path),a=uy(i,e,h.path,h.snap,n,s,l,r))}else if(t.type===zr.MERGE){const h=t;h.source.fromUser?a=OW(i,e,h.path,h.children,n,s,r):(Ee(h.source.fromServer,"Unknown source."),l=h.source.tagged||e.serverCache.isFiltered(),a=bw(i,e,h.path,h.children,n,s,l,r))}else if(t.type===zr.ACK_USER_WRITE){const h=t;h.revert?a=FW(i,e,h.path,n,s,r):a=LW(i,e,h.path,h.affectedTree,n,s,r)}else if(t.type===zr.LISTEN_COMPLETE)a=VW(i,e,t.path,n,r);else throw Ku("Unknown operation type: "+t.type);const c=r.getChanges();return PW(e,a,c),{viewCache:a,changes:c}}function PW(i,e,t){const n=e.eventCache;if(n.isFullyInitialized()){const s=n.getNode().isLeafNode()||n.getNode().isEmpty(),r=gw(i);(t.length>0||!i.eventCache.isFullyInitialized()||s&&!n.getNode().equals(r)||!n.getNode().getPriority().equals(r.getPriority()))&&t.push(iW(gw(e)))}}function lO(i,e,t,n,s,r){const a=e.eventCache;if(cy(n,t)!=null)return e;{let l,c;if(St(t))if(Ee(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const h=sc(e),d=h instanceof Yt?h:Yt.EMPTY_NODE,f=sO(n,d);l=i.filter.updateFullNode(e.eventCache.getNode(),f,r)}else{const h=yw(n,sc(e));l=i.filter.updateFullNode(e.eventCache.getNode(),h,r)}else{const h=Mt(t);if(h===".priority"){Ee(Uo(t)===1,"Can't have a priority with additional path components");const d=a.getNode();c=e.serverCache.getNode();const f=VR(n,t,d,c);f!=null?l=i.filter.updatePriority(d,f):l=a.getNode()}else{const d=pn(t);let f;if(a.isCompleteForChild(h)){c=e.serverCache.getNode();const p=VR(n,t,a.getNode(),c);p!=null?f=a.getNode().getImmediateChild(h).updateChild(d,p):f=a.getNode().getImmediateChild(h)}else f=FA(n,h,e.serverCache);f!=null?l=i.filter.updateChild(a.getNode(),h,f,d,s,r):l=a.getNode()}}return Ud(e,l,a.isFullyInitialized()||St(t),i.filter.filtersNodes())}}function uy(i,e,t,n,s,r,a,l){const c=e.serverCache;let h;const d=a?i.filter:i.filter.getIndexedFilter();if(St(t))h=d.updateFullNode(c.getNode(),n,null);else if(d.filtersNodes()&&!c.isFiltered()){const y=c.getNode().updateChild(t,n);h=d.updateFullNode(c.getNode(),y,null)}else{const y=Mt(t);if(!c.isCompleteForPath(t)&&Uo(t)>1)return e;const b=pn(t),_=c.getNode().getImmediateChild(y).updateChild(b,n);y===".priority"?h=d.updatePriority(c.getNode(),_):h=d.updateChild(c.getNode(),y,_,b,oO,null)}const f=JP(e,h,c.isFullyInitialized()||St(t),d.filtersNodes()),p=new zA(s,f,r);return lO(i,f,t,s,p,l)}function vw(i,e,t,n,s,r,a){const l=e.eventCache;let c,h;const d=new zA(s,e,r);if(St(t))h=i.filter.updateFullNode(e.eventCache.getNode(),n,a),c=Ud(e,h,!0,i.filter.filtersNodes());else{const f=Mt(t);if(f===".priority")h=i.filter.updatePriority(e.eventCache.getNode(),n),c=Ud(e,h,l.isFullyInitialized(),l.isFiltered());else{const p=pn(t),y=l.getNode().getImmediateChild(f);let b;if(St(p))b=n;else{const x=d.getCompleteChild(f);x!=null?FP(p)===".priority"&&x.getChild(jP(p)).isEmpty()?b=x:b=x.updateChild(p,n):b=Yt.EMPTY_NODE}if(y.equals(b))c=e;else{const x=i.filter.updateChild(l.getNode(),f,b,p,d,a);c=Ud(e,x,l.isFullyInitialized(),i.filter.filtersNodes())}}}return c}function FR(i,e){return i.eventCache.isCompleteForChild(e)}function OW(i,e,t,n,s,r,a){let l=e;return n.foreach((c,h)=>{const d=ci(t,c);FR(e,Mt(d))&&(l=vw(i,l,d,h,s,r,a))}),n.foreach((c,h)=>{const d=ci(t,c);FR(e,Mt(d))||(l=vw(i,l,d,h,s,r,a))}),l}function zR(i,e,t){return t.foreach((n,s)=>{e=e.updateChild(n,s)}),e}function bw(i,e,t,n,s,r,a,l){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c=e,h;St(t)?h=n:h=new gn(null).setTree(t,n);const d=e.serverCache.getNode();return h.children.inorderTraversal((f,p)=>{if(d.hasChild(f)){const y=e.serverCache.getNode().getImmediateChild(f),b=zR(i,y,p);c=uy(i,c,new yn(f),b,s,r,a,l)}}),h.children.inorderTraversal((f,p)=>{const y=!e.serverCache.isCompleteForChild(f)&&p.value===null;if(!d.hasChild(f)&&!y){const b=e.serverCache.getNode().getImmediateChild(f),x=zR(i,b,p);c=uy(i,c,new yn(f),x,s,r,a,l)}}),c}function LW(i,e,t,n,s,r,a){if(cy(s,t)!=null)return e;const l=e.serverCache.isFiltered(),c=e.serverCache;if(n.value!=null){if(St(t)&&c.isFullyInitialized()||c.isCompleteForPath(t))return uy(i,e,t,c.getNode().getChild(t),s,r,l,a);if(St(t)){let h=new gn(null);return c.getNode().forEachChild(Iu,(d,f)=>{h=h.set(new yn(d),f)}),bw(i,e,t,h,s,r,l,a)}else return e}else{let h=new gn(null);return n.foreach((d,f)=>{const p=ci(t,d);c.isCompleteForPath(p)&&(h=h.set(d,c.getNode().getChild(p)))}),bw(i,e,t,h,s,r,l,a)}}function VW(i,e,t,n,s){const r=e.serverCache,a=JP(e,r.getNode(),r.isFullyInitialized()||St(t),r.isFiltered());return lO(i,a,t,n,oO,s)}function FW(i,e,t,n,s,r){let a;if(cy(n,t)!=null)return e;{const l=new zA(n,e,s),c=e.eventCache.getNode();let h;if(St(t)||Mt(t)===".priority"){let d;if(e.serverCache.isFullyInitialized())d=yw(n,sc(e));else{const f=e.serverCache.getNode();Ee(f instanceof Yt,"serverChildren would be complete if leaf node"),d=sO(n,f)}d=d,h=i.filter.updateFullNode(c,d,r)}else{const d=Mt(t);let f=FA(n,d,e.serverCache);f==null&&e.serverCache.isCompleteForChild(d)&&(f=c.getImmediateChild(d)),f!=null?h=i.filter.updateChild(c,d,f,pn(t),l,r):e.eventCache.getNode().hasChild(d)?h=i.filter.updateChild(c,d,Yt.EMPTY_NODE,pn(t),l,r):h=c,h.isEmpty()&&e.serverCache.isFullyInitialized()&&(a=yw(n,sc(e)),a.isLeafNode()&&(h=i.filter.updateFullNode(h,a,r)))}return a=e.serverCache.isFullyInitialized()||cy(n,tn())!=null,Ud(e,h,a,i.filter.filtersNodes())}}function zW(i,e){const t=sc(i.viewCache_);return t&&(i.query._queryParams.loadsAllData()||!St(e)&&!t.getImmediateChild(Mt(e)).isEmpty())?t.getChild(e):null}function jR(i,e,t,n){e.type===zr.MERGE&&e.source.queryId!==null&&(Ee(sc(i.viewCache_),"We should always have a full cache before handling merges"),Ee(gw(i.viewCache_),"Missing event cache, even though we have a server cache"));const s=i.viewCache_,r=NW(i.processor_,s,e,t,n);return DW(i.processor_,r.viewCache),Ee(r.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),i.viewCache_=r.viewCache,jW(i,r.changes,r.viewCache.eventCache.getNode())}function jW(i,e,t,n){const s=i.eventRegistrations_;return fW(i.eventGenerator_,e,t,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let BR;function BW(i){Ee(!BR,"__referenceConstructor has already been defined"),BR=i}function jA(i,e,t,n){const s=e.source.queryId;if(s!==null){const r=i.views.get(s);return Ee(r!=null,"SyncTree gave us an op for an invalid query."),jR(r,e,t,n)}else{let r=[];for(const a of i.views.values())r=r.concat(jR(a,e,t,n));return r}}function BA(i,e){let t=null;for(const n of i.views.values())t=t||zW(n,e);return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let HR;function HW(i){Ee(!HR,"__referenceConstructor has already been defined"),HR=i}class UR{constructor(e){this.listenProvider_=e,this.syncPointTree_=new gn(null),this.pendingWriteTree_=kW(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function UW(i,e,t,n,s){return yW(i.pendingWriteTree_,e,t,n,s),s?rv(i,new ic($P(),e,t)):[]}function yu(i,e,t=!1){const n=vW(i.pendingWriteTree_,e);if(bW(i.pendingWriteTree_,e)){let r=new gn(null);return n.snap!=null?r=r.set(tn(),!0):Js(n.children,a=>{r=r.set(new yn(a),!0)}),rv(i,new ly(n.path,r,t))}else return[]}function sv(i,e,t){return rv(i,new ic(KP(),e,t))}function YW(i,e,t){const n=gn.fromObject(t);return rv(i,new vf(KP(),e,n))}function XW(i,e,t,n){const s=dO(i,n);if(s!=null){const r=fO(s),a=r.path,l=r.queryId,c=Gs(a,e),h=new ic(QP(l),c,t);return gO(i,a,h)}else return[]}function WW(i,e,t,n){const s=dO(i,n);if(s){const r=fO(s),a=r.path,l=r.queryId,c=Gs(a,e),h=gn.fromObject(t),d=new vf(QP(l),c,h);return gO(i,a,d)}else return[]}function cO(i,e,t){const s=i.pendingWriteTree_,r=i.syncPointTree_.findOnPath(e,(a,l)=>{const c=Gs(a,e),h=BA(l,c);if(h)return h});return iO(s,e,r,t,!0)}function rv(i,e){return uO(e,i.syncPointTree_,null,tO(i.pendingWriteTree_,tn()))}function uO(i,e,t,n){if(St(i.path))return hO(i,e,t,n);{const s=e.get(tn());t==null&&s!=null&&(t=BA(s,tn()));let r=[];const a=Mt(i.path),l=i.operationForChild(a),c=e.children.get(a);if(c&&l){const h=t?t.getImmediateChild(a):null,d=rO(n,a);r=r.concat(uO(l,c,h,d))}return s&&(r=r.concat(jA(s,i,n,t))),r}}function hO(i,e,t,n){const s=e.get(tn());t==null&&s!=null&&(t=BA(s,tn()));let r=[];return e.children.inorderTraversal((a,l)=>{const c=t?t.getImmediateChild(a):null,h=rO(n,a),d=i.operationForChild(a);d&&(r=r.concat(hO(d,l,c,h)))}),s&&(r=r.concat(jA(s,i,n,t))),r}function dO(i,e){return i.tagToQueryMap.get(e)}function fO(i){const e=i.indexOf("$");return Ee(e!==-1&&e<i.length-1,"Bad queryKey."),{queryId:i.substr(e+1),path:new yn(i.substr(0,e))}}function gO(i,e,t){const n=i.syncPointTree_.get(e);Ee(n,"Missing sync point for query tag that we're tracking");const s=tO(i.pendingWriteTree_,e);return jA(n,t,s,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new HA(t)}node(){return this.node_}}class UA{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=ci(this.path_,e);return new UA(this.syncTree_,t)}node(){return cO(this.syncTree_,this.path_)}}const GW=function(i){return i=i||{},i.timestamp=i.timestamp||new Date().getTime(),i},YR=function(i,e,t){if(!i||typeof i!="object")return i;if(Ee(".sv"in i,"Unexpected leaf node or priority contents"),typeof i[".sv"]=="string")return qW(i[".sv"],e,t);if(typeof i[".sv"]=="object")return $W(i[".sv"],e);Ee(!1,"Unexpected server value: "+JSON.stringify(i,null,2))},qW=function(i,e,t){switch(i){case"timestamp":return t.timestamp;default:Ee(!1,"Unexpected server value: "+i)}},$W=function(i,e,t){i.hasOwnProperty("increment")||Ee(!1,"Unexpected server value: "+JSON.stringify(i,null,2));const n=i.increment;typeof n!="number"&&Ee(!1,"Unexpected increment value: "+n);const s=e.node();if(Ee(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return n;const a=s.getValue();return typeof a!="number"?n:a+n},KW=function(i,e,t,n){return YA(e,new UA(t,i),n)},QW=function(i,e,t){return YA(i,new HA(e),t)};function YA(i,e,t){const n=i.getPriority().val(),s=YR(n,e.getImmediateChild(".priority"),t);let r;if(i.isLeafNode()){const a=i,l=YR(a.getValue(),e,t);return l!==a.getValue()||s!==a.getPriority().val()?new si(l,Di(s)):i}else{const a=i;return r=a,s!==a.getPriority().val()&&(r=r.updatePriority(new si(s))),a.forEachChild(Ni,(l,c)=>{const h=YA(c,e.getImmediateChild(l),t);h!==c&&(r=r.updateImmediateChild(l,h))}),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(e="",t=null,n={children:{},childCount:0}){this.name=e,this.parent=t,this.node=n}}function WA(i,e){let t=e instanceof yn?e:new yn(e),n=i,s=Mt(t);for(;s!==null;){const r=Nu(n.node.children,s)||{children:{},childCount:0};n=new XA(s,n,r),t=pn(t),s=Mt(t)}return n}function rh(i){return i.node.value}function pO(i,e){i.node.value=e,xw(i)}function mO(i){return i.node.childCount>0}function ZW(i){return rh(i)===void 0&&!mO(i)}function av(i,e){Js(i.node.children,(t,n)=>{e(new XA(t,i,n))})}function yO(i,e,t,n){t&&e(i),av(i,s=>{yO(s,e,!0)})}function JW(i,e,t){let n=i.parent;for(;n!==null;){if(e(n))return!0;n=n.parent}return!1}function sg(i){return new yn(i.parent===null?i.name:sg(i.parent)+"/"+i.name)}function xw(i){i.parent!==null&&eG(i.parent,i.name,i)}function eG(i,e,t){const n=ZW(t),s=Ua(i.node.children,e);n&&s?(delete i.node.children[e],i.node.childCount--,xw(i)):!n&&!s&&(i.node.children[e]=t.node,i.node.childCount++,xw(i))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tG=/[\[\].#$\/\u0000-\u001F\u007F]/,nG=/[\[\].#$\u0000-\u001F\u007F]/,jx=10*1024*1024,vO=function(i){return typeof i=="string"&&i.length!==0&&!tG.test(i)},iG=function(i){return typeof i=="string"&&i.length!==0&&!nG.test(i)},sG=function(i){return i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),iG(i)},bO=function(i,e,t){const n=t instanceof yn?new VX(t,i):t;if(e===void 0)throw new Error(i+"contains undefined "+Pl(n));if(typeof e=="function")throw new Error(i+"contains a function "+Pl(n)+" with contents = "+e.toString());if(yP(e))throw new Error(i+"contains "+e.toString()+" "+Pl(n));if(typeof e=="string"&&e.length>jx/3&&Ny(e)>jx)throw new Error(i+"contains a string greater than "+jx+" utf8 bytes "+Pl(n)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,r=!1;if(Js(e,(a,l)=>{if(a===".value")s=!0;else if(a!==".priority"&&a!==".sv"&&(r=!0,!vO(a)))throw new Error(i+" contains an invalid key ("+a+") "+Pl(n)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);FX(n,a),bO(i,l,n),zX(n)}),s&&r)throw new Error(i+' contains ".value" child '+Pl(n)+" in addition to actual children.")}},rG=function(i,e){const t=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!vO(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||t.length!==0&&!sG(t))throw new Error(z3(i,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aG{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function oG(i,e){let t=null;for(let n=0;n<e.length;n++){const s=e[n],r=s.getPath();t!==null&&!BP(r,t.path)&&(i.eventLists_.push(t),t=null),t===null&&(t={events:[],path:r}),t.events.push(s)}t&&i.eventLists_.push(t)}function pc(i,e,t){oG(i,t),lG(i,n=>gr(n,e)||gr(e,n))}function lG(i,e){i.recursionDepth_++;let t=!0;for(let n=0;n<i.eventLists_.length;n++){const s=i.eventLists_[n];if(s){const r=s.path;e(r)?(cG(i.eventLists_[n]),i.eventLists_[n]=null):t=!1}}t&&(i.eventLists_=[]),i.recursionDepth_--}function cG(i){for(let e=0;e<i.events.length;e++){const t=i.events[e];if(t!==null){i.events[e]=null;const n=t.getEventRunner();Bd&&Mi("event: "+t.toString()),ng(n)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uG="repo_interrupt",hG=25;class dG{constructor(e,t,n,s){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new aG,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=oy(),this.transactionQueueTree_=new XA,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function fG(i,e,t){if(i.stats_=DA(i.repoInfo_),i.forceRestClient_||lX())i.server_=new ay(i.repoInfo_,(n,s,r,a)=>{XR(i,n,s,r,a)},i.authTokenProvider_,i.appCheckProvider_),setTimeout(()=>WR(i,!0),0);else{if(typeof t<"u"&&t!==null){if(typeof t!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{yi(t)}catch(n){throw new Error("Invalid authOverride provided: "+n)}}i.persistentConnection_=new Da(i.repoInfo_,e,(n,s,r,a)=>{XR(i,n,s,r,a)},n=>{WR(i,n)},n=>{pG(i,n)},i.authTokenProvider_,i.appCheckProvider_,t),i.server_=i.persistentConnection_}i.authTokenProvider_.addTokenChangeListener(n=>{i.server_.refreshAuthToken(n)}),i.appCheckProvider_.addTokenChangeListener(n=>{i.server_.refreshAppCheckToken(n.token)}),i.statsReporter_=fX(i.repoInfo_,()=>new dW(i.stats_,i.server_)),i.infoData_=new oW,i.infoSyncTree_=new UR({startListening:(n,s,r,a)=>{let l=[];const c=i.infoData_.getNode(n._path);return c.isEmpty()||(l=sv(i.infoSyncTree_,n._path,c),setTimeout(()=>{a("ok")},0)),l},stopListening:()=>{}}),GA(i,"connected",!1),i.serverSyncTree_=new UR({startListening:(n,s,r,a)=>(i.server_.listen(n,r,s,(l,c)=>{const h=a(l,c);pc(i.eventQueue_,n._path,h)}),[]),stopListening:(n,s)=>{i.server_.unlisten(n,s)}})}function gG(i){const t=i.infoData_.getNode(new yn(".info/serverTimeOffset")).val()||0;return new Date().getTime()+t}function xO(i){return GW({timestamp:gG(i)})}function XR(i,e,t,n,s){i.dataUpdateCount++;const r=new yn(e);t=i.interceptServerDataCallback_?i.interceptServerDataCallback_(e,t):t;let a=[];if(s)if(n){const c=Pm(t,h=>Di(h));a=WW(i.serverSyncTree_,r,c,s)}else{const c=Di(t);a=XW(i.serverSyncTree_,r,c,s)}else if(n){const c=Pm(t,h=>Di(h));a=YW(i.serverSyncTree_,r,c)}else{const c=Di(t);a=sv(i.serverSyncTree_,r,c)}let l=r;a.length>0&&(l=$A(i,r)),pc(i.eventQueue_,l,a)}function WR(i,e){GA(i,"connected",e),e===!1&&yG(i)}function pG(i,e){Js(e,(t,n)=>{GA(i,t,n)})}function GA(i,e,t){const n=new yn("/.info/"+e),s=Di(t);i.infoData_.updateSnapshot(n,s);const r=sv(i.infoSyncTree_,n,s);pc(i.eventQueue_,n,r)}function mG(i){return i.nextWriteId_++}function yG(i){wO(i,"onDisconnectEvents");const e=xO(i),t=oy();fw(i.onDisconnect_,tn(),(s,r)=>{const a=KW(s,r,i.serverSyncTree_,e);qP(t,s,a)});let n=[];fw(t,tn(),(s,r)=>{n=n.concat(sv(i.serverSyncTree_,s,r));const a=wG(i,s);$A(i,a)}),i.onDisconnect_=oy(),pc(i.eventQueue_,tn(),n)}function vG(i){i.persistentConnection_&&i.persistentConnection_.interrupt(uG)}function wO(i,...e){let t="";i.persistentConnection_&&(t=i.persistentConnection_.id+":"),Mi(t,...e)}function _O(i,e,t){return cO(i.serverSyncTree_,e,t)||Yt.EMPTY_NODE}function qA(i,e=i.transactionQueueTree_){if(e||ov(i,e),rh(e)){const t=SO(i,e);Ee(t.length>0,"Sending zero length transaction queue"),t.every(s=>s.status===0)&&bG(i,sg(e),t)}else mO(e)&&av(e,t=>{qA(i,t)})}function bG(i,e,t){const n=t.map(h=>h.currentWriteId),s=_O(i,e,n);let r=s;const a=s.hash();for(let h=0;h<t.length;h++){const d=t[h];Ee(d.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;const f=Gs(e,d.path);r=r.updateChild(f,d.currentOutputSnapshotRaw)}const l=r.val(!0),c=e;i.server_.put(c.toString(),l,h=>{wO(i,"transaction put response",{path:c.toString(),status:h});let d=[];if(h==="ok"){const f=[];for(let p=0;p<t.length;p++)t[p].status=2,d=d.concat(yu(i.serverSyncTree_,t[p].currentWriteId)),t[p].onComplete&&f.push(()=>t[p].onComplete(null,!0,t[p].currentOutputSnapshotResolved)),t[p].unwatcher();ov(i,WA(i.transactionQueueTree_,e)),qA(i,i.transactionQueueTree_),pc(i.eventQueue_,e,d);for(let p=0;p<f.length;p++)ng(f[p])}else{if(h==="datastale")for(let f=0;f<t.length;f++)t[f].status===3?t[f].status=4:t[f].status=0;else{ws("transaction at "+c.toString()+" failed: "+h);for(let f=0;f<t.length;f++)t[f].status=4,t[f].abortReason=h}$A(i,e)}},a)}function $A(i,e){const t=AO(i,e),n=sg(t),s=SO(i,t);return xG(i,s,n),n}function xG(i,e,t){if(e.length===0)return;const n=[];let s=[];const a=e.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<e.length;l++){const c=e[l],h=Gs(t,c.path);let d=!1,f;if(Ee(h!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)d=!0,f=c.abortReason,s=s.concat(yu(i.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=hG)d=!0,f="maxretry",s=s.concat(yu(i.serverSyncTree_,c.currentWriteId,!0));else{const p=_O(i,c.path,a);c.currentInputSnapshot=p;const y=e[l].update(p.val());if(y!==void 0){bO("transaction failed: Data returned ",y,c.path);let b=Di(y);typeof y=="object"&&y!=null&&Ua(y,".priority")||(b=b.updatePriority(p.getPriority()));const _=c.currentWriteId,S=xO(i),T=QW(b,p,S);c.currentOutputSnapshotRaw=b,c.currentOutputSnapshotResolved=T,c.currentWriteId=mG(i),a.splice(a.indexOf(_),1),s=s.concat(UW(i.serverSyncTree_,c.path,T,c.currentWriteId,c.applyLocally)),s=s.concat(yu(i.serverSyncTree_,_,!0))}else d=!0,f="nodata",s=s.concat(yu(i.serverSyncTree_,c.currentWriteId,!0))}pc(i.eventQueue_,t,s),s=[],d&&(e[l].status=2,function(p){setTimeout(p,Math.floor(0))}(e[l].unwatcher),e[l].onComplete&&(f==="nodata"?n.push(()=>e[l].onComplete(null,!1,e[l].currentInputSnapshot)):n.push(()=>e[l].onComplete(new Error(f),!1,null))))}ov(i,i.transactionQueueTree_);for(let l=0;l<n.length;l++)ng(n[l]);qA(i,i.transactionQueueTree_)}function AO(i,e){let t,n=i.transactionQueueTree_;for(t=Mt(e);t!==null&&rh(n)===void 0;)n=WA(n,t),e=pn(e),t=Mt(e);return n}function SO(i,e){const t=[];return TO(i,e,t),t.sort((n,s)=>n.order-s.order),t}function TO(i,e,t){const n=rh(e);if(n)for(let s=0;s<n.length;s++)t.push(n[s]);av(e,s=>{TO(i,s,t)})}function ov(i,e){const t=rh(e);if(t){let n=0;for(let s=0;s<t.length;s++)t[s].status!==2&&(t[n]=t[s],n++);t.length=n,pO(e,t.length>0?t:void 0)}av(e,n=>{ov(i,n)})}function wG(i,e){const t=sg(AO(i,e)),n=WA(i.transactionQueueTree_,e);return JW(n,s=>{Bx(i,s)}),Bx(i,n),yO(n,s=>{Bx(i,s)}),t}function Bx(i,e){const t=rh(e);if(t){const n=[];let s=[],r=-1;for(let a=0;a<t.length;a++)t[a].status===3||(t[a].status===1?(Ee(r===a-1,"All SENT items should be at beginning of queue."),r=a,t[a].status=3,t[a].abortReason="set"):(Ee(t[a].status===0,"Unexpected transaction status in abort"),t[a].unwatcher(),s=s.concat(yu(i.serverSyncTree_,t[a].currentWriteId,!0)),t[a].onComplete&&n.push(t[a].onComplete.bind(null,new Error("set"),!1,null))));r===-1?pO(e,void 0):t.length=r+1,pc(i.eventQueue_,sg(e),s);for(let a=0;a<n.length;a++)ng(n[a])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _G(i){let e="";const t=i.split("/");for(let n=0;n<t.length;n++)if(t[n].length>0){let s=t[n];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function AG(i){const e={};i.charAt(0)==="?"&&(i=i.substring(1));for(const t of i.split("&")){if(t.length===0)continue;const n=t.split("=");n.length===2?e[decodeURIComponent(n[0])]=decodeURIComponent(n[1]):ws(`Invalid query segment '${t}' in query '${i}'`)}return e}const GR=function(i,e){const t=SG(i),n=t.namespace;t.domain==="firebase.com"&&ja(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!n||n==="undefined")&&t.domain!=="localhost"&&ja("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||eX();const s=t.scheme==="ws"||t.scheme==="wss";return{repoInfo:new RP(t.host,t.secure,n,s,e,"",n!==t.subdomain),path:new yn(t.pathString)}},SG=function(i){let e="",t="",n="",s="",r="",a=!0,l="https",c=443;if(typeof i=="string"){let h=i.indexOf("//");h>=0&&(l=i.substring(0,h-1),i=i.substring(h+2));let d=i.indexOf("/");d===-1&&(d=i.length);let f=i.indexOf("?");f===-1&&(f=i.length),e=i.substring(0,Math.min(d,f)),d<f&&(s=_G(i.substring(d,f)));const p=AG(i.substring(Math.min(i.length,f)));h=e.indexOf(":"),h>=0?(a=l==="https"||l==="wss",c=parseInt(e.substring(h+1),10)):h=e.length;const y=e.slice(0,h);if(y.toLowerCase()==="localhost")t="localhost";else if(y.split(".").length<=2)t=y;else{const b=e.indexOf(".");n=e.substring(0,b).toLowerCase(),t=e.substring(b+1),r=n}"ns"in p&&(r=p.ns)}return{host:e,port:c,domain:t,subdomain:n,secure:a,scheme:l,pathString:s,namespace:r}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(e,t,n,s){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=s}get key(){return St(this._path)?null:FP(this._path)}get ref(){return new ah(this._repo,this._path)}get _queryIdentifier(){const e=DR(this._queryParams),t=IA(e);return t==="{}"?"default":t}get _queryObject(){return DR(this._queryParams)}isEqual(e){if(e=dn(e),!(e instanceof KA))return!1;const t=this._repo===e._repo,n=BP(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return t&&n&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+LX(this._path)}}class ah extends KA{constructor(e,t){super(e,t,new LA,!1)}get parent(){const e=jP(this._path);return e===null?null:new ah(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}BW(ah);HW(ah);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TG="FIREBASE_DATABASE_EMULATOR_HOST",ww={};let EG=!1;function CG(i,e,t,n){i.repoInfo_=new RP(e,!1,i.repoInfo_.namespace,i.repoInfo_.webSocketOnly,i.repoInfo_.nodeAdmin,i.repoInfo_.persistenceKey,i.repoInfo_.includeNamespaceInQueryParams,!0,t),n&&(i.authTokenProvider_=n)}function kG(i,e,t,n,s){let r=n||i.options.databaseURL;r===void 0&&(i.options.projectId||ja("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Mi("Using default host for project ",i.options.projectId),r=`${i.options.projectId}-default-rtdb.firebaseio.com`);let a=GR(r,s),l=a.repoInfo,c;typeof process<"u"&&fR&&(c=fR[TG]),c?(r=`http://${c}?ns=${l.namespace}`,a=GR(r,s),l=a.repoInfo):a.repoInfo.secure;const h=new uX(i.name,i.options,e);rG("Invalid Firebase Database URL",a),St(a.path)||ja("Database URL must point to the root of a Firebase Database (not including a child path).");const d=IG(l,i,h,new cX(i,t));return new MG(d,i)}function RG(i,e){const t=ww[e];(!t||t[i.key]!==i)&&ja(`Database ${e}(${i.repoInfo_}) has already been deleted.`),vG(i),delete t[i.key]}function IG(i,e,t,n){let s=ww[e.name];s||(s={},ww[e.name]=s);let r=s[i.toURLString()];return r&&ja("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),r=new dG(i,EG,t,n),s[i.toURLString()]=r,r}class MG{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(fG(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ah(this._repo,tn())),this._rootInternal}_delete(){return this._rootInternal!==null&&(RG(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&ja("Cannot call "+e+" on a deleted database.")}}function DG(i=zf(),e){const t=Ya(i,"database").getImmediate({identifier:e});if(!t._instanceStarted){const n=C_("database");n&&NG(t,...n)}return t}function NG(i,e,t,n={}){i=dn(i),i._checkNotDeleted("useEmulator");const s=`${e}:${t}`,r=i._repoInternal;if(i._instanceStarted){if(s===i._repoInternal.repoInfo_.host&&Oa(n,r.repoInfo_.emulatorOptions))return;ja("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let a;if(r.repoInfo_.nodeAdmin)n.mockUserToken&&ja('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new xm(xm.OWNER);else if(n.mockUserToken){const l=typeof n.mockUserToken=="string"?n.mockUserToken:R_(n.mockUserToken,i.app.options.projectId);a=new xm(l)}CG(r,s,n,a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PG(i){q9(Qo),Zs(new Ss("database",(e,{instanceIdentifier:t})=>{const n=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),r=e.getProvider("app-check-internal");return kG(n,s,r,t)},"PUBLIC").setMultipleInstances(!0)),Oi(gR,pR,i),Oi(gR,pR,"esm2017")}Da.prototype.simpleListen=function(i,e){this.sendRequest("q",{p:i},e)};Da.prototype.echo=function(i,e){this.sendRequest("echo",{d:i},e)};PG();const EO="@firebase/installations",QA="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CO=1e4,kO=`w:${QA}`,RO="FIS_v2",OG="https://firebaseinstallations.googleapis.com/v1",LG=60*60*1e3,VG="installations",FG="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zG={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},rc=new hc(VG,FG,zG);function IO(i){return i instanceof tr&&i.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MO({projectId:i}){return`${OG}/projects/${i}/installations`}function DO(i){return{token:i.token,requestStatus:2,expiresIn:BG(i.expiresIn),creationTime:Date.now()}}async function NO(i,e){const n=(await e.json()).error;return rc.create("request-failed",{requestName:i,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function PO({apiKey:i}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":i})}function jG(i,{refreshToken:e}){const t=PO(i);return t.append("Authorization",HG(e)),t}async function OO(i){const e=await i();return e.status>=500&&e.status<600?i():e}function BG(i){return Number(i.replace("s","000"))}function HG(i){return`${RO} ${i}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UG({appConfig:i,heartbeatServiceProvider:e},{fid:t}){const n=MO(i),s=PO(i),r=e.getImmediate({optional:!0});if(r){const h=await r.getHeartbeatsHeader();h&&s.append("x-firebase-client",h)}const a={fid:t,authVersion:RO,appId:i.appId,sdkVersion:kO},l={method:"POST",headers:s,body:JSON.stringify(a)},c=await OO(()=>fetch(n,l));if(c.ok){const h=await c.json();return{fid:h.fid||t,registrationStatus:2,refreshToken:h.refreshToken,authToken:DO(h.authToken)}}else throw await NO("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LO(i){return new Promise(e=>{setTimeout(e,i)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YG(i){return btoa(String.fromCharCode(...i)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XG=/^[cdef][\w-]{21}$/,_w="";function WG(){try{const i=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(i),i[0]=112+i[0]%16;const t=GG(i);return XG.test(t)?t:_w}catch{return _w}}function GG(i){return YG(i).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lv(i){return`${i.appName}!${i.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VO=new Map;function FO(i,e){const t=lv(i);zO(t,e),qG(t,e)}function zO(i,e){const t=VO.get(i);if(t)for(const n of t)n(e)}function qG(i,e){const t=$G();t&&t.postMessage({key:i,fid:e}),KG()}let Ul=null;function $G(){return!Ul&&"BroadcastChannel"in self&&(Ul=new BroadcastChannel("[Firebase] FID Change"),Ul.onmessage=i=>{zO(i.data.key,i.data.fid)}),Ul}function KG(){VO.size===0&&Ul&&(Ul.close(),Ul=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QG="firebase-installations-database",ZG=1,ac="firebase-installations-store";let Hx=null;function ZA(){return Hx||(Hx=XM(QG,ZG,{upgrade:(i,e)=>{switch(e){case 0:i.createObjectStore(ac)}}})),Hx}async function hy(i,e){const t=lv(i),s=(await ZA()).transaction(ac,"readwrite"),r=s.objectStore(ac),a=await r.get(t);return await r.put(e,t),await s.done,(!a||a.fid!==e.fid)&&FO(i,e.fid),e}async function jO(i){const e=lv(i),n=(await ZA()).transaction(ac,"readwrite");await n.objectStore(ac).delete(e),await n.done}async function cv(i,e){const t=lv(i),s=(await ZA()).transaction(ac,"readwrite"),r=s.objectStore(ac),a=await r.get(t),l=e(a);return l===void 0?await r.delete(t):await r.put(l,t),await s.done,l&&(!a||a.fid!==l.fid)&&FO(i,l.fid),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JA(i){let e;const t=await cv(i.appConfig,n=>{const s=JG(n),r=eq(i,s);return e=r.registrationPromise,r.installationEntry});return t.fid===_w?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function JG(i){const e=i||{fid:WG(),registrationStatus:0};return BO(e)}function eq(i,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(rc.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},n=tq(i,t);return{installationEntry:t,registrationPromise:n}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:nq(i)}:{installationEntry:e}}async function tq(i,e){try{const t=await UG(i,e);return hy(i.appConfig,t)}catch(t){throw IO(t)&&t.customData.serverCode===409?await jO(i.appConfig):await hy(i.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function nq(i){let e=await qR(i.appConfig);for(;e.registrationStatus===1;)await LO(100),e=await qR(i.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:n}=await JA(i);return n||t}return e}function qR(i){return cv(i,e=>{if(!e)throw rc.create("installation-not-found");return BO(e)})}function BO(i){return iq(i)?{fid:i.fid,registrationStatus:0}:i}function iq(i){return i.registrationStatus===1&&i.registrationTime+CO<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sq({appConfig:i,heartbeatServiceProvider:e},t){const n=rq(i,t),s=jG(i,t),r=e.getImmediate({optional:!0});if(r){const h=await r.getHeartbeatsHeader();h&&s.append("x-firebase-client",h)}const a={installation:{sdkVersion:kO,appId:i.appId}},l={method:"POST",headers:s,body:JSON.stringify(a)},c=await OO(()=>fetch(n,l));if(c.ok){const h=await c.json();return DO(h)}else throw await NO("Generate Auth Token",c)}function rq(i,{fid:e}){return`${MO(i)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eS(i,e=!1){let t;const n=await cv(i.appConfig,r=>{if(!HO(r))throw rc.create("not-registered");const a=r.authToken;if(!e&&lq(a))return r;if(a.requestStatus===1)return t=aq(i,e),r;{if(!navigator.onLine)throw rc.create("app-offline");const l=uq(r);return t=oq(i,l),l}});return t?await t:n.authToken}async function aq(i,e){let t=await $R(i.appConfig);for(;t.authToken.requestStatus===1;)await LO(100),t=await $R(i.appConfig);const n=t.authToken;return n.requestStatus===0?eS(i,e):n}function $R(i){return cv(i,e=>{if(!HO(e))throw rc.create("not-registered");const t=e.authToken;return hq(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function oq(i,e){try{const t=await sq(i,e),n=Object.assign(Object.assign({},e),{authToken:t});return await hy(i.appConfig,n),t}catch(t){if(IO(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await jO(i.appConfig);else{const n=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await hy(i.appConfig,n)}throw t}}function HO(i){return i!==void 0&&i.registrationStatus===2}function lq(i){return i.requestStatus===2&&!cq(i)}function cq(i){const e=Date.now();return e<i.creationTime||i.creationTime+i.expiresIn<e+LG}function uq(i){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},i),{authToken:e})}function hq(i){return i.requestStatus===1&&i.requestTime+CO<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dq(i){const e=i,{installationEntry:t,registrationPromise:n}=await JA(e);return n?n.catch(console.error):eS(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fq(i,e=!1){const t=i;return await gq(t),(await eS(t,e)).token}async function gq(i){const{registrationPromise:e}=await JA(i);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pq(i){if(!i||!i.options)throw Ux("App Configuration");if(!i.name)throw Ux("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!i.options[t])throw Ux(t);return{appName:i.name,projectId:i.options.projectId,apiKey:i.options.apiKey,appId:i.options.appId}}function Ux(i){return rc.create("missing-app-config-values",{valueName:i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UO="installations",mq="installations-internal",yq=i=>{const e=i.getProvider("app").getImmediate(),t=pq(e),n=Ya(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},vq=i=>{const e=i.getProvider("app").getImmediate(),t=Ya(e,UO).getImmediate();return{getId:()=>dq(t),getToken:s=>fq(t,s)}};function bq(){Zs(new Ss(UO,yq,"PUBLIC")),Zs(new Ss(mq,vq,"PRIVATE"))}bq();Oi(EO,QA);Oi(EO,QA,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dy="analytics",xq="firebase_id",wq="origin",_q=60*1e3,Aq="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",tS="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rs=new Ff("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sq={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},_s=new hc("analytics","Analytics",Sq);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tq(i){if(!i.startsWith(tS)){const e=_s.create("invalid-gtag-resource",{gtagURL:i});return rs.warn(e.message),""}return i}function YO(i){return Promise.all(i.map(e=>e.catch(t=>t)))}function Eq(i,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(i,e)),t}function Cq(i,e){const t=Eq("firebase-js-sdk-policy",{createScriptURL:Tq}),n=document.createElement("script"),s=`${tS}?l=${i}&id=${e}`;n.src=t?t==null?void 0:t.createScriptURL(s):s,n.async=!0,document.head.appendChild(n)}function kq(i){let e=[];return Array.isArray(window[i])?e=window[i]:window[i]=e,e}async function Rq(i,e,t,n,s,r){const a=n[s];try{if(a)await e[a];else{const c=(await YO(t)).find(h=>h.measurementId===s);c&&await e[c.appId]}}catch(l){rs.error(l)}i("config",s,r)}async function Iq(i,e,t,n,s){try{let r=[];if(s&&s.send_to){let a=s.send_to;Array.isArray(a)||(a=[a]);const l=await YO(t);for(const c of a){const h=l.find(f=>f.measurementId===c),d=h&&e[h.appId];if(d)r.push(d);else{r=[];break}}}r.length===0&&(r=Object.values(e)),await Promise.all(r),i("event",n,s||{})}catch(r){rs.error(r)}}function Mq(i,e,t,n){async function s(r,...a){try{if(r==="event"){const[l,c]=a;await Iq(i,e,t,l,c)}else if(r==="config"){const[l,c]=a;await Rq(i,e,t,n,l,c)}else if(r==="consent"){const[l,c]=a;i("consent",l,c)}else if(r==="get"){const[l,c,h]=a;i("get",l,c,h)}else if(r==="set"){const[l]=a;i("set",l)}else i(r,...a)}catch(l){rs.error(l)}}return s}function Dq(i,e,t,n,s){let r=function(...a){window[n].push(arguments)};return window[s]&&typeof window[s]=="function"&&(r=window[s]),window[s]=Mq(r,i,e,t),{gtagCore:r,wrappedGtag:window[s]}}function Nq(i){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(tS)&&t.src.includes(i))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pq=30,Oq=1e3;class Lq{constructor(e={},t=Oq){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const XO=new Lq;function Vq(i){return new Headers({Accept:"application/json","x-goog-api-key":i})}async function Fq(i){var e;const{appId:t,apiKey:n}=i,s={method:"GET",headers:Vq(n)},r=Aq.replace("{app-id}",t),a=await fetch(r,s);if(a.status!==200&&a.status!==304){let l="";try{const c=await a.json();!((e=c.error)===null||e===void 0)&&e.message&&(l=c.error.message)}catch{}throw _s.create("config-fetch-failed",{httpStatus:a.status,responseMessage:l})}return a.json()}async function zq(i,e=XO,t){const{appId:n,apiKey:s,measurementId:r}=i.options;if(!n)throw _s.create("no-app-id");if(!s){if(r)return{measurementId:r,appId:n};throw _s.create("no-api-key")}const a=e.getThrottleMetadata(n)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new Hq;return setTimeout(async()=>{l.abort()},_q),WO({appId:n,apiKey:s,measurementId:r},a,l,e)}async function WO(i,{throttleEndTimeMillis:e,backoffCount:t},n,s=XO){var r;const{appId:a,measurementId:l}=i;try{await jq(n,e)}catch(c){if(l)return rs.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:a,measurementId:l};throw c}try{const c=await Fq(i);return s.deleteThrottleMetadata(a),c}catch(c){const h=c;if(!Bq(h)){if(s.deleteThrottleMetadata(a),l)return rs.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${h==null?void 0:h.message}]`),{appId:a,measurementId:l};throw c}const d=Number((r=h==null?void 0:h.customData)===null||r===void 0?void 0:r.httpStatus)===503?PC(t,s.intervalMillis,Pq):PC(t,s.intervalMillis),f={throttleEndTimeMillis:Date.now()+d,backoffCount:t+1};return s.setThrottleMetadata(a,f),rs.debug(`Calling attemptFetch again in ${d} millis`),WO(i,f,n,s)}}function jq(i,e){return new Promise((t,n)=>{const s=Math.max(e-Date.now(),0),r=setTimeout(t,s);i.addEventListener(()=>{clearTimeout(r),n(_s.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Bq(i){if(!(i instanceof tr)||!i.customData)return!1;const e=Number(i.customData.httpStatus);return e===429||e===500||e===503||e===504}class Hq{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function Uq(i,e,t,n,s){if(s&&s.global){i("event",t,n);return}else{const r=await e,a=Object.assign(Object.assign({},n),{send_to:r});i("event",t,a)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yq(){if(D_())try{await N_()}catch(i){return rs.warn(_s.create("indexeddb-unavailable",{errorInfo:i==null?void 0:i.toString()}).message),!1}else return rs.warn(_s.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Xq(i,e,t,n,s,r,a){var l;const c=zq(i);c.then(y=>{t[y.measurementId]=y.appId,i.options.measurementId&&y.measurementId!==i.options.measurementId&&rs.warn(`The measurement ID in the local Firebase config (${i.options.measurementId}) does not match the measurement ID fetched from the server (${y.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(y=>rs.error(y)),e.push(c);const h=Yq().then(y=>{if(y)return n.getId()}),[d,f]=await Promise.all([c,h]);Nq(r)||Cq(r,d.measurementId),s("js",new Date);const p=(l=a==null?void 0:a.config)!==null&&l!==void 0?l:{};return p[wq]="firebase",p.update=!0,f!=null&&(p[xq]=f),s("config",d.measurementId,p),d.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wq{constructor(e){this.app=e}_delete(){return delete Xd[this.app.options.appId],Promise.resolve()}}let Xd={},KR=[];const QR={};let Yx="dataLayer",Gq="gtag",ZR,GO,JR=!1;function qq(){const i=[];if(M_()&&i.push("This is a browser extension environment."),BM()||i.push("Cookies are not available."),i.length>0){const e=i.map((n,s)=>`(${s+1}) ${n}`).join(" "),t=_s.create("invalid-analytics-context",{errorInfo:e});rs.warn(t.message)}}function $q(i,e,t){qq();const n=i.options.appId;if(!n)throw _s.create("no-app-id");if(!i.options.apiKey)if(i.options.measurementId)rs.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${i.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw _s.create("no-api-key");if(Xd[n]!=null)throw _s.create("already-exists",{id:n});if(!JR){kq(Yx);const{wrappedGtag:r,gtagCore:a}=Dq(Xd,KR,QR,Yx,Gq);GO=r,ZR=a,JR=!0}return Xd[n]=Xq(i,KR,QR,e,ZR,Yx,t),new Wq(i)}function Kq(i=zf()){i=dn(i);const e=Ya(i,dy);return e.isInitialized()?e.getImmediate():Qq(i)}function Qq(i,e={}){const t=Ya(i,dy);if(t.isInitialized()){const s=t.getImmediate();if(Oa(e,t.getOptions()))return s;throw _s.create("already-initialized")}return t.initialize({options:e})}async function Zq(){if(M_()||!BM()||!D_())return!1;try{return await N_()}catch{return!1}}function Jq(i,e,t,n){i=dn(i),Uq(GO,Xd[i.app.options.appId],e,t,n).catch(s=>rs.error(s))}const eI="@firebase/analytics",tI="0.10.12";function e8(){Zs(new Ss(dy,(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return $q(n,s,t)},"PUBLIC")),Zs(new Ss("analytics-internal",i,"PRIVATE")),Oi(eI,tI),Oi(eI,tI,"esm2017");function i(e){try{const t=e.getProvider(dy).getImmediate();return{logEvent:(n,s,r)=>Jq(t,n,s,r)}}catch(t){throw _s.create("interop-component-reg-failed",{reason:t})}}}e8();console.log(" FIREBASE API KEY:","AIzaSyAjF3oLNRGFwh_BUYA4qF55zl0qw4dprwI");const t8={apiKey:"AIzaSyAjF3oLNRGFwh_BUYA4qF55zl0qw4dprwI",authDomain:"agduwaqueue.firebaseapp.com",databaseURL:"https://agduwaqueue-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"agduwaqueue",storageBucket:"agduwaqueue.appspot.com",messagingSenderId:"242220098930",appId:"1:242220098930:web:4b5332473f339ca1be69eb",measurementId:"G-2CQ56KNPDZ"},rg=WM(t8),en=Zy(rg),bs=MD(rg);Y9(rg);DG(rg);Zq().then(i=>{i&&Kq(rg)});/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n8=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),i8=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()),nI=i=>{const e=i8(i);return e.charAt(0).toUpperCase()+e.slice(1)},qO=(...i)=>i.filter((e,t,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var s8={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r8=z.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:n,className:s="",children:r,iconNode:a,...l},c)=>z.createElement("svg",{ref:c,...s8,width:e,height:e,stroke:i,strokeWidth:n?Number(t)*24/Number(e):t,className:qO("lucide",s),...l},[...a.map(([h,d])=>z.createElement(h,d)),...Array.isArray(r)?r:[r]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const as=(i,e)=>{const t=z.forwardRef(({className:n,...s},r)=>z.createElement(r8,{ref:r,iconNode:e,className:qO(`lucide-${n8(nI(i))}`,`lucide-${i}`,n),...s}));return t.displayName=nI(i),t};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a8=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],o8=as("activity",a8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l8=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],c8=as("chart-column",l8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u8=[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]],h8=as("chart-no-axes-column",u8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],f8=as("circle-alert",d8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g8=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],p8=as("file-text",g8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m8=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],y8=as("funnel",m8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v8=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],b8=as("history",v8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x8=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],w8=as("house",x8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _8=[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]],A8=as("list-ordered",_8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S8=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],T8=as("list",S8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E8=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],C8=as("log-out",E8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k8=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],R8=as("user",k8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I8=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],M8=as("users",I8);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D8=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],N8=as("x",D8),nS=z.createContext({});function iS(i){const e=z.useRef(null);return e.current===null&&(e.current=i()),e.current}const sS=typeof window<"u",$O=sS?z.useLayoutEffect:z.useEffect,uv=z.createContext(null),rS=z.createContext({transformPagePoint:i=>i,isStatic:!1,reducedMotion:"never"});class P8 extends z.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const n=t.offsetParent,s=n instanceof HTMLElement&&n.offsetWidth||0,r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft,r.right=s-r.width-r.left}return null}componentDidUpdate(){}render(){return this.props.children}}function O8({children:i,isPresent:e,anchorX:t}){const n=z.useId(),s=z.useRef(null),r=z.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=z.useContext(rS);return z.useInsertionEffect(()=>{const{width:l,height:c,top:h,left:d,right:f}=r.current;if(e||!s.current||!l||!c)return;const p=t==="left"?`left: ${d}`:`right: ${f}`;s.current.dataset.motionPopId=n;const y=document.createElement("style");return a&&(y.nonce=a),document.head.appendChild(y),y.sheet&&y.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${c}px !important;
            ${p}px !important;
            top: ${h}px !important;
          }
        `),()=>{document.head.removeChild(y)}},[e]),N.jsx(P8,{isPresent:e,childRef:s,sizeRef:r,children:z.cloneElement(i,{ref:s})})}const L8=({children:i,initial:e,isPresent:t,onExitComplete:n,custom:s,presenceAffectsLayout:r,mode:a,anchorX:l})=>{const c=iS(V8),h=z.useId(),d=z.useCallback(p=>{c.set(p,!0);for(const y of c.values())if(!y)return;n&&n()},[c,n]),f=z.useMemo(()=>({id:h,initial:e,isPresent:t,custom:s,onExitComplete:d,register:p=>(c.set(p,!1),()=>c.delete(p))}),r?[Math.random(),d]:[t,d]);return z.useMemo(()=>{c.forEach((p,y)=>c.set(y,!1))},[t]),z.useEffect(()=>{!t&&!c.size&&n&&n()},[t]),a==="popLayout"&&(i=N.jsx(O8,{isPresent:t,anchorX:l,children:i})),N.jsx(uv.Provider,{value:f,children:i})};function V8(){return new Map}function KO(i=!0){const e=z.useContext(uv);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:s}=e,r=z.useId();z.useEffect(()=>{if(i)return s(r)},[i]);const a=z.useCallback(()=>i&&n&&n(r),[r,n,i]);return!t&&n?[!1,a]:[!0]}const Qp=i=>i.key||"";function iI(i){const e=[];return z.Children.forEach(i,t=>{z.isValidElement(t)&&e.push(t)}),e}const Aw=({children:i,custom:e,initial:t=!0,onExitComplete:n,presenceAffectsLayout:s=!0,mode:r="sync",propagate:a=!1,anchorX:l="left"})=>{const[c,h]=KO(a),d=z.useMemo(()=>iI(i),[i]),f=a&&!c?[]:d.map(Qp),p=z.useRef(!0),y=z.useRef(d),b=iS(()=>new Map),[x,_]=z.useState(d),[S,T]=z.useState(d);$O(()=>{p.current=!1,y.current=d;for(let R=0;R<S.length;R++){const P=Qp(S[R]);f.includes(P)?b.delete(P):b.get(P)!==!0&&b.set(P,!1)}},[S,f.length,f.join("-")]);const C=[];if(d!==x){let R=[...d];for(let P=0;P<S.length;P++){const k=S[P],E=Qp(k);f.includes(E)||(R.splice(P,0,k),C.push(k))}return r==="wait"&&C.length&&(R=C),T(iI(R)),_(d),null}const{forceRender:M}=z.useContext(nS);return N.jsx(N.Fragment,{children:S.map(R=>{const P=Qp(R),k=a&&!c?!1:d===S||f.includes(P),E=()=>{if(b.has(P))b.set(P,!0);else return;let D=!0;b.forEach(O=>{O||(D=!1)}),D&&(M==null||M(),T(y.current),a&&(h==null||h()),n&&n())};return N.jsx(L8,{isPresent:k,initial:!p.current||t?void 0:!1,custom:e,presenceAffectsLayout:s,mode:r,onExitComplete:k?void 0:E,anchorX:l,children:R},P)})})};function aS(i,e){i.indexOf(e)===-1&&i.push(e)}function oS(i,e){const t=i.indexOf(e);t>-1&&i.splice(t,1)}let QO=()=>{};const F8={useManualTiming:!1};function lS(i){let e;return()=>(e===void 0&&(e=i()),e)}const $s=i=>i,bf=(i,e,t)=>{const n=e-i;return n===0?1:(t-i)/n};class cS{constructor(){this.subscriptions=[]}add(e){return aS(this.subscriptions,e),()=>oS(this.subscriptions,e)}notify(e,t,n){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,t,n);else for(let r=0;r<s;r++){const a=this.subscriptions[r];a&&a(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Yr=i=>i*1e3,Xr=i=>i/1e3;function ZO(i,e){return e?i*(1e3/e):0}const z8=lS(()=>window.ScrollTimeline!==void 0);class j8{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>e.finished))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let n=0;n<this.animations.length;n++)this.animations[n][e]=t}attachTimeline(e,t){const n=this.animations.map(s=>{if(z8()&&s.attachTimeline)return s.attachTimeline(e);if(typeof t=="function")return t(s)});return()=>{n.forEach((s,r)=>{s&&s(),this.animations[r].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class B8 extends j8{then(e,t){return this.finished.finally(e).then(()=>{})}}const sI={value:null},uS=i=>Array.isArray(i)&&typeof i[0]=="number",H8={};function U8(i,e){const t=lS(i);return()=>H8[e]??t()}const xf=U8(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),JO=(i,e,t=10)=>{let n="";const s=Math.max(Math.round(e/t),2);for(let r=0;r<s;r++)n+=i(r/(s-1))+", ";return`linear(${n.substring(0,n.length-2)})`},Nd=([i,e,t,n])=>`cubic-bezier(${i}, ${e}, ${t}, ${n})`,Sw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Nd([0,.65,.55,1]),circOut:Nd([.55,0,1,.45]),backIn:Nd([.31,.01,.66,-.59]),backOut:Nd([.33,1.53,.69,.99])};function eL(i,e){if(i)return typeof i=="function"&&xf()?JO(i,e):uS(i)?Nd(i):Array.isArray(i)?i.map(t=>eL(t,e)||Sw.easeOut):Sw[i]}function Y8(i,e,t,{delay:n=0,duration:s=300,repeat:r=0,repeatType:a="loop",ease:l="easeInOut",times:c}={},h=void 0){const d={[e]:t};c&&(d.offset=c);const f=eL(l,s);return Array.isArray(f)&&(d.easing=f),i.animate(d,{delay:n,duration:s,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:r+1,direction:a==="reverse"?"alternate":"normal",pseudoElement:h})}function hS(i){return typeof i=="function"&&"applyToOptions"in i}function dS(i,e){return(i==null?void 0:i[e])??(i==null?void 0:i.default)??i}const fy=2e4;function fS(i){let e=0;const t=50;let n=i.next(e);for(;!n.done&&e<fy;)e+=t,n=i.next(e);return e>=fy?1/0:e}function X8(i,e=100,t){const n=t({...i,keyframes:[0,e]}),s=Math.min(fS(n),fy);return{type:"keyframes",ease:r=>n.next(s*r).value/e,duration:Xr(s)}}function tL(i){return!!(typeof i=="function"&&xf()||!i||typeof i=="string"&&(i in Sw||xf())||uS(i)||Array.isArray(i)&&i.every(tL))}function rI(i,e){i.timeline=e,i.onfinish=null}const Zp=["read","resolveKeyframes","update","preRender","render","postRender"];function W8(i,e){let t=new Set,n=new Set,s=!1,r=!1;const a=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1},c=0;function h(f){a.has(f)&&(d.schedule(f),i()),c++,f(l)}const d={schedule:(f,p=!1,y=!1)=>{const x=y&&s?t:n;return p&&a.add(f),x.has(f)||x.add(f),f},cancel:f=>{n.delete(f),a.delete(f)},process:f=>{if(l=f,s){r=!0;return}s=!0,[t,n]=[n,t],t.forEach(h),e&&sI.value&&sI.value.frameloop[e].push(c),c=0,t.clear(),s=!1,r&&(r=!1,d.process(f))}};return d}const G8=40;function nL(i,e){let t=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},r=()=>t=!0,a=Zp.reduce((S,T)=>(S[T]=W8(r,e?T:void 0),S),{}),{read:l,resolveKeyframes:c,update:h,preRender:d,render:f,postRender:p}=a,y=()=>{const S=performance.now();t=!1,s.delta=n?1e3/60:Math.max(Math.min(S-s.timestamp,G8),1),s.timestamp=S,s.isProcessing=!0,l.process(s),c.process(s),h.process(s),d.process(s),f.process(s),p.process(s),s.isProcessing=!1,t&&e&&(n=!1,i(y))},b=()=>{t=!0,n=!0,s.isProcessing||i(y)};return{schedule:Zp.reduce((S,T)=>{const C=a[T];return S[T]=(M,R=!1,P=!1)=>(t||b(),C.schedule(M,R,P)),S},{}),cancel:S=>{for(let T=0;T<Zp.length;T++)a[Zp[T]].cancel(S)},state:s,steps:a}}const{schedule:hn,cancel:Yo,state:pi,steps:Xx}=nL(typeof requestAnimationFrame<"u"?requestAnimationFrame:$s,!0),{schedule:gS}=nL(queueMicrotask,!1);let wm;function q8(){wm=void 0}const Wr={now:()=>(wm===void 0&&Wr.set(pi.isProcessing||F8.useManualTiming?pi.timestamp:performance.now()),wm),set:i=>{wm=i,queueMicrotask(q8)}},ur={x:!1,y:!1};function iL(){return ur.x||ur.y}function $8(i){return i==="x"||i==="y"?ur[i]?null:(ur[i]=!0,()=>{ur[i]=!1}):ur.x||ur.y?null:(ur.x=ur.y=!0,()=>{ur.x=ur.y=!1})}function K8(i,e,t){if(i instanceof EventTarget)return[i];if(typeof i=="string"){const s=document.querySelectorAll(i);return s?Array.from(s):[]}return Array.from(i)}function sL(i,e){const t=K8(i),n=new AbortController,s={passive:!0,...e,signal:n.signal};return[t,s,()=>n.abort()]}function aI(i){return!(i.pointerType==="touch"||iL())}function Q8(i,e,t={}){const[n,s,r]=sL(i,t),a=l=>{if(!aI(l))return;const{target:c}=l,h=e(c,l);if(typeof h!="function"||!c)return;const d=f=>{aI(f)&&(h(f),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,s)};return n.forEach(l=>{l.addEventListener("pointerenter",a,s)}),r}const rL=(i,e)=>e?i===e?!0:rL(i,e.parentElement):!1,pS=i=>i.pointerType==="mouse"?typeof i.button!="number"||i.button<=0:i.isPrimary!==!1,Z8=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function J8(i){return Z8.has(i.tagName)||i.tabIndex!==-1}const Pd=new WeakSet;function oI(i){return e=>{e.key==="Enter"&&i(e)}}function Wx(i,e){i.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const e7=(i,e)=>{const t=i.currentTarget;if(!t)return;const n=oI(()=>{if(Pd.has(t))return;Wx(t,"down");const s=oI(()=>{Wx(t,"up")}),r=()=>Wx(t,"cancel");t.addEventListener("keyup",s,e),t.addEventListener("blur",r,e)});t.addEventListener("keydown",n,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",n),e)};function lI(i){return pS(i)&&!iL()}function t7(i,e,t={}){const[n,s,r]=sL(i,t),a=l=>{const c=l.currentTarget;if(!lI(l)||Pd.has(c))return;Pd.add(c);const h=e(c,l),d=(y,b)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",p),!(!lI(y)||!Pd.has(c))&&(Pd.delete(c),typeof h=="function"&&h(y,{success:b}))},f=y=>{d(y,c===window||c===document||t.useGlobalTarget||rL(c,y.target))},p=y=>{d(y,!1)};window.addEventListener("pointerup",f,s),window.addEventListener("pointercancel",p,s)};return n.forEach(l=>{(t.useGlobalTarget?window:l).addEventListener("pointerdown",a,s),l instanceof HTMLElement&&(l.addEventListener("focus",h=>e7(h,s)),!J8(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),r}const cI=30,n7=i=>!isNaN(parseFloat(i));class i7{constructor(e,t={}){this.version="12.6.3",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,s=!0)=>{const r=Wr.now();this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=Wr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=n7(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new cS);const n=this.events[e].add(t);return e==="change"?()=>{n(),hn.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Wr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>cI)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,cI);return ZO(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function wf(i,e){return new i7(i,e)}const aL=z.createContext({strict:!1}),uI={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Uu={};for(const i in uI)Uu[i]={isEnabled:e=>uI[i].some(t=>!!e[t])};function s7(i){for(const e in i)Uu[e]={...Uu[e],...i[e]}}const r7=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function gy(i){return i.startsWith("while")||i.startsWith("drag")&&i!=="draggable"||i.startsWith("layout")||i.startsWith("onTap")||i.startsWith("onPan")||i.startsWith("onLayout")||r7.has(i)}let oL=i=>!gy(i);function a7(i){i&&(oL=e=>e.startsWith("on")?!gy(e):i(e))}try{a7(require("@emotion/is-prop-valid").default)}catch{}function o7(i,e,t){const n={};for(const s in i)s==="values"&&typeof i.values=="object"||(oL(s)||t===!0&&gy(s)||!e&&!gy(s)||i.draggable&&s.startsWith("onDrag"))&&(n[s]=i[s]);return n}function l7(i){if(typeof Proxy>"u")return i;const e=new Map,t=(...n)=>i(...n);return new Proxy(t,{get:(n,s)=>s==="create"?i:(e.has(s)||e.set(s,i(s)),e.get(s))})}const hv=z.createContext({});function dv(i){return i!==null&&typeof i=="object"&&typeof i.start=="function"}function _f(i){return typeof i=="string"||Array.isArray(i)}const mS=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],yS=["initial",...mS];function fv(i){return dv(i.animate)||yS.some(e=>_f(i[e]))}function lL(i){return!!(fv(i)||i.variants)}function c7(i,e){if(fv(i)){const{initial:t,animate:n}=i;return{initial:t===!1||_f(t)?t:void 0,animate:_f(n)?n:void 0}}return i.inherit!==!1?e:{}}function u7(i){const{initial:e,animate:t}=c7(i,z.useContext(hv));return z.useMemo(()=>({initial:e,animate:t}),[hI(e),hI(t)])}function hI(i){return Array.isArray(i)?i.join(" "):i}const h7=Symbol.for("motionComponentSymbol");function vu(i){return i&&typeof i=="object"&&Object.prototype.hasOwnProperty.call(i,"current")}function d7(i,e,t){return z.useCallback(n=>{n&&i.onMount&&i.onMount(n),e&&(n?e.mount(n):e.unmount()),t&&(typeof t=="function"?t(n):vu(t)&&(t.current=n))},[e])}const vS=i=>i.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),f7="framerAppearId",cL="data-"+vS(f7),uL=z.createContext({});function g7(i,e,t,n,s){var x,_;const{visualElement:r}=z.useContext(hv),a=z.useContext(aL),l=z.useContext(uv),c=z.useContext(rS).reducedMotion,h=z.useRef(null);n=n||a.renderer,!h.current&&n&&(h.current=n(i,{visualState:e,parent:r,props:t,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const d=h.current,f=z.useContext(uL);d&&!d.projection&&s&&(d.type==="html"||d.type==="svg")&&p7(h.current,t,s,f);const p=z.useRef(!1);z.useInsertionEffect(()=>{d&&p.current&&d.update(t,l)});const y=t[cL],b=z.useRef(!!y&&!((x=window.MotionHandoffIsComplete)!=null&&x.call(window,y))&&((_=window.MotionHasOptimisedAnimation)==null?void 0:_.call(window,y)));return $O(()=>{d&&(p.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),gS.render(d.render),b.current&&d.animationState&&d.animationState.animateChanges())}),z.useEffect(()=>{d&&(!b.current&&d.animationState&&d.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var S;(S=window.MotionHandoffMarkAsComplete)==null||S.call(window,y)}),b.current=!1))}),d}function p7(i,e,t,n){const{layoutId:s,layout:r,drag:a,dragConstraints:l,layoutScroll:c,layoutRoot:h}=e;i.projection=new t(i.latestValues,e["data-framer-portal-id"]?void 0:hL(i.parent)),i.projection.setOptions({layoutId:s,layout:r,alwaysMeasureLayout:!!a||l&&vu(l),visualElement:i,animationType:typeof r=="string"?r:"both",initialPromotionConfig:n,layoutScroll:c,layoutRoot:h})}function hL(i){if(i)return i.options.allowProjection!==!1?i.projection:hL(i.parent)}function m7({preloadedFeatures:i,createVisualElement:e,useRender:t,useVisualState:n,Component:s}){i&&s7(i);function r(l,c){let h;const d={...z.useContext(rS),...l,layoutId:y7(l)},{isStatic:f}=d,p=u7(l),y=n(l,f);if(!f&&sS){v7();const b=b7(d);h=b.MeasureLayout,p.visualElement=g7(s,y,d,e,b.ProjectionNode)}return N.jsxs(hv.Provider,{value:p,children:[h&&p.visualElement?N.jsx(h,{visualElement:p.visualElement,...d}):null,t(s,l,d7(y,p.visualElement,c),y,f,p.visualElement)]})}r.displayName=`motion.${typeof s=="string"?s:`create(${s.displayName??s.name??""})`}`;const a=z.forwardRef(r);return a[h7]=s,a}function y7({layoutId:i}){const e=z.useContext(nS).id;return e&&i!==void 0?e+"-"+i:i}function v7(i,e){z.useContext(aL).strict}function b7(i){const{drag:e,layout:t}=Uu;if(!e&&!t)return{};const n={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(i)||t!=null&&t.isEnabled(i)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const dL=i=>e=>typeof e=="string"&&e.startsWith(i),bS=dL("--"),x7=dL("var(--"),xS=i=>x7(i)?w7.test(i.split("/*")[0].trim()):!1,w7=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Af={};function _7(i){for(const e in i)Af[e]=i[e],bS(e)&&(Af[e].isCSSVariable=!0)}const oh=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],mc=new Set(oh);function fL(i,{layout:e,layoutId:t}){return mc.has(i)||i.startsWith("origin")||(e||t!==void 0)&&(!!Af[i]||i==="opacity")}const Pi=i=>!!(i&&i.getVelocity),gL=(i,e)=>e&&typeof i=="number"?e.transform(i):i,Ba=(i,e,t)=>t>e?e:t<i?i:t,lh={test:i=>typeof i=="number",parse:parseFloat,transform:i=>i},Sf={...lh,transform:i=>Ba(0,1,i)},Jp={...lh,default:1},ag=i=>({test:e=>typeof e=="string"&&e.endsWith(i)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${i}`}),wo=ag("deg"),Gr=ag("%"),Xe=ag("px"),A7=ag("vh"),S7=ag("vw"),dI={...Gr,parse:i=>Gr.parse(i)/100,transform:i=>Gr.transform(i*100)},T7={borderWidth:Xe,borderTopWidth:Xe,borderRightWidth:Xe,borderBottomWidth:Xe,borderLeftWidth:Xe,borderRadius:Xe,radius:Xe,borderTopLeftRadius:Xe,borderTopRightRadius:Xe,borderBottomRightRadius:Xe,borderBottomLeftRadius:Xe,width:Xe,maxWidth:Xe,height:Xe,maxHeight:Xe,top:Xe,right:Xe,bottom:Xe,left:Xe,padding:Xe,paddingTop:Xe,paddingRight:Xe,paddingBottom:Xe,paddingLeft:Xe,margin:Xe,marginTop:Xe,marginRight:Xe,marginBottom:Xe,marginLeft:Xe,backgroundPositionX:Xe,backgroundPositionY:Xe},E7={rotate:wo,rotateX:wo,rotateY:wo,rotateZ:wo,scale:Jp,scaleX:Jp,scaleY:Jp,scaleZ:Jp,skew:wo,skewX:wo,skewY:wo,distance:Xe,translateX:Xe,translateY:Xe,translateZ:Xe,x:Xe,y:Xe,z:Xe,perspective:Xe,transformPerspective:Xe,opacity:Sf,originX:dI,originY:dI,originZ:Xe},fI={...lh,transform:Math.round},wS={...T7,...E7,zIndex:fI,size:Xe,fillOpacity:Sf,strokeOpacity:Sf,numOctaves:fI},C7={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},k7=oh.length;function R7(i,e,t){let n="",s=!0;for(let r=0;r<k7;r++){const a=oh[r],l=i[a];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(a.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||t){const h=gL(l,wS[a]);if(!c){s=!1;const d=C7[a]||a;n+=`${d}(${h}) `}t&&(e[a]=h)}}return n=n.trim(),t?n=t(e,s?"":n):s&&(n="none"),n}function _S(i,e,t){const{style:n,vars:s,transformOrigin:r}=i;let a=!1,l=!1;for(const c in e){const h=e[c];if(mc.has(c)){a=!0;continue}else if(bS(c)){s[c]=h;continue}else{const d=gL(h,wS[c]);c.startsWith("origin")?(l=!0,r[c]=d):n[c]=d}}if(e.transform||(a||t?n.transform=R7(e,i.transform,t):n.transform&&(n.transform="none")),l){const{originX:c="50%",originY:h="50%",originZ:d=0}=r;n.transformOrigin=`${c} ${h} ${d}`}}const AS=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function pL(i,e,t){for(const n in e)!Pi(e[n])&&!fL(n,t)&&(i[n]=e[n])}function I7({transformTemplate:i},e){return z.useMemo(()=>{const t=AS();return _S(t,e,i),Object.assign({},t.vars,t.style)},[e])}function M7(i,e){const t=i.style||{},n={};return pL(n,t,i),Object.assign(n,I7(i,e)),n}function D7(i,e){const t={},n=M7(i,e);return i.drag&&i.dragListener!==!1&&(t.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=i.drag===!0?"none":`pan-${i.drag==="x"?"y":"x"}`),i.tabIndex===void 0&&(i.onTap||i.onTapStart||i.whileTap)&&(t.tabIndex=0),t.style=n,t}const N7=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function SS(i){return typeof i!="string"||i.includes("-")?!1:!!(N7.indexOf(i)>-1||/[A-Z]/u.test(i))}const P7={offset:"stroke-dashoffset",array:"stroke-dasharray"},O7={offset:"strokeDashoffset",array:"strokeDasharray"};function L7(i,e,t=1,n=0,s=!0){i.pathLength=1;const r=s?P7:O7;i[r.offset]=Xe.transform(-n);const a=Xe.transform(e),l=Xe.transform(t);i[r.array]=`${a} ${l}`}function gI(i,e,t){return typeof i=="string"?i:Xe.transform(e+t*i)}function V7(i,e,t){const n=gI(e,i.x,i.width),s=gI(t,i.y,i.height);return`${n} ${s}`}function TS(i,{attrX:e,attrY:t,attrScale:n,originX:s,originY:r,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...h},d,f){if(_S(i,h,f),d){i.style.viewBox&&(i.attrs.viewBox=i.style.viewBox);return}i.attrs=i.style,i.style={};const{attrs:p,style:y,dimensions:b}=i;p.transform&&(b&&(y.transform=p.transform),delete p.transform),b&&(s!==void 0||r!==void 0||y.transform)&&(y.transformOrigin=V7(b,s!==void 0?s:.5,r!==void 0?r:.5)),e!==void 0&&(p.x=e),t!==void 0&&(p.y=t),n!==void 0&&(p.scale=n),a!==void 0&&L7(p,a,l,c,!1)}const mL=()=>({...AS(),attrs:{}}),ES=i=>typeof i=="string"&&i.toLowerCase()==="svg";function F7(i,e,t,n){const s=z.useMemo(()=>{const r=mL();return TS(r,e,ES(n),i.transformTemplate),{...r.attrs,style:{...r.style}}},[e]);if(i.style){const r={};pL(r,i.style,i),s.style={...r,...s.style}}return s}function z7(i=!1){return(t,n,s,{latestValues:r},a)=>{const c=(SS(t)?F7:D7)(n,r,a,t),h=o7(n,typeof t=="string",i),d=t!==z.Fragment?{...h,...c,ref:s}:{},{children:f}=n,p=z.useMemo(()=>Pi(f)?f.get():f,[f]);return z.createElement(t,{...d,children:p})}}function pI(i){const e=[{},{}];return i==null||i.values.forEach((t,n)=>{e[0][n]=t.get(),e[1][n]=t.getVelocity()}),e}function CS(i,e,t,n){if(typeof e=="function"){const[s,r]=pI(n);e=e(t!==void 0?t:i.custom,s,r)}if(typeof e=="string"&&(e=i.variants&&i.variants[e]),typeof e=="function"){const[s,r]=pI(n);e=e(t!==void 0?t:i.custom,s,r)}return e}const Tw=i=>Array.isArray(i),j7=i=>!!(i&&typeof i=="object"&&i.mix&&i.toValue),B7=i=>Tw(i)?i[i.length-1]||0:i;function _m(i){const e=Pi(i)?i.get():i;return j7(e)?e.toValue():e}function H7({scrapeMotionValuesFromProps:i,createRenderState:e,onUpdate:t},n,s,r){const a={latestValues:U7(n,s,r,i),renderState:e()};return t&&(a.onMount=l=>t({props:n,current:l,...a}),a.onUpdate=l=>t(l)),a}const yL=i=>(e,t)=>{const n=z.useContext(hv),s=z.useContext(uv),r=()=>H7(i,e,n,s);return t?r():iS(r)};function U7(i,e,t,n){const s={},r=n(i,{});for(const p in r)s[p]=_m(r[p]);let{initial:a,animate:l}=i;const c=fv(i),h=lL(i);e&&h&&!c&&i.inherit!==!1&&(a===void 0&&(a=e.initial),l===void 0&&(l=e.animate));let d=t?t.initial===!1:!1;d=d||a===!1;const f=d?l:a;if(f&&typeof f!="boolean"&&!dv(f)){const p=Array.isArray(f)?f:[f];for(let y=0;y<p.length;y++){const b=CS(i,p[y]);if(b){const{transitionEnd:x,transition:_,...S}=b;for(const T in S){let C=S[T];if(Array.isArray(C)){const M=d?C.length-1:0;C=C[M]}C!==null&&(s[T]=C)}for(const T in x)s[T]=x[T]}}}return s}function kS(i,e,t){var r;const{style:n}=i,s={};for(const a in n)(Pi(n[a])||e.style&&Pi(e.style[a])||fL(a,i)||((r=t==null?void 0:t.getValue(a))==null?void 0:r.liveStyle)!==void 0)&&(s[a]=n[a]);return s}const Y7={useVisualState:yL({scrapeMotionValuesFromProps:kS,createRenderState:AS})};function vL(i,e){try{e.dimensions=typeof i.getBBox=="function"?i.getBBox():i.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}function bL(i,{style:e,vars:t},n,s){Object.assign(i.style,e,s&&s.getProjectionStyles(n));for(const r in t)i.style.setProperty(r,t[r])}const xL=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function wL(i,e,t,n){bL(i,e,void 0,n);for(const s in e.attrs)i.setAttribute(xL.has(s)?s:vS(s),e.attrs[s])}function _L(i,e,t){const n=kS(i,e,t);for(const s in i)if(Pi(i[s])||Pi(e[s])){const r=oh.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;n[r]=i[s]}return n}const mI=["x","y","width","height","cx","cy","r"],X7={useVisualState:yL({scrapeMotionValuesFromProps:_L,createRenderState:mL,onUpdate:({props:i,prevProps:e,current:t,renderState:n,latestValues:s})=>{if(!t)return;let r=!!i.drag;if(!r){for(const l in s)if(mc.has(l)){r=!0;break}}if(!r)return;let a=!e;if(e)for(let l=0;l<mI.length;l++){const c=mI[l];i[c]!==e[c]&&(a=!0)}a&&hn.read(()=>{vL(t,n),hn.render(()=>{TS(n,s,ES(t.tagName),i.transformTemplate),wL(t,n)})})}})};function W7(i,e){return function(n,{forwardMotionProps:s}={forwardMotionProps:!1}){const a={...SS(n)?X7:Y7,preloadedFeatures:i,useRender:z7(s),createVisualElement:e,Component:n};return m7(a)}}function Tf(i,e,t){const n=i.getProps();return CS(n,e,t!==void 0?t:n.custom,i)}const AL=new Set(["width","height","top","left","right","bottom",...oh]);function G7(i,e,t){i.hasValue(e)?i.getValue(e).set(t):i.addValue(e,wf(t))}function q7(i,e){const t=Tf(i,e);let{transitionEnd:n={},transition:s={},...r}=t||{};r={...r,...n};for(const a in r){const l=B7(r[a]);G7(i,a,l)}}function $7(i){return!!(Pi(i)&&i.add)}function Ew(i,e){const t=i.getValue("willChange");if($7(t))return t.add(e)}function SL(i){return i.props[cL]}const TL=(i,e,t)=>(((1-3*t+3*e)*i+(3*t-6*e))*i+3*e)*i,K7=1e-7,Q7=12;function Z7(i,e,t,n,s){let r,a,l=0;do a=e+(t-e)/2,r=TL(a,n,s)-i,r>0?t=a:e=a;while(Math.abs(r)>K7&&++l<Q7);return a}function og(i,e,t,n){if(i===e&&t===n)return $s;const s=r=>Z7(r,0,1,i,t);return r=>r===0||r===1?r:TL(s(r),e,n)}const EL=i=>e=>e<=.5?i(2*e)/2:(2-i(2*(1-e)))/2,CL=i=>e=>1-i(1-e),kL=og(.33,1.53,.69,.99),RS=CL(kL),RL=EL(RS),IL=i=>(i*=2)<1?.5*RS(i):.5*(2-Math.pow(2,-10*(i-1))),IS=i=>1-Math.sin(Math.acos(i)),ML=CL(IS),DL=EL(IS),NL=i=>/^0[^.\s]+$/u.test(i);function J7(i){return typeof i=="number"?i===0:i!==null?i==="none"||i==="0"||NL(i):!0}const Wd=i=>Math.round(i*1e5)/1e5,MS=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function e$(i){return i==null}const t$=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,DS=(i,e)=>t=>!!(typeof t=="string"&&t$.test(t)&&t.startsWith(i)||e&&!e$(t)&&Object.prototype.hasOwnProperty.call(t,e)),PL=(i,e,t)=>n=>{if(typeof n!="string")return n;const[s,r,a,l]=n.match(MS);return{[i]:parseFloat(s),[e]:parseFloat(r),[t]:parseFloat(a),alpha:l!==void 0?parseFloat(l):1}},n$=i=>Ba(0,255,i),Gx={...lh,transform:i=>Math.round(n$(i))},Yl={test:DS("rgb","red"),parse:PL("red","green","blue"),transform:({red:i,green:e,blue:t,alpha:n=1})=>"rgba("+Gx.transform(i)+", "+Gx.transform(e)+", "+Gx.transform(t)+", "+Wd(Sf.transform(n))+")"};function i$(i){let e="",t="",n="",s="";return i.length>5?(e=i.substring(1,3),t=i.substring(3,5),n=i.substring(5,7),s=i.substring(7,9)):(e=i.substring(1,2),t=i.substring(2,3),n=i.substring(3,4),s=i.substring(4,5),e+=e,t+=t,n+=n,s+=s),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}}const Cw={test:DS("#"),parse:i$,transform:Yl.transform},bu={test:DS("hsl","hue"),parse:PL("hue","saturation","lightness"),transform:({hue:i,saturation:e,lightness:t,alpha:n=1})=>"hsla("+Math.round(i)+", "+Gr.transform(Wd(e))+", "+Gr.transform(Wd(t))+", "+Wd(Sf.transform(n))+")"},Ci={test:i=>Yl.test(i)||Cw.test(i)||bu.test(i),parse:i=>Yl.test(i)?Yl.parse(i):bu.test(i)?bu.parse(i):Cw.parse(i),transform:i=>typeof i=="string"?i:i.hasOwnProperty("red")?Yl.transform(i):bu.transform(i)},s$=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function r$(i){var e,t;return isNaN(i)&&typeof i=="string"&&(((e=i.match(MS))==null?void 0:e.length)||0)+(((t=i.match(s$))==null?void 0:t.length)||0)>0}const OL="number",LL="color",a$="var",o$="var(",yI="${}",l$=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ef(i){const e=i.toString(),t=[],n={color:[],number:[],var:[]},s=[];let r=0;const l=e.replace(l$,c=>(Ci.test(c)?(n.color.push(r),s.push(LL),t.push(Ci.parse(c))):c.startsWith(o$)?(n.var.push(r),s.push(a$),t.push(c)):(n.number.push(r),s.push(OL),t.push(parseFloat(c))),++r,yI)).split(yI);return{values:t,split:l,indexes:n,types:s}}function VL(i){return Ef(i).values}function FL(i){const{split:e,types:t}=Ef(i),n=e.length;return s=>{let r="";for(let a=0;a<n;a++)if(r+=e[a],s[a]!==void 0){const l=t[a];l===OL?r+=Wd(s[a]):l===LL?r+=Ci.transform(s[a]):r+=s[a]}return r}}const c$=i=>typeof i=="number"?0:i;function u$(i){const e=VL(i);return FL(i)(e.map(c$))}const Xo={test:r$,parse:VL,createTransformer:FL,getAnimatableNone:u$},h$=new Set(["brightness","contrast","saturate","opacity"]);function d$(i){const[e,t]=i.slice(0,-1).split("(");if(e==="drop-shadow")return i;const[n]=t.match(MS)||[];if(!n)return i;const s=t.replace(n,"");let r=h$.has(e)?1:0;return n!==t&&(r*=100),e+"("+r+s+")"}const f$=/\b([a-z-]*)\(.*?\)/gu,kw={...Xo,getAnimatableNone:i=>{const e=i.match(f$);return e?e.map(d$).join(" "):i}},g$={...wS,color:Ci,backgroundColor:Ci,outlineColor:Ci,fill:Ci,stroke:Ci,borderColor:Ci,borderTopColor:Ci,borderRightColor:Ci,borderBottomColor:Ci,borderLeftColor:Ci,filter:kw,WebkitFilter:kw},zL=i=>g$[i];function jL(i,e){let t=zL(i);return t!==kw&&(t=Xo),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const p$=new Set(["auto","none","0"]);function m$(i,e,t){let n=0,s;for(;n<i.length&&!s;){const r=i[n];typeof r=="string"&&!p$.has(r)&&Ef(r).values.length&&(s=i[n]),n++}if(s&&t)for(const r of e)i[r]=jL(t,s)}const Xl=i=>i*180/Math.PI,Rw=i=>{const e=Xl(Math.atan2(i[1],i[0]));return Iw(e)},y$={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:i=>(Math.abs(i[0])+Math.abs(i[3]))/2,rotate:Rw,rotateZ:Rw,skewX:i=>Xl(Math.atan(i[1])),skewY:i=>Xl(Math.atan(i[2])),skew:i=>(Math.abs(i[1])+Math.abs(i[2]))/2},Iw=i=>(i=i%360,i<0&&(i+=360),i),vI=Rw,bI=i=>Math.sqrt(i[0]*i[0]+i[1]*i[1]),xI=i=>Math.sqrt(i[4]*i[4]+i[5]*i[5]),v$={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:bI,scaleY:xI,scale:i=>(bI(i)+xI(i))/2,rotateX:i=>Iw(Xl(Math.atan2(i[6],i[5]))),rotateY:i=>Iw(Xl(Math.atan2(-i[2],i[0]))),rotateZ:vI,rotate:vI,skewX:i=>Xl(Math.atan(i[4])),skewY:i=>Xl(Math.atan(i[1])),skew:i=>(Math.abs(i[1])+Math.abs(i[4]))/2};function wI(i){return i.includes("scale")?1:0}function Mw(i,e){if(!i||i==="none")return wI(e);const t=i.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,s;if(t)n=v$,s=t;else{const l=i.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=y$,s=l}if(!s)return wI(e);const r=n[e],a=s[1].split(",").map(x$);return typeof r=="function"?r(a):a[r]}const b$=(i,e)=>{const{transform:t="none"}=getComputedStyle(i);return Mw(t,e)};function x$(i){return parseFloat(i.trim())}const _I=i=>i===lh||i===Xe,w$=new Set(["x","y","z"]),_$=oh.filter(i=>!w$.has(i));function A$(i){const e=[];return _$.forEach(t=>{const n=i.getValue(t);n!==void 0&&(e.push([t,n.get()]),n.set(t.startsWith("scale")?1:0))}),e}const Yu={width:({x:i},{paddingLeft:e="0",paddingRight:t="0"})=>i.max-i.min-parseFloat(e)-parseFloat(t),height:({y:i},{paddingTop:e="0",paddingBottom:t="0"})=>i.max-i.min-parseFloat(e)-parseFloat(t),top:(i,{top:e})=>parseFloat(e),left:(i,{left:e})=>parseFloat(e),bottom:({y:i},{top:e})=>parseFloat(e)+(i.max-i.min),right:({x:i},{left:e})=>parseFloat(e)+(i.max-i.min),x:(i,{transform:e})=>Mw(e,"x"),y:(i,{transform:e})=>Mw(e,"y")};Yu.translateX=Yu.x;Yu.translateY=Yu.y;const Kl=new Set;let Dw=!1,Nw=!1;function BL(){if(Nw){const i=Array.from(Kl).filter(n=>n.needsMeasurement),e=new Set(i.map(n=>n.element)),t=new Map;e.forEach(n=>{const s=A$(n);s.length&&(t.set(n,s),n.render())}),i.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const s=t.get(n);s&&s.forEach(([r,a])=>{var l;(l=n.getValue(r))==null||l.set(a)})}),i.forEach(n=>n.measureEndState()),i.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}Nw=!1,Dw=!1,Kl.forEach(i=>i.complete()),Kl.clear()}function HL(){Kl.forEach(i=>{i.readKeyframes(),i.needsMeasurement&&(Nw=!0)})}function S$(){HL(),BL()}class NS{constructor(e,t,n,s,r,a=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=s,this.element=r,this.isAsync=a}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Kl.add(this),Dw||(Dw=!0,hn.read(HL),hn.resolveKeyframes(BL))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:n,motionValue:s}=this;for(let r=0;r<e.length;r++)if(e[r]===null)if(r===0){const a=s==null?void 0:s.get(),l=e[e.length-1];if(a!==void 0)e[0]=a;else if(n&&t){const c=n.readValue(t,l);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=l),s&&a===void 0&&s.set(e[0])}else e[r]=e[r-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Kl.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Kl.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const UL=i=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(i),T$=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function E$(i){const e=T$.exec(i);if(!e)return[,];const[,t,n,s]=e;return[`--${t??n}`,s]}function YL(i,e,t=1){const[n,s]=E$(i);if(!n)return;const r=window.getComputedStyle(e).getPropertyValue(n);if(r){const a=r.trim();return UL(a)?parseFloat(a):a}return xS(s)?YL(s,e,t+1):s}const XL=i=>e=>e.test(i),C$={test:i=>i==="auto",parse:i=>i},WL=[lh,Xe,Gr,wo,S7,A7,C$],AI=i=>WL.find(XL(i));class GL extends NS{constructor(e,t,n,s,r){super(e,t,n,s,r,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let h=e[c];if(typeof h=="string"&&(h=h.trim(),xS(h))){const d=YL(h,t.current);d!==void 0&&(e[c]=d),c===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!AL.has(n)||e.length!==2)return;const[s,r]=e,a=AI(s),l=AI(r);if(a!==l)if(_I(a)&&_I(l))for(let c=0;c<e.length;c++){const h=e[c];typeof h=="string"&&(e[c]=parseFloat(h))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,n=[];for(let s=0;s<e.length;s++)J7(e[s])&&n.push(s);n.length&&m$(e,n,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Yu[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const s=t[t.length-1];s!==void 0&&e.getValue(n,s).jump(s,!1)}measureEndState(){var l;const{element:e,name:t,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const s=e.getValue(t);s&&s.jump(this.measuredOrigin,!1);const r=n.length-1,a=n[r];n[r]=Yu[t](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,h])=>{e.getValue(c).set(h)}),this.resolveNoneKeyframes()}}const SI=(i,e)=>e==="zIndex"?!1:!!(typeof i=="number"||Array.isArray(i)||typeof i=="string"&&(Xo.test(i)||i==="0")&&!i.startsWith("url("));function k$(i){const e=i[0];if(i.length===1)return!0;for(let t=0;t<i.length;t++)if(i[t]!==e)return!0}function R$(i,e,t,n){const s=i[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const r=i[i.length-1],a=SI(s,e),l=SI(r,e);return!a||!l?!1:k$(i)||(t==="spring"||hS(t))&&n}const I$=i=>i!==null;function gv(i,{repeat:e,repeatType:t="loop"},n){const s=i.filter(I$),r=e&&t!=="loop"&&e%2===1?0:s.length-1;return!r||n===void 0?s[r]:n}const M$=40;class qL{constructor({autoplay:e=!0,delay:t=0,type:n="keyframes",repeat:s=0,repeatDelay:r=0,repeatType:a="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Wr.now(),this.options={autoplay:e,delay:t,type:n,repeat:s,repeatDelay:r,repeatType:a,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>M$?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&S$(),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=Wr.now(),this.hasAttemptedResolve=!0;const{name:n,type:s,velocity:r,delay:a,onComplete:l,onUpdate:c,isGenerator:h}=this.options;if(!h&&!R$(e,n,s,r))if(a)this.options.duration=0;else{c&&c(gv(e,this.options,t)),l&&l(),this.resolveFinishedPromise();return}const d=this.initPlayback(e,t);d!==!1&&(this._resolved={keyframes:e,finalKeyframe:t,...d},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear")}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const An=(i,e,t)=>i+(e-i)*t;function qx(i,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?i+(e-i)*6*t:t<1/2?e:t<2/3?i+(e-i)*(2/3-t)*6:i}function D$({hue:i,saturation:e,lightness:t,alpha:n}){i/=360,e/=100,t/=100;let s=0,r=0,a=0;if(!e)s=r=a=t;else{const l=t<.5?t*(1+e):t+e-t*e,c=2*t-l;s=qx(c,l,i+1/3),r=qx(c,l,i),a=qx(c,l,i-1/3)}return{red:Math.round(s*255),green:Math.round(r*255),blue:Math.round(a*255),alpha:n}}function py(i,e){return t=>t>0?e:i}const $x=(i,e,t)=>{const n=i*i,s=t*(e*e-n)+n;return s<0?0:Math.sqrt(s)},N$=[Cw,Yl,bu],P$=i=>N$.find(e=>e.test(i));function TI(i){const e=P$(i);if(!e)return!1;let t=e.parse(i);return e===bu&&(t=D$(t)),t}const EI=(i,e)=>{const t=TI(i),n=TI(e);if(!t||!n)return py(i,e);const s={...t};return r=>(s.red=$x(t.red,n.red,r),s.green=$x(t.green,n.green,r),s.blue=$x(t.blue,n.blue,r),s.alpha=An(t.alpha,n.alpha,r),Yl.transform(s))},O$=(i,e)=>t=>e(i(t)),lg=(...i)=>i.reduce(O$),Pw=new Set(["none","hidden"]);function L$(i,e){return Pw.has(i)?t=>t<=0?i:e:t=>t>=1?e:i}function V$(i,e){return t=>An(i,e,t)}function PS(i){return typeof i=="number"?V$:typeof i=="string"?xS(i)?py:Ci.test(i)?EI:j$:Array.isArray(i)?$L:typeof i=="object"?Ci.test(i)?EI:F$:py}function $L(i,e){const t=[...i],n=t.length,s=i.map((r,a)=>PS(r)(r,e[a]));return r=>{for(let a=0;a<n;a++)t[a]=s[a](r);return t}}function F$(i,e){const t={...i,...e},n={};for(const s in t)i[s]!==void 0&&e[s]!==void 0&&(n[s]=PS(i[s])(i[s],e[s]));return s=>{for(const r in n)t[r]=n[r](s);return t}}function z$(i,e){const t=[],n={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const r=e.types[s],a=i.indexes[r][n[r]],l=i.values[a]??0;t[s]=l,n[r]++}return t}const j$=(i,e)=>{const t=Xo.createTransformer(e),n=Ef(i),s=Ef(e);return n.indexes.var.length===s.indexes.var.length&&n.indexes.color.length===s.indexes.color.length&&n.indexes.number.length>=s.indexes.number.length?Pw.has(i)&&!s.values.length||Pw.has(e)&&!n.values.length?L$(i,e):lg($L(z$(n,s),s.values),t):py(i,e)};function KL(i,e,t){return typeof i=="number"&&typeof e=="number"&&typeof t=="number"?An(i,e,t):PS(i)(i,e)}const B$=5;function QL(i,e,t){const n=Math.max(e-B$,0);return ZO(t-i(n),e-n)}const Rn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},CI=.001;function H$({duration:i=Rn.duration,bounce:e=Rn.bounce,velocity:t=Rn.velocity,mass:n=Rn.mass}){let s,r,a=1-e;a=Ba(Rn.minDamping,Rn.maxDamping,a),i=Ba(Rn.minDuration,Rn.maxDuration,Xr(i)),a<1?(s=h=>{const d=h*a,f=d*i,p=d-t,y=Ow(h,a),b=Math.exp(-f);return CI-p/y*b},r=h=>{const f=h*a*i,p=f*t+t,y=Math.pow(a,2)*Math.pow(h,2)*i,b=Math.exp(-f),x=Ow(Math.pow(h,2),a);return(-s(h)+CI>0?-1:1)*((p-y)*b)/x}):(s=h=>{const d=Math.exp(-h*i),f=(h-t)*i+1;return-.001+d*f},r=h=>{const d=Math.exp(-h*i),f=(t-h)*(i*i);return d*f});const l=5/i,c=Y$(s,r,l);if(i=Yr(i),isNaN(c))return{stiffness:Rn.stiffness,damping:Rn.damping,duration:i};{const h=Math.pow(c,2)*n;return{stiffness:h,damping:a*2*Math.sqrt(n*h),duration:i}}}const U$=12;function Y$(i,e,t){let n=t;for(let s=1;s<U$;s++)n=n-i(n)/e(n);return n}function Ow(i,e){return i*Math.sqrt(1-e*e)}const X$=["duration","bounce"],W$=["stiffness","damping","mass"];function kI(i,e){return e.some(t=>i[t]!==void 0)}function G$(i){let e={velocity:Rn.velocity,stiffness:Rn.stiffness,damping:Rn.damping,mass:Rn.mass,isResolvedFromDuration:!1,...i};if(!kI(i,W$)&&kI(i,X$))if(i.visualDuration){const t=i.visualDuration,n=2*Math.PI/(t*1.2),s=n*n,r=2*Ba(.05,1,1-(i.bounce||0))*Math.sqrt(s);e={...e,mass:Rn.mass,stiffness:s,damping:r}}else{const t=H$(i);e={...e,...t,mass:Rn.mass},e.isResolvedFromDuration=!0}return e}function my(i=Rn.visualDuration,e=Rn.bounce){const t=typeof i!="object"?{visualDuration:i,keyframes:[0,1],bounce:e}:i;let{restSpeed:n,restDelta:s}=t;const r=t.keyframes[0],a=t.keyframes[t.keyframes.length-1],l={done:!1,value:r},{stiffness:c,damping:h,mass:d,duration:f,velocity:p,isResolvedFromDuration:y}=G$({...t,velocity:-Xr(t.velocity||0)}),b=p||0,x=h/(2*Math.sqrt(c*d)),_=a-r,S=Xr(Math.sqrt(c/d)),T=Math.abs(_)<5;n||(n=T?Rn.restSpeed.granular:Rn.restSpeed.default),s||(s=T?Rn.restDelta.granular:Rn.restDelta.default);let C;if(x<1){const R=Ow(S,x);C=P=>{const k=Math.exp(-x*S*P);return a-k*((b+x*S*_)/R*Math.sin(R*P)+_*Math.cos(R*P))}}else if(x===1)C=R=>a-Math.exp(-S*R)*(_+(b+S*_)*R);else{const R=S*Math.sqrt(x*x-1);C=P=>{const k=Math.exp(-x*S*P),E=Math.min(R*P,300);return a-k*((b+x*S*_)*Math.sinh(E)+R*_*Math.cosh(E))/R}}const M={calculatedDuration:y&&f||null,next:R=>{const P=C(R);if(y)l.done=R>=f;else{let k=0;x<1&&(k=R===0?Yr(b):QL(C,R,P));const E=Math.abs(k)<=n,D=Math.abs(a-P)<=s;l.done=E&&D}return l.value=l.done?a:P,l},toString:()=>{const R=Math.min(fS(M),fy),P=JO(k=>M.next(R*k).value,R,30);return R+"ms "+P},toTransition:()=>{}};return M}my.applyToOptions=i=>{const e=X8(i,100,my);return i.ease=xf()?e.ease:"easeOut",i.duration=Yr(e.duration),i.type="keyframes",i};function RI({keyframes:i,velocity:e=0,power:t=.8,timeConstant:n=325,bounceDamping:s=10,bounceStiffness:r=500,modifyTarget:a,min:l,max:c,restDelta:h=.5,restSpeed:d}){const f=i[0],p={done:!1,value:f},y=E=>l!==void 0&&E<l||c!==void 0&&E>c,b=E=>l===void 0?c:c===void 0||Math.abs(l-E)<Math.abs(c-E)?l:c;let x=t*e;const _=f+x,S=a===void 0?_:a(_);S!==_&&(x=S-f);const T=E=>-x*Math.exp(-E/n),C=E=>S+T(E),M=E=>{const D=T(E),O=C(E);p.done=Math.abs(D)<=h,p.value=p.done?S:O};let R,P;const k=E=>{y(p.value)&&(R=E,P=my({keyframes:[p.value,b(p.value)],velocity:QL(C,E,p.value),damping:s,stiffness:r,restDelta:h,restSpeed:d}))};return k(0),{calculatedDuration:null,next:E=>{let D=!1;return!P&&R===void 0&&(D=!0,M(E),k(E)),R!==void 0&&E>=R?P.next(E-R):(!D&&M(E),p)}}}const q$=og(.42,0,1,1),$$=og(0,0,.58,1),ZL=og(.42,0,.58,1),K$=i=>Array.isArray(i)&&typeof i[0]!="number",Q$={linear:$s,easeIn:q$,easeInOut:ZL,easeOut:$$,circIn:IS,circInOut:DL,circOut:ML,backIn:RS,backInOut:RL,backOut:kL,anticipate:IL},II=i=>{if(uS(i)){QO(i.length===4);const[e,t,n,s]=i;return og(e,t,n,s)}else if(typeof i=="string")return Q$[i];return i};function Z$(i,e,t){const n=[],s=t||KL,r=i.length-1;for(let a=0;a<r;a++){let l=s(i[a],i[a+1]);if(e){const c=Array.isArray(e)?e[a]||$s:e;l=lg(c,l)}n.push(l)}return n}function J$(i,e,{clamp:t=!0,ease:n,mixer:s}={}){const r=i.length;if(QO(r===e.length),r===1)return()=>e[0];if(r===2&&e[0]===e[1])return()=>e[1];const a=i[0]===i[1];i[0]>i[r-1]&&(i=[...i].reverse(),e=[...e].reverse());const l=Z$(e,n,s),c=l.length,h=d=>{if(a&&d<i[0])return e[0];let f=0;if(c>1)for(;f<i.length-2&&!(d<i[f+1]);f++);const p=bf(i[f],i[f+1],d);return l[f](p)};return t?d=>h(Ba(i[0],i[r-1],d)):h}function eK(i,e){const t=i[i.length-1];for(let n=1;n<=e;n++){const s=bf(0,e,n);i.push(An(t,1,s))}}function tK(i){const e=[0];return eK(e,i.length-1),e}function nK(i,e){return i.map(t=>t*e)}function iK(i,e){return i.map(()=>e||ZL).splice(0,i.length-1)}function yy({duration:i=300,keyframes:e,times:t,ease:n="easeInOut"}){const s=K$(n)?n.map(II):II(n),r={done:!1,value:e[0]},a=nK(t&&t.length===e.length?t:tK(e),i),l=J$(a,e,{ease:Array.isArray(s)?s:iK(e,s)});return{calculatedDuration:i,next:c=>(r.value=l(c),r.done=c>=i,r)}}const sK=i=>{const e=({timestamp:t})=>i(t);return{start:()=>hn.update(e,!0),stop:()=>Yo(e),now:()=>pi.isProcessing?pi.timestamp:Wr.now()}},rK={decay:RI,inertia:RI,tween:yy,keyframes:yy,spring:my},aK=i=>i/100;class OS extends qL{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:t,motionValue:n,element:s,keyframes:r}=this.options,a=(s==null?void 0:s.KeyframeResolver)||NS,l=(c,h)=>this.onKeyframesResolved(c,h);this.resolver=new a(r,l,t,n,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:n=0,repeatDelay:s=0,repeatType:r,velocity:a=0}=this.options,l=hS(t)?t:rK[t]||yy;let c,h;l!==yy&&typeof e[0]!="number"&&(c=lg(aK,KL(e[0],e[1])),e=[0,100]);const d=l({...this.options,keyframes:e});r==="mirror"&&(h=l({...this.options,keyframes:[...e].reverse(),velocity:-a})),d.calculatedDuration===null&&(d.calculatedDuration=fS(d));const{calculatedDuration:f}=d,p=f+s,y=p*(n+1)-s;return{generator:d,mirroredGenerator:h,mapPercentToKeyframes:c,calculatedDuration:f,resolvedDuration:p,totalDuration:y}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,t=!1){const{resolved:n}=this;if(!n){const{keyframes:E}=this.options;return{done:!0,value:E[E.length-1]}}const{finalKeyframe:s,generator:r,mirroredGenerator:a,mapPercentToKeyframes:l,keyframes:c,calculatedDuration:h,totalDuration:d,resolvedDuration:f}=n;if(this.startTime===null)return r.next(0);const{delay:p,repeat:y,repeatType:b,repeatDelay:x,onUpdate:_}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-d/this.speed,this.startTime)),t?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const S=this.currentTime-p*(this.speed>=0?1:-1),T=this.speed>=0?S<0:S>d;this.currentTime=Math.max(S,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let C=this.currentTime,M=r;if(y){const E=Math.min(this.currentTime,d)/f;let D=Math.floor(E),O=E%1;!O&&E>=1&&(O=1),O===1&&D--,D=Math.min(D,y+1),!!(D%2)&&(b==="reverse"?(O=1-O,x&&(O-=x/f)):b==="mirror"&&(M=a)),C=Ba(0,1,O)*f}const R=T?{done:!1,value:c[0]}:M.next(C);l&&(R.value=l(R.value));let{done:P}=R;!T&&h!==null&&(P=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&P);return k&&s!==void 0&&(R.value=gv(c,this.options,s)),_&&_(R.value),k&&this.finish(),R}get duration(){const{resolved:e}=this;return e?Xr(e.calculatedDuration):0}get time(){return Xr(this.currentTime)}set time(e){e=Yr(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Xr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=sK,onPlay:t,startTime:n}=this.options;this.driver||(this.driver=e(r=>this.tick(r))),t&&t();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=n??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=this.currentTime??0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}get finished(){return this.currentFinishedPromise}}const oK=new Set(["opacity","clipPath","filter","transform"]),lK=lS(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),vy=10,cK=2e4;function uK(i){return hS(i.type)||i.type==="spring"||!tL(i.ease)}function hK(i,e){const t=new OS({...e,keyframes:i,repeat:0,delay:0,isGenerator:!0});let n={done:!1,value:i[0]};const s=[];let r=0;for(;!n.done&&r<cK;)n=t.sample(r),s.push(n.value),r+=vy;return{times:void 0,keyframes:s,duration:r-vy,ease:"linear"}}const JL={anticipate:IL,backInOut:RL,circInOut:DL};function dK(i){return i in JL}class MI extends qL{constructor(e){super(e);const{name:t,motionValue:n,element:s,keyframes:r}=this.options;this.resolver=new GL(r,(a,l)=>this.onKeyframesResolved(a,l),t,n,s),this.resolver.scheduleResolve()}initPlayback(e,t){let{duration:n=300,times:s,ease:r,type:a,motionValue:l,name:c,startTime:h}=this.options;if(!l.owner||!l.owner.current)return!1;if(typeof r=="string"&&xf()&&dK(r)&&(r=JL[r]),uK(this.options)){const{onComplete:f,onUpdate:p,motionValue:y,element:b,...x}=this.options,_=hK(e,x);e=_.keyframes,e.length===1&&(e[1]=e[0]),n=_.duration,s=_.times,r=_.ease,a="keyframes"}const d=Y8(l.owner.current,c,e,{...this.options,duration:n,times:s,ease:r});return d.startTime=h??this.calcStartTime(),this.pendingTimeline?(rI(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:f}=this.options;l.set(gv(e,this.options,t)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:n,times:s,type:a,ease:r,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return Xr(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return Xr(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.currentTime=Yr(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}get finished(){return this.resolved.animation.finished}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:t}=this;if(!t)return $s;const{animation:n}=t;rI(n,e)}return $s}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.playState==="finished"&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:n,duration:s,type:r,ease:a,times:l}=e;if(t.playState==="idle"||t.playState==="finished")return;if(this.time){const{motionValue:h,onUpdate:d,onComplete:f,element:p,...y}=this.options,b=new OS({...y,keyframes:n,duration:s,type:r,ease:a,times:l,isGenerator:!0}),x=Yr(this.time);h.setWithVelocity(b.sample(x-vy).value,b.sample(x).value,vy)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:n,repeatDelay:s,repeatType:r,damping:a,type:l}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:h}=t.owner.getProps();return lK()&&n&&oK.has(n)&&(n!=="transform"||!h)&&!c&&!s&&r!=="mirror"&&a!==0&&l!=="inertia"}}const fK={type:"spring",stiffness:500,damping:25,restSpeed:10},gK=i=>({type:"spring",stiffness:550,damping:i===0?2*Math.sqrt(550):30,restSpeed:10}),pK={type:"keyframes",duration:.8},mK={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},yK=(i,{keyframes:e})=>e.length>2?pK:mc.has(i)?i.startsWith("scale")?gK(e[1]):fK:mK;function vK({when:i,delay:e,delayChildren:t,staggerChildren:n,staggerDirection:s,repeat:r,repeatType:a,repeatDelay:l,from:c,elapsed:h,...d}){return!!Object.keys(d).length}const LS=(i,e,t,n={},s,r)=>a=>{const l=dS(n,i)||{},c=l.delay||n.delay||0;let{elapsed:h=0}=n;h=h-Yr(c);let d={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-h,onUpdate:p=>{e.set(p),l.onUpdate&&l.onUpdate(p)},onComplete:()=>{a(),l.onComplete&&l.onComplete()},name:i,motionValue:e,element:r?void 0:s};vK(l)||(d={...d,...yK(i,d)}),d.duration&&(d.duration=Yr(d.duration)),d.repeatDelay&&(d.repeatDelay=Yr(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(f=!0)),d.allowFlatten=!l.type&&!l.ease,f&&!r&&e.get()!==void 0){const p=gv(d.keyframes,l);if(p!==void 0)return hn.update(()=>{d.onUpdate(p),d.onComplete()}),new B8([])}return!r&&MI.supports(d)?new MI(d):new OS(d)};function bK({protectedKeys:i,needsAnimating:e},t){const n=i.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,n}function eV(i,e,{delay:t=0,transitionOverride:n,type:s}={}){let{transition:r=i.getDefaultTransition(),transitionEnd:a,...l}=e;n&&(r=n);const c=[],h=s&&i.animationState&&i.animationState.getState()[s];for(const d in l){const f=i.getValue(d,i.latestValues[d]??null),p=l[d];if(p===void 0||h&&bK(h,d))continue;const y={delay:t,...dS(r||{},d)};let b=!1;if(window.MotionHandoffAnimation){const _=SL(i);if(_){const S=window.MotionHandoffAnimation(_,d,hn);S!==null&&(y.startTime=S,b=!0)}}Ew(i,d),f.start(LS(d,f,p,i.shouldReduceMotion&&AL.has(d)?{type:!1}:y,i,b));const x=f.animation;x&&c.push(x)}return a&&Promise.all(c).then(()=>{hn.update(()=>{a&&q7(i,a)})}),c}function Lw(i,e,t={}){var c;const n=Tf(i,e,t.type==="exit"?(c=i.presenceContext)==null?void 0:c.custom:void 0);let{transition:s=i.getDefaultTransition()||{}}=n||{};t.transitionOverride&&(s=t.transitionOverride);const r=n?()=>Promise.all(eV(i,n,t)):()=>Promise.resolve(),a=i.variantChildren&&i.variantChildren.size?(h=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:p}=s;return xK(i,e,d+h,f,p,t)}:()=>Promise.resolve(),{when:l}=s;if(l){const[h,d]=l==="beforeChildren"?[r,a]:[a,r];return h().then(()=>d())}else return Promise.all([r(),a(t.delay)])}function xK(i,e,t=0,n=0,s=1,r){const a=[],l=(i.variantChildren.size-1)*n,c=s===1?(h=0)=>h*n:(h=0)=>l-h*n;return Array.from(i.variantChildren).sort(wK).forEach((h,d)=>{h.notify("AnimationStart",e),a.push(Lw(h,e,{...r,delay:t+c(d)}).then(()=>h.notify("AnimationComplete",e)))}),Promise.all(a)}function wK(i,e){return i.sortNodePosition(e)}function _K(i,e,t={}){i.notify("AnimationStart",e);let n;if(Array.isArray(e)){const s=e.map(r=>Lw(i,r,t));n=Promise.all(s)}else if(typeof e=="string")n=Lw(i,e,t);else{const s=typeof e=="function"?Tf(i,e,t.custom):e;n=Promise.all(eV(i,s,t))}return n.then(()=>{i.notify("AnimationComplete",e)})}function tV(i,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==i.length)return!1;for(let n=0;n<t;n++)if(e[n]!==i[n])return!1;return!0}const AK=yS.length;function nV(i){if(!i)return;if(!i.isControllingVariants){const t=i.parent?nV(i.parent)||{}:{};return i.props.initial!==void 0&&(t.initial=i.props.initial),t}const e={};for(let t=0;t<AK;t++){const n=yS[t],s=i.props[n];(_f(s)||s===!1)&&(e[n]=s)}return e}const SK=[...mS].reverse(),TK=mS.length;function EK(i){return e=>Promise.all(e.map(({animation:t,options:n})=>_K(i,t,n)))}function CK(i){let e=EK(i),t=DI(),n=!0;const s=c=>(h,d)=>{var p;const f=Tf(i,d,c==="exit"?(p=i.presenceContext)==null?void 0:p.custom:void 0);if(f){const{transition:y,transitionEnd:b,...x}=f;h={...h,...x,...b}}return h};function r(c){e=c(i)}function a(c){const{props:h}=i,d=nV(i.parent)||{},f=[],p=new Set;let y={},b=1/0;for(let _=0;_<TK;_++){const S=SK[_],T=t[S],C=h[S]!==void 0?h[S]:d[S],M=_f(C),R=S===c?T.isActive:null;R===!1&&(b=_);let P=C===d[S]&&C!==h[S]&&M;if(P&&n&&i.manuallyAnimateOnMount&&(P=!1),T.protectedKeys={...y},!T.isActive&&R===null||!C&&!T.prevProp||dv(C)||typeof C=="boolean")continue;const k=kK(T.prevProp,C);let E=k||S===c&&T.isActive&&!P&&M||_>b&&M,D=!1;const O=Array.isArray(C)?C:[C];let F=O.reduce(s(S),{});R===!1&&(F={});const{prevResolvedValues:H={}}=T,B={...H,...F},K=G=>{E=!0,p.has(G)&&(D=!0,p.delete(G)),T.needsAnimating[G]=!0;const ee=i.getValue(G);ee&&(ee.liveStyle=!1)};for(const G in B){const ee=F[G],ue=H[G];if(y.hasOwnProperty(G))continue;let le=!1;Tw(ee)&&Tw(ue)?le=!tV(ee,ue):le=ee!==ue,le?ee!=null?K(G):p.add(G):ee!==void 0&&p.has(G)?K(G):T.protectedKeys[G]=!0}T.prevProp=C,T.prevResolvedValues=F,T.isActive&&(y={...y,...F}),n&&i.blockInitialAnimation&&(E=!1),E&&(!(P&&k)||D)&&f.push(...O.map(G=>({animation:G,options:{type:S}})))}if(p.size){const _={};if(typeof h.initial!="boolean"){const S=Tf(i,Array.isArray(h.initial)?h.initial[0]:h.initial);S&&S.transition&&(_.transition=S.transition)}p.forEach(S=>{const T=i.getBaseTarget(S),C=i.getValue(S);C&&(C.liveStyle=!0),_[S]=T??null}),f.push({animation:_})}let x=!!f.length;return n&&(h.initial===!1||h.initial===h.animate)&&!i.manuallyAnimateOnMount&&(x=!1),n=!1,x?e(f):Promise.resolve()}function l(c,h){var f;if(t[c].isActive===h)return Promise.resolve();(f=i.variantChildren)==null||f.forEach(p=>{var y;return(y=p.animationState)==null?void 0:y.setActive(c,h)}),t[c].isActive=h;const d=a(c);for(const p in t)t[p].protectedKeys={};return d}return{animateChanges:a,setActive:l,setAnimateFunction:r,getState:()=>t,reset:()=>{t=DI(),n=!0}}}function kK(i,e){return typeof e=="string"?e!==i:Array.isArray(e)?!tV(e,i):!1}function Dl(i=!1){return{isActive:i,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function DI(){return{animate:Dl(!0),whileInView:Dl(),whileHover:Dl(),whileTap:Dl(),whileDrag:Dl(),whileFocus:Dl(),exit:Dl()}}class nl{constructor(e){this.isMounted=!1,this.node=e}update(){}}class RK extends nl{constructor(e){super(e),e.animationState||(e.animationState=CK(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();dv(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let IK=0;class MK extends nl{constructor(){super(...arguments),this.id=IK++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const s=this.node.animationState.setActive("exit",!e);t&&!e&&s.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const DK={animation:{Feature:RK},exit:{Feature:MK}};function Cf(i,e,t,n={passive:!0}){return i.addEventListener(e,t,n),()=>i.removeEventListener(e,t)}function cg(i){return{point:{x:i.pageX,y:i.pageY}}}const NK=i=>e=>pS(e)&&i(e,cg(e));function Gd(i,e,t,n){return Cf(i,e,NK(t),n)}function iV({top:i,left:e,right:t,bottom:n}){return{x:{min:e,max:t},y:{min:i,max:n}}}function PK({x:i,y:e}){return{top:e.min,right:i.max,bottom:e.max,left:i.min}}function OK(i,e){if(!e)return i;const t=e({x:i.left,y:i.top}),n=e({x:i.right,y:i.bottom});return{top:t.y,left:t.x,bottom:n.y,right:n.x}}const sV=1e-4,LK=1-sV,VK=1+sV,rV=.01,FK=0-rV,zK=0+rV;function Wi(i){return i.max-i.min}function jK(i,e,t){return Math.abs(i-e)<=t}function NI(i,e,t,n=.5){i.origin=n,i.originPoint=An(e.min,e.max,i.origin),i.scale=Wi(t)/Wi(e),i.translate=An(t.min,t.max,i.origin)-i.originPoint,(i.scale>=LK&&i.scale<=VK||isNaN(i.scale))&&(i.scale=1),(i.translate>=FK&&i.translate<=zK||isNaN(i.translate))&&(i.translate=0)}function qd(i,e,t,n){NI(i.x,e.x,t.x,n?n.originX:void 0),NI(i.y,e.y,t.y,n?n.originY:void 0)}function PI(i,e,t){i.min=t.min+e.min,i.max=i.min+Wi(e)}function BK(i,e,t){PI(i.x,e.x,t.x),PI(i.y,e.y,t.y)}function OI(i,e,t){i.min=e.min-t.min,i.max=i.min+Wi(e)}function $d(i,e,t){OI(i.x,e.x,t.x),OI(i.y,e.y,t.y)}const LI=()=>({translate:0,scale:1,origin:0,originPoint:0}),xu=()=>({x:LI(),y:LI()}),VI=()=>({min:0,max:0}),Ln=()=>({x:VI(),y:VI()});function Ys(i){return[i("x"),i("y")]}function Kx(i){return i===void 0||i===1}function Vw({scale:i,scaleX:e,scaleY:t}){return!Kx(i)||!Kx(e)||!Kx(t)}function Ol(i){return Vw(i)||aV(i)||i.z||i.rotate||i.rotateX||i.rotateY||i.skewX||i.skewY}function aV(i){return FI(i.x)||FI(i.y)}function FI(i){return i&&i!=="0%"}function by(i,e,t){const n=i-t,s=e*n;return t+s}function zI(i,e,t,n,s){return s!==void 0&&(i=by(i,s,n)),by(i,t,n)+e}function Fw(i,e=0,t=1,n,s){i.min=zI(i.min,e,t,n,s),i.max=zI(i.max,e,t,n,s)}function oV(i,{x:e,y:t}){Fw(i.x,e.translate,e.scale,e.originPoint),Fw(i.y,t.translate,t.scale,t.originPoint)}const jI=.999999999999,BI=1.0000000000001;function HK(i,e,t,n=!1){const s=t.length;if(!s)return;e.x=e.y=1;let r,a;for(let l=0;l<s;l++){r=t[l],a=r.projectionDelta;const{visualElement:c}=r.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&r.options.layoutScroll&&r.scroll&&r!==r.root&&_u(i,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,oV(i,a)),n&&Ol(r.latestValues)&&_u(i,r.latestValues))}e.x<BI&&e.x>jI&&(e.x=1),e.y<BI&&e.y>jI&&(e.y=1)}function wu(i,e){i.min=i.min+e,i.max=i.max+e}function HI(i,e,t,n,s=.5){const r=An(i.min,i.max,s);Fw(i,e,t,r,n)}function _u(i,e){HI(i.x,e.x,e.scaleX,e.scale,e.originX),HI(i.y,e.y,e.scaleY,e.scale,e.originY)}function lV(i,e){return iV(OK(i.getBoundingClientRect(),e))}function UK(i,e,t){const n=lV(i,t),{scroll:s}=e;return s&&(wu(n.x,s.offset.x),wu(n.y,s.offset.y)),n}const cV=({current:i})=>i?i.ownerDocument.defaultView:null,UI=(i,e)=>Math.abs(i-e);function YK(i,e){const t=UI(i.x,e.x),n=UI(i.y,e.y);return Math.sqrt(t**2+n**2)}class uV{constructor(e,t,{transformPagePoint:n,contextWindow:s,dragSnapToOrigin:r=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Zx(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,y=YK(f.offset,{x:0,y:0})>=3;if(!p&&!y)return;const{point:b}=f,{timestamp:x}=pi;this.history.push({...b,timestamp:x});const{onStart:_,onMove:S}=this.handlers;p||(_&&_(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),S&&S(this.lastMoveEvent,f)},this.handlePointerMove=(f,p)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Qx(p,this.transformPagePoint),hn.update(this.updatePoint,!0)},this.handlePointerUp=(f,p)=>{this.end();const{onEnd:y,onSessionEnd:b,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=Zx(f.type==="pointercancel"?this.lastMoveEventInfo:Qx(p,this.transformPagePoint),this.history);this.startEvent&&y&&y(f,_),b&&b(f,_)},!pS(e))return;this.dragSnapToOrigin=r,this.handlers=t,this.transformPagePoint=n,this.contextWindow=s||window;const a=cg(e),l=Qx(a,this.transformPagePoint),{point:c}=l,{timestamp:h}=pi;this.history=[{...c,timestamp:h}];const{onSessionStart:d}=t;d&&d(e,Zx(l,this.history)),this.removeListeners=lg(Gd(this.contextWindow,"pointermove",this.handlePointerMove),Gd(this.contextWindow,"pointerup",this.handlePointerUp),Gd(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Yo(this.updatePoint)}}function Qx(i,e){return e?{point:e(i.point)}:i}function YI(i,e){return{x:i.x-e.x,y:i.y-e.y}}function Zx({point:i},e){return{point:i,delta:YI(i,hV(e)),offset:YI(i,XK(e)),velocity:WK(e,.1)}}function XK(i){return i[0]}function hV(i){return i[i.length-1]}function WK(i,e){if(i.length<2)return{x:0,y:0};let t=i.length-1,n=null;const s=hV(i);for(;t>=0&&(n=i[t],!(s.timestamp-n.timestamp>Yr(e)));)t--;if(!n)return{x:0,y:0};const r=Xr(s.timestamp-n.timestamp);if(r===0)return{x:0,y:0};const a={x:(s.x-n.x)/r,y:(s.y-n.y)/r};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function GK(i,{min:e,max:t},n){return e!==void 0&&i<e?i=n?An(e,i,n.min):Math.max(i,e):t!==void 0&&i>t&&(i=n?An(t,i,n.max):Math.min(i,t)),i}function XI(i,e,t){return{min:e!==void 0?i.min+e:void 0,max:t!==void 0?i.max+t-(i.max-i.min):void 0}}function qK(i,{top:e,left:t,bottom:n,right:s}){return{x:XI(i.x,t,s),y:XI(i.y,e,n)}}function WI(i,e){let t=e.min-i.min,n=e.max-i.max;return e.max-e.min<i.max-i.min&&([t,n]=[n,t]),{min:t,max:n}}function $K(i,e){return{x:WI(i.x,e.x),y:WI(i.y,e.y)}}function KK(i,e){let t=.5;const n=Wi(i),s=Wi(e);return s>n?t=bf(e.min,e.max-n,i.min):n>s&&(t=bf(i.min,i.max-s,e.min)),Ba(0,1,t)}function QK(i,e){const t={};return e.min!==void 0&&(t.min=e.min-i.min),e.max!==void 0&&(t.max=e.max-i.min),t}const zw=.35;function ZK(i=zw){return i===!1?i=0:i===!0&&(i=zw),{x:GI(i,"left","right"),y:GI(i,"top","bottom")}}function GI(i,e,t){return{min:qI(i,e),max:qI(i,t)}}function qI(i,e){return typeof i=="number"?i:i[e]||0}const JK=new WeakMap;class eQ{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ln(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(cg(d).point)},r=(d,f)=>{const{drag:p,dragPropagation:y,onDragStart:b}=this.getProps();if(p&&!y&&(this.openDragLock&&this.openDragLock(),this.openDragLock=$8(p),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ys(_=>{let S=this.getAxisMotionValue(_).get()||0;if(Gr.test(S)){const{projection:T}=this.visualElement;if(T&&T.layout){const C=T.layout.layoutBox[_];C&&(S=Wi(C)*(parseFloat(S)/100))}}this.originPoint[_]=S}),b&&hn.postRender(()=>b(d,f)),Ew(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},a=(d,f)=>{const{dragPropagation:p,dragDirectionLock:y,onDirectionLock:b,onDrag:x}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:_}=f;if(y&&this.currentDirection===null){this.currentDirection=tQ(_),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",f.point,_),this.updateAxis("y",f.point,_),this.visualElement.render(),x&&x(d,f)},l=(d,f)=>this.stop(d,f),c=()=>Ys(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)==null?void 0:f.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new uV(e,{onSessionStart:s,onStart:r,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,contextWindow:cV(this.visualElement)})}stop(e,t){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:s}=t;this.startAnimation(s);const{onDragEnd:r}=this.getProps();r&&hn.postRender(()=>r(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:s}=this.getProps();if(!n||!em(e,s,this.currentDirection))return;const r=this.getAxisMotionValue(e);let a=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(a=GK(a,this.constraints[e],this.elastic[e])),r.set(a)}resolveConstraints(){var r;const{dragConstraints:e,dragElastic:t}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(r=this.visualElement.projection)==null?void 0:r.layout,s=this.constraints;e&&vu(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=qK(n.layoutBox,e):this.constraints=!1,this.elastic=ZK(t),s!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Ys(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=QK(n.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!vu(e))return!1;const n=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const r=UK(n,s.root,this.visualElement.getTransformPagePoint());let a=$K(s.layout.layoutBox,r);if(t){const l=t(PK(a));this.hasMutatedConstraints=!!l,l&&(a=iV(l))}return a}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:s,dragTransition:r,dragSnapToOrigin:a,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},h=Ys(d=>{if(!em(d,t,this.currentDirection))return;let f=c&&c[d]||{};a&&(f={min:0,max:0});const p=s?200:1e6,y=s?40:1e7,b={type:"inertia",velocity:n?e[d]:0,bounceStiffness:p,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...r,...f};return this.startAxisValueAnimation(d,b)});return Promise.all(h).then(l)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return Ew(this.visualElement,e),n.start(LS(e,n,0,t,this.visualElement,!1))}stopAnimation(){Ys(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ys(e=>{var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),s=n[t];return s||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Ys(t=>{const{drag:n}=this.getProps();if(!em(t,n,this.currentDirection))return;const{projection:s}=this.visualElement,r=this.getAxisMotionValue(t);if(s&&s.layout){const{min:a,max:l}=s.layout.layoutBox[t];r.set(e[t]-An(a,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!vu(t)||!n||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Ys(a=>{const l=this.getAxisMotionValue(a);if(l&&this.constraints!==!1){const c=l.get();s[a]=KK({min:c,max:c},this.constraints[a])}});const{transformTemplate:r}=this.visualElement.getProps();this.visualElement.current.style.transform=r?r({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Ys(a=>{if(!em(a,e,null))return;const l=this.getAxisMotionValue(a),{min:c,max:h}=this.constraints[a];l.set(An(c,h,s[a]))})}addListeners(){if(!this.visualElement.current)return;JK.set(this.visualElement,this);const e=this.visualElement.current,t=Gd(e,"pointerdown",c=>{const{drag:h,dragListener:d=!0}=this.getProps();h&&d&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();vu(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,r=s.addEventListener("measure",n);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),hn.read(n);const a=Cf(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:h})=>{this.isDragging&&h&&(Ys(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{a(),t(),r(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:s=!1,dragConstraints:r=!1,dragElastic:a=zw,dragMomentum:l=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:s,dragConstraints:r,dragElastic:a,dragMomentum:l}}}function em(i,e,t){return(e===!0||e===i)&&(t===null||t===i)}function tQ(i,e=10){let t=null;return Math.abs(i.y)>e?t="y":Math.abs(i.x)>e&&(t="x"),t}class nQ extends nl{constructor(e){super(e),this.removeGroupControls=$s,this.removeListeners=$s,this.controls=new eQ(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||$s}unmount(){this.removeGroupControls(),this.removeListeners()}}const $I=i=>(e,t)=>{i&&hn.postRender(()=>i(e,t))};class iQ extends nl{constructor(){super(...arguments),this.removePointerDownListener=$s}onPointerDown(e){this.session=new uV(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:cV(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:s}=this.node.getProps();return{onSessionStart:$I(e),onStart:$I(t),onMove:n,onEnd:(r,a)=>{delete this.session,s&&hn.postRender(()=>s(r,a))}}}mount(){this.removePointerDownListener=Gd(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Am={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function KI(i,e){return e.max===e.min?0:i/(e.max-e.min)*100}const _d={correct:(i,e)=>{if(!e.target)return i;if(typeof i=="string")if(Xe.test(i))i=parseFloat(i);else return i;const t=KI(i,e.target.x),n=KI(i,e.target.y);return`${t}% ${n}%`}},sQ={correct:(i,{treeScale:e,projectionDelta:t})=>{const n=i,s=Xo.parse(i);if(s.length>5)return n;const r=Xo.createTransformer(i),a=typeof s[0]!="number"?1:0,l=t.x.scale*e.x,c=t.y.scale*e.y;s[0+a]/=l,s[1+a]/=c;const h=An(l,c,.5);return typeof s[2+a]=="number"&&(s[2+a]/=h),typeof s[3+a]=="number"&&(s[3+a]/=h),r(s)}};class rQ extends z.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:s}=this.props,{projection:r}=e;_7(aQ),r&&(t.group&&t.group.add(r),n&&n.register&&s&&n.register(r),r.root.didUpdate(),r.addEventListener("animationComplete",()=>{this.safeToRemove()}),r.setOptions({...r.options,onExitComplete:()=>this.safeToRemove()})),Am.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:s,isPresent:r}=this.props,a=n.projection;return a&&(a.isPresent=r,s||e.layoutDependency!==t||t===void 0||e.isPresent!==r?a.willUpdate():this.safeToRemove(),e.isPresent!==r&&(r?a.promote():a.relegate()||hn.postRender(()=>{const l=a.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),gS.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(s),n&&n.deregister&&n.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function dV(i){const[e,t]=KO(),n=z.useContext(nS);return N.jsx(rQ,{...i,layoutGroup:n,switchLayoutGroup:z.useContext(uL),isPresent:e,safeToRemove:t})}const aQ={borderRadius:{..._d,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:_d,borderTopRightRadius:_d,borderBottomLeftRadius:_d,borderBottomRightRadius:_d,boxShadow:sQ};function oQ(i,e,t){const n=Pi(i)?i:wf(i);return n.start(LS("",n,e,t)),n.animation}function lQ(i){return i instanceof SVGElement&&i.tagName!=="svg"}const cQ=(i,e)=>i.depth-e.depth;class uQ{constructor(){this.children=[],this.isDirty=!1}add(e){aS(this.children,e),this.isDirty=!0}remove(e){oS(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(cQ),this.isDirty=!1,this.children.forEach(e)}}function hQ(i,e){const t=Wr.now(),n=({timestamp:s})=>{const r=s-t;r>=e&&(Yo(n),i(r-e))};return hn.read(n,!0),()=>Yo(n)}const fV=["TopLeft","TopRight","BottomLeft","BottomRight"],dQ=fV.length,QI=i=>typeof i=="string"?parseFloat(i):i,ZI=i=>typeof i=="number"||Xe.test(i);function fQ(i,e,t,n,s,r){s?(i.opacity=An(0,t.opacity!==void 0?t.opacity:1,gQ(n)),i.opacityExit=An(e.opacity!==void 0?e.opacity:1,0,pQ(n))):r&&(i.opacity=An(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,n));for(let a=0;a<dQ;a++){const l=`border${fV[a]}Radius`;let c=JI(e,l),h=JI(t,l);if(c===void 0&&h===void 0)continue;c||(c=0),h||(h=0),c===0||h===0||ZI(c)===ZI(h)?(i[l]=Math.max(An(QI(c),QI(h),n),0),(Gr.test(h)||Gr.test(c))&&(i[l]+="%")):i[l]=h}(e.rotate||t.rotate)&&(i.rotate=An(e.rotate||0,t.rotate||0,n))}function JI(i,e){return i[e]!==void 0?i[e]:i.borderRadius}const gQ=gV(0,.5,ML),pQ=gV(.5,.95,$s);function gV(i,e,t){return n=>n<i?0:n>e?1:t(bf(i,e,n))}function e2(i,e){i.min=e.min,i.max=e.max}function Hs(i,e){e2(i.x,e.x),e2(i.y,e.y)}function t2(i,e){i.translate=e.translate,i.scale=e.scale,i.originPoint=e.originPoint,i.origin=e.origin}function n2(i,e,t,n,s){return i-=e,i=by(i,1/t,n),s!==void 0&&(i=by(i,1/s,n)),i}function mQ(i,e=0,t=1,n=.5,s,r=i,a=i){if(Gr.test(e)&&(e=parseFloat(e),e=An(a.min,a.max,e/100)-a.min),typeof e!="number")return;let l=An(r.min,r.max,n);i===r&&(l-=e),i.min=n2(i.min,e,t,l,s),i.max=n2(i.max,e,t,l,s)}function i2(i,e,[t,n,s],r,a){mQ(i,e[t],e[n],e[s],e.scale,r,a)}const yQ=["x","scaleX","originX"],vQ=["y","scaleY","originY"];function s2(i,e,t,n){i2(i.x,e,yQ,t?t.x:void 0,n?n.x:void 0),i2(i.y,e,vQ,t?t.y:void 0,n?n.y:void 0)}function r2(i){return i.translate===0&&i.scale===1}function pV(i){return r2(i.x)&&r2(i.y)}function a2(i,e){return i.min===e.min&&i.max===e.max}function bQ(i,e){return a2(i.x,e.x)&&a2(i.y,e.y)}function o2(i,e){return Math.round(i.min)===Math.round(e.min)&&Math.round(i.max)===Math.round(e.max)}function mV(i,e){return o2(i.x,e.x)&&o2(i.y,e.y)}function l2(i){return Wi(i.x)/Wi(i.y)}function c2(i,e){return i.translate===e.translate&&i.scale===e.scale&&i.originPoint===e.originPoint}class xQ{constructor(){this.members=[]}add(e){aS(this.members,e),e.scheduleRender()}remove(e){if(oS(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(s=>e===s);if(t===0)return!1;let n;for(let s=t;s>=0;s--){const r=this.members[s];if(r.isPresent!==!1){n=r;break}}return n?(this.promote(n),!0):!1}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function wQ(i,e,t){let n="";const s=i.x.translate/e.x,r=i.y.translate/e.y,a=(t==null?void 0:t.z)||0;if((s||r||a)&&(n=`translate3d(${s}px, ${r}px, ${a}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:h,rotate:d,rotateX:f,rotateY:p,skewX:y,skewY:b}=t;h&&(n=`perspective(${h}px) ${n}`),d&&(n+=`rotate(${d}deg) `),f&&(n+=`rotateX(${f}deg) `),p&&(n+=`rotateY(${p}deg) `),y&&(n+=`skewX(${y}deg) `),b&&(n+=`skewY(${b}deg) `)}const l=i.x.scale*e.x,c=i.y.scale*e.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const Jx=["","X","Y","Z"],_Q={visibility:"hidden"},u2=1e3;let AQ=0;function e0(i,e,t,n){const{latestValues:s}=e;s[i]&&(t[i]=s[i],e.setStaticValue(i,0),n&&(n[i]=0))}function yV(i){if(i.hasCheckedOptimisedAppear=!0,i.root===i)return;const{visualElement:e}=i.options;if(!e)return;const t=SL(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:s,layoutId:r}=i.options;window.MotionCancelOptimisedAnimation(t,"transform",hn,!(s||r))}const{parent:n}=i;n&&!n.hasCheckedOptimisedAppear&&yV(n)}function vV({attachResizeListener:i,defaultParent:e,measureScroll:t,checkIsScrollRoot:n,resetTransform:s}){return class{constructor(a={},l=e==null?void 0:e()){this.id=AQ++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(EQ),this.nodes.forEach(MQ),this.nodes.forEach(DQ),this.nodes.forEach(CQ)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new uQ)}addEventListener(a,l){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new cS),this.eventHandlers.get(a).add(l)}notifyListeners(a,...l){const c=this.eventHandlers.get(a);c&&c.notify(...l)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=lQ(a),this.instance=a;const{layoutId:c,layout:h,visualElement:d}=this.options;if(d&&!d.current&&d.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(h||c)&&(this.isLayoutDirty=!0),i){let f;const p=()=>this.root.updateBlockedByResize=!1;i(a,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=hQ(p,250),Am.hasAnimatedSinceResize&&(Am.hasAnimatedSinceResize=!1,this.nodes.forEach(d2))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||h)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p,hasRelativeLayoutChanged:y,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||d.getDefaultTransition()||VQ,{onLayoutAnimationStart:_,onLayoutAnimationComplete:S}=d.getProps(),T=!this.targetLayout||!mV(this.targetLayout,b),C=!p&&y;if(this.options.layoutRoot||this.resumeFrom||C||p&&(T||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,C);const M={...dS(x,"layout"),onPlay:_,onComplete:S};(d.shouldReduceMotion||this.options.layoutRoot)&&(M.delay=0,M.type=!1),this.startAnimation(M)}else p||d2(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Yo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(NQ),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&yV(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(h2);return}this.isUpdating||this.nodes.forEach(RQ),this.isUpdating=!1,this.nodes.forEach(IQ),this.nodes.forEach(SQ),this.nodes.forEach(TQ),this.clearAllSnapshots();const l=Wr.now();pi.delta=Ba(0,1e3/60,l-pi.timestamp),pi.timestamp=l,pi.isProcessing=!0,Xx.update.process(pi),Xx.preRender.process(pi),Xx.render.process(pi),pi.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,gS.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(kQ),this.sharedNodes.forEach(PQ)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,hn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){hn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Wi(this.snapshot.measuredBox.x)&&!Wi(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ln(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(l=!1),l){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:c,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!pV(this.projectionDelta),c=this.getTransformTemplate(),h=c?c(this.latestValues,""):void 0,d=h!==this.prevTransformTemplateValue;a&&(l||Ol(this.latestValues)||d)&&(s(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return a&&(c=this.removeTransform(c)),FQ(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var h;const{visualElement:a}=this.options;if(!a)return Ln();const l=a.measureViewportBox();if(!(((h=this.scroll)==null?void 0:h.wasRoot)||this.path.some(zQ))){const{scroll:d}=this.root;d&&(wu(l.x,d.offset.x),wu(l.y,d.offset.y))}return l}removeElementScroll(a){var c;const l=Ln();if(Hs(l,a),(c=this.scroll)!=null&&c.wasRoot)return l;for(let h=0;h<this.path.length;h++){const d=this.path[h],{scroll:f,options:p}=d;d!==this.root&&f&&p.layoutScroll&&(f.wasRoot&&Hs(l,a),wu(l.x,f.offset.x),wu(l.y,f.offset.y))}return l}applyTransform(a,l=!1){const c=Ln();Hs(c,a);for(let h=0;h<this.path.length;h++){const d=this.path[h];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&_u(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Ol(d.latestValues)&&_u(c,d.latestValues)}return Ol(this.latestValues)&&_u(c,this.latestValues),c}removeTransform(a){const l=Ln();Hs(l,a);for(let c=0;c<this.path.length;c++){const h=this.path[c];if(!h.instance||!Ol(h.latestValues))continue;Vw(h.latestValues)&&h.updateSnapshot();const d=Ln(),f=h.measurePageBox();Hs(d,f),s2(l,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,d)}return Ol(this.latestValues)&&s2(l,this.latestValues),l}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==pi.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var p;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(a||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=pi.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ln(),this.relativeTargetOrigin=Ln(),$d(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),Hs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ln(),this.targetWithTransforms=Ln()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),BK(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Hs(this.target,this.layout.layoutBox),oV(this.target,this.targetDelta)):Hs(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ln(),this.relativeTargetOrigin=Ln(),$d(this.relativeTargetOrigin,this.target,y.target),Hs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Vw(this.parent.latestValues)||aV(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var b;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===pi.timestamp&&(c=!1),c)return;const{layout:h,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||d))return;Hs(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;HK(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Ln());const{target:y}=a;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(t2(this.prevProjectionDelta.x,this.projectionDelta.x),t2(this.prevProjectionDelta.y,this.projectionDelta.y)),qd(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==p||!c2(this.projectionDelta.x,this.prevProjectionDelta.x)||!c2(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),a){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=xu(),this.projectionDelta=xu(),this.projectionDeltaWithTransform=xu()}setAnimationOrigin(a,l=!1){const c=this.snapshot,h=c?c.latestValues:{},d={...this.latestValues},f=xu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const p=Ln(),y=c?c.source:void 0,b=this.layout?this.layout.source:void 0,x=y!==b,_=this.getStack(),S=!_||_.members.length<=1,T=!!(x&&!S&&this.options.crossfade===!0&&!this.path.some(LQ));this.animationProgress=0;let C;this.mixTargetDelta=M=>{const R=M/1e3;f2(f.x,a.x,R),f2(f.y,a.y,R),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&($d(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),OQ(this.relativeTarget,this.relativeTargetOrigin,p,R),C&&bQ(this.relativeTarget,C)&&(this.isProjectionDirty=!1),C||(C=Ln()),Hs(C,this.relativeTarget)),x&&(this.animationValues=d,fQ(d,h,this.latestValues,R,T,S)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=R},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Yo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=hn.update(()=>{Am.hasAnimatedSinceResize=!0,this.currentAnimation=oQ(0,u2,{...a,onUpdate:l=>{this.mixTargetDelta(l),a.onUpdate&&a.onUpdate(l)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(u2),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:l,target:c,layout:h,latestValues:d}=a;if(!(!l||!c||!h)){if(this!==a&&this.layout&&h&&bV(this.options.animationType,this.layout.layoutBox,h.layoutBox)){c=this.target||Ln();const f=Wi(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+f;const p=Wi(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+p}Hs(l,c),_u(l,d),qd(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(a,l){this.sharedNodes.has(a)||this.sharedNodes.set(a,new xQ),this.sharedNodes.get(a).add(l);const h=l.options.initialPromotionConfig;l.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(l):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var l;const{layoutId:a}=this.options;return a?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:a}=this.options;return a?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:l,preserveFollowOpacity:c}={}){const h=this.getStack();h&&h.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let l=!1;const{latestValues:c}=a;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const h={};c.z&&e0("z",a,h,this.animationValues);for(let d=0;d<Jx.length;d++)e0(`rotate${Jx[d]}`,a,h,this.animationValues),e0(`skew${Jx[d]}`,a,h,this.animationValues);a.render();for(const d in h)a.setStaticValue(d,h[d]),this.animationValues&&(this.animationValues[d]=h[d]);a.scheduleRender()}getProjectionStyles(a){if(!this.instance||this.isSVG)return;if(!this.isVisible)return _Q;const l={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,l.opacity="",l.pointerEvents=_m(a==null?void 0:a.pointerEvents)||"",l.transform=c?c(this.latestValues,""):"none",l;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=_m(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Ol(this.latestValues)&&(y.transform=c?c({},""):"none",this.hasProjected=!1),y}const d=h.animationValues||h.latestValues;this.applyTransformsToTarget(),l.transform=wQ(this.projectionDeltaWithTransform,this.treeScale,d),c&&(l.transform=c(d,l.transform));const{x:f,y:p}=this.projectionDelta;l.transformOrigin=`${f.origin*100}% ${p.origin*100}% 0`,h.animationValues?l.opacity=h===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:l.opacity=h===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const y in Af){if(d[y]===void 0)continue;const{correct:b,applyTo:x,isCSSVariable:_}=Af[y],S=l.transform==="none"?d[y]:b(d[y],h);if(x){const T=x.length;for(let C=0;C<T;C++)l[x[C]]=S}else _?this.options.visualElement.renderState.vars[y]=S:l[y]=S}return this.options.layoutId&&(l.pointerEvents=h===this?_m(a==null?void 0:a.pointerEvents)||"":"none"),l}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var l;return(l=a.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(h2),this.root.sharedNodes.clear()}}}function SQ(i){i.updateLayout()}function TQ(i){var t;const e=((t=i.resumeFrom)==null?void 0:t.snapshot)||i.snapshot;if(i.isLead()&&i.layout&&e&&i.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=i.layout,{animationType:r}=i.options,a=e.source!==i.layout.source;r==="size"?Ys(f=>{const p=a?e.measuredBox[f]:e.layoutBox[f],y=Wi(p);p.min=n[f].min,p.max=p.min+y}):bV(r,e.layoutBox,n)&&Ys(f=>{const p=a?e.measuredBox[f]:e.layoutBox[f],y=Wi(n[f]);p.max=p.min+y,i.relativeTarget&&!i.currentAnimation&&(i.isProjectionDirty=!0,i.relativeTarget[f].max=i.relativeTarget[f].min+y)});const l=xu();qd(l,n,e.layoutBox);const c=xu();a?qd(c,i.applyTransform(s,!0),e.measuredBox):qd(c,n,e.layoutBox);const h=!pV(l);let d=!1;if(!i.resumeFrom){const f=i.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:y}=f;if(p&&y){const b=Ln();$d(b,e.layoutBox,p.layoutBox);const x=Ln();$d(x,n,y.layoutBox),mV(b,x)||(d=!0),f.options.layoutRoot&&(i.relativeTarget=x,i.relativeTargetOrigin=b,i.relativeParent=f)}}}i.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:c,layoutDelta:l,hasLayoutChanged:h,hasRelativeLayoutChanged:d})}else if(i.isLead()){const{onExitComplete:n}=i.options;n&&n()}i.options.transition=void 0}function EQ(i){i.parent&&(i.isProjecting()||(i.isProjectionDirty=i.parent.isProjectionDirty),i.isSharedProjectionDirty||(i.isSharedProjectionDirty=!!(i.isProjectionDirty||i.parent.isProjectionDirty||i.parent.isSharedProjectionDirty)),i.isTransformDirty||(i.isTransformDirty=i.parent.isTransformDirty))}function CQ(i){i.isProjectionDirty=i.isSharedProjectionDirty=i.isTransformDirty=!1}function kQ(i){i.clearSnapshot()}function h2(i){i.clearMeasurements()}function RQ(i){i.isLayoutDirty=!1}function IQ(i){const{visualElement:e}=i.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),i.resetTransform()}function d2(i){i.finishAnimation(),i.targetDelta=i.relativeTarget=i.target=void 0,i.isProjectionDirty=!0}function MQ(i){i.resolveTargetDelta()}function DQ(i){i.calcProjection()}function NQ(i){i.resetSkewAndRotation()}function PQ(i){i.removeLeadSnapshot()}function f2(i,e,t){i.translate=An(e.translate,0,t),i.scale=An(e.scale,1,t),i.origin=e.origin,i.originPoint=e.originPoint}function g2(i,e,t,n){i.min=An(e.min,t.min,n),i.max=An(e.max,t.max,n)}function OQ(i,e,t,n){g2(i.x,e.x,t.x,n),g2(i.y,e.y,t.y,n)}function LQ(i){return i.animationValues&&i.animationValues.opacityExit!==void 0}const VQ={duration:.45,ease:[.4,0,.1,1]},p2=i=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(i),m2=p2("applewebkit/")&&!p2("chrome/")?Math.round:$s;function y2(i){i.min=m2(i.min),i.max=m2(i.max)}function FQ(i){y2(i.x),y2(i.y)}function bV(i,e,t){return i==="position"||i==="preserve-aspect"&&!jK(l2(e),l2(t),.2)}function zQ(i){var e;return i!==i.root&&((e=i.scroll)==null?void 0:e.wasRoot)}const jQ=vV({attachResizeListener:(i,e)=>Cf(i,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),t0={current:void 0},xV=vV({measureScroll:i=>({x:i.scrollLeft,y:i.scrollTop}),defaultParent:()=>{if(!t0.current){const i=new jQ({});i.mount(window),i.setOptions({layoutScroll:!0}),t0.current=i}return t0.current},resetTransform:(i,e)=>{i.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:i=>window.getComputedStyle(i).position==="fixed"}),BQ={pan:{Feature:iQ},drag:{Feature:nQ,ProjectionNode:xV,MeasureLayout:dV}};function v2(i,e,t){const{props:n}=i;i.animationState&&n.whileHover&&i.animationState.setActive("whileHover",t==="Start");const s="onHover"+t,r=n[s];r&&hn.postRender(()=>r(e,cg(e)))}class HQ extends nl{mount(){const{current:e}=this.node;e&&(this.unmount=Q8(e,(t,n)=>(v2(this.node,n,"Start"),s=>v2(this.node,s,"End"))))}unmount(){}}class UQ extends nl{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=lg(Cf(this.node.current,"focus",()=>this.onFocus()),Cf(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function b2(i,e,t){const{props:n}=i;if(i.current instanceof HTMLButtonElement&&i.current.disabled)return;i.animationState&&n.whileTap&&i.animationState.setActive("whileTap",t==="Start");const s="onTap"+(t==="End"?"":t),r=n[s];r&&hn.postRender(()=>r(e,cg(e)))}class YQ extends nl{mount(){const{current:e}=this.node;e&&(this.unmount=t7(e,(t,n)=>(b2(this.node,n,"Start"),(s,{success:r})=>b2(this.node,s,r?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const jw=new WeakMap,n0=new WeakMap,XQ=i=>{const e=jw.get(i.target);e&&e(i)},WQ=i=>{i.forEach(XQ)};function GQ({root:i,...e}){const t=i||document;n0.has(t)||n0.set(t,{});const n=n0.get(t),s=JSON.stringify(e);return n[s]||(n[s]=new IntersectionObserver(WQ,{root:i,...e})),n[s]}function qQ(i,e,t){const n=GQ(e);return jw.set(i,t),n.observe(i),()=>{jw.delete(i),n.unobserve(i)}}const $Q={some:0,all:1};class KQ extends nl{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:s="some",once:r}=e,a={root:t?t.current:void 0,rootMargin:n,threshold:typeof s=="number"?s:$Q[s]},l=c=>{const{isIntersecting:h}=c;if(this.isInView===h||(this.isInView=h,r&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),p=h?d:f;p&&p(c)};return qQ(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(QQ(e,t))&&this.startObserver()}unmount(){}}function QQ({viewport:i={}},{viewport:e={}}={}){return t=>i[t]!==e[t]}const ZQ={inView:{Feature:KQ},tap:{Feature:YQ},focus:{Feature:UQ},hover:{Feature:HQ}},JQ={layout:{ProjectionNode:xV,MeasureLayout:dV}},Bw={current:null},wV={current:!1};function eZ(){if(wV.current=!0,!!sS)if(window.matchMedia){const i=window.matchMedia("(prefers-reduced-motion)"),e=()=>Bw.current=i.matches;i.addListener(e),e()}else Bw.current=!1}const tZ=[...WL,Ci,Xo],nZ=i=>tZ.find(XL(i)),iZ=new WeakMap;function sZ(i,e,t){for(const n in e){const s=e[n],r=t[n];if(Pi(s))i.addValue(n,s);else if(Pi(r))i.addValue(n,wf(s,{owner:i}));else if(r!==s)if(i.hasValue(n)){const a=i.getValue(n);a.liveStyle===!0?a.jump(s):a.hasAnimated||a.set(s)}else{const a=i.getStaticValue(n);i.addValue(n,wf(a!==void 0?a:s,{owner:i}))}}for(const n in t)e[n]===void 0&&i.removeValue(n);return e}const x2=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class rZ{scrapeMotionValuesFromProps(e,t,n){return{}}constructor({parent:e,props:t,presenceContext:n,reducedMotionConfig:s,blockInitialAnimation:r,visualState:a},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=NS,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const y=Wr.now();this.renderScheduledAt<y&&(this.renderScheduledAt=y,hn.render(this.render,!1,!0))};const{latestValues:c,renderState:h,onUpdate:d}=a;this.onUpdate=d,this.latestValues=c,this.baseTarget={...c},this.initialValues=t.initial?{...c}:{},this.renderState=h,this.parent=e,this.props=t,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!r,this.isControllingVariants=fv(t),this.isVariantNode=lL(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...p}=this.scrapeMotionValuesFromProps(t,{},this);for(const y in p){const b=p[y];c[y]!==void 0&&Pi(b)&&b.set(c[y],!1)}}mount(e){this.current=e,iZ.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,n)=>this.bindToMotionValue(n,t)),wV.current||eZ(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Bw.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Yo(this.notifyUpdate),Yo(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=mc.has(e);n&&this.onBindTransform&&this.onBindTransform();const s=t.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&hn.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),r=t.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{s(),r(),a&&a(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Uu){const t=Uu[e];if(!t)continue;const{isEnabled:n,Feature:s}=t;if(!this.features[e]&&s&&n(this.props)&&(this.features[e]=new s(this)),this.features[e]){const r=this.features[e];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ln()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<x2.length;n++){const s=x2[n];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const r="on"+s,a=e[r];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=sZ(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&t!==void 0&&(n=wf(t===null?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){let n=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return n!=null&&(typeof n=="string"&&(UL(n)||NL(n))?n=parseFloat(n):!nZ(n)&&Xo.test(t)&&(n=jL(e,t)),this.setBaseTarget(e,Pi(n)?n.get():n)),Pi(n)?n.get():n}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var r;const{initial:t}=this.props;let n;if(typeof t=="string"||typeof t=="object"){const a=CS(this.props,t,(r=this.presenceContext)==null?void 0:r.custom);a&&(n=a[e])}if(t&&n!==void 0)return n;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Pi(s)?s:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new cS),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class _V extends rZ{constructor(){super(...arguments),this.KeyframeResolver=GL}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:n}){delete t[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Pi(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function aZ(i){return window.getComputedStyle(i)}class oZ extends _V{constructor(){super(...arguments),this.type="html",this.renderInstance=bL}readValueFromInstance(e,t){if(mc.has(t))return b$(e,t);{const n=aZ(e),s=(bS(t)?n.getPropertyValue(t):n[t])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:t}){return lV(e,t)}build(e,t,n){_S(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return kS(e,t,n)}}class lZ extends _V{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ln,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&vL(this.current,this.renderState)}}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(mc.has(t)){const n=zL(t);return n&&n.default||0}return t=xL.has(t)?t:vS(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return _L(e,t,n)}onBindTransform(){this.current&&!this.renderState.dimensions&&hn.postRender(this.updateDimensions)}build(e,t,n){TS(e,t,this.isSVGTag,n.transformTemplate)}renderInstance(e,t,n,s){wL(e,t,n,s)}mount(e){this.isSVGTag=ES(e.tagName),super.mount(e)}}const cZ=(i,e)=>SS(i)?new lZ(e):new oZ(e,{allowProjection:i!==z.Fragment}),uZ=W7({...DK,...ZQ,...BQ,...JQ},cZ),Ll=l7(uZ),kf={Debeng:100,"Cadian (Linos Res.- Coop)":130,"Cadian (Kimhaf- Molitos)":150,Tuangan:170,Awa:250,"Pi-ket":300,"Topdac ES":400,Bangawan:480,Besil:500,Polis:600,Tolmod:800,Wagi:900,Shekdan:1e3,"Batu ILI PS":1500,Pual:350,Nalseb:600,Poblacion:600,Sowe:700,Maguey:1200,Pasdong:1700,Catingel:120,Pareg:140,"Kinaong (Baldinos Res)":150,Bileng:170,Cato:250,Balat:350,Segib:400,"Caliking Proper":300,Conet:350,Kesbong:350,Pokit:600,"KM 28":100,"Usap to Saddle":120,Wingian:140,"Siko Curve":150,"Atiws Res.":170,"Saw Mill":200,"KM.24":200,Galilea:220,"KM.22 (Bilis Junction)":250,Bilis:600,"KM.21 (Cagui-ing Elem.)":250,"Labey Junction to coruz junction":300,Acop:600,Tomay:700,"Camp Dangwa":800,"KM.5":1e3,Baguio:1500,"KM.31":100,"KM.32 (Food way-paasin)":130,Tolding:200,Menac:250,"KM.34":150,Japasan:160,"KM.35 (Amcay to Moltio)":170,"KM.36":200,"KM.37":220,"KM.38":250,"Bet-Ang":250,Apunan:300,"Aduyanan ES":300,"Sapuan Junction to Abiangan Brgy Hall":300,Gueweng:350,Lebten:400,Labban:400,Bokao:600,Bonglo:600,Sayangan:700,Abatan:3800,Antabeng:250,Patapat:300,Japa:320,Palutan:250,"Menios Res.":320,"Guzman, Rudy Res.":350,"Japa ES":350,Coop:350,"Talite Junction":500,Ketneg:800,"Tag-Ulo":1e3};function AV(i,e,t={}){const n={type:"Feature"};return(t.id===0||t.id)&&(n.id=t.id),t.bbox&&(n.bbox=t.bbox),n.properties={},n.geometry=i,n}function hZ(i,e,t={}){if(!i)throw new Error("coordinates is required");if(!Array.isArray(i))throw new Error("coordinates must be an Array");if(i.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!w2(i[0])||!w2(i[1]))throw new Error("coordinates must contain numbers");return AV({type:"Point",coordinates:i},e,t)}function dZ(i,e,t={}){for(const s of i){if(s.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(s[s.length-1].length!==s[0].length)throw new Error("First and last Position are not equivalent.");for(let r=0;r<s[s.length-1].length;r++)if(s[s.length-1][r]!==s[0][r])throw new Error("First and last Position are not equivalent.")}return AV({type:"Polygon",coordinates:i},e,t)}function w2(i){return!isNaN(i)&&i!==null&&!Array.isArray(i)}const Na=11102230246251565e-32,Ei=134217729,fZ=(3+8*Na)*Na;function i0(i,e,t,n,s){let r,a,l,c,h=e[0],d=n[0],f=0,p=0;d>h==d>-h?(r=h,h=e[++f]):(r=d,d=n[++p]);let y=0;if(f<i&&p<t)for(d>h==d>-h?(a=h+r,l=r-(a-h),h=e[++f]):(a=d+r,l=r-(a-d),d=n[++p]),r=a,l!==0&&(s[y++]=l);f<i&&p<t;)d>h==d>-h?(a=r+h,c=a-r,l=r-(a-c)+(h-c),h=e[++f]):(a=r+d,c=a-r,l=r-(a-c)+(d-c),d=n[++p]),r=a,l!==0&&(s[y++]=l);for(;f<i;)a=r+h,c=a-r,l=r-(a-c)+(h-c),h=e[++f],r=a,l!==0&&(s[y++]=l);for(;p<t;)a=r+d,c=a-r,l=r-(a-c)+(d-c),d=n[++p],r=a,l!==0&&(s[y++]=l);return(r!==0||y===0)&&(s[y++]=r),y}function gZ(i,e){let t=e[0];for(let n=1;n<i;n++)t+=e[n];return t}function ug(i){return new Float64Array(i)}const pZ=(3+16*Na)*Na,mZ=(2+12*Na)*Na,yZ=(9+64*Na)*Na*Na,lu=ug(4),_2=ug(8),A2=ug(12),S2=ug(16),Ui=ug(4);function vZ(i,e,t,n,s,r,a){let l,c,h,d,f,p,y,b,x,_,S,T,C,M,R,P,k,E;const D=i-s,O=t-s,F=e-r,H=n-r;M=D*H,p=Ei*D,y=p-(p-D),b=D-y,p=Ei*H,x=p-(p-H),_=H-x,R=b*_-(M-y*x-b*x-y*_),P=F*O,p=Ei*F,y=p-(p-F),b=F-y,p=Ei*O,x=p-(p-O),_=O-x,k=b*_-(P-y*x-b*x-y*_),S=R-k,f=R-S,lu[0]=R-(S+f)+(f-k),T=M+S,f=T-M,C=M-(T-f)+(S-f),S=C-P,f=C-S,lu[1]=C-(S+f)+(f-P),E=T+S,f=E-T,lu[2]=T-(E-f)+(S-f),lu[3]=E;let B=gZ(4,lu),K=mZ*a;if(B>=K||-B>=K||(f=i-D,l=i-(D+f)+(f-s),f=t-O,h=t-(O+f)+(f-s),f=e-F,c=e-(F+f)+(f-r),f=n-H,d=n-(H+f)+(f-r),l===0&&c===0&&h===0&&d===0)||(K=yZ*a+fZ*Math.abs(B),B+=D*d+H*l-(F*h+O*c),B>=K||-B>=K))return B;M=l*H,p=Ei*l,y=p-(p-l),b=l-y,p=Ei*H,x=p-(p-H),_=H-x,R=b*_-(M-y*x-b*x-y*_),P=c*O,p=Ei*c,y=p-(p-c),b=c-y,p=Ei*O,x=p-(p-O),_=O-x,k=b*_-(P-y*x-b*x-y*_),S=R-k,f=R-S,Ui[0]=R-(S+f)+(f-k),T=M+S,f=T-M,C=M-(T-f)+(S-f),S=C-P,f=C-S,Ui[1]=C-(S+f)+(f-P),E=T+S,f=E-T,Ui[2]=T-(E-f)+(S-f),Ui[3]=E;const ne=i0(4,lu,4,Ui,_2);M=D*d,p=Ei*D,y=p-(p-D),b=D-y,p=Ei*d,x=p-(p-d),_=d-x,R=b*_-(M-y*x-b*x-y*_),P=F*h,p=Ei*F,y=p-(p-F),b=F-y,p=Ei*h,x=p-(p-h),_=h-x,k=b*_-(P-y*x-b*x-y*_),S=R-k,f=R-S,Ui[0]=R-(S+f)+(f-k),T=M+S,f=T-M,C=M-(T-f)+(S-f),S=C-P,f=C-S,Ui[1]=C-(S+f)+(f-P),E=T+S,f=E-T,Ui[2]=T-(E-f)+(S-f),Ui[3]=E;const X=i0(ne,_2,4,Ui,A2);M=l*d,p=Ei*l,y=p-(p-l),b=l-y,p=Ei*d,x=p-(p-d),_=d-x,R=b*_-(M-y*x-b*x-y*_),P=c*h,p=Ei*c,y=p-(p-c),b=c-y,p=Ei*h,x=p-(p-h),_=h-x,k=b*_-(P-y*x-b*x-y*_),S=R-k,f=R-S,Ui[0]=R-(S+f)+(f-k),T=M+S,f=T-M,C=M-(T-f)+(S-f),S=C-P,f=C-S,Ui[1]=C-(S+f)+(f-P),E=T+S,f=E-T,Ui[2]=T-(E-f)+(S-f),Ui[3]=E;const G=i0(X,A2,4,Ui,S2);return S2[G-1]}function bZ(i,e,t,n,s,r){const a=(e-r)*(t-s),l=(i-s)*(n-r),c=a-l,h=Math.abs(a+l);return Math.abs(c)>=pZ*h?c:-vZ(i,e,t,n,s,r,h)}function xZ(i,e){var t,n,s=0,r,a,l,c,h,d,f,p=i[0],y=i[1],b=e.length;for(t=0;t<b;t++){n=0;var x=e[t],_=x.length-1;if(d=x[0],d[0]!==x[_][0]&&d[1]!==x[_][1])throw new Error("First and last coordinates in a ring must be the same");for(a=d[0]-p,l=d[1]-y,n;n<_;n++){if(f=x[n+1],c=f[0]-p,h=f[1]-y,l===0&&h===0){if(c<=0&&a>=0||a<=0&&c>=0)return 0}else if(h>=0&&l<=0||h<=0&&l>=0){if(r=bZ(a,c,l,h,0,0),r===0)return 0;(r>0&&h>0&&l<=0||r<0&&h<=0&&l>0)&&s++}d=f,l=h,a=c}}return s%2!==0}function wZ(i){if(!i)throw new Error("coord is required");if(!Array.isArray(i)){if(i.type==="Feature"&&i.geometry!==null&&i.geometry.type==="Point")return[...i.geometry.coordinates];if(i.type==="Point")return[...i.coordinates]}if(Array.isArray(i)&&i.length>=2&&!Array.isArray(i[0])&&!Array.isArray(i[1]))return[...i];throw new Error("coord must be GeoJSON Point or an Array of numbers")}function _Z(i){return i.type==="Feature"?i.geometry:i}function AZ(i,e,t={}){if(!i)throw new Error("point is required");if(!e)throw new Error("polygon is required");const n=wZ(i),s=_Z(e),r=s.type,a=e.bbox;let l=s.coordinates;if(a&&SZ(n,a)===!1)return!1;r==="Polygon"&&(l=[l]);let c=!1;for(var h=0;h<l.length;++h){const d=xZ(n,l[h]);if(d===0)return!t.ignoreBoundary;d&&(c=!0)}return c}function SZ(i,e){return e[0]<=i[0]&&e[1]<=i[1]&&e[2]>=i[0]&&e[3]>=i[1]}var TZ=AZ;const EZ=dZ([[[120.8042,16.6955],[120.8042,16.6965],[120.8052,16.6965],[120.8052,16.6955],[120.8042,16.6955]]]);function CZ(i){return TZ(hZ(i),EZ)}function kZ(){const[i,e]=z.useState(null),[t,n]=z.useState(!1),[s,r]=z.useState(null);return z.useEffect(()=>{if(!navigator.geolocation){r("Geolocation not supported.");return}const a=navigator.geolocation.watchPosition(l=>{const{latitude:c,longitude:h}=l.coords;e({latitude:c,longitude:h}),n(CZ([h,c])),r(null)},()=>{r("Location access denied.")},{enableHighAccuracy:!0,maximumAge:1e4,timeout:5e3});return()=>navigator.geolocation.clearWatch(a)},[]),{coords:i,insideParadahan:t,error:s}}const RZ=5,SV=z.createContext(void 0),IZ=()=>{const i=z.useContext(SV);if(!i)throw new Error("useRide must be used within a RideProvider");return i},MZ=({children:i})=>{const[e,t]=z.useState(null),[n,s]=z.useState(!1),[r,a]=z.useState(!1),[l,c]=z.useState(()=>typeof window<"u"?localStorage.getItem("hasJoinedQueue")==="true":!1),[h,d]=z.useState([]),[f,p]=z.useState(null),[y,b]=z.useState(null),[x,_]=z.useState(!1),[S,T]=z.useState(null),[C,M]=z.useState(null),[R,P]=z.useState("--:--"),[k,E]=z.useState("Offline"),[D,O]=z.useState(null),[F,H]=z.useState(!1),[B,K]=z.useState(null),[ne,X]=z.useState(0),[G,ee]=z.useState(null),[ue,le]=z.useState(""),{coords:me,insideParadahan:ae,error:ye}=kZ();z.useEffect(()=>{const we=localStorage.getItem("driver");we&&t(JSON.parse(we))},[]),z.useEffect(()=>{localStorage.setItem("hasJoinedQueue",l?"true":"false")},[l]),z.useEffect(()=>{const we=localStorage.getItem("unsyncedRide");if(we&&ae){const Te=JSON.parse(we);bm(Vn(en,"ride_logs"),Te).then(()=>localStorage.removeItem("unsyncedRide")).catch(Ae=>console.error("Sync failed:",Ae))}},[ae]),z.useEffect(()=>{ae&&!r?s(!0):!ae&&!x&&s(!1)},[ae,r,x]),z.useEffect(()=>{E(n?x?"In Ride":"Waiting":"Offline")},[n,x]),z.useEffect(()=>{(async()=>{if(e&&n&&ae&&!l&&!r){const Te=lt(en,"queues",e.id),Ae=lt(en,"drivers",e.id);try{const Ne=un.now();if(await fn(Te,{driverId:e.id,plateNumber:e.plate,joinedAt:Ne}),await fn(Ae,{status:"waiting"},{merge:!0}),b(Ne),c(!0),G){const Ue=Math.round((Ne.toMillis()-G.startedAt.getTime())/6e4),Ge={...G,travelTimeMinutes:Ue};try{await bm(Vn(en,"ride_logs"),Ge),ee(null)}catch(qe){console.error("Failed to log ride:",qe),localStorage.setItem("unsyncedRide",JSON.stringify(Ge)),ee(null)}}}catch(Ne){console.error("Failed to join queue:",Ne),le(" Failed to join queue. Retrying..."),setTimeout(()=>le(""),3e3)}}})()},[ae,me,e,l,r,n,G]),z.useEffect(()=>{(async()=>{if(e&&l&&!ae&&me){const Te=lt(en,"drivers",e.id);try{if(await Ea(lt(en,"queues",e.id)),await fn(Te,{status:"in ride",leftAt:un.now()},{merge:!0}),c(!1),p(null),d([]),b(null),le(" You left the paradahan. Ride starting..."),setTimeout(()=>le(""),4e3),H(!0),M({lat:me.latitude,lng:me.longitude}),B){const Ne=Math.round((new Date().getTime()-B.getTime())/6e4);X(Ne>0?Ne:0)}}catch(Ae){console.error("Failed to remove from queue:",Ae),le(" Failed to update queue on exit. Please check connection."),setTimeout(()=>le(""),4e3)}}})()},[ae,e,l,me,B]),z.useEffect(()=>{(async()=>{if(x&&ae&&me&&S&&F){const Te=new Date,Ae={lat:me.latitude,lng:me.longitude},Ne=D?kf[D]:0,Ue=ne,Ge={driverId:e==null?void 0:e.id,plateNumber:e==null?void 0:e.plate,startedAt:S,endedAt:Te,travelTimeMinutes:Math.round((Te.getTime()-S.getTime())/6e4),pickupLocation:C,dropoffLocation:Ae,dropoffName:D,waitTimeMinutes:Ue,estimatedEarnings:Ne,timestamp:un.now(),queuePosition:f??null};ee(Ge),K(Te),_(!1),T(null),M(null),O(null),H(!1),b(null),X(0),le(` Ride completed at ${D}  ${Ne}`),setTimeout(()=>le(""),5e3)}})()},[ae,me,S,D,F,f,e,ne,C]),z.useEffect(()=>{const we=Aa(Vn(en,"queues"),Id("joinedAt")),Te=Dd(we,Ae=>{const Ne=Ae.docs.map(Ge=>Ge.data());d(Ne);const Ue=Ne.findIndex(Ge=>Ge.driverId===(e==null?void 0:e.id));if(x||!l)p(null),b(null);else if(Ue>=0){p(Ue+1);const Ge=Ne[Ue];Ge.joinedAt?b(Ge.joinedAt):b(null)}else p(null),b(null)});return()=>Te()},[e,x,l]),z.useEffect(()=>{let we=null,Te=f?f*RZ*60:0;const Ae=()=>{if(Te>0){const Ne=Math.floor(Te/60),Ue=Te%60;P(`${String(Ne).padStart(2,"0")}:${String(Ue).padStart(2,"0")}`),Te-=1}else P("00:00"),we&&clearInterval(we)};return f&&!x?(Ae(),we=setInterval(Ae,1e3)):P("--:--"),()=>{we&&clearInterval(we)}},[f,x]);const Me={driver:e,isOnline:n,manualOffline:r,hasJoined:l,queue:h,position:f,driverJoinedAt:y,rideStarted:x,rideStartTime:S,pickupLocation:C,countdown:R,rideStatus:k,selectedDestination:D,hasExitedParadahan:F,lastReturnTime:B,currentWaitTimeMinutes:ne,pendingRideLog:G,coords:me,insideParadahan:ae,gpsError:ye,toastMsg:ue,setSelectedDestination:O,handleGoOffline:async()=>{if(!e)return;const we=lt(en,"drivers",e.id);try{await Ea(lt(en,"queues",e.id)),await fn(we,{status:"offline"},{merge:!0}),c(!1),p(null),d([]),b(null),a(!0),s(!1),le(" You are now offline."),setTimeout(()=>le(""),3e3)}catch(Te){console.error("Failed to go offline:",Te),le(" Failed to go offline. Please try again."),setTimeout(()=>le(""),3e3)}},handleGoOnlineAgain:async()=>{if(!(!e||!me))if(a(!1),s(!0),!ae)le(" To join the queue, you must be inside the paradahan."),setTimeout(()=>le(""),4e3);else{const we=lt(en,"queues",e.id);try{const Te=un.now();if(await fn(we,{driverId:e.id,plateNumber:e.plate,joinedAt:Te}),b(Te),c(!0),G){const Ae=Math.round((Te.toMillis()-G.startedAt.getTime())/6e4),Ne={...G,travelTimeMinutes:Ae};try{await bm(Vn(en,"ride_logs"),Ne),ee(null)}catch(Ue){console.error("Failed to log ride:",Ue),localStorage.setItem("unsyncedRide",JSON.stringify(Ne)),ee(null)}}}catch(Te){console.error("Failed to join queue:",Te),le(" Failed to join queue. Please try again."),setTimeout(()=>le(""),3e3)}}},handleStartRide:async()=>{if(!D){le(" Please select a destination first."),setTimeout(()=>le(""),3e3);return}if(!me){le(" Location not available. Please try again."),setTimeout(()=>le(""),3e3);return}try{e&&await Ea(lt(en,"queues",e.id));const we=new Date;if(c(!1),_(!0),T(we),y){const Te=Math.round((we.getTime()-y.toMillis())/6e4);X(Te>0?Te:0)}else X(0);if(e){const Te=lt(en,"drivers",e.id);await fn(Te,{selectedDestination:D},{merge:!0})}le(" Ride started! Please exit paradahan to begin trip."),setTimeout(()=>le(""),3e3)}catch(we){console.error("Failed to start ride:",we),le(" Failed to start ride. Please try again."),setTimeout(()=>le(""),3e3)}},setToastMsg:le};return N.jsx(SV.Provider,{value:Me,children:i})},DZ=()=>{uc();const{driver:i,isOnline:e,hasJoined:t,queue:n,position:s,rideStarted:r,countdown:a,rideStatus:l,selectedDestination:c,setSelectedDestination:h,handleGoOffline:d,handleGoOnlineAgain:f,handleStartRide:p,setToastMsg:y,coords:b,insideParadahan:x,gpsError:_,toastMsg:S}=IZ();return N.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-2 sm:p-4 text-gray-900",children:N.jsx("div",{className:"max-w-7xl mx-auto",children:N.jsxs("div",{className:"flex flex-col items-center justify-start min-h-screen relative",children:[N.jsxs("div",{className:"w-full max-w-md bg-white p-6 rounded-xl shadow-lg animate-fade-in",children:[N.jsxs("div",{className:"flex justify-between items-center mb-6",children:[N.jsxs("h2",{className:"text-xl font-bold animate-slide-down",children:["Welcome, ",(i==null?void 0:i.name)??"Driver"]}),e?N.jsx("button",{onClick:d,className:"px-4 py-2 text-sm rounded-full font-semibold bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white shadow-lg transition-all duration-300 transform hover:scale-105",children:"Go Offline"}):N.jsx("button",{onClick:f,className:"px-4 py-2 text-sm rounded-full font-semibold bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white shadow-lg transition-all duration-300 transform hover:scale-105",children:"Go Online"})]}),N.jsx("hr",{className:"border-gray-300 mb-6"}),N.jsxs("div",{className:"grid grid-cols-1 gap-4 mb-6",children:[N.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-lg animate-slide-up",children:[N.jsx("p",{className:"text-sm font-bold mb-2",children:" Ride Status:"}),N.jsx("p",{className:`text-lg font-semibold ${l==="In Ride"?"text-blue-600":l==="Waiting"?"text-green-600":"text-red-600"}`,children:l})]}),N.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-lg animate-slide-up",style:{animationDelay:"0.1s"},children:[N.jsxs("p",{className:"text-sm font-bold mb-2",children:[" ",N.jsx("span",{className:"font-semibold",children:"Location Status:"})]}),N.jsx("p",{className:`text-lg font-semibold ${x?"text-green-600":"text-red-600"}`,children:_?` ${_}`:x?"Inside Paradahan":"Outside Paradahan"})]})]}),N.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-lg mb-6 animate-fade-in-left",children:[N.jsx("p",{className:"text-lg font-semibold mb-3",children:"Vehicle Information"}),N.jsxs("div",{className:"space-y-2",children:[N.jsxs("p",{className:"flex justify-between",children:[N.jsx("span",{className:"font-medium",children:"Plate Number:"}),N.jsx("span",{className:"text-gray-700",children:i==null?void 0:i.plate})]}),N.jsxs("p",{className:"flex justify-between",children:[N.jsx("span",{className:"font-medium",children:"Vehicle:"}),N.jsx("span",{className:"text-gray-700",children:i==null?void 0:i.vehicle})]})]})]}),N.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-lg mb-6 animate-fade-in-right",children:[N.jsx("p",{className:"text-lg font-semibold mb-3",children:" Destination:"}),N.jsxs("select",{className:"w-full p-3 rounded-lg bg-gray-50 text-gray-900 border border-gray-300 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200 transition-all",value:c||"",onChange:T=>h(T.target.value),children:[N.jsx("option",{value:"",children:"Select Destination"}),Object.keys(kf).map(T=>N.jsx("option",{value:T,children:T},T))]})]}),t&&!r&&N.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-lg mb-6 animate-fade-in-up",children:[N.jsx("p",{className:"text-lg font-semibold mb-4",children:" Queue Status"}),N.jsxs("div",{className:"space-y-3",children:[N.jsxs("p",{className:"flex justify-between items-center",children:[N.jsx("span",{className:"font-medium",children:"Your position:"}),N.jsx("span",{className:"text-xl font-bold text-yellow-600",children:s??"N/A"})]}),N.jsxs("p",{className:"flex justify-between items-center",children:[N.jsx("span",{className:"font-medium",children:" Estimated Wait:"}),N.jsx("span",{className:"text-xl font-bold text-blue-600",children:a})]}),s===1&&N.jsx("div",{className:"text-green-600 font-bold text-center p-3 bg-green-50 rounded-lg animate-pulse",children:" Its your turn! Get ready for a ride."}),N.jsxs("div",{className:"mt-4",children:[N.jsx("p",{className:"text-sm font-semibold mb-2 text-gray-700",children:"Current Queue:"}),N.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:N.jsx(Aw,{children:n.map((T,C)=>N.jsxs(Ll.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:`text-sm px-3 py-2 rounded-lg shadow-sm ${T.driverId===(i==null?void 0:i.id)?"bg-yellow-100 text-gray-900 border border-yellow-300":"bg-gray-100 text-gray-900"}`,children:[C+1,". ",T.plateNumber]},T.driverId))})})]})]})]}),s===1&&!r&&N.jsx("button",{onClick:p,disabled:!c,className:"w-full py-3 px-6 bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white rounded-xl font-semibold shadow-lg transition-all duration-300 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:"Start Ride"})]}),S&&N.jsxs("div",{className:"absolute top-4 right-4 bg-blue-600 text-white px-4 py-3 rounded-xl shadow-lg flex items-center gap-2 animate-fade-in text-sm z-50",children:[S,N.jsx("button",{onClick:()=>y(""),className:"hover:bg-blue-700 rounded-full p-1 transition-colors",children:N.jsx(N8,{size:16})})]})]})})})};let NZ={data:""},PZ=i=>typeof window=="object"?((i?i.querySelector("#_goober"):window._goober)||Object.assign((i||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:i||NZ,OZ=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,LZ=/\/\*[^]*?\*\/|  +/g,T2=/\n+/g,Co=(i,e)=>{let t="",n="",s="";for(let r in i){let a=i[r];r[0]=="@"?r[1]=="i"?t=r+" "+a+";":n+=r[1]=="f"?Co(a,r):r+"{"+Co(a,r[1]=="k"?"":e)+"}":typeof a=="object"?n+=Co(a,e?e.replace(/([^,])+/g,l=>r.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):r):a!=null&&(r=/^--/.test(r)?r:r.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=Co.p?Co.p(r,a):r+":"+a+";")}return t+(e&&s?e+"{"+s+"}":s)+n},wa={},TV=i=>{if(typeof i=="object"){let e="";for(let t in i)e+=t+TV(i[t]);return e}return i},VZ=(i,e,t,n,s)=>{let r=TV(i),a=wa[r]||(wa[r]=(c=>{let h=0,d=11;for(;h<c.length;)d=101*d+c.charCodeAt(h++)>>>0;return"go"+d})(r));if(!wa[a]){let c=r!==i?i:(h=>{let d,f,p=[{}];for(;d=OZ.exec(h.replace(LZ,""));)d[4]?p.shift():d[3]?(f=d[3].replace(T2," ").trim(),p.unshift(p[0][f]=p[0][f]||{})):p[0][d[1]]=d[2].replace(T2," ").trim();return p[0]})(i);wa[a]=Co(s?{["@keyframes "+a]:c}:c,t?"":"."+a)}let l=t&&wa.g?wa.g:null;return t&&(wa.g=wa[a]),((c,h,d,f)=>{f?h.data=h.data.replace(f,c):h.data.indexOf(c)===-1&&(h.data=d?c+h.data:h.data+c)})(wa[a],e,n,l),a},FZ=(i,e,t)=>i.reduce((n,s,r)=>{let a=e[r];if(a&&a.call){let l=a(t),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;a=c?"."+c:l&&typeof l=="object"?l.props?"":Co(l,""):l===!1?"":l}return n+s+(a??"")},"");function pv(i){let e=this||{},t=i.call?i(e.p):i;return VZ(t.unshift?t.raw?FZ(t,[].slice.call(arguments,1),e.p):t.reduce((n,s)=>Object.assign(n,s&&s.call?s(e.p):s),{}):t,PZ(e.target),e.g,e.o,e.k)}let EV,Hw,Uw;pv.bind({g:1});let Ha=pv.bind({k:1});function zZ(i,e,t,n){Co.p=e,EV=i,Hw=t,Uw=n}function il(i,e){let t=this||{};return function(){let n=arguments;function s(r,a){let l=Object.assign({},r),c=l.className||s.className;t.p=Object.assign({theme:Hw&&Hw()},l),t.o=/ *go\d+/.test(c),l.className=pv.apply(t,n)+(c?" "+c:"");let h=i;return i[0]&&(h=l.as||i,delete l.as),Uw&&h[0]&&Uw(l),EV(h,l)}return s}}var jZ=i=>typeof i=="function",xy=(i,e)=>jZ(i)?i(e):i,BZ=(()=>{let i=0;return()=>(++i).toString()})(),CV=(()=>{let i;return()=>{if(i===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");i=!e||e.matches}return i}})(),HZ=20,kV=(i,e)=>{switch(e.type){case 0:return{...i,toasts:[e.toast,...i.toasts].slice(0,HZ)};case 1:return{...i,toasts:i.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case 2:let{toast:t}=e;return kV(i,{type:i.toasts.find(r=>r.id===t.id)?1:0,toast:t});case 3:let{toastId:n}=e;return{...i,toasts:i.toasts.map(r=>r.id===n||n===void 0?{...r,dismissed:!0,visible:!1}:r)};case 4:return e.toastId===void 0?{...i,toasts:[]}:{...i,toasts:i.toasts.filter(r=>r.id!==e.toastId)};case 5:return{...i,pausedAt:e.time};case 6:let s=e.time-(i.pausedAt||0);return{...i,pausedAt:void 0,toasts:i.toasts.map(r=>({...r,pauseDuration:r.pauseDuration+s}))}}},Sm=[],Wl={toasts:[],pausedAt:void 0},yc=i=>{Wl=kV(Wl,i),Sm.forEach(e=>{e(Wl)})},UZ={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},YZ=(i={})=>{let[e,t]=z.useState(Wl),n=z.useRef(Wl);z.useEffect(()=>(n.current!==Wl&&t(Wl),Sm.push(t),()=>{let r=Sm.indexOf(t);r>-1&&Sm.splice(r,1)}),[]);let s=e.toasts.map(r=>{var a,l,c;return{...i,...i[r.type],...r,removeDelay:r.removeDelay||((a=i[r.type])==null?void 0:a.removeDelay)||(i==null?void 0:i.removeDelay),duration:r.duration||((l=i[r.type])==null?void 0:l.duration)||(i==null?void 0:i.duration)||UZ[r.type],style:{...i.style,...(c=i[r.type])==null?void 0:c.style,...r.style}}});return{...e,toasts:s}},XZ=(i,e="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:i,pauseDuration:0,...t,id:(t==null?void 0:t.id)||BZ()}),hg=i=>(e,t)=>{let n=XZ(e,i,t);return yc({type:2,toast:n}),n.id},li=(i,e)=>hg("blank")(i,e);li.error=hg("error");li.success=hg("success");li.loading=hg("loading");li.custom=hg("custom");li.dismiss=i=>{yc({type:3,toastId:i})};li.remove=i=>yc({type:4,toastId:i});li.promise=(i,e,t)=>{let n=li.loading(e.loading,{...t,...t==null?void 0:t.loading});return typeof i=="function"&&(i=i()),i.then(s=>{let r=e.success?xy(e.success,s):void 0;return r?li.success(r,{id:n,...t,...t==null?void 0:t.success}):li.dismiss(n),s}).catch(s=>{let r=e.error?xy(e.error,s):void 0;r?li.error(r,{id:n,...t,...t==null?void 0:t.error}):li.dismiss(n)}),i};var WZ=(i,e)=>{yc({type:1,toast:{id:i,height:e}})},GZ=()=>{yc({type:5,time:Date.now()})},Kd=new Map,qZ=1e3,$Z=(i,e=qZ)=>{if(Kd.has(i))return;let t=setTimeout(()=>{Kd.delete(i),yc({type:4,toastId:i})},e);Kd.set(i,t)},KZ=i=>{let{toasts:e,pausedAt:t}=YZ(i);z.useEffect(()=>{if(t)return;let r=Date.now(),a=e.map(l=>{if(l.duration===1/0)return;let c=(l.duration||0)+l.pauseDuration-(r-l.createdAt);if(c<0){l.visible&&li.dismiss(l.id);return}return setTimeout(()=>li.dismiss(l.id),c)});return()=>{a.forEach(l=>l&&clearTimeout(l))}},[e,t]);let n=z.useCallback(()=>{t&&yc({type:6,time:Date.now()})},[t]),s=z.useCallback((r,a)=>{let{reverseOrder:l=!1,gutter:c=8,defaultPosition:h}=a||{},d=e.filter(y=>(y.position||h)===(r.position||h)&&y.height),f=d.findIndex(y=>y.id===r.id),p=d.filter((y,b)=>b<f&&y.visible).length;return d.filter(y=>y.visible).slice(...l?[p+1]:[0,p]).reduce((y,b)=>y+(b.height||0)+c,0)},[e]);return z.useEffect(()=>{e.forEach(r=>{if(r.dismissed)$Z(r.id,r.removeDelay);else{let a=Kd.get(r.id);a&&(clearTimeout(a),Kd.delete(r.id))}})},[e]),{toasts:e,handlers:{updateHeight:WZ,startPause:GZ,endPause:n,calculateOffset:s}}},QZ=Ha`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,ZZ=Ha`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,JZ=Ha`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,eJ=il("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${i=>i.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${QZ} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${ZZ} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${i=>i.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${JZ} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,tJ=Ha`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,nJ=il("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${i=>i.secondary||"#e0e0e0"};
  border-right-color: ${i=>i.primary||"#616161"};
  animation: ${tJ} 1s linear infinite;
`,iJ=Ha`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,sJ=Ha`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,rJ=il("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${i=>i.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${iJ} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${sJ} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${i=>i.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,aJ=il("div")`
  position: absolute;
`,oJ=il("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,lJ=Ha`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,cJ=il("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${lJ} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,uJ=({toast:i})=>{let{icon:e,type:t,iconTheme:n}=i;return e!==void 0?typeof e=="string"?z.createElement(cJ,null,e):e:t==="blank"?null:z.createElement(oJ,null,z.createElement(nJ,{...n}),t!=="loading"&&z.createElement(aJ,null,t==="error"?z.createElement(eJ,{...n}):z.createElement(rJ,{...n})))},hJ=i=>`
0% {transform: translate3d(0,${i*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,dJ=i=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${i*-150}%,-1px) scale(.6); opacity:0;}
`,fJ="0%{opacity:0;} 100%{opacity:1;}",gJ="0%{opacity:1;} 100%{opacity:0;}",pJ=il("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,mJ=il("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,yJ=(i,e)=>{let t=i.includes("top")?1:-1,[n,s]=CV()?[fJ,gJ]:[hJ(t),dJ(t)];return{animation:e?`${Ha(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Ha(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},vJ=z.memo(({toast:i,position:e,style:t,children:n})=>{let s=i.height?yJ(i.position||e||"top-center",i.visible):{opacity:0},r=z.createElement(uJ,{toast:i}),a=z.createElement(mJ,{...i.ariaProps},xy(i.message,i));return z.createElement(pJ,{className:i.className,style:{...s,...t,...i.style}},typeof n=="function"?n({icon:r,message:a}):z.createElement(z.Fragment,null,r,a))});zZ(z.createElement);var bJ=({id:i,className:e,style:t,onHeightUpdate:n,children:s})=>{let r=z.useCallback(a=>{if(a){let l=()=>{let c=a.getBoundingClientRect().height;n(i,c)};l(),new MutationObserver(l).observe(a,{subtree:!0,childList:!0,characterData:!0})}},[i,n]);return z.createElement("div",{ref:r,className:e,style:t},s)},xJ=(i,e)=>{let t=i.includes("top"),n=t?{top:0}:{bottom:0},s=i.includes("center")?{justifyContent:"center"}:i.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:CV()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(t?1:-1)}px)`,...n,...s}},wJ=pv`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,tm=16,VS=({reverseOrder:i,position:e="top-center",toastOptions:t,gutter:n,children:s,containerStyle:r,containerClassName:a})=>{let{toasts:l,handlers:c}=KZ(t);return z.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:tm,left:tm,right:tm,bottom:tm,pointerEvents:"none",...r},className:a,onMouseEnter:c.startPause,onMouseLeave:c.endPause},l.map(h=>{let d=h.position||e,f=c.calculateOffset(h,{reverseOrder:i,gutter:n,defaultPosition:e}),p=xJ(d,f);return z.createElement(bJ,{id:h.id,key:h.id,onHeightUpdate:c.updateHeight,className:h.visible?wJ:"",style:p},h.type==="custom"?xy(h.message,h):s?s(h):z.createElement(vJ,{toast:h,position:d}))}))},tt=li;const E2=["agduwaadmin@gmail.com"],_J=()=>{const[i,e]=z.useState(""),[t,n]=z.useState(""),[s,r]=z.useState(""),[a,l]=z.useState(""),[c,h]=z.useState(""),[d,f]=z.useState(""),[p,y]=z.useState(""),[b,x]=z.useState(""),[_,S]=z.useState(!1),[T,C]=z.useState(!1),[M,R]=z.useState(!1),P=uc(),k=O=>O.length<6?(r("Password must contain at least 6 characters"),!1):(r(""),!0),E=O=>/^\d{11}$/.test(O)?(x(""),!0):(x("Phone number must contain 11 digits"),!1),D=async()=>{if(!i||!t||_&&(!a||!c||!d||!p)){tt.error("Please fill all fields.");return}if(k(t)&&!(_&&!E(p))){C(!0);try{let O;if(_){O=await bD(bs,i,t);const F=O.user.uid,H=E2.some(K=>K.toLowerCase()===i.toLowerCase()),B={id:F,name:a,plate:c,vehicle:d,email:i,phone:p,status:"offline",age:"",contact:p,image:null,paymentMethod:"GCash",paymentNumber:"",createdAt:vs(),verified:H};await fn(lt(en,"drivers",F),B),console.log(" Driver document created:",{uid:F,name:a,email:i,verified:B.verified,createdAt:B.createdAt}),H?(localStorage.setItem("driver",JSON.stringify(B)),tt.success("Registered successfully as Admin!"),setTimeout(()=>P("/admin"),1e3)):(tt.success("Your account has been created! Please wait for admin approval."),tt.success("You can only log in when the admin approves your account."),e(""),n(""),l(""),h(""),f(""),y(""),S(!1))}else{O=await xD(bs,i,t);const F=O.user.uid;if(E2.some(G=>G.toLowerCase()===i.toLowerCase())){const G={id:F,name:"Admin",plate:"",vehicle:"",email:i,phone:"",status:"offline",age:"",contact:p||"",image:null,paymentMethod:"GCash",paymentNumber:"",createdAt:vs(),verified:!0};localStorage.setItem("driver",JSON.stringify(G)),tt.success("Welcome, Admin!"),setTimeout(()=>P("/admin"),1e3),C(!1);return}const B=lt(en,"drivers",F),K=await Zf(B);if(!K.exists()){tt.error("No profile found for this account."),await Bm(bs),C(!1);return}const X={...K.data(),id:F};if(!X.verified){tt.error("Your account is not verified by admin yet. Please wait for approval."),await Bm(bs),C(!1);return}localStorage.setItem("driver",JSON.stringify(X)),tt.success("Welcome back!"),setTimeout(()=>P("/home"),1e3)}}catch(O){switch(console.error(O.code),O.code){case"auth/user-not-found":tt.error("Account not found.");break;case"auth/wrong-password":tt.error("Incorrect password.");break;case"auth/email-already-in-use":tt.error("Email already in use.");break;case"auth/invalid-email":tt.error("Invalid email.");break;default:tt.error("Authentication failed.")}}finally{C(!1)}}};return N.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-gray-100 text-gray-900 p-4",children:[N.jsx(VS,{position:"top-center"}),N.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg w-full max-w-md border border-gray-200",children:[N.jsx("h1",{className:"text-2xl font-bold mb-2 text-center text-gray-900",children:_?"Sign Up":"Login"}),N.jsx("input",{type:"email",placeholder:"Email",className:"w-full p-2 mb-3 bg-gray-200 rounded border border-gray-300 text-gray-900",value:i,onChange:O=>e(O.target.value),autoComplete:"email"}),N.jsxs("div",{className:"relative mb-3",children:[N.jsx("input",{type:M?"text":"password",placeholder:"Password",className:"w-full p-2 bg-gray-200 rounded border border-gray-300 pr-10 text-gray-900",value:t,onChange:O=>{n(O.target.value),k(O.target.value)},autoComplete:_?"new-password":"current-password"}),N.jsx("button",{onClick:()=>R(!M),className:"absolute right-2 top-2 text-sm text-gray-600 hover:text-gray-900",type:"button","aria-label":M?"Hide password":"Show password",children:M?"Hide":"Show"})]}),s&&N.jsx("p",{className:"text-red-500 text-sm mb-3",children:s}),_&&N.jsxs(N.Fragment,{children:[N.jsx("input",{type:"text",placeholder:"Full Name",className:"w-full p-2 mb-3 bg-gray-200 rounded border border-gray-300 text-gray-900",value:a,onChange:O=>l(O.target.value),autoComplete:"name"}),N.jsx("input",{type:"text",placeholder:"Plate Number",className:"w-full p-2 mb-3 bg-gray-200 rounded border border-gray-300 text-gray-900",value:c,onChange:O=>h(O.target.value)}),N.jsx("input",{type:"text",placeholder:"Vehicle",className:"w-full p-2 mb-3 bg-gray-200 rounded border border-gray-300 text-gray-900",value:d,onChange:O=>f(O.target.value)}),N.jsxs("div",{className:"mb-3",children:[N.jsx("input",{type:"text",placeholder:"Phone Number (e.g., 09123456789)",className:"flex-1 p-2 bg-gray-200 rounded border border-gray-300 text-gray-900",value:p,onChange:O=>{y(O.target.value),E(O.target.value)},autoComplete:"tel"}),b&&N.jsx("p",{className:"text-red-500 text-sm mt-1",children:b})]})]}),N.jsx("button",{onClick:D,disabled:T,className:`w-full py-2 px-4 mt-2 rounded font-semibold ${T?"bg-blue-400 cursor-not-allowed":"bg-blue-500 hover:bg-blue-600"} text-white`,type:"button",children:T?"Processing...":_?"Create Account":"Login"}),N.jsxs("p",{className:"text-sm text-center text-gray-600 mt-4",children:[_?"Already have an account?":"Don't have an account?"," ",N.jsx("button",{onClick:()=>S(!_),className:"text-blue-600 hover:underline",type:"button",children:_?"Login here":"Register"})]})]})]})},AJ=({log:i})=>N.jsxs("div",{className:"bg-white p-4 rounded-lg mb-4 shadow-md",children:[N.jsx("p",{className:"text-lg font-semibold mb-1",children:i.dropoffName}),N.jsxs("p",{className:"text-gray-400 text-sm mb-2",children:["Ended at: ",i.endedAt.toLocaleString()]}),N.jsxs("p",{className:"mb-1",children:["Distance: ",i.travelTimeMinutes>0?(i.travelTimeMinutes*(25/60)).toFixed(2):0," km  Duration: ",i.travelTimeMinutes," mins"]}),N.jsxs("p",{className:"font-semibold mt-2",children:["Earnings: ",i.estimatedEarnings]})]}),SJ=({isOpen:i,onClose:e,onApply:t,onClear:n,startDate:s,setStartDate:r,endDate:a,setEndDate:l,dropoffLocation:c,setDropoffLocation:h,minFare:d,setMinFare:f})=>i?N.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",children:N.jsxs("div",{className:"bg-white text-gray-900 p-6 rounded-xl w-full max-w-md shadow-lg border border-gray-300",children:[N.jsx("h2",{className:"text-xl font-bold mb-4",children:"Filter Rides"}),N.jsxs("div",{className:"space-y-4",children:[N.jsxs("div",{className:"flex flex-wrap gap-2 mb-2",children:[N.jsx("button",{className:"text-xs bg-gray-200 px-2 py-1 rounded hover:bg-gray-300 text-gray-900",onClick:()=>{const p=new Date,y=new Date(p.getFullYear(),p.getMonth(),p.getDate());r(y),l(p)},children:"Today"}),N.jsx("button",{className:"text-xs bg-gray-200 px-2 py-1 rounded hover:bg-gray-300 text-gray-900",onClick:()=>{const p=new Date,y=new Date(p);y.setDate(p.getDate()-7),r(y),l(p)},children:"Last 7 Days"}),N.jsx("button",{className:"text-xs bg-gray-200 px-2 py-1 rounded hover:bg-gray-300 text-gray-900",onClick:()=>{const p=new Date,y=new Date(p.getFullYear(),p.getMonth(),1);r(y),l(p)},children:"This Month"}),N.jsx("button",{className:"text-xs bg-gray-200 px-2 py-1 rounded hover:bg-gray-300 text-gray-900",onClick:()=>{r(null),l(null)},children:"All Time"})]}),N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm mb-1 text-gray-900",children:"Start Date"}),N.jsx("input",{type:"date",className:"w-full px-3 py-2 rounded bg-gray-50 border border-gray-300 text-gray-900",value:s?s.toISOString().split("T")[0]:"",onChange:p=>r(p.target.value?new Date(p.target.value):null)})]}),N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm mb-1 text-gray-900",children:"End Date"}),N.jsx("input",{type:"date",className:"w-full px-3 py-2 rounded bg-gray-50 border border-gray-300 text-gray-900",value:a?a.toISOString().split("T")[0]:"",onChange:p=>l(p.target.value?new Date(p.target.value):null)})]}),N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm mb-1 text-gray-900",children:"Dropoff Location"}),N.jsx("input",{type:"text",placeholder:"e.g., La Trinidad",className:"w-full px-3 py-2 rounded bg-gray-50 border border-gray-300 text-gray-900",value:c,onChange:p=>h(p.target.value)})]}),N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm mb-1 text-gray-900",children:"Minimum Fare ()"}),N.jsx("input",{type:"number",placeholder:"e.g., 50",className:"w-full px-3 py-2 rounded bg-gray-50 border border-gray-300 text-gray-900",value:d??"",onChange:p=>f(p.target.value?parseFloat(p.target.value):null)})]})]}),N.jsxs("div",{className:"flex justify-between mt-6",children:[N.jsx("button",{onClick:n,className:"bg-gray-200 hover:bg-gray-300 text-gray-900 px-4 py-2 rounded",children:"Clear"}),N.jsxs("div",{className:"flex gap-2",children:[N.jsx("button",{onClick:e,className:"bg-gray-200 hover:bg-gray-300 text-gray-900 px-4 py-2 rounded",children:"Cancel"}),N.jsx("button",{onClick:t,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded",children:"Apply"})]})]})]})}):null;function TJ({children:i,className:e,...t}){return N.jsx("button",{className:`bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition ${e}`,...t,children:i})}const RV=z.createContext(null),EJ=({children:i})=>{const[e,t]=z.useState(null),[n,s]=z.useState(!0);z.useEffect(()=>{const c=H_(bs,h=>{t(h),s(!1)});return()=>c()},[]);const r=async(c,h)=>{await xD(bs,c,h)},a=async(c,h,d)=>{const p=(await bD(bs,c,h)).user.uid,y=["agduwaadmin@gmail.com"].some(x=>x.toLowerCase()===c.toLowerCase()),b=lt(en,"drivers",p);await fn(b,{id:p,name:(d==null?void 0:d.name)||c.split("@")[0]||"New Driver",plate:(d==null?void 0:d.plate)||"",vehicle:(d==null?void 0:d.vehicle)||"",email:c,phone:(d==null?void 0:d.phone)||"",status:"offline",age:"",contact:(d==null?void 0:d.phone)||"",image:null,paymentMethod:"GCash",paymentNumber:"",createdAt:vs(),verified:y})},l=async()=>{const c=bs.currentUser;if(c){const h=lt(en,"queues",c.uid);try{await Ea(h)}catch{}const d=lt(en,"drivers",c.uid);await fn(d,{status:"offline"},{merge:!0})}await Bm(bs),t(null)};return N.jsx(RV.Provider,{value:{user:e,loading:n,login:r,signUp:a,logout:l},children:i})},dg=()=>{const i=z.useContext(RV);if(!i)throw new Error("useAuth must be used within an AuthProvider");return i};function CJ(){const[i,e]=z.useState([]),[t,n]=z.useState([]),[s,r]=z.useState(!1),[a,l]=z.useState(null),[c,h]=z.useState(null),[d,f]=z.useState(""),[p,y]=z.useState(""),[b,x]=z.useState(null),{user:_}=dg(),S=async()=>{try{if(!_)return;const M=Vn(en,"ride_logs"),R=Aa(M,zl("driverId","==",_.uid)),P=await mf(R);console.log("Fetched snapshot:",P);const k=P.docs.map(E=>{const D=E.data();return{id:E.id,driverId:D.driverId,dropoffLocation:D.dropoffLocation,dropoffName:D.dropoffName,endedAt:D.endedAt.toDate(),estimatedEarnings:D.estimatedEarnings,pickupLocation:D.pickupLocation,plateNumber:D.plateNumber,startedAt:D.startedAt.toDate(),travelTimeMinutes:D.travelTimeMinutes,waitTimeMinutes:D.waitTimeMinutes}});console.log("Parsed ride logs:",k),k.sort((E,D)=>D.endedAt.getTime()-E.endedAt.getTime()),e(k),n(k)}catch(M){console.error("Failed to fetch ride logs:",M)}};z.useEffect(()=>{S()},[_]);const T=async()=>{let M=[...i];if(a&&(M=M.filter(R=>R.endedAt>=a)),c&&(M=M.filter(R=>R.endedAt<=c)),d){const R=d.toLowerCase();M=M.filter(P=>`${P.pickupLocation.lat}, ${P.pickupLocation.lng}`.toLowerCase().includes(R))}if(p){const R=p.toLowerCase();M=M.filter(P=>P.dropoffName.toLowerCase().includes(R))}b!==null?(M=M.filter(R=>R.estimatedEarnings>=b),M.sort((R,P)=>Math.abs(R.estimatedEarnings-b)-Math.abs(P.estimatedEarnings-b))):M.sort((R,P)=>P.endedAt.getTime()-R.endedAt.getTime()),n(M),r(!1)},C=()=>{l(null),h(null),f(""),y(""),x(null);const M=[...i].sort((R,P)=>P.endedAt.getTime()-R.endedAt.getTime());n(M),r(!1)};return N.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-2 sm:p-4 text-gray-900",children:N.jsx("div",{className:"max-w-7xl mx-auto",children:N.jsxs("div",{className:"max-w-2xl mx-auto min-h-screen",children:[N.jsxs("div",{className:"flex justify-between items-center mb-6",children:[N.jsx("h2",{className:"text-2xl font-bold animate-fade-in",children:"Ride History"}),N.jsxs(TJ,{onClick:()=>r(!0),className:"gap-2 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white shadow-lg transition-all duration-300 transform hover:scale-105",children:[N.jsx(y8,{className:"w-4 h-4"})," Filter"]})]}),t.length===0?N.jsx("div",{className:"bg-white p-8 rounded-xl shadow-lg text-center animate-fade-in-up",children:N.jsx("p",{className:"text-gray-500 text-lg",children:"No rides found."})}):N.jsx("div",{className:"space-y-4 animate-fade-in-up",style:{animationDelay:"0.2s"},children:t.map((M,R)=>N.jsx("div",{className:"animate-slide-up",style:{animationDelay:`${R*.1}s`},children:N.jsx(AJ,{log:M})},M.id))}),N.jsx(SJ,{isOpen:s,onClose:()=>r(!1),onApply:T,onClear:C,startDate:a,setStartDate:l,endDate:c,setEndDate:h,dropoffLocation:p,setDropoffLocation:y,minFare:b,setMinFare:x})]})})})}var kJ=Object.defineProperty,wy=Object.getOwnPropertySymbols,IV=Object.prototype.hasOwnProperty,MV=Object.prototype.propertyIsEnumerable,C2=(i,e,t)=>e in i?kJ(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,Yw=(i,e)=>{for(var t in e||(e={}))IV.call(e,t)&&C2(i,t,e[t]);if(wy)for(var t of wy(e))MV.call(e,t)&&C2(i,t,e[t]);return i},Xw=(i,e)=>{var t={};for(var n in i)IV.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&wy)for(var n of wy(i))e.indexOf(n)<0&&MV.call(i,n)&&(t[n]=i[n]);return t};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var oc;(i=>{const e=class xt{constructor(c,h,d,f){if(this.version=c,this.errorCorrectionLevel=h,this.modules=[],this.isFunction=[],c<xt.MIN_VERSION||c>xt.MAX_VERSION)throw new RangeError("Version value out of range");if(f<-1||f>7)throw new RangeError("Mask value out of range");this.size=c*4+17;let p=[];for(let b=0;b<this.size;b++)p.push(!1);for(let b=0;b<this.size;b++)this.modules.push(p.slice()),this.isFunction.push(p.slice());this.drawFunctionPatterns();const y=this.addEccAndInterleave(d);if(this.drawCodewords(y),f==-1){let b=1e9;for(let x=0;x<8;x++){this.applyMask(x),this.drawFormatBits(x);const _=this.getPenaltyScore();_<b&&(f=x,b=_),this.applyMask(x)}}s(0<=f&&f<=7),this.mask=f,this.applyMask(f),this.drawFormatBits(f),this.isFunction=[]}static encodeText(c,h){const d=i.QrSegment.makeSegments(c);return xt.encodeSegments(d,h)}static encodeBinary(c,h){const d=i.QrSegment.makeBytes(c);return xt.encodeSegments([d],h)}static encodeSegments(c,h,d=1,f=40,p=-1,y=!0){if(!(xt.MIN_VERSION<=d&&d<=f&&f<=xt.MAX_VERSION)||p<-1||p>7)throw new RangeError("Invalid value");let b,x;for(b=d;;b++){const C=xt.getNumDataCodewords(b,h)*8,M=a.getTotalBits(c,b);if(M<=C){x=M;break}if(b>=f)throw new RangeError("Data too long")}for(const C of[xt.Ecc.MEDIUM,xt.Ecc.QUARTILE,xt.Ecc.HIGH])y&&x<=xt.getNumDataCodewords(b,C)*8&&(h=C);let _=[];for(const C of c){t(C.mode.modeBits,4,_),t(C.numChars,C.mode.numCharCountBits(b),_);for(const M of C.getData())_.push(M)}s(_.length==x);const S=xt.getNumDataCodewords(b,h)*8;s(_.length<=S),t(0,Math.min(4,S-_.length),_),t(0,(8-_.length%8)%8,_),s(_.length%8==0);for(let C=236;_.length<S;C^=253)t(C,8,_);let T=[];for(;T.length*8<_.length;)T.push(0);return _.forEach((C,M)=>T[M>>>3]|=C<<7-(M&7)),new xt(b,h,T,p)}getModule(c,h){return 0<=c&&c<this.size&&0<=h&&h<this.size&&this.modules[h][c]}getModules(){return this.modules}drawFunctionPatterns(){for(let d=0;d<this.size;d++)this.setFunctionModule(6,d,d%2==0),this.setFunctionModule(d,6,d%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const c=this.getAlignmentPatternPositions(),h=c.length;for(let d=0;d<h;d++)for(let f=0;f<h;f++)d==0&&f==0||d==0&&f==h-1||d==h-1&&f==0||this.drawAlignmentPattern(c[d],c[f]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(c){const h=this.errorCorrectionLevel.formatBits<<3|c;let d=h;for(let p=0;p<10;p++)d=d<<1^(d>>>9)*1335;const f=(h<<10|d)^21522;s(f>>>15==0);for(let p=0;p<=5;p++)this.setFunctionModule(8,p,n(f,p));this.setFunctionModule(8,7,n(f,6)),this.setFunctionModule(8,8,n(f,7)),this.setFunctionModule(7,8,n(f,8));for(let p=9;p<15;p++)this.setFunctionModule(14-p,8,n(f,p));for(let p=0;p<8;p++)this.setFunctionModule(this.size-1-p,8,n(f,p));for(let p=8;p<15;p++)this.setFunctionModule(8,this.size-15+p,n(f,p));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let c=this.version;for(let d=0;d<12;d++)c=c<<1^(c>>>11)*7973;const h=this.version<<12|c;s(h>>>18==0);for(let d=0;d<18;d++){const f=n(h,d),p=this.size-11+d%3,y=Math.floor(d/3);this.setFunctionModule(p,y,f),this.setFunctionModule(y,p,f)}}drawFinderPattern(c,h){for(let d=-4;d<=4;d++)for(let f=-4;f<=4;f++){const p=Math.max(Math.abs(f),Math.abs(d)),y=c+f,b=h+d;0<=y&&y<this.size&&0<=b&&b<this.size&&this.setFunctionModule(y,b,p!=2&&p!=4)}}drawAlignmentPattern(c,h){for(let d=-2;d<=2;d++)for(let f=-2;f<=2;f++)this.setFunctionModule(c+f,h+d,Math.max(Math.abs(f),Math.abs(d))!=1)}setFunctionModule(c,h,d){this.modules[h][c]=d,this.isFunction[h][c]=!0}addEccAndInterleave(c){const h=this.version,d=this.errorCorrectionLevel;if(c.length!=xt.getNumDataCodewords(h,d))throw new RangeError("Invalid argument");const f=xt.NUM_ERROR_CORRECTION_BLOCKS[d.ordinal][h],p=xt.ECC_CODEWORDS_PER_BLOCK[d.ordinal][h],y=Math.floor(xt.getNumRawDataModules(h)/8),b=f-y%f,x=Math.floor(y/f);let _=[];const S=xt.reedSolomonComputeDivisor(p);for(let C=0,M=0;C<f;C++){let R=c.slice(M,M+x-p+(C<b?0:1));M+=R.length;const P=xt.reedSolomonComputeRemainder(R,S);C<b&&R.push(0),_.push(R.concat(P))}let T=[];for(let C=0;C<_[0].length;C++)_.forEach((M,R)=>{(C!=x-p||R>=b)&&T.push(M[C])});return s(T.length==y),T}drawCodewords(c){if(c.length!=Math.floor(xt.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let h=0;for(let d=this.size-1;d>=1;d-=2){d==6&&(d=5);for(let f=0;f<this.size;f++)for(let p=0;p<2;p++){const y=d-p,x=(d+1&2)==0?this.size-1-f:f;!this.isFunction[x][y]&&h<c.length*8&&(this.modules[x][y]=n(c[h>>>3],7-(h&7)),h++)}}s(h==c.length*8)}applyMask(c){if(c<0||c>7)throw new RangeError("Mask value out of range");for(let h=0;h<this.size;h++)for(let d=0;d<this.size;d++){let f;switch(c){case 0:f=(d+h)%2==0;break;case 1:f=h%2==0;break;case 2:f=d%3==0;break;case 3:f=(d+h)%3==0;break;case 4:f=(Math.floor(d/3)+Math.floor(h/2))%2==0;break;case 5:f=d*h%2+d*h%3==0;break;case 6:f=(d*h%2+d*h%3)%2==0;break;case 7:f=((d+h)%2+d*h%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[h][d]&&f&&(this.modules[h][d]=!this.modules[h][d])}}getPenaltyScore(){let c=0;for(let p=0;p<this.size;p++){let y=!1,b=0,x=[0,0,0,0,0,0,0];for(let _=0;_<this.size;_++)this.modules[p][_]==y?(b++,b==5?c+=xt.PENALTY_N1:b>5&&c++):(this.finderPenaltyAddHistory(b,x),y||(c+=this.finderPenaltyCountPatterns(x)*xt.PENALTY_N3),y=this.modules[p][_],b=1);c+=this.finderPenaltyTerminateAndCount(y,b,x)*xt.PENALTY_N3}for(let p=0;p<this.size;p++){let y=!1,b=0,x=[0,0,0,0,0,0,0];for(let _=0;_<this.size;_++)this.modules[_][p]==y?(b++,b==5?c+=xt.PENALTY_N1:b>5&&c++):(this.finderPenaltyAddHistory(b,x),y||(c+=this.finderPenaltyCountPatterns(x)*xt.PENALTY_N3),y=this.modules[_][p],b=1);c+=this.finderPenaltyTerminateAndCount(y,b,x)*xt.PENALTY_N3}for(let p=0;p<this.size-1;p++)for(let y=0;y<this.size-1;y++){const b=this.modules[p][y];b==this.modules[p][y+1]&&b==this.modules[p+1][y]&&b==this.modules[p+1][y+1]&&(c+=xt.PENALTY_N2)}let h=0;for(const p of this.modules)h=p.reduce((y,b)=>y+(b?1:0),h);const d=this.size*this.size,f=Math.ceil(Math.abs(h*20-d*10)/d)-1;return s(0<=f&&f<=9),c+=f*xt.PENALTY_N4,s(0<=c&&c<=2568888),c}getAlignmentPatternPositions(){if(this.version==1)return[];{const c=Math.floor(this.version/7)+2,h=this.version==32?26:Math.ceil((this.version*4+4)/(c*2-2))*2;let d=[6];for(let f=this.size-7;d.length<c;f-=h)d.splice(1,0,f);return d}}static getNumRawDataModules(c){if(c<xt.MIN_VERSION||c>xt.MAX_VERSION)throw new RangeError("Version number out of range");let h=(16*c+128)*c+64;if(c>=2){const d=Math.floor(c/7)+2;h-=(25*d-10)*d-55,c>=7&&(h-=36)}return s(208<=h&&h<=29648),h}static getNumDataCodewords(c,h){return Math.floor(xt.getNumRawDataModules(c)/8)-xt.ECC_CODEWORDS_PER_BLOCK[h.ordinal][c]*xt.NUM_ERROR_CORRECTION_BLOCKS[h.ordinal][c]}static reedSolomonComputeDivisor(c){if(c<1||c>255)throw new RangeError("Degree out of range");let h=[];for(let f=0;f<c-1;f++)h.push(0);h.push(1);let d=1;for(let f=0;f<c;f++){for(let p=0;p<h.length;p++)h[p]=xt.reedSolomonMultiply(h[p],d),p+1<h.length&&(h[p]^=h[p+1]);d=xt.reedSolomonMultiply(d,2)}return h}static reedSolomonComputeRemainder(c,h){let d=h.map(f=>0);for(const f of c){const p=f^d.shift();d.push(0),h.forEach((y,b)=>d[b]^=xt.reedSolomonMultiply(y,p))}return d}static reedSolomonMultiply(c,h){if(c>>>8||h>>>8)throw new RangeError("Byte out of range");let d=0;for(let f=7;f>=0;f--)d=d<<1^(d>>>7)*285,d^=(h>>>f&1)*c;return s(d>>>8==0),d}finderPenaltyCountPatterns(c){const h=c[1];s(h<=this.size*3);const d=h>0&&c[2]==h&&c[3]==h*3&&c[4]==h&&c[5]==h;return(d&&c[0]>=h*4&&c[6]>=h?1:0)+(d&&c[6]>=h*4&&c[0]>=h?1:0)}finderPenaltyTerminateAndCount(c,h,d){return c&&(this.finderPenaltyAddHistory(h,d),h=0),h+=this.size,this.finderPenaltyAddHistory(h,d),this.finderPenaltyCountPatterns(d)}finderPenaltyAddHistory(c,h){h[0]==0&&(c+=this.size),h.pop(),h.unshift(c)}};e.MIN_VERSION=1,e.MAX_VERSION=40,e.PENALTY_N1=3,e.PENALTY_N2=3,e.PENALTY_N3=40,e.PENALTY_N4=10,e.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],e.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],i.QrCode=e;function t(l,c,h){if(c<0||c>31||l>>>c)throw new RangeError("Value out of range");for(let d=c-1;d>=0;d--)h.push(l>>>d&1)}function n(l,c){return(l>>>c&1)!=0}function s(l){if(!l)throw new Error("Assertion error")}const r=class kn{constructor(c,h,d){if(this.mode=c,this.numChars=h,this.bitData=d,h<0)throw new RangeError("Invalid argument");this.bitData=d.slice()}static makeBytes(c){let h=[];for(const d of c)t(d,8,h);return new kn(kn.Mode.BYTE,c.length,h)}static makeNumeric(c){if(!kn.isNumeric(c))throw new RangeError("String contains non-numeric characters");let h=[];for(let d=0;d<c.length;){const f=Math.min(c.length-d,3);t(parseInt(c.substring(d,d+f),10),f*3+1,h),d+=f}return new kn(kn.Mode.NUMERIC,c.length,h)}static makeAlphanumeric(c){if(!kn.isAlphanumeric(c))throw new RangeError("String contains unencodable characters in alphanumeric mode");let h=[],d;for(d=0;d+2<=c.length;d+=2){let f=kn.ALPHANUMERIC_CHARSET.indexOf(c.charAt(d))*45;f+=kn.ALPHANUMERIC_CHARSET.indexOf(c.charAt(d+1)),t(f,11,h)}return d<c.length&&t(kn.ALPHANUMERIC_CHARSET.indexOf(c.charAt(d)),6,h),new kn(kn.Mode.ALPHANUMERIC,c.length,h)}static makeSegments(c){return c==""?[]:kn.isNumeric(c)?[kn.makeNumeric(c)]:kn.isAlphanumeric(c)?[kn.makeAlphanumeric(c)]:[kn.makeBytes(kn.toUtf8ByteArray(c))]}static makeEci(c){let h=[];if(c<0)throw new RangeError("ECI assignment value out of range");if(c<128)t(c,8,h);else if(c<16384)t(2,2,h),t(c,14,h);else if(c<1e6)t(6,3,h),t(c,21,h);else throw new RangeError("ECI assignment value out of range");return new kn(kn.Mode.ECI,0,h)}static isNumeric(c){return kn.NUMERIC_REGEX.test(c)}static isAlphanumeric(c){return kn.ALPHANUMERIC_REGEX.test(c)}getData(){return this.bitData.slice()}static getTotalBits(c,h){let d=0;for(const f of c){const p=f.mode.numCharCountBits(h);if(f.numChars>=1<<p)return 1/0;d+=4+p+f.bitData.length}return d}static toUtf8ByteArray(c){c=encodeURI(c);let h=[];for(let d=0;d<c.length;d++)c.charAt(d)!="%"?h.push(c.charCodeAt(d)):(h.push(parseInt(c.substring(d+1,d+3),16)),d+=2);return h}};r.NUMERIC_REGEX=/^[0-9]*$/,r.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,r.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let a=r;i.QrSegment=r})(oc||(oc={}));(i=>{(e=>{const t=class{constructor(s,r){this.ordinal=s,this.formatBits=r}};t.LOW=new t(0,1),t.MEDIUM=new t(1,0),t.QUARTILE=new t(2,3),t.HIGH=new t(3,2),e.Ecc=t})(i.QrCode||(i.QrCode={}))})(oc||(oc={}));(i=>{(e=>{const t=class{constructor(s,r){this.modeBits=s,this.numBitsCharCount=r}numCharCountBits(s){return this.numBitsCharCount[Math.floor((s+7)/17)]}};t.NUMERIC=new t(1,[10,12,14]),t.ALPHANUMERIC=new t(2,[9,11,13]),t.BYTE=new t(4,[8,16,16]),t.KANJI=new t(8,[8,10,12]),t.ECI=new t(7,[0,0,0]),e.Mode=t})(i.QrSegment||(i.QrSegment={}))})(oc||(oc={}));var Au=oc;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var RJ={L:Au.QrCode.Ecc.LOW,M:Au.QrCode.Ecc.MEDIUM,Q:Au.QrCode.Ecc.QUARTILE,H:Au.QrCode.Ecc.HIGH},DV=128,NV="L",PV="#FFFFFF",OV="#000000",LV=!1,VV=1,IJ=4,MJ=0,DJ=.1;function FV(i,e=0){const t=[];return i.forEach(function(n,s){let r=null;n.forEach(function(a,l){if(!a&&r!==null){t.push(`M${r+e} ${s+e}h${l-r}v1H${r+e}z`),r=null;return}if(l===n.length-1){if(!a)return;r===null?t.push(`M${l+e},${s+e} h1v1H${l+e}z`):t.push(`M${r+e},${s+e} h${l+1-r}v1H${r+e}z`);return}a&&r===null&&(r=l)})}),t.join("")}function zV(i,e){return i.slice().map((t,n)=>n<e.y||n>=e.y+e.h?t:t.map((s,r)=>r<e.x||r>=e.x+e.w?s:!1))}function NJ(i,e,t,n){if(n==null)return null;const s=i.length+t*2,r=Math.floor(e*DJ),a=s/e,l=(n.width||r)*a,c=(n.height||r)*a,h=n.x==null?i.length/2-l/2:n.x*a,d=n.y==null?i.length/2-c/2:n.y*a,f=n.opacity==null?1:n.opacity;let p=null;if(n.excavate){let b=Math.floor(h),x=Math.floor(d),_=Math.ceil(l+h-b),S=Math.ceil(c+d-x);p={x:b,y:x,w:_,h:S}}const y=n.crossOrigin;return{x:h,y:d,h:c,w:l,excavation:p,opacity:f,crossOrigin:y}}function PJ(i,e){return e!=null?Math.max(Math.floor(e),0):i?IJ:MJ}function jV({value:i,level:e,minVersion:t,includeMargin:n,marginSize:s,imageSettings:r,size:a,boostLevel:l}){let c=It.useMemo(()=>{const b=(Array.isArray(i)?i:[i]).reduce((x,_)=>(x.push(...Au.QrSegment.makeSegments(_)),x),[]);return Au.QrCode.encodeSegments(b,RJ[e],t,void 0,void 0,l)},[i,e,t,l]);const{cells:h,margin:d,numCells:f,calculatedImageSettings:p}=It.useMemo(()=>{let y=c.getModules();const b=PJ(n,s),x=y.length+b*2,_=NJ(y,a,b,r);return{cells:y,margin:b,numCells:x,calculatedImageSettings:_}},[c,a,r,n,s]);return{qrcode:c,margin:d,cells:h,numCells:f,calculatedImageSettings:p}}var OJ=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),LJ=It.forwardRef(function(e,t){const n=e,{value:s,size:r=DV,level:a=NV,bgColor:l=PV,fgColor:c=OV,includeMargin:h=LV,minVersion:d=VV,boostLevel:f,marginSize:p,imageSettings:y}=n,x=Xw(n,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:_}=x,S=Xw(x,["style"]),T=y==null?void 0:y.src,C=It.useRef(null),M=It.useRef(null),R=It.useCallback(K=>{C.current=K,typeof t=="function"?t(K):t&&(t.current=K)},[t]),[P,k]=It.useState(!1),{margin:E,cells:D,numCells:O,calculatedImageSettings:F}=jV({value:s,level:a,minVersion:d,boostLevel:f,includeMargin:h,marginSize:p,imageSettings:y,size:r});It.useEffect(()=>{if(C.current!=null){const K=C.current,ne=K.getContext("2d");if(!ne)return;let X=D;const G=M.current,ee=F!=null&&G!==null&&G.complete&&G.naturalHeight!==0&&G.naturalWidth!==0;ee&&F.excavation!=null&&(X=zV(D,F.excavation));const ue=window.devicePixelRatio||1;K.height=K.width=r*ue;const le=r/O*ue;ne.scale(le,le),ne.fillStyle=l,ne.fillRect(0,0,O,O),ne.fillStyle=c,OJ?ne.fill(new Path2D(FV(X,E))):D.forEach(function(me,ae){me.forEach(function(ye,_e){ye&&ne.fillRect(_e+E,ae+E,1,1)})}),F&&(ne.globalAlpha=F.opacity),ee&&ne.drawImage(G,F.x+E,F.y+E,F.w,F.h)}}),It.useEffect(()=>{k(!1)},[T]);const H=Yw({height:r,width:r},_);let B=null;return T!=null&&(B=It.createElement("img",{src:T,key:T,style:{display:"none"},onLoad:()=>{k(!0)},ref:M,crossOrigin:F==null?void 0:F.crossOrigin})),It.createElement(It.Fragment,null,It.createElement("canvas",Yw({style:H,height:r,width:r,ref:R,role:"img"},S)),B)});LJ.displayName="QRCodeCanvas";var FS=It.forwardRef(function(e,t){const n=e,{value:s,size:r=DV,level:a=NV,bgColor:l=PV,fgColor:c=OV,includeMargin:h=LV,minVersion:d=VV,boostLevel:f,title:p,marginSize:y,imageSettings:b}=n,x=Xw(n,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:_,cells:S,numCells:T,calculatedImageSettings:C}=jV({value:s,level:a,minVersion:d,boostLevel:f,includeMargin:h,marginSize:y,imageSettings:b,size:r});let M=S,R=null;b!=null&&C!=null&&(C.excavation!=null&&(M=zV(S,C.excavation)),R=It.createElement("image",{href:b.src,height:C.h,width:C.w,x:C.x+_,y:C.y+_,preserveAspectRatio:"none",opacity:C.opacity,crossOrigin:C.crossOrigin}));const P=FV(M,_);return It.createElement("svg",Yw({height:r,width:r,viewBox:`0 0 ${T} ${T}`,ref:t,role:"img"},x),!!p&&It.createElement("title",null,p),It.createElement("path",{fill:l,d:`M0,0 h${T}v${T}H0z`,shapeRendering:"crispEdges"}),It.createElement("path",{fill:c,d:P,shapeRendering:"crispEdges"}),R)});FS.displayName="QRCodeSVG";const VJ=()=>{const i=uc(),{user:e,logout:t}=dg(),[n,s]=z.useState(()=>{const H=localStorage.getItem("driver");return H?JSON.parse(H):null}),[r,a]=z.useState(!1),[l,c]=z.useState(""),[h,d]=z.useState(""),[f,p]=z.useState(""),[y,b]=z.useState(null),[x,_]=z.useState(!1),[S,T]=z.useState("GCash"),[C,M]=z.useState(""),[R,P]=z.useState(!1);z.useEffect(()=>{if(!e){i("/login");return}(async()=>{const B=lt(en,"drivers",e.uid),K=await Zf(B);if(K.exists()){const ne=K.data();s(ne),c(ne.status||"Offline"),d(ne.age||""),p(ne.contact||""),b(ne.image||null),T(ne.paymentMethod||"GCash"),M(ne.paymentNumber||"");const X=lt(en,"publicProfiles",e.uid);await fn(X,ne)}})()},[e,i]);const k=async()=>{P(!0),setTimeout(async()=>{if(!e)return;const H=lt(en,"queues",e.uid);try{await Ea(H)}catch{}const B=lt(en,"drivers",e.uid);await fn(B,{status:"offline"},{merge:!0}),await(t==null?void 0:t()),localStorage.removeItem("driver"),tt.success("Logout successful!"),i("/login")},500)},E=async()=>{if(!e)return;const H={...n,status:l,age:h,contact:f,image:y,paymentMethod:S,paymentNumber:C},B=lt(en,"drivers",e.uid);await cP(B,H);const K=lt(en,"publicProfiles",e.uid);await fn(K,H),s(H),a(!1),tt.success("Profile updated!")},D=H=>{var K;const B=(K=H.target.files)==null?void 0:K[0];if(B){const ne=new FileReader;ne.onloadend=()=>{b(ne.result)},ne.readAsDataURL(B)}},O=()=>{c(H=>H==="Online"?"Offline":"Online")};if(!n)return null;const F=`${window.location.origin}/driver/${e==null?void 0:e.uid}`;return N.jsx("div",{className:"flex justify-center min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-2 sm:p-4 text-gray-900",children:N.jsx(Aw,{children:!R&&N.jsxs(Ll.div,{className:"w-full max-w-md bg-white p-6 rounded-xl shadow-md",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:40},transition:{duration:.4},children:[N.jsxs("div",{className:"flex flex-col items-center mb-4 relative",children:[N.jsx("div",{className:"w-24 h-24 rounded-full overflow-hidden bg-gray-200 mb-2 cursor-pointer border-2 border-gray-900 hover:scale-105 transition-transform",onClick:()=>y&&_(!0),children:y?N.jsx("img",{src:y,alt:"Driver",className:"w-full h-full object-cover"}):N.jsx("div",{className:"text-gray-400 text-sm flex items-center justify-center h-full",children:"No Image"})}),r&&N.jsx("input",{type:"file",accept:"image/*",onChange:D,className:"text-xs text-gray-400 mb-2"})]}),N.jsxs("div",{className:"space-y-2",children:[N.jsxs("div",{children:[N.jsx("strong",{children:"Name:"})," ",n.name]}),N.jsxs("div",{children:[N.jsx("strong",{children:"Plate:"})," ",n.plate]}),N.jsxs("div",{children:[N.jsx("strong",{children:"Vehicle:"})," ",n.vehicle]}),N.jsxs("div",{children:[N.jsx("strong",{children:"Status:"})," ",r?N.jsxs("div",{className:"flex items-center",children:[N.jsx("span",{className:`inline-block w-10 h-6 rounded-full ${l==="Online"?"bg-green-500":"bg-red-500"} cursor-pointer`,onClick:O,children:N.jsx("span",{className:`block w-4 h-4 bg-white rounded-full transition-transform ${l==="Online"?"translate-x-4":""}`})}),N.jsx("span",{className:"ml-2 text-sm",children:l})]}):l]}),N.jsxs("div",{children:[N.jsx("strong",{children:"Age:"})," ",r?N.jsx("input",{value:h,onChange:H=>d(H.target.value),className:"bg-gray-200 rounded p-1 ml-2 w-full"}):h]}),N.jsxs("div",{children:[N.jsx("strong",{children:"Contact:"})," ",r?N.jsx("input",{value:f,onChange:H=>p(H.target.value),className:"bg-gray-200 rounded p-1 ml-2 w-full"}):f]}),N.jsxs("div",{children:[N.jsx("strong",{children:"Payment Method:"})," ",r?N.jsxs("select",{value:S,onChange:H=>T(H.target.value),className:"bg-gray-200 rounded p-1 ml-2 w-full",children:[N.jsx("option",{value:"GCash",children:"GCash"}),N.jsx("option",{value:"PayMaya",children:"PayMaya"})]}):S]}),N.jsxs("div",{children:[N.jsxs("strong",{children:[S," Number:"]})," ",r?N.jsx("input",{value:C,onChange:H=>M(H.target.value),className:"bg-gray-200 rounded p-1 ml-2 w-full"}):C||"N/A"]})]}),N.jsxs("div",{className:"text-center mt-6",children:[N.jsx("h2",{className:"font-bold text-sm mb-2",children:"Your Driver QR Code"}),N.jsx("div",{className:"bg-white p-4 rounded-lg w-fit mx-auto",children:N.jsx(FS,{value:F,size:150})}),N.jsx("p",{className:"text-xs mt-2 text-gray-400 break-all",children:F})]}),N.jsxs("div",{className:"flex justify-between mt-6",children:[r?N.jsx(Ll.button,{onClick:E,whileTap:{scale:.95},className:"bg-green-600 hover:bg-green-700 px-4 py-2 rounded text-sm w-full mr-2",children:"Save"}):N.jsx(Ll.button,{onClick:()=>a(!0),whileTap:{scale:.95},className:"bg-blue-600 hover:bg-blue-700 px-4 py-2 rounded text-sm w-full mr-2",children:"Edit Profile"}),N.jsx(Ll.button,{onClick:k,whileTap:{scale:.9},className:"bg-red-600 hover:bg-red-700 px-4 py-2 rounded text-sm w-full ml-2",children:"Logout"})]}),N.jsx(Aw,{children:x&&N.jsx(Ll.div,{className:"fixed inset-0 bg-black bg-opacity-80 flex justify-center items-center z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>_(!1),children:N.jsx(Ll.img,{src:y||"",alt:"Zoomed Profile",className:"max-w-[90%] max-h-[90%] rounded-lg shadow-lg",initial:{scale:.8},animate:{scale:1},exit:{scale:.8},transition:{duration:.3}})})})]},"profileCard")})})};var s0={};/*!
 * ApexCharts v5.3.6
 * (c) 2018-2025 ApexCharts
 */function Ww(i,e){(e==null||e>i.length)&&(e=i.length);for(var t=0,n=Array(e);t<e;t++)n[t]=i[t];return n}function BV(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function Ce(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function k2(i,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(i,YV(n.key),n)}}function ke(i,e,t){return e&&k2(i.prototype,e),t&&k2(i,t),Object.defineProperty(i,"prototype",{writable:!1}),i}function Od(i,e){var t=typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(!t){if(Array.isArray(i)||(t=zS(i))||e){t&&(i=t);var n=0,s=function(){};return{s,n:function(){return n>=i.length?{done:!0}:{done:!1,value:i[n++]}},e:function(c){throw c},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var r,a=!0,l=!1;return{s:function(){t=t.call(i)},n:function(){var c=t.next();return a=c.done,c},e:function(c){l=!0,r=c},f:function(){try{a||t.return==null||t.return()}finally{if(l)throw r}}}}function fg(i){var e=HV();return function(){var t,n=Ay(i);if(e){var s=Ay(this).constructor;t=Reflect.construct(n,arguments,s)}else t=n.apply(this,arguments);return function(r,a){if(a&&(typeof a=="object"||typeof a=="function"))return a;if(a!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BV(r)}(this,t)}}function _y(i,e,t){return(e=YV(e))in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function Ay(i){return Ay=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ay(i)}function gg(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),e&&Gw(i,e)}function HV(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HV=function(){return!!i})()}function R2(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(i);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(i,s).enumerable})),t.push.apply(t,n)}return t}function be(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?R2(Object(t),!0).forEach(function(n){_y(i,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):R2(Object(t)).forEach(function(n){Object.defineProperty(i,n,Object.getOwnPropertyDescriptor(t,n))})}return i}function Gw(i,e){return Gw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},Gw(i,e)}function UV(i,e){return function(t){if(Array.isArray(t))return t}(i)||function(t,n){var s=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(s!=null){var r,a,l,c,h=[],d=!0,f=!1;try{if(l=(s=s.call(t)).next,n===0){if(Object(s)!==s)return;d=!1}else for(;!(d=(r=l.call(s)).done)&&(h.push(r.value),h.length!==n);d=!0);}catch(p){f=!0,a=p}finally{try{if(!d&&s.return!=null&&(c=s.return(),Object(c)!==c))return}finally{if(f)throw a}}return h}}(i,e)||zS(i,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Qn(i){return function(e){if(Array.isArray(e))return Ww(e)}(i)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(i)||zS(i)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function YV(i){var e=function(t,n){if(typeof t!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var r=s.call(t,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}(i,"string");return typeof e=="symbol"?e:e+""}function Yi(i){return Yi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yi(i)}function zS(i,e){if(i){if(typeof i=="string")return Ww(i,e);var t={}.toString.call(i).slice(8,-1);return t==="Object"&&i.constructor&&(t=i.constructor.name),t==="Map"||t==="Set"?Array.from(i):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Ww(i,e):void 0}}var q=function(){function i(){Ce(this,i)}return ke(i,[{key:"shadeRGBColor",value:function(e,t){var n=t.split(","),s=e<0?0:255,r=e<0?-1*e:e,a=parseInt(n[0].slice(4),10),l=parseInt(n[1],10),c=parseInt(n[2],10);return"rgb("+(Math.round((s-a)*r)+a)+","+(Math.round((s-l)*r)+l)+","+(Math.round((s-c)*r)+c)+")"}},{key:"shadeHexColor",value:function(e,t){var n=parseInt(t.slice(1),16),s=e<0?0:255,r=e<0?-1*e:e,a=n>>16,l=n>>8&255,c=255&n;return"#"+(16777216+65536*(Math.round((s-a)*r)+a)+256*(Math.round((s-l)*r)+l)+(Math.round((s-c)*r)+c)).toString(16).slice(1)}},{key:"shadeColor",value:function(e,t){return i.isColorHex(t)?this.shadeHexColor(e,t):this.shadeRGBColor(e,t)}}],[{key:"bind",value:function(e,t){return function(){return e.apply(t,arguments)}}},{key:"isObject",value:function(e){return e&&Yi(e)==="object"&&!Array.isArray(e)&&e!=null}},{key:"is",value:function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"}},{key:"isSafari",value:function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}},{key:"listToArray",value:function(e){var t,n=[];for(t=0;t<e.length;t++)n[t]=e[t];return n}},{key:"extend",value:function(e,t){var n=this;typeof Object.assign!="function"&&(Object.assign=function(r){if(r==null)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(r),l=1;l<arguments.length;l++){var c=arguments[l];if(c!=null)for(var h in c)c.hasOwnProperty(h)&&(a[h]=c[h])}return a});var s=Object.assign({},e);return this.isObject(e)&&this.isObject(t)&&Object.keys(t).forEach(function(r){n.isObject(t[r])&&r in e?s[r]=n.extend(e[r],t[r]):Object.assign(s,_y({},r,t[r]))}),s}},{key:"extendArray",value:function(e,t){var n=[];return e.map(function(s){n.push(i.extend(t,s))}),e=n}},{key:"monthMod",value:function(e){return e%12}},{key:"clone",value:function(e){var t,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new WeakMap;if(e===null||Yi(e)!=="object")return e;if(n.has(e))return n.get(e);if(Array.isArray(e)){t=[],n.set(e,t);for(var s=0;s<e.length;s++)t[s]=this.clone(e[s],n)}else if(e instanceof Date)t=new Date(e.getTime());else for(var r in t={},n.set(e,t),e)e.hasOwnProperty(r)&&(t[r]=this.clone(e[r],n));return t}},{key:"log10",value:function(e){return Math.log(e)/Math.LN10}},{key:"roundToBase10",value:function(e){return Math.pow(10,Math.floor(Math.log10(e)))}},{key:"roundToBase",value:function(e,t){return Math.pow(t,Math.floor(Math.log(e)/Math.log(t)))}},{key:"parseNumber",value:function(e){return typeof e=="number"||e===null?e:parseFloat(e)}},{key:"stripNumber",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return Number.isInteger(e)?e:parseFloat(e.toPrecision(t))}},{key:"randomId",value:function(){return(Math.random()+1).toString(36).substring(4)}},{key:"noExponents",value:function(e){return e.toString().includes("e")?Math.round(e):e}},{key:"elementExists",value:function(e){return!(!e||!e.isConnected)}},{key:"isInShadowDOM",value:function(e){if(!e||!e.getRootNode)return!1;var t=e.getRootNode();return t&&t!==document&&i.is("ShadowRoot",t)}},{key:"getShadowRootHost",value:function(e){return i.isInShadowDOM(e)&&e.getRootNode().host||null}},{key:"getDimensions",value:function(e){if(!e)return[0,0];var t,n=e.getRootNode&&e.getRootNode();if(n&&n!==document&&n.host){var s=n.host.getBoundingClientRect();return[s.width,s.height]}try{t=getComputedStyle(e,null)}catch{return[e.clientWidth||0,e.clientHeight||0]}var r=e.clientHeight,a=e.clientWidth;return r-=parseFloat(t.paddingTop)+parseFloat(t.paddingBottom),[a-=parseFloat(t.paddingLeft)+parseFloat(t.paddingRight),r]}},{key:"getBoundingClientRect",value:function(e){if(!e)return{top:0,right:0,bottom:0,left:0,width:0,height:0,x:0,y:0};var t=e.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:e.clientWidth,height:e.clientHeight,x:t.left,y:t.top}}},{key:"getLargestStringFromArr",value:function(e){return e.reduce(function(t,n){return Array.isArray(n)&&(n=n.reduce(function(s,r){return s.length>r.length?s:r})),t.length>n.length?t:n},0)}},{key:"hexToRgba",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"#999999",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.6;e.substring(0,1)!=="#"&&(e="#999999");var n=e.replace("#","");n=n.match(new RegExp("(.{"+n.length/3+"})","g"));for(var s=0;s<n.length;s++)n[s]=parseInt(n[s].length===1?n[s]+n[s]:n[s],16);return t!==void 0&&n.push(t),"rgba("+n.join(",")+")"}},{key:"getOpacityFromRGBA",value:function(e){return parseFloat(e.replace(/^.*,(.+)\)/,"$1"))}},{key:"rgb2hex",value:function(e){return(e=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&e.length===4?"#"+("0"+parseInt(e[1],10).toString(16)).slice(-2)+("0"+parseInt(e[2],10).toString(16)).slice(-2)+("0"+parseInt(e[3],10).toString(16)).slice(-2):""}},{key:"isColorHex",value:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)|(^#[0-9A-F]{8}$)/i.test(e)}},{key:"getPolygonPos",value:function(e,t){for(var n=[],s=2*Math.PI/t,r=0;r<t;r++){var a={};a.x=e*Math.sin(r*s),a.y=-e*Math.cos(r*s),n.push(a)}return n}},{key:"polarToCartesian",value:function(e,t,n,s){var r=(s-90)*Math.PI/180;return{x:e+n*Math.cos(r),y:t+n*Math.sin(r)}}},{key:"escapeString",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"x",n=e.toString().slice();return n=n.replace(/[` ~!@#$%^&*()|+\=?;:'",.<>{}[\]\\/]/gi,t)}},{key:"negToZero",value:function(e){return e<0?0:e}},{key:"moveIndexInArray",value:function(e,t,n){if(n>=e.length)for(var s=n-e.length+1;s--;)e.push(void 0);return e.splice(n,0,e.splice(t,1)[0]),e}},{key:"extractNumber",value:function(e){return parseFloat(e.replace(/[^\d.]*/g,""))}},{key:"findAncestor",value:function(e,t){for(;(e=e.parentElement)&&!e.classList.contains(t););return e}},{key:"setELstyles",value:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e.style.key=t[n])}},{key:"preciseAddition",value:function(e,t){var n=(String(e).split(".")[1]||"").length,s=(String(t).split(".")[1]||"").length,r=Math.pow(10,Math.max(n,s));return(Math.round(e*r)+Math.round(t*r))/r}},{key:"isNumber",value:function(e){return!isNaN(e)&&parseFloat(Number(e))===e&&!isNaN(parseInt(e,10))}},{key:"isFloat",value:function(e){return Number(e)===e&&e%1!=0}},{key:"isMsEdge",value:function(){var e=window.navigator.userAgent,t=e.indexOf("Edge/");return t>0&&parseInt(e.substring(t+5,e.indexOf(".",t)),10)}},{key:"getGCD",value:function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:7,s=Math.pow(10,n-Math.floor(Math.log10(Math.max(e,t))));for(s>1?(e=Math.round(Math.abs(e)*s),t=Math.round(Math.abs(t)*s)):s=1;t;){var r=t;t=e%t,e=r}return e/s}},{key:"getPrimeFactors",value:function(e){for(var t=[],n=2;e>=2;)e%n==0?(t.push(n),e/=n):n++;return t}},{key:"mod",value:function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:7,s=Math.pow(10,n-Math.floor(Math.log10(Math.max(e,t))));return(e=Math.round(Math.abs(e)*s))%(t=Math.round(Math.abs(t)*s))/s}}]),i}(),ch=function(){function i(e){Ce(this,i),this.ctx=e,this.w=e.w}return ke(i,[{key:"animateLine",value:function(e,t,n,s){e.attr(t).animate(s).attr(n)}},{key:"animateMarker",value:function(e,t,n,s){e.attr({opacity:0}).animate(t).attr({opacity:1}).after(function(){s()})}},{key:"animateRect",value:function(e,t,n,s,r){e.attr(t).animate(s).attr(n).after(function(){return r()})}},{key:"animatePathsGradually",value:function(e){var t=e.el,n=e.realIndex,s=e.j,r=e.fill,a=e.pathFrom,l=e.pathTo,c=e.speed,h=e.delay,d=this.w,f=0;d.config.chart.animations.animateGradually.enabled&&(f=d.config.chart.animations.animateGradually.delay),d.config.chart.animations.dynamicAnimation.enabled&&d.globals.dataChanged&&d.config.chart.type!=="bar"&&(f=0),this.morphSVG(t,n,s,d.config.chart.type!=="line"||d.globals.comboCharts?r:"stroke",a,l,c,h*f)}},{key:"showDelayedElements",value:function(){this.w.globals.delayedElements.forEach(function(e){var t=e.el;t.classList.remove("apexcharts-element-hidden"),t.classList.add("apexcharts-hidden-element-shown")})}},{key:"animationCompleted",value:function(e){var t=this.w;t.globals.animationEnded||(t.globals.animationEnded=!0,this.showDelayedElements(),typeof t.config.chart.events.animationEnd=="function"&&t.config.chart.events.animationEnd(this.ctx,{el:e,w:t}))}},{key:"morphSVG",value:function(e,t,n,s,r,a,l,c){var h=this,d=this.w;r||(r=e.attr("pathFrom")),a||(a=e.attr("pathTo"));var f=function(p){return d.config.chart.type==="radar"&&(l=1),"M 0 ".concat(d.globals.gridHeight)};(!r||r.indexOf("undefined")>-1||r.indexOf("NaN")>-1)&&(r=f()),(!a.trim()||a.indexOf("undefined")>-1||a.indexOf("NaN")>-1)&&(a=f()),d.globals.shouldAnimate||(l=1),e.plot(r).animate(1,c).plot(r).animate(l,c).plot(a).after(function(){q.isNumber(n)?n===d.globals.series[d.globals.maxValsInArrayIndex].length-2&&d.globals.shouldAnimate&&h.animationCompleted(e):s!=="none"&&d.globals.shouldAnimate&&(!d.globals.comboCharts&&t===d.globals.series.length-1||d.globals.comboCharts)&&h.animationCompleted(e),h.showDelayedElements()})}}]),i}();const qw={},XV=[];function ct(i,e){if(Array.isArray(i))for(const t of i)ct(t,e);else if(typeof i!="object")WV(Object.getOwnPropertyNames(e)),qw[i]=Object.assign(qw[i]||{},e);else for(const t in i)ct(t,i[t])}function es(i){return qw[i]||{}}function WV(i){XV.push(...i)}function jS(i,e){let t;const n=i.length,s=[];for(t=0;t<n;t++)s.push(e(i[t]));return s}function r0(i){return i%360*Math.PI/180}function uh(i){return i.charAt(0).toUpperCase()+i.slice(1)}function hh(i,e,t,n){return e!=null&&t!=null||(n=n||i.bbox(),e==null?e=n.width/n.height*t:t==null&&(t=n.height/n.width*e)),{width:e,height:t}}function $w(i,e){const t=i.origin;let n=i.ox!=null?i.ox:i.originX!=null?i.originX:"center",s=i.oy!=null?i.oy:i.originY!=null?i.originY:"center";t!=null&&([n,s]=Array.isArray(t)?t:typeof t=="object"?[t.x,t.y]:[t,t]);const r=typeof n=="string",a=typeof s=="string";if(r||a){const{height:l,width:c,x:h,y:d}=e.bbox();r&&(n=n.includes("left")?h:n.includes("right")?h+c:h+c/2),a&&(s=s.includes("top")?d:s.includes("bottom")?d+l:d+l/2)}return[n,s]}const FJ=new Set(["desc","metadata","title"]),Kw=i=>FJ.has(i.nodeName),GV=(i,e,t={})=>{const n={...e};for(const s in n)n[s].valueOf()===t[s]&&delete n[s];Object.keys(n).length?i.node.setAttribute("data-svgjs",JSON.stringify(n)):(i.node.removeAttribute("data-svgjs"),i.node.removeAttribute("svgjs:data"))},BS="http://www.w3.org/2000/svg",a0="http://www.w3.org/2000/xmlns/",dh="http://www.w3.org/1999/xlink",Nt={window:typeof window>"u"?null:window,document:typeof document>"u"?null:document};function pg(){return Nt.window}let HS=class{};const Ql={},US="___SYMBOL___ROOT___";function Rf(i,e=BS){return Nt.document.createElementNS(e,i)}function Xi(i,e=!1){if(i instanceof HS)return i;if(typeof i=="object")return o0(i);if(i==null)return new Ql[US];if(typeof i=="string"&&i.charAt(0)!=="<")return o0(Nt.document.querySelector(i));const t=e?Nt.document.createElement("div"):Rf("svg");return t.innerHTML=i,i=o0(t.firstChild),t.removeChild(t.firstChild),i}function sn(i,e){return e&&(e instanceof Nt.window.Node||e.ownerDocument&&e instanceof e.ownerDocument.defaultView.Node)?e:Rf(i)}function Xs(i){if(!i)return null;if(i.instance instanceof HS)return i.instance;if(i.nodeName==="#document-fragment")return new Ql.Fragment(i);let e=uh(i.nodeName||"Dom");return e==="LinearGradient"||e==="RadialGradient"?e="Gradient":Ql[e]||(e="Dom"),new Ql[e](i)}let o0=Xs;function Pt(i,e=i.name,t=!1){return Ql[e]=i,t&&(Ql[US]=i),WV(Object.getOwnPropertyNames(i.prototype)),i}let zJ=1e3;function qV(i){return"Svgjs"+uh(i)+zJ++}function $V(i){for(let e=i.children.length-1;e>=0;e--)$V(i.children[e]);return i.id&&(i.id=qV(i.nodeName)),i}function je(i,e){let t,n;for(n=(i=Array.isArray(i)?i:[i]).length-1;n>=0;n--)for(t in e)i[n].prototype[t]=e[t]}function nn(i){return function(...e){const t=e[e.length-1];return!t||t.constructor!==Object||t instanceof Array?i.apply(this,e):i.apply(this,e.slice(0,-1)).attr(t)}}ct("Dom",{siblings:function(){return this.parent().children()},position:function(){return this.parent().index(this)},next:function(){return this.siblings()[this.position()+1]},prev:function(){return this.siblings()[this.position()-1]},forward:function(){const i=this.position();return this.parent().add(this.remove(),i+1),this},backward:function(){const i=this.position();return this.parent().add(this.remove(),i?i-1:0),this},front:function(){return this.parent().add(this.remove()),this},back:function(){return this.parent().add(this.remove(),0),this},before:function(i){(i=Xi(i)).remove();const e=this.position();return this.parent().add(i,e),this},after:function(i){(i=Xi(i)).remove();const e=this.position();return this.parent().add(i,e+1),this},insertBefore:function(i){return(i=Xi(i)).before(this),this},insertAfter:function(i){return(i=Xi(i)).after(this),this}});const KV=/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,jJ=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,BJ=/rgb\((\d+),(\d+),(\d+)\)/,HJ=/(#[a-z_][a-z0-9\-_]*)/i,UJ=/\)\s*,?\s*/,YJ=/\s/g,I2=/^#[a-f0-9]{3}$|^#[a-f0-9]{6}$/i,M2=/^rgb\(/,D2=/^(\s+)?$/,N2=/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,XJ=/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,Ga=/[\s,]+/,YS=/[MLHVCSQTAZ]/i;function WJ(i){const e=Math.round(i),t=Math.max(0,Math.min(255,e)).toString(16);return t.length===1?"0"+t:t}function cu(i,e){for(let t=e.length;t--;)if(i[e[t]]==null)return!1;return!0}function l0(i,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?i+6*(e-i)*t:t<.5?e:t<2/3?i+(e-i)*(2/3-t)*6:i}ct("Dom",{classes:function(){const i=this.attr("class");return i==null?[]:i.trim().split(Ga)},hasClass:function(i){return this.classes().indexOf(i)!==-1},addClass:function(i){if(!this.hasClass(i)){const e=this.classes();e.push(i),this.attr("class",e.join(" "))}return this},removeClass:function(i){return this.hasClass(i)&&this.attr("class",this.classes().filter(function(e){return e!==i}).join(" ")),this},toggleClass:function(i){return this.hasClass(i)?this.removeClass(i):this.addClass(i)}}),ct("Dom",{css:function(i,e){const t={};if(arguments.length===0)return this.node.style.cssText.split(/\s*;\s*/).filter(function(n){return!!n.length}).forEach(function(n){const s=n.split(/\s*:\s*/);t[s[0]]=s[1]}),t;if(arguments.length<2){if(Array.isArray(i)){for(const n of i){const s=n;t[n]=this.node.style.getPropertyValue(s)}return t}if(typeof i=="string")return this.node.style.getPropertyValue(i);if(typeof i=="object")for(const n in i)this.node.style.setProperty(n,i[n]==null||D2.test(i[n])?"":i[n])}return arguments.length===2&&this.node.style.setProperty(i,e==null||D2.test(e)?"":e),this},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},visible:function(){return this.css("display")!=="none"}}),ct("Dom",{data:function(i,e,t){if(i==null)return this.data(jS(function(n,s){let r;const a=n.length,l=[];for(r=0;r<a;r++)s(n[r])&&l.push(n[r]);return l}(this.node.attributes,n=>n.nodeName.indexOf("data-")===0),n=>n.nodeName.slice(5)));if(i instanceof Array){const n={};for(const s of i)n[s]=this.data(s);return n}if(typeof i=="object")for(e in i)this.data(e,i[e]);else if(arguments.length<2)try{return JSON.parse(this.attr("data-"+i))}catch{return this.attr("data-"+i)}else this.attr("data-"+i,e===null?null:t===!0||typeof e=="string"||typeof e=="number"?e:JSON.stringify(e));return this}}),ct("Dom",{remember:function(i,e){if(typeof arguments[0]=="object")for(const t in i)this.remember(t,i[t]);else{if(arguments.length===1)return this.memory()[i];this.memory()[i]=e}return this},forget:function(){if(arguments.length===0)this._memory={};else for(let i=arguments.length-1;i>=0;i--)delete this.memory()[arguments[i]];return this},memory:function(){return this._memory=this._memory||{}}});class qt{constructor(...e){this.init(...e)}static isColor(e){return e&&(e instanceof qt||this.isRgb(e)||this.test(e))}static isRgb(e){return e&&typeof e.r=="number"&&typeof e.g=="number"&&typeof e.b=="number"}static random(e="vibrant",t){const{random:n,round:s,sin:r,PI:a}=Math;if(e==="vibrant"){const l=24*n()+57,c=38*n()+45,h=360*n();return new qt(l,c,h,"lch")}if(e==="sine"){const l=s(80*r(2*a*(t=t??n())/.5+.01)+150),c=s(50*r(2*a*t/.5+4.6)+200),h=s(100*r(2*a*t/.5+2.3)+150);return new qt(l,c,h)}if(e==="pastel"){const l=8*n()+86,c=17*n()+9,h=360*n();return new qt(l,c,h,"lch")}if(e==="dark"){const l=10+10*n(),c=50*n()+86,h=360*n();return new qt(l,c,h,"lch")}if(e==="rgb"){const l=255*n(),c=255*n(),h=255*n();return new qt(l,c,h)}if(e==="lab"){const l=100*n(),c=256*n()-128,h=256*n()-128;return new qt(l,c,h,"lab")}if(e==="grey"){const l=255*n();return new qt(l,l,l)}throw new Error("Unsupported random color mode")}static test(e){return typeof e=="string"&&(I2.test(e)||M2.test(e))}cmyk(){const{_a:e,_b:t,_c:n}=this.rgb(),[s,r,a]=[e,t,n].map(c=>c/255),l=Math.min(1-s,1-r,1-a);return l===1?new qt(0,0,0,1,"cmyk"):new qt((1-s-l)/(1-l),(1-r-l)/(1-l),(1-a-l)/(1-l),l,"cmyk")}hsl(){const{_a:e,_b:t,_c:n}=this.rgb(),[s,r,a]=[e,t,n].map(p=>p/255),l=Math.max(s,r,a),c=Math.min(s,r,a),h=(l+c)/2,d=l===c,f=l-c;return new qt(360*(d?0:l===s?((r-a)/f+(r<a?6:0))/6:l===r?((a-s)/f+2)/6:l===a?((s-r)/f+4)/6:0),100*(d?0:h>.5?f/(2-l-c):f/(l+c)),100*h,"hsl")}init(e=0,t=0,n=0,s=0,r="rgb"){if(e=e||0,this.space)for(const f in this.space)delete this[this.space[f]];if(typeof e=="number")r=typeof s=="string"?s:r,s=typeof s=="string"?0:s,Object.assign(this,{_a:e,_b:t,_c:n,_d:s,space:r});else if(e instanceof Array)this.space=t||(typeof e[3]=="string"?e[3]:e[4])||"rgb",Object.assign(this,{_a:e[0],_b:e[1],_c:e[2],_d:e[3]||0});else if(e instanceof Object){const f=function(p,y){const b=cu(p,"rgb")?{_a:p.r,_b:p.g,_c:p.b,_d:0,space:"rgb"}:cu(p,"xyz")?{_a:p.x,_b:p.y,_c:p.z,_d:0,space:"xyz"}:cu(p,"hsl")?{_a:p.h,_b:p.s,_c:p.l,_d:0,space:"hsl"}:cu(p,"lab")?{_a:p.l,_b:p.a,_c:p.b,_d:0,space:"lab"}:cu(p,"lch")?{_a:p.l,_b:p.c,_c:p.h,_d:0,space:"lch"}:cu(p,"cmyk")?{_a:p.c,_b:p.m,_c:p.y,_d:p.k,space:"cmyk"}:{_a:0,_b:0,_c:0,space:"rgb"};return b.space=y||b.space,b}(e,t);Object.assign(this,f)}else if(typeof e=="string")if(M2.test(e)){const f=e.replace(YJ,""),[p,y,b]=BJ.exec(f).slice(1,4).map(x=>parseInt(x));Object.assign(this,{_a:p,_b:y,_c:b,_d:0,space:"rgb"})}else{if(!I2.test(e))throw Error("Unsupported string format, can't construct Color");{const f=x=>parseInt(x,16),[,p,y,b]=jJ.exec(function(x){return x.length===4?["#",x.substring(1,2),x.substring(1,2),x.substring(2,3),x.substring(2,3),x.substring(3,4),x.substring(3,4)].join(""):x}(e)).map(f);Object.assign(this,{_a:p,_b:y,_c:b,_d:0,space:"rgb"})}}const{_a:a,_b:l,_c:c,_d:h}=this,d=this.space==="rgb"?{r:a,g:l,b:c}:this.space==="xyz"?{x:a,y:l,z:c}:this.space==="hsl"?{h:a,s:l,l:c}:this.space==="lab"?{l:a,a:l,b:c}:this.space==="lch"?{l:a,c:l,h:c}:this.space==="cmyk"?{c:a,m:l,y:c,k:h}:{};Object.assign(this,d)}lab(){const{x:e,y:t,z:n}=this.xyz();return new qt(116*t-16,500*(e-t),200*(t-n),"lab")}lch(){const{l:e,a:t,b:n}=this.lab(),s=Math.sqrt(t**2+n**2);let r=180*Math.atan2(n,t)/Math.PI;return r<0&&(r*=-1,r=360-r),new qt(e,s,r,"lch")}rgb(){if(this.space==="rgb")return this;if((e=this.space)==="lab"||e==="xyz"||e==="lch"){let{x:t,y:n,z:s}=this;if(this.space==="lab"||this.space==="lch"){let{l:y,a:b,b:x}=this;if(this.space==="lch"){const{c:P,h:k}=this,E=Math.PI/180;b=P*Math.cos(E*k),x=P*Math.sin(E*k)}const _=(y+16)/116,S=b/500+_,T=_-x/200,C=16/116,M=.008856,R=7.787;t=.95047*(S**3>M?S**3:(S-C)/R),n=1*(_**3>M?_**3:(_-C)/R),s=1.08883*(T**3>M?T**3:(T-C)/R)}const r=3.2406*t+-1.5372*n+-.4986*s,a=-.9689*t+1.8758*n+.0415*s,l=.0557*t+-.204*n+1.057*s,c=Math.pow,h=.0031308,d=r>h?1.055*c(r,1/2.4)-.055:12.92*r,f=a>h?1.055*c(a,1/2.4)-.055:12.92*a,p=l>h?1.055*c(l,1/2.4)-.055:12.92*l;return new qt(255*d,255*f,255*p)}if(this.space==="hsl"){let{h:t,s:n,l:s}=this;if(t/=360,n/=100,s/=100,n===0)return s*=255,new qt(s,s,s);const r=s<.5?s*(1+n):s+n-s*n,a=2*s-r,l=255*l0(a,r,t+1/3),c=255*l0(a,r,t),h=255*l0(a,r,t-1/3);return new qt(l,c,h)}if(this.space==="cmyk"){const{c:t,m:n,y:s,k:r}=this,a=255*(1-Math.min(1,t*(1-r)+r)),l=255*(1-Math.min(1,n*(1-r)+r)),c=255*(1-Math.min(1,s*(1-r)+r));return new qt(a,l,c)}return this;var e}toArray(){const{_a:e,_b:t,_c:n,_d:s,space:r}=this;return[e,t,n,s,r]}toHex(){const[e,t,n]=this._clamped().map(WJ);return`#${e}${t}${n}`}toRgb(){const[e,t,n]=this._clamped();return`rgb(${e},${t},${n})`}toString(){return this.toHex()}xyz(){const{_a:e,_b:t,_c:n}=this.rgb(),[s,r,a]=[e,t,n].map(_=>_/255),l=s>.04045?Math.pow((s+.055)/1.055,2.4):s/12.92,c=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92,h=a>.04045?Math.pow((a+.055)/1.055,2.4):a/12.92,d=(.4124*l+.3576*c+.1805*h)/.95047,f=(.2126*l+.7152*c+.0722*h)/1,p=(.0193*l+.1192*c+.9505*h)/1.08883,y=d>.008856?Math.pow(d,1/3):7.787*d+16/116,b=f>.008856?Math.pow(f,1/3):7.787*f+16/116,x=p>.008856?Math.pow(p,1/3):7.787*p+16/116;return new qt(y,b,x,"xyz")}_clamped(){const{_a:e,_b:t,_c:n}=this.rgb(),{max:s,min:r,round:a}=Math;return[e,t,n].map(l=>s(0,r(a(l),255)))}}class jt{constructor(...e){this.init(...e)}clone(){return new jt(this)}init(e,t){const r=Array.isArray(e)?{x:e[0],y:e[1]}:typeof e=="object"?{x:e.x,y:e.y}:{x:e,y:t};return this.x=r.x==null?0:r.x,this.y=r.y==null?0:r.y,this}toArray(){return[this.x,this.y]}transform(e){return this.clone().transformO(e)}transformO(e){Ve.isMatrixLike(e)||(e=new Ve(e));const{x:t,y:n}=this;return this.x=e.a*t+e.c*n+e.e,this.y=e.b*t+e.d*n+e.f,this}}function uu(i,e,t){return Math.abs(e-i)<1e-6}class Ve{constructor(...e){this.init(...e)}static formatTransforms(e){const t=e.flip==="both"||e.flip===!0,n=e.flip&&(t||e.flip==="x")?-1:1,s=e.flip&&(t||e.flip==="y")?-1:1,r=e.skew&&e.skew.length?e.skew[0]:isFinite(e.skew)?e.skew:isFinite(e.skewX)?e.skewX:0,a=e.skew&&e.skew.length?e.skew[1]:isFinite(e.skew)?e.skew:isFinite(e.skewY)?e.skewY:0,l=e.scale&&e.scale.length?e.scale[0]*n:isFinite(e.scale)?e.scale*n:isFinite(e.scaleX)?e.scaleX*n:n,c=e.scale&&e.scale.length?e.scale[1]*s:isFinite(e.scale)?e.scale*s:isFinite(e.scaleY)?e.scaleY*s:s,h=e.shear||0,d=e.rotate||e.theta||0,f=new jt(e.origin||e.around||e.ox||e.originX,e.oy||e.originY),p=f.x,y=f.y,b=new jt(e.position||e.px||e.positionX||NaN,e.py||e.positionY||NaN),x=b.x,_=b.y,S=new jt(e.translate||e.tx||e.translateX,e.ty||e.translateY),T=S.x,C=S.y,M=new jt(e.relative||e.rx||e.relativeX,e.ry||e.relativeY);return{scaleX:l,scaleY:c,skewX:r,skewY:a,shear:h,theta:d,rx:M.x,ry:M.y,tx:T,ty:C,ox:p,oy:y,px:x,py:_}}static fromArray(e){return{a:e[0],b:e[1],c:e[2],d:e[3],e:e[4],f:e[5]}}static isMatrixLike(e){return e.a!=null||e.b!=null||e.c!=null||e.d!=null||e.e!=null||e.f!=null}static matrixMultiply(e,t,n){const s=e.a*t.a+e.c*t.b,r=e.b*t.a+e.d*t.b,a=e.a*t.c+e.c*t.d,l=e.b*t.c+e.d*t.d,c=e.e+e.a*t.e+e.c*t.f,h=e.f+e.b*t.e+e.d*t.f;return n.a=s,n.b=r,n.c=a,n.d=l,n.e=c,n.f=h,n}around(e,t,n){return this.clone().aroundO(e,t,n)}aroundO(e,t,n){const s=e||0,r=t||0;return this.translateO(-s,-r).lmultiplyO(n).translateO(s,r)}clone(){return new Ve(this)}decompose(e=0,t=0){const n=this.a,s=this.b,r=this.c,a=this.d,l=this.e,c=this.f,h=n*a-s*r,d=h>0?1:-1,f=d*Math.sqrt(n*n+s*s),p=Math.atan2(d*s,d*n),y=180/Math.PI*p,b=Math.cos(p),x=Math.sin(p),_=(n*r+s*a)/h,S=r*f/(_*n-s)||a*f/(_*s+n);return{scaleX:f,scaleY:S,shear:_,rotate:y,translateX:l-e+e*b*f+t*(_*b*f-x*S),translateY:c-t+e*x*f+t*(_*x*f+b*S),originX:e,originY:t,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}equals(e){if(e===this)return!0;const t=new Ve(e);return uu(this.a,t.a)&&uu(this.b,t.b)&&uu(this.c,t.c)&&uu(this.d,t.d)&&uu(this.e,t.e)&&uu(this.f,t.f)}flip(e,t){return this.clone().flipO(e,t)}flipO(e,t){return e==="x"?this.scaleO(-1,1,t,0):e==="y"?this.scaleO(1,-1,0,t):this.scaleO(-1,-1,e,t||e)}init(e){const t=Ve.fromArray([1,0,0,1,0,0]);return e=e instanceof wi?e.matrixify():typeof e=="string"?Ve.fromArray(e.split(Ga).map(parseFloat)):Array.isArray(e)?Ve.fromArray(e):typeof e=="object"&&Ve.isMatrixLike(e)?e:typeof e=="object"?new Ve().transform(e):arguments.length===6?Ve.fromArray([].slice.call(arguments)):t,this.a=e.a!=null?e.a:t.a,this.b=e.b!=null?e.b:t.b,this.c=e.c!=null?e.c:t.c,this.d=e.d!=null?e.d:t.d,this.e=e.e!=null?e.e:t.e,this.f=e.f!=null?e.f:t.f,this}inverse(){return this.clone().inverseO()}inverseO(){const e=this.a,t=this.b,n=this.c,s=this.d,r=this.e,a=this.f,l=e*s-t*n;if(!l)throw new Error("Cannot invert "+this);const c=s/l,h=-t/l,d=-n/l,f=e/l,p=-(c*r+d*a),y=-(h*r+f*a);return this.a=c,this.b=h,this.c=d,this.d=f,this.e=p,this.f=y,this}lmultiply(e){return this.clone().lmultiplyO(e)}lmultiplyO(e){const t=e instanceof Ve?e:new Ve(e);return Ve.matrixMultiply(t,this,this)}multiply(e){return this.clone().multiplyO(e)}multiplyO(e){const t=e instanceof Ve?e:new Ve(e);return Ve.matrixMultiply(this,t,this)}rotate(e,t,n){return this.clone().rotateO(e,t,n)}rotateO(e,t=0,n=0){e=r0(e);const s=Math.cos(e),r=Math.sin(e),{a,b:l,c,d:h,e:d,f}=this;return this.a=a*s-l*r,this.b=l*s+a*r,this.c=c*s-h*r,this.d=h*s+c*r,this.e=d*s-f*r+n*r-t*s+t,this.f=f*s+d*r-t*r-n*s+n,this}scale(){return this.clone().scaleO(...arguments)}scaleO(e,t=e,n=0,s=0){arguments.length===3&&(s=n,n=t,t=e);const{a:r,b:a,c:l,d:c,e:h,f:d}=this;return this.a=r*e,this.b=a*t,this.c=l*e,this.d=c*t,this.e=h*e-n*e+n,this.f=d*t-s*t+s,this}shear(e,t,n){return this.clone().shearO(e,t,n)}shearO(e,t=0,n=0){const{a:s,b:r,c:a,d:l,e:c,f:h}=this;return this.a=s+r*e,this.c=a+l*e,this.e=c+h*e-n*e,this}skew(){return this.clone().skewO(...arguments)}skewO(e,t=e,n=0,s=0){arguments.length===3&&(s=n,n=t,t=e),e=r0(e),t=r0(t);const r=Math.tan(e),a=Math.tan(t),{a:l,b:c,c:h,d,e:f,f:p}=this;return this.a=l+c*r,this.b=c+l*a,this.c=h+d*r,this.d=d+h*a,this.e=f+p*r-s*r,this.f=p+f*a-n*a,this}skewX(e,t,n){return this.skew(e,0,t,n)}skewY(e,t,n){return this.skew(0,e,t,n)}toArray(){return[this.a,this.b,this.c,this.d,this.e,this.f]}toString(){return"matrix("+this.a+","+this.b+","+this.c+","+this.d+","+this.e+","+this.f+")"}transform(e){if(Ve.isMatrixLike(e))return new Ve(e).multiplyO(this);const t=Ve.formatTransforms(e),{x:n,y:s}=new jt(t.ox,t.oy).transform(this),r=new Ve().translateO(t.rx,t.ry).lmultiplyO(this).translateO(-n,-s).scaleO(t.scaleX,t.scaleY).skewO(t.skewX,t.skewY).shearO(t.shear).rotateO(t.theta).translateO(n,s);if(isFinite(t.px)||isFinite(t.py)){const a=new jt(n,s).transform(r),l=isFinite(t.px)?t.px-a.x:0,c=isFinite(t.py)?t.py-a.y:0;r.translateO(l,c)}return r.translateO(t.tx,t.ty),r}translate(e,t){return this.clone().translateO(e,t)}translateO(e,t){return this.e+=e||0,this.f+=t||0,this}valueOf(){return{a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}}function ko(){if(!ko.nodes){const i=Xi().size(2,0);i.node.style.cssText=["opacity: 0","position: absolute","left: -100%","top: -100%","overflow: hidden"].join(";"),i.attr("focusable","false"),i.attr("aria-hidden","true");const e=i.path().node;ko.nodes={svg:i,path:e}}if(!ko.nodes.svg.node.parentNode){const i=Nt.document.body||Nt.document.documentElement;ko.nodes.svg.addTo(i)}return ko.nodes}function QV(i){return!(i.width||i.height||i.x||i.y)}Pt(Ve,"Matrix");class In{constructor(...e){this.init(...e)}addOffset(){return this.x+=Nt.window.pageXOffset,this.y+=Nt.window.pageYOffset,new In(this)}init(e){return e=typeof e=="string"?e.split(Ga).map(parseFloat):Array.isArray(e)?e:typeof e=="object"?[e.left!=null?e.left:e.x,e.top!=null?e.top:e.y,e.width,e.height]:arguments.length===4?[].slice.call(arguments):[0,0,0,0],this.x=e[0]||0,this.y=e[1]||0,this.width=this.w=e[2]||0,this.height=this.h=e[3]||0,this.x2=this.x+this.w,this.y2=this.y+this.h,this.cx=this.x+this.w/2,this.cy=this.y+this.h/2,this}isNulled(){return QV(this)}merge(e){const t=Math.min(this.x,e.x),n=Math.min(this.y,e.y),s=Math.max(this.x+this.width,e.x+e.width)-t,r=Math.max(this.y+this.height,e.y+e.height)-n;return new In(t,n,s,r)}toArray(){return[this.x,this.y,this.width,this.height]}toString(){return this.x+" "+this.y+" "+this.width+" "+this.height}transform(e){e instanceof Ve||(e=new Ve(e));let t=1/0,n=-1/0,s=1/0,r=-1/0;return[new jt(this.x,this.y),new jt(this.x2,this.y),new jt(this.x,this.y2),new jt(this.x2,this.y2)].forEach(function(a){a=a.transform(e),t=Math.min(t,a.x),n=Math.max(n,a.x),s=Math.min(s,a.y),r=Math.max(r,a.y)}),new In(t,s,n-t,r-s)}}function P2(i,e,t){let n;try{if(n=e(i.node),QV(n)&&(s=i.node)!==Nt.document&&!(Nt.document.documentElement.contains||function(r){for(;r.parentNode;)r=r.parentNode;return r===Nt.document}).call(Nt.document.documentElement,s))throw new Error("Element not in the dom")}catch{n=t(i)}var s;return n}ct({viewbox:{viewbox(i,e,t,n){return i==null?new In(this.attr("viewBox")):this.attr("viewBox",new In(i,e,t,n))},zoom(i,e){let{width:t,height:n}=this.attr(["width","height"]);if((t||n)&&typeof t!="string"&&typeof n!="string"||(t=this.node.clientWidth,n=this.node.clientHeight),!t||!n)throw new Error("Impossible to get absolute width and height. Please provide an absolute width and height attribute on the zooming element");const s=this.viewbox(),r=t/s.width,a=n/s.height,l=Math.min(r,a);if(i==null)return l;let c=l/i;c===1/0&&(c=Number.MAX_SAFE_INTEGER/100),e=e||new jt(t/2/r+s.x,n/2/a+s.y);const h=new In(s).transform(new Ve({scale:c,origin:e}));return this.viewbox(h)}}}),Pt(In,"Box");class lc extends Array{constructor(e=[],...t){if(super(e,...t),typeof e=="number")return this;this.length=0,this.push(...e)}}je([lc],{each(i,...e){return typeof i=="function"?this.map((t,n,s)=>i.call(t,t,n,s)):this.map(t=>t[i](...e))},toArray(){return Array.prototype.concat.apply([],this)}});const GJ=["toArray","constructor","each"];function vc(i,e){return new lc(jS((e||Nt.document).querySelectorAll(i),function(t){return Xs(t)}))}lc.extend=function(i){i=i.reduce((e,t)=>(GJ.includes(t)||t[0]==="_"||(t in Array.prototype&&(e["$"+t]=Array.prototype[t]),e[t]=function(...n){return this.each(t,...n)}),e),{}),je([lc],i)};let qJ=0;const ZV={};function JV(i){let e=i.getEventHolder();return e===Nt.window&&(e=ZV),e.events||(e.events={}),e.events}function XS(i){return i.getEventTarget()}function ka(i,e,t,n,s){const r=t.bind(n||i),a=Xi(i),l=JV(a),c=XS(a);e=Array.isArray(e)?e:e.split(Ga),t._svgjsListenerId||(t._svgjsListenerId=++qJ),e.forEach(function(h){const d=h.split(".")[0],f=h.split(".")[1]||"*";l[d]=l[d]||{},l[d][f]=l[d][f]||{},l[d][f][t._svgjsListenerId]=r,c.addEventListener(d,r,s||!1)})}function qs(i,e,t,n){const s=Xi(i),r=JV(s),a=XS(s);(typeof t!="function"||(t=t._svgjsListenerId))&&(e=Array.isArray(e)?e:(e||"").split(Ga)).forEach(function(l){const c=l&&l.split(".")[0],h=l&&l.split(".")[1];let d,f;if(t)r[c]&&r[c][h||"*"]&&(a.removeEventListener(c,r[c][h||"*"][t],n||!1),delete r[c][h||"*"][t]);else if(c&&h){if(r[c]&&r[c][h]){for(f in r[c][h])qs(a,[c,h].join("."),f);delete r[c][h]}}else if(h)for(l in r)for(d in r[l])h===d&&qs(a,[l,h].join("."));else if(c){if(r[c]){for(d in r[c])qs(a,[c,d].join("."));delete r[c]}}else{for(l in r)qs(a,l);(function(p){let y=p.getEventHolder();y===Nt.window&&(y=ZV),y.events&&(y.events={})})(s)}})}class mg extends HS{addEventListener(){}dispatch(e,t,n){return function(s,r,a,l){const c=XS(s);return r instanceof Nt.window.Event||(r=new Nt.window.CustomEvent(r,{detail:a,cancelable:!0,...l})),c.dispatchEvent(r),r}(this,e,t,n)}dispatchEvent(e){const t=this.getEventHolder().events;if(!t)return!0;const n=t[e.type];for(const s in n)for(const r in n[s])n[s][r](e);return!e.defaultPrevented}fire(e,t,n){return this.dispatch(e,t,n),this}getEventHolder(){return this}getEventTarget(){return this}off(e,t,n){return qs(this,e,t,n),this}on(e,t,n,s){return ka(this,e,t,n,s),this}removeEventListener(){}}function O2(){}Pt(mg,"EventTarget");const c0=400,$J=">",KJ=0,QJ={"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","text-anchor":"start"};class cc extends Array{constructor(...e){super(...e),this.init(...e)}clone(){return new this.constructor(this)}init(e){return typeof e=="number"||(this.length=0,this.push(...this.parse(e))),this}parse(e=[]){return e instanceof Array?e:e.trim().split(Ga).map(parseFloat)}toArray(){return Array.prototype.concat.apply([],this)}toSet(){return new Set(this)}toString(){return this.join(" ")}valueOf(){const e=[];return e.push(...this),e}}class it{constructor(...e){this.init(...e)}convert(e){return new it(this.value,e)}divide(e){return e=new it(e),new it(this/e,this.unit||e.unit)}init(e,t){return t=Array.isArray(e)?e[1]:t,e=Array.isArray(e)?e[0]:e,this.value=0,this.unit=t||"",typeof e=="number"?this.value=isNaN(e)?0:isFinite(e)?e:e<0?-34e37:34e37:typeof e=="string"?(t=e.match(KV))&&(this.value=parseFloat(t[1]),t[5]==="%"?this.value/=100:t[5]==="s"&&(this.value*=1e3),this.unit=t[5]):e instanceof it&&(this.value=e.valueOf(),this.unit=e.unit),this}minus(e){return e=new it(e),new it(this-e,this.unit||e.unit)}plus(e){return e=new it(e),new it(this+e,this.unit||e.unit)}times(e){return e=new it(e),new it(this*e,this.unit||e.unit)}toArray(){return[this.value,this.unit]}toJSON(){return this.toString()}toString(){return(this.unit==="%"?~~(1e8*this.value)/1e6:this.unit==="s"?this.value/1e3:this.value)+this.unit}valueOf(){return this.value}}const ZJ=new Set(["fill","stroke","color","bgcolor","stop-color","flood-color","lighting-color"]),eF=[];class Wo extends mg{constructor(e,t){super(),this.node=e,this.type=e.nodeName,t&&e!==t&&this.attr(t)}add(e,t){return(e=Xi(e)).removeNamespace&&this.node instanceof Nt.window.SVGElement&&e.removeNamespace(),t==null?this.node.appendChild(e.node):e.node!==this.node.childNodes[t]&&this.node.insertBefore(e.node,this.node.childNodes[t]),this}addTo(e,t){return Xi(e).put(this,t)}children(){return new lc(jS(this.node.children,function(e){return Xs(e)}))}clear(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return this}clone(e=!0,t=!0){this.writeDataToDom();let n=this.node.cloneNode(e);return t&&(n=$V(n)),new this.constructor(n)}each(e,t){const n=this.children();let s,r;for(s=0,r=n.length;s<r;s++)e.apply(n[s],[s,n]),t&&n[s].each(e,t);return this}element(e,t){return this.put(new Wo(Rf(e),t))}first(){return Xs(this.node.firstChild)}get(e){return Xs(this.node.childNodes[e])}getEventHolder(){return this.node}getEventTarget(){return this.node}has(e){return this.index(e)>=0}html(e,t){return this.xml(e,t,"http://www.w3.org/1999/xhtml")}id(e){return e!==void 0||this.node.id||(this.node.id=qV(this.type)),this.attr("id",e)}index(e){return[].slice.call(this.node.childNodes).indexOf(e.node)}last(){return Xs(this.node.lastChild)}matches(e){const t=this.node,n=t.matches||t.matchesSelector||t.msMatchesSelector||t.mozMatchesSelector||t.webkitMatchesSelector||t.oMatchesSelector||null;return n&&n.call(t,e)}parent(e){let t=this;if(!t.node.parentNode)return null;if(t=Xs(t.node.parentNode),!e)return t;do if(typeof e=="string"?t.matches(e):t instanceof e)return t;while(t=Xs(t.node.parentNode));return t}put(e,t){return e=Xi(e),this.add(e,t),e}putIn(e,t){return Xi(e).add(this,t)}remove(){return this.parent()&&this.parent().removeElement(this),this}removeElement(e){return this.node.removeChild(e.node),this}replace(e){return e=Xi(e),this.node.parentNode&&this.node.parentNode.replaceChild(e.node,this.node),e}round(e=2,t=null){const n=10**e,s=this.attr(t);for(const r in s)typeof s[r]=="number"&&(s[r]=Math.round(s[r]*n)/n);return this.attr(s),this}svg(e,t){return this.xml(e,t,BS)}toString(){return this.id()}words(e){return this.node.textContent=e,this}wrap(e){const t=this.parent();if(!t)return this.addTo(e);const n=t.index(this);return t.put(e,n).put(this)}writeDataToDom(){return this.each(function(){this.writeDataToDom()}),this}xml(e,t,n){if(typeof e=="boolean"&&(n=t,t=e,e=null),e==null||typeof e=="function"){t=t==null||t,this.writeDataToDom();let l=this;if(e!=null){if(l=Xs(l.node.cloneNode(!0)),t){const c=e(l);if(l=c||l,c===!1)return""}l.each(function(){const c=e(this),h=c||this;c===!1?this.remove():c&&this!==h&&this.replace(h)},!0)}return t?l.node.outerHTML:l.node.innerHTML}t=t!=null&&t;const s=Rf("wrapper",n),r=Nt.document.createDocumentFragment();s.innerHTML=e;for(let l=s.children.length;l--;)r.appendChild(s.firstElementChild);const a=this.parent();return t?this.replace(r)&&a:this.add(r)}}je(Wo,{attr:function(i,e,t){if(i==null){i={},e=this.node.attributes;for(const n of e)i[n.nodeName]=N2.test(n.nodeValue)?parseFloat(n.nodeValue):n.nodeValue;return i}if(i instanceof Array)return i.reduce((n,s)=>(n[s]=this.attr(s),n),{});if(typeof i=="object"&&i.constructor===Object)for(e in i)this.attr(e,i[e]);else if(e===null)this.node.removeAttribute(i);else{if(e==null)return(e=this.node.getAttribute(i))==null?QJ[i]:N2.test(e)?parseFloat(e):e;typeof(e=eF.reduce((n,s)=>s(i,n,this),e))=="number"?e=new it(e):ZJ.has(i)&&qt.isColor(e)?e=new qt(e):e.constructor===Array&&(e=new cc(e)),i==="leading"?this.leading&&this.leading(e):typeof t=="string"?this.node.setAttributeNS(t,i,e.toString()):this.node.setAttribute(i,e.toString()),!this.rebuild||i!=="font-size"&&i!=="x"||this.rebuild()}return this},find:function(i){return vc(i,this.node)},findOne:function(i){return Xs(this.node.querySelector(i))}}),Pt(Wo,"Dom");let wi=class extends Wo{constructor(i,e){super(i,e),this.dom={},this.node.instance=this,(i.hasAttribute("data-svgjs")||i.hasAttribute("svgjs:data"))&&this.setData(JSON.parse(i.getAttribute("data-svgjs"))??JSON.parse(i.getAttribute("svgjs:data"))??{})}center(i,e){return this.cx(i).cy(e)}cx(i){return i==null?this.x()+this.width()/2:this.x(i-this.width()/2)}cy(i){return i==null?this.y()+this.height()/2:this.y(i-this.height()/2)}defs(){const i=this.root();return i&&i.defs()}dmove(i,e){return this.dx(i).dy(e)}dx(i=0){return this.x(new it(i).plus(this.x()))}dy(i=0){return this.y(new it(i).plus(this.y()))}getEventHolder(){return this}height(i){return this.attr("height",i)}move(i,e){return this.x(i).y(e)}parents(i=this.root()){const e=typeof i=="string";e||(i=Xi(i));const t=new lc;let n=this;for(;(n=n.parent())&&n.node!==Nt.document&&n.nodeName!=="#document-fragment"&&(t.push(n),e||n.node!==i.node)&&(!e||!n.matches(i));)if(n.node===this.root().node)return null;return t}reference(i){if(!(i=this.attr(i)))return null;const e=(i+"").match(HJ);return e?Xi(e[1]):null}root(){const i=this.parent(function(e){return Ql[e]}(US));return i&&i.root()}setData(i){return this.dom=i,this}size(i,e){const t=hh(this,i,e);return this.width(new it(t.width)).height(new it(t.height))}width(i){return this.attr("width",i)}writeDataToDom(){return GV(this,this.dom),super.writeDataToDom()}x(i){return this.attr("x",i)}y(i){return this.attr("y",i)}};je(wi,{bbox:function(){const i=P2(this,e=>e.getBBox(),e=>{try{const t=e.clone().addTo(ko().svg).show(),n=t.node.getBBox();return t.remove(),n}catch(t){throw new Error(`Getting bbox of element "${e.node.nodeName}" is not possible: ${t.toString()}`)}});return new In(i)},rbox:function(i){const e=P2(this,n=>n.getBoundingClientRect(),n=>{throw new Error(`Getting rbox of element "${n.node.nodeName}" is not possible`)}),t=new In(e);return i?t.transform(i.screenCTM().inverseO()):t.addOffset()},inside:function(i,e){const t=this.bbox();return i>t.x&&e>t.y&&i<t.x+t.width&&e<t.y+t.height},point:function(i,e){return new jt(i,e).transformO(this.screenCTM().inverseO())},ctm:function(){return new Ve(this.node.getCTM())},screenCTM:function(){try{if(typeof this.isRoot=="function"&&!this.isRoot()){const i=this.rect(1,1),e=i.node.getScreenCTM();return i.remove(),new Ve(e)}return new Ve(this.node.getScreenCTM())}catch{return console.warn(`Cannot get CTM from SVG node ${this.node.nodeName}. Is the element rendered?`),new Ve}}}),Pt(wi,"Element");const Ad={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(i,e){return e==="color"?i:i+"-"+e}};["fill","stroke"].forEach(function(i){const e={};let t;e[i]=function(n){if(n===void 0)return this.attr(i);if(typeof n=="string"||n instanceof qt||qt.isRgb(n)||n instanceof wi)this.attr(i,n);else for(t=Ad[i].length-1;t>=0;t--)n[Ad[i][t]]!=null&&this.attr(Ad.prefix(i,Ad[i][t]),n[Ad[i][t]]);return this},ct(["Element","Runner"],e)}),ct(["Element","Runner"],{matrix:function(i,e,t,n,s,r){return i==null?new Ve(this):this.attr("transform",new Ve(i,e,t,n,s,r))},rotate:function(i,e,t){return this.transform({rotate:i,ox:e,oy:t},!0)},skew:function(i,e,t,n){return arguments.length===1||arguments.length===3?this.transform({skew:i,ox:e,oy:t},!0):this.transform({skew:[i,e],ox:t,oy:n},!0)},shear:function(i,e,t){return this.transform({shear:i,ox:e,oy:t},!0)},scale:function(i,e,t,n){return arguments.length===1||arguments.length===3?this.transform({scale:i,ox:e,oy:t},!0):this.transform({scale:[i,e],ox:t,oy:n},!0)},translate:function(i,e){return this.transform({translate:[i,e]},!0)},relative:function(i,e){return this.transform({relative:[i,e]},!0)},flip:function(i="both",e="center"){return"xybothtrue".indexOf(i)===-1&&(e=i,i="both"),this.transform({flip:i,origin:e},!0)},opacity:function(i){return this.attr("opacity",i)}}),ct("radius",{radius:function(i,e=i){return(this._element||this).type==="radialGradient"?this.attr("r",new it(i)):this.rx(i).ry(e)}}),ct("Path",{length:function(){return this.node.getTotalLength()},pointAt:function(i){return new jt(this.node.getPointAtLength(i))}}),ct(["Element","Runner"],{font:function(i,e){if(typeof i=="object"){for(e in i)this.font(e,i[e]);return this}return i==="leading"?this.leading(e):i==="anchor"?this.attr("text-anchor",e):i==="size"||i==="family"||i==="weight"||i==="stretch"||i==="variant"||i==="style"?this.attr("font-"+i,e):this.attr(i,e)}});ct("Element",["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","touchstart","touchmove","touchleave","touchend","touchcancel","contextmenu","wheel","pointerdown","pointermove","pointerup","pointerleave","pointercancel"].reduce(function(i,e){return i[e]=function(t){return t===null?this.off(e):this.on(e,t),this},i},{})),ct("Element",{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(UJ).slice(0,-1).map(function(e){const t=e.trim().split("(");return[t[0],t[1].split(Ga).map(function(n){return parseFloat(n)})]}).reverse().reduce(function(e,t){return t[0]==="matrix"?e.lmultiply(Ve.fromArray(t[1])):e[t[0]].apply(e,t[1])},new Ve)},toParent:function(i,e){if(this===i)return this;if(Kw(this.node))return this.addTo(i,e);const t=this.screenCTM(),n=i.screenCTM().inverse();return this.addTo(i,e).untransform().transform(n.multiply(t)),this},toRoot:function(i){return this.toParent(this.root(),i)},transform:function(i,e){if(i==null||typeof i=="string"){const n=new Ve(this).decompose();return i==null?n:n[i]}Ve.isMatrixLike(i)||(i={...i,origin:$w(i,this)});const t=new Ve(e===!0?this:e||!1).transform(i);return this.attr("transform",t)}});class $i extends wi{flatten(){return this.each(function(){if(this instanceof $i)return this.flatten().ungroup()}),this}ungroup(e=this.parent(),t=e.index(this)){return t=t===-1?e.children().length:t,this.each(function(n,s){return s[s.length-n-1].toParent(e,t)}),this.remove()}}Pt($i,"Container");class mv extends $i{constructor(e,t=e){super(sn("defs",e),t)}flatten(){return this}ungroup(){return this}}Pt(mv,"Defs");class Ts extends wi{}function WS(i){return this.attr("rx",i)}function GS(i){return this.attr("ry",i)}function tF(i){return i==null?this.cx()-this.rx():this.cx(i+this.rx())}function nF(i){return i==null?this.cy()-this.ry():this.cy(i+this.ry())}function iF(i){return this.attr("cx",i)}function sF(i){return this.attr("cy",i)}function rF(i){return i==null?2*this.rx():this.rx(new it(i).divide(2))}function aF(i){return i==null?2*this.ry():this.ry(new it(i).divide(2))}Pt(Ts,"Shape");var JJ=Object.freeze({__proto__:null,cx:iF,cy:sF,height:aF,rx:WS,ry:GS,width:rF,x:tF,y:nF});class Tm extends Ts{constructor(e,t=e){super(sn("ellipse",e),t)}size(e,t){const n=hh(this,e,t);return this.rx(new it(n.width).divide(2)).ry(new it(n.height).divide(2))}}je(Tm,JJ),ct("Container",{ellipse:nn(function(i=0,e=i){return this.put(new Tm).size(i,e).move(0,0)})}),Pt(Tm,"Ellipse");class oF extends Wo{constructor(e=Nt.document.createDocumentFragment()){super(e)}xml(e,t,n){if(typeof e=="boolean"&&(n=t,t=e,e=null),e==null||typeof e=="function"){const s=new Wo(Rf("wrapper",n));return s.add(this.node.cloneNode(!0)),s.xml(!1,n)}return super.xml(e,!1,n)}}function lF(i,e){return(this._element||this).type==="radialGradient"?this.attr({fx:new it(i),fy:new it(e)}):this.attr({x1:new it(i),y1:new it(e)})}function cF(i,e){return(this._element||this).type==="radialGradient"?this.attr({cx:new it(i),cy:new it(e)}):this.attr({x2:new it(i),y2:new it(e)})}Pt(oF,"Fragment");var eee=Object.freeze({__proto__:null,from:lF,to:cF});class Qd extends $i{constructor(e,t){super(sn(e+"Gradient",typeof e=="string"?null:e),t)}attr(e,t,n){return e==="transform"&&(e="gradientTransform"),super.attr(e,t,n)}bbox(){return new In}targets(){return vc("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(e){return this.clear(),typeof e=="function"&&e.call(this,this),this}url(){return"url(#"+this.id()+")"}}je(Qd,eee),ct({Container:{gradient(...i){return this.defs().gradient(...i)}},Defs:{gradient:nn(function(i,e){return this.put(new Qd(i)).update(e)})}}),Pt(Qd,"Gradient");class If extends $i{constructor(e,t=e){super(sn("pattern",e),t)}attr(e,t,n){return e==="transform"&&(e="patternTransform"),super.attr(e,t,n)}bbox(){return new In}targets(){return vc("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(e){return this.clear(),typeof e=="function"&&e.call(this,this),this}url(){return"url(#"+this.id()+")"}}ct({Container:{pattern(...i){return this.defs().pattern(...i)}},Defs:{pattern:nn(function(i,e,t){return this.put(new If).update(t).attr({x:0,y:0,width:i,height:e,patternUnits:"userSpaceOnUse"})})}}),Pt(If,"Pattern");let Em=class extends Ts{constructor(i,e=i){super(sn("image",i),e)}load(i,e){if(!i)return this;const t=new Nt.window.Image;return ka(t,"load",function(n){const s=this.parent(If);this.width()===0&&this.height()===0&&this.size(t.width,t.height),s instanceof If&&s.width()===0&&s.height()===0&&s.size(this.width(),this.height()),typeof e=="function"&&e.call(this,n)},this),ka(t,"load error",function(){qs(t)}),this.attr("href",t.src=i,dh)}};var L2;L2=function(i,e,t){return i!=="fill"&&i!=="stroke"||XJ.test(e)&&(e=t.root().defs().image(e)),e instanceof Em&&(e=t.root().defs().pattern(0,0,n=>{n.add(e)})),e},eF.push(L2),ct({Container:{image:nn(function(i,e){return this.put(new Em).size(0,0).load(i,e)})}}),Pt(Em,"Image");class Go extends cc{bbox(){let e=-1/0,t=-1/0,n=1/0,s=1/0;return this.forEach(function(r){e=Math.max(r[0],e),t=Math.max(r[1],t),n=Math.min(r[0],n),s=Math.min(r[1],s)}),new In(n,s,e-n,t-s)}move(e,t){const n=this.bbox();if(e-=n.x,t-=n.y,!isNaN(e)&&!isNaN(t))for(let s=this.length-1;s>=0;s--)this[s]=[this[s][0]+e,this[s][1]+t];return this}parse(e=[0,0]){const t=[];(e=e instanceof Array?Array.prototype.concat.apply([],e):e.trim().split(Ga).map(parseFloat)).length%2!=0&&e.pop();for(let n=0,s=e.length;n<s;n+=2)t.push([e[n],e[n+1]]);return t}size(e,t){let n;const s=this.bbox();for(n=this.length-1;n>=0;n--)s.width&&(this[n][0]=(this[n][0]-s.x)*e/s.width+s.x),s.height&&(this[n][1]=(this[n][1]-s.y)*t/s.height+s.y);return this}toLine(){return{x1:this[0][0],y1:this[0][1],x2:this[1][0],y2:this[1][1]}}toString(){const e=[];for(let t=0,n=this.length;t<n;t++)e.push(this[t].join(","));return e.join(" ")}transform(e){return this.clone().transformO(e)}transformO(e){Ve.isMatrixLike(e)||(e=new Ve(e));for(let t=this.length;t--;){const[n,s]=this[t];this[t][0]=e.a*n+e.c*s+e.e,this[t][1]=e.b*n+e.d*s+e.f}return this}}const tee=Go;var qS=Object.freeze({__proto__:null,MorphArray:tee,height:function(i){const e=this.bbox();return i==null?e.height:this.size(e.width,i)},width:function(i){const e=this.bbox();return i==null?e.width:this.size(i,e.height)},x:function(i){return i==null?this.bbox().x:this.move(i,this.bbox().y)},y:function(i){return i==null?this.bbox().y:this.move(this.bbox().x,i)}});let Gl=class extends Ts{constructor(i,e=i){super(sn("line",i),e)}array(){return new Go([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])}move(i,e){return this.attr(this.array().move(i,e).toLine())}plot(i,e,t,n){return i==null?this.array():(i=e!==void 0?{x1:i,y1:e,x2:t,y2:n}:new Go(i).toLine(),this.attr(i))}size(i,e){const t=hh(this,i,e);return this.attr(this.array().size(t.width,t.height).toLine())}};je(Gl,qS),ct({Container:{line:nn(function(...i){return Gl.prototype.plot.apply(this.put(new Gl),i[0]!=null?i:[0,0,0,0])})}}),Pt(Gl,"Line");let Cm=class extends $i{constructor(i,e=i){super(sn("marker",i),e)}height(i){return this.attr("markerHeight",i)}orient(i){return this.attr("orient",i)}ref(i,e){return this.attr("refX",i).attr("refY",e)}toString(){return"url(#"+this.id()+")"}update(i){return this.clear(),typeof i=="function"&&i.call(this,this),this}width(i){return this.attr("markerWidth",i)}};function Su(i,e){return function(t){return t==null?this[i]:(this[i]=t,e&&e.call(this),this)}}ct({Container:{marker(...i){return this.defs().marker(...i)}},Defs:{marker:nn(function(i,e,t){return this.put(new Cm).size(i,e).ref(i/2,e/2).viewbox(0,0,i,e).attr("orient","auto").update(t)})},marker:{marker(i,e,t,n){let s=["marker"];return i!=="all"&&s.push(i),s=s.join("-"),i=arguments[1]instanceof Cm?arguments[1]:this.defs().marker(e,t,n),this.attr(s,i)}}}),Pt(Cm,"Marker");const nee={"-":function(i){return i},"<>":function(i){return-Math.cos(i*Math.PI)/2+.5},">":function(i){return Math.sin(i*Math.PI/2)},"<":function(i){return 1-Math.cos(i*Math.PI/2)},bezier:function(i,e,t,n){return function(s){return s<0?i>0?e/i*s:t>0?n/t*s:0:s>1?t<1?(1-n)/(1-t)*s+(n-t)/(1-t):i<1?(1-e)/(1-i)*s+(e-i)/(1-i):1:3*s*(1-s)**2*e+3*s**2*(1-s)*n+s**3}},steps:function(i,e="end"){e=e.split("-").reverse()[0];let t=i;return e==="none"?--t:e==="both"&&++t,(n,s=!1)=>{let r=Math.floor(n*i);const a=n*r%1==0;return e!=="start"&&e!=="both"||++r,s&&a&&--r,n>=0&&r<0&&(r=0),n<=1&&r>t&&(r=t),r/t}}};class $S{done(){return!1}}class Qw extends $S{constructor(e=$J){super(),this.ease=nee[e]||e}step(e,t,n){return typeof e!="number"?n<1?e:t:e+(t-e)*this.ease(n)}}class Sy extends $S{constructor(e){super(),this.stepper=e}done(e){return e.done}step(e,t,n,s){return this.stepper(e,t,n,s)}}function V2(){const i=(this._duration||500)/1e3,e=this._overshoot||0,t=Math.PI,n=Math.log(e/100+1e-10),s=-n/Math.sqrt(t*t+n*n),r=3.9/(s*i);this.d=2*s*r,this.k=r*r}je(class extends Sy{constructor(i=500,e=0){super(),this.duration(i).overshoot(e)}step(i,e,t,n){if(typeof i=="string")return i;if(n.done=t===1/0,t===1/0)return e;if(t===0)return i;t>100&&(t=16),t/=1e3;const s=n.velocity||0,r=-this.d*s-this.k*(i-e),a=i+s*t+r*t*t/2;return n.velocity=s+r*t,n.done=Math.abs(e-a)+Math.abs(s)<.002,n.done?e:a}},{duration:Su("_duration",V2),overshoot:Su("_overshoot",V2)});je(class extends Sy{constructor(i=.1,e=.01,t=0,n=1e3){super(),this.p(i).i(e).d(t).windup(n)}step(i,e,t,n){if(typeof i=="string")return i;if(n.done=t===1/0,t===1/0)return e;if(t===0)return i;const s=e-i;let r=(n.integral||0)+s*t;const a=(s-(n.error||0))/t,l=this._windup;return l!==!1&&(r=Math.max(-l,Math.min(r,l))),n.error=s,n.integral=r,n.done=Math.abs(s)<.001,n.done?e:i+(this.P*s+this.I*r+this.D*a)}},{windup:Su("_windup"),p:Su("P"),i:Su("I"),d:Su("D")});const iee={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0},Zw={M:function(i,e,t){return e.x=t.x=i[0],e.y=t.y=i[1],["M",e.x,e.y]},L:function(i,e){return e.x=i[0],e.y=i[1],["L",i[0],i[1]]},H:function(i,e){return e.x=i[0],["H",i[0]]},V:function(i,e){return e.y=i[0],["V",i[0]]},C:function(i,e){return e.x=i[4],e.y=i[5],["C",i[0],i[1],i[2],i[3],i[4],i[5]]},S:function(i,e){return e.x=i[2],e.y=i[3],["S",i[0],i[1],i[2],i[3]]},Q:function(i,e){return e.x=i[2],e.y=i[3],["Q",i[0],i[1],i[2],i[3]]},T:function(i,e){return e.x=i[0],e.y=i[1],["T",i[0],i[1]]},Z:function(i,e,t){return e.x=t.x,e.y=t.y,["Z"]},A:function(i,e){return e.x=i[5],e.y=i[6],["A",i[0],i[1],i[2],i[3],i[4],i[5],i[6]]}},u0="mlhvqtcsaz".split("");for(let i=0,e=u0.length;i<e;++i)Zw[u0[i]]=function(t){return function(n,s,r){if(t==="H")n[0]=n[0]+s.x;else if(t==="V")n[0]=n[0]+s.y;else if(t==="A")n[5]=n[5]+s.x,n[6]=n[6]+s.y;else for(let a=0,l=n.length;a<l;++a)n[a]=n[a]+(a%2?s.y:s.x);return Zw[t](n,s,r)}}(u0[i].toUpperCase());function Jw(i){return i.segment.length&&i.segment.length-1===iee[i.segment[0].toUpperCase()]}function see(i,e){i.inNumber&&Vl(i,!1);const t=YS.test(e);if(t)i.segment=[e];else{const n=i.lastCommand,s=n.toLowerCase(),r=n===s;i.segment=[s==="m"?r?"l":"L":n]}return i.inSegment=!0,i.lastCommand=i.segment[0],t}function Vl(i,e){if(!i.inNumber)throw new Error("Parser Error");i.number&&i.segment.push(parseFloat(i.number)),i.inNumber=e,i.number="",i.pointSeen=!1,i.hasExponent=!1,Jw(i)&&e_(i)}function e_(i){i.inSegment=!1,i.absolute&&(i.segment=function(e){const t=e.segment[0];return Zw[t](e.segment.slice(1),e.p,e.p0)}(i)),i.segments.push(i.segment)}function ree(i){if(!i.segment.length)return!1;const e=i.segment[0].toUpperCase()==="A",t=i.segment.length;return e&&(t===4||t===5)}function aee(i){return i.lastToken.toUpperCase()==="E"}const oee=new Set([" ",",","	",`
`,"\r","\f"]);class pr extends cc{bbox(){return ko().path.setAttribute("d",this.toString()),new In(ko.nodes.path.getBBox())}move(e,t){const n=this.bbox();if(e-=n.x,t-=n.y,!isNaN(e)&&!isNaN(t))for(let s,r=this.length-1;r>=0;r--)s=this[r][0],s==="M"||s==="L"||s==="T"?(this[r][1]+=e,this[r][2]+=t):s==="H"?this[r][1]+=e:s==="V"?this[r][1]+=t:s==="C"||s==="S"||s==="Q"?(this[r][1]+=e,this[r][2]+=t,this[r][3]+=e,this[r][4]+=t,s==="C"&&(this[r][5]+=e,this[r][6]+=t)):s==="A"&&(this[r][6]+=e,this[r][7]+=t);return this}parse(e="M0 0"){return Array.isArray(e)&&(e=Array.prototype.concat.apply([],e).toString()),function(t,n=!0){let s=0,r="";const a={segment:[],inNumber:!1,number:"",lastToken:"",inSegment:!1,segments:[],pointSeen:!1,hasExponent:!1,absolute:n,p0:new jt,p:new jt};for(;a.lastToken=r,r=t.charAt(s++);)if(a.inSegment||!see(a,r))if(r!==".")if(isNaN(parseInt(r)))if(oee.has(r))a.inNumber&&Vl(a,!1);else if(r!=="-"&&r!=="+")if(r.toUpperCase()!=="E"){if(YS.test(r)){if(a.inNumber)Vl(a,!1);else{if(!Jw(a))throw new Error("parser Error");e_(a)}--s}}else a.number+=r,a.hasExponent=!0;else{if(a.inNumber&&!aee(a)){Vl(a,!1),--s;continue}a.number+=r,a.inNumber=!0}else{if(a.number==="0"||ree(a)){a.inNumber=!0,a.number=r,Vl(a,!0);continue}a.inNumber=!0,a.number+=r}else{if(a.pointSeen||a.hasExponent){Vl(a,!1),--s;continue}a.inNumber=!0,a.pointSeen=!0,a.number+=r}return a.inNumber&&Vl(a,!1),a.inSegment&&Jw(a)&&e_(a),a.segments}(e)}size(e,t){const n=this.bbox();let s,r;for(n.width=n.width===0?1:n.width,n.height=n.height===0?1:n.height,s=this.length-1;s>=0;s--)r=this[s][0],r==="M"||r==="L"||r==="T"?(this[s][1]=(this[s][1]-n.x)*e/n.width+n.x,this[s][2]=(this[s][2]-n.y)*t/n.height+n.y):r==="H"?this[s][1]=(this[s][1]-n.x)*e/n.width+n.x:r==="V"?this[s][1]=(this[s][1]-n.y)*t/n.height+n.y:r==="C"||r==="S"||r==="Q"?(this[s][1]=(this[s][1]-n.x)*e/n.width+n.x,this[s][2]=(this[s][2]-n.y)*t/n.height+n.y,this[s][3]=(this[s][3]-n.x)*e/n.width+n.x,this[s][4]=(this[s][4]-n.y)*t/n.height+n.y,r==="C"&&(this[s][5]=(this[s][5]-n.x)*e/n.width+n.x,this[s][6]=(this[s][6]-n.y)*t/n.height+n.y)):r==="A"&&(this[s][1]=this[s][1]*e/n.width,this[s][2]=this[s][2]*t/n.height,this[s][6]=(this[s][6]-n.x)*e/n.width+n.x,this[s][7]=(this[s][7]-n.y)*t/n.height+n.y);return this}toString(){return function(e){let t="";for(let n=0,s=e.length;n<s;n++)t+=e[n][0],e[n][1]!=null&&(t+=e[n][1],e[n][2]!=null&&(t+=" ",t+=e[n][2],e[n][3]!=null&&(t+=" ",t+=e[n][3],t+=" ",t+=e[n][4],e[n][5]!=null&&(t+=" ",t+=e[n][5],t+=" ",t+=e[n][6],e[n][7]!=null&&(t+=" ",t+=e[n][7])))));return t+" "}(this)}}const uF=i=>{const e=typeof i;return e==="number"?it:e==="string"?qt.isColor(i)?qt:Ga.test(i)?YS.test(i)?pr:cc:KV.test(i)?it:t_:n_.indexOf(i.constructor)>-1?i.constructor:Array.isArray(i)?cc:e==="object"?Mf:t_};class Fl{constructor(e){this._stepper=e||new Qw("-"),this._from=null,this._to=null,this._type=null,this._context=null,this._morphObj=null}at(e){return this._morphObj.morph(this._from,this._to,e,this._stepper,this._context)}done(){return this._context.map(this._stepper.done).reduce(function(e,t){return e&&t},!0)}from(e){return e==null?this._from:(this._from=this._set(e),this)}stepper(e){return e==null?this._stepper:(this._stepper=e,this)}to(e){return e==null?this._to:(this._to=this._set(e),this)}type(e){return e==null?this._type:(this._type=e,this)}_set(e){this._type||this.type(uF(e));let t=new this._type(e);return this._type===qt&&(t=this._to?t[this._to[4]]():this._from?t[this._from[4]]():t),this._type===Mf&&(t=this._to?t.align(this._to):this._from?t.align(this._from):t),t=t.toConsumable(),this._morphObj=this._morphObj||new this._type,this._context=this._context||Array.apply(null,Array(t.length)).map(Object).map(function(n){return n.done=!0,n}),t}}class t_{constructor(...e){this.init(...e)}init(e){return e=Array.isArray(e)?e[0]:e,this.value=e,this}toArray(){return[this.value]}valueOf(){return this.value}}class yg{constructor(...e){this.init(...e)}init(e){return Array.isArray(e)&&(e={scaleX:e[0],scaleY:e[1],shear:e[2],rotate:e[3],translateX:e[4],translateY:e[5],originX:e[6],originY:e[7]}),Object.assign(this,yg.defaults,e),this}toArray(){const e=this;return[e.scaleX,e.scaleY,e.shear,e.rotate,e.translateX,e.translateY,e.originX,e.originY]}}yg.defaults={scaleX:1,scaleY:1,shear:0,rotate:0,translateX:0,translateY:0,originX:0,originY:0};const lee=(i,e)=>i[0]<e[0]?-1:i[0]>e[0]?1:0;class Mf{constructor(...e){this.init(...e)}align(e){const t=this.values;for(let n=0,s=t.length;n<s;++n){if(t[n+1]===e[n+1]){if(t[n+1]===qt&&e[n+7]!==t[n+7]){const l=e[n+7],c=new qt(this.values.splice(n+3,5))[l]().toArray();this.values.splice(n+3,0,...c)}n+=t[n+2]+2;continue}if(!e[n+1])return this;const r=new e[n+1]().toArray(),a=t[n+2]+3;t.splice(n,a,e[n],e[n+1],e[n+2],...r),n+=t[n+2]+2}return this}init(e){if(this.values=[],Array.isArray(e))return void(this.values=e.slice());e=e||{};const t=[];for(const n in e){const s=uF(e[n]),r=new s(e[n]).toArray();t.push([n,s,r.length,...r])}return t.sort(lee),this.values=t.reduce((n,s)=>n.concat(s),[]),this}toArray(){return this.values}valueOf(){const e={},t=this.values;for(;t.length;){const n=t.shift(),s=t.shift(),r=t.shift(),a=t.splice(0,r);e[n]=new s(a)}return e}}const n_=[t_,yg,Mf];class Mu extends Ts{constructor(e,t=e){super(sn("path",e),t)}array(){return this._array||(this._array=new pr(this.attr("d")))}clear(){return delete this._array,this}height(e){return e==null?this.bbox().height:this.size(this.bbox().width,e)}move(e,t){return this.attr("d",this.array().move(e,t))}plot(e){return e==null?this.array():this.clear().attr("d",typeof e=="string"?e:this._array=new pr(e))}size(e,t){const n=hh(this,e,t);return this.attr("d",this.array().size(n.width,n.height))}width(e){return e==null?this.bbox().width:this.size(e,this.bbox().height)}x(e){return e==null?this.bbox().x:this.move(e,this.bbox().y)}y(e){return e==null?this.bbox().y:this.move(this.bbox().x,e)}}Mu.prototype.MorphArray=pr,ct({Container:{path:nn(function(i){return this.put(new Mu).plot(i||new pr)})}}),Pt(Mu,"Path");var hF=Object.freeze({__proto__:null,array:function(){return this._array||(this._array=new Go(this.attr("points")))},clear:function(){return delete this._array,this},move:function(i,e){return this.attr("points",this.array().move(i,e))},plot:function(i){return i==null?this.array():this.clear().attr("points",typeof i=="string"?i:this._array=new Go(i))},size:function(i,e){const t=hh(this,i,e);return this.attr("points",this.array().size(t.width,t.height))}});class ql extends Ts{constructor(e,t=e){super(sn("polygon",e),t)}}ct({Container:{polygon:nn(function(i){return this.put(new ql).plot(i||new Go)})}}),je(ql,qS),je(ql,hF),Pt(ql,"Polygon");class $l extends Ts{constructor(e,t=e){super(sn("polyline",e),t)}}ct({Container:{polyline:nn(function(i){return this.put(new $l).plot(i||new Go)})}}),je($l,qS),je($l,hF),Pt($l,"Polyline");class km extends Ts{constructor(e,t=e){super(sn("rect",e),t)}}je(km,{rx:WS,ry:GS}),ct({Container:{rect:nn(function(i,e){return this.put(new km).size(i,e)})}}),Pt(km,"Rect");class h0{constructor(){this._first=null,this._last=null}first(){return this._first&&this._first.value}last(){return this._last&&this._last.value}push(e){const t=e.next!==void 0?e:{value:e,next:null,prev:null};return this._last?(t.prev=this._last,this._last.next=t,this._last=t):(this._last=t,this._first=t),t}remove(e){e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e===this._last&&(this._last=e.prev),e===this._first&&(this._first=e.next),e.prev=null,e.next=null}shift(){const e=this._first;return e?(this._first=e.next,this._first&&(this._first.prev=null),this._last=this._first?this._last:null,e.value):null}}const Ut={nextDraw:null,frames:new h0,timeouts:new h0,immediates:new h0,timer:()=>Nt.window.performance||Nt.window.Date,transforms:[],frame(i){const e=Ut.frames.push({run:i});return Ut.nextDraw===null&&(Ut.nextDraw=Nt.window.requestAnimationFrame(Ut._draw)),e},timeout(i,e){e=e||0;const t=Ut.timer().now()+e,n=Ut.timeouts.push({run:i,time:t});return Ut.nextDraw===null&&(Ut.nextDraw=Nt.window.requestAnimationFrame(Ut._draw)),n},immediate(i){const e=Ut.immediates.push(i);return Ut.nextDraw===null&&(Ut.nextDraw=Nt.window.requestAnimationFrame(Ut._draw)),e},cancelFrame(i){i!=null&&Ut.frames.remove(i)},clearTimeout(i){i!=null&&Ut.timeouts.remove(i)},cancelImmediate(i){i!=null&&Ut.immediates.remove(i)},_draw(i){let e=null;const t=Ut.timeouts.last();for(;(e=Ut.timeouts.shift())&&(i>=e.time?e.run():Ut.timeouts.push(e),e!==t););let n=null;const s=Ut.frames.last();for(;n!==s&&(n=Ut.frames.shift());)n.run(i);let r=null;for(;r=Ut.immediates.shift();)r();Ut.nextDraw=Ut.timeouts.first()||Ut.frames.first()?Nt.window.requestAnimationFrame(Ut._draw):null}},cee=function(i){const e=i.start,t=i.runner.duration();return{start:e,duration:t,end:e+t,runner:i.runner}},uee=function(){const i=Nt.window;return(i.performance||i.Date).now()};class dF extends mg{constructor(e=uee){super(),this._timeSource=e,this.terminate()}active(){return!!this._nextFrame}finish(){return this.time(this.getEndTimeOfTimeline()+1),this.pause()}getEndTime(){const e=this.getLastRunnerInfo(),t=e?e.runner.duration():0;return(e?e.start:this._time)+t}getEndTimeOfTimeline(){const e=this._runners.map(t=>t.start+t.runner.duration());return Math.max(0,...e)}getLastRunnerInfo(){return this.getRunnerInfoById(this._lastRunnerId)}getRunnerInfoById(e){return this._runners[this._runnerIds.indexOf(e)]||null}pause(){return this._paused=!0,this._continue()}persist(e){return e==null?this._persist:(this._persist=e,this)}play(){return this._paused=!1,this.updateTime()._continue()}reverse(e){const t=this.speed();if(e==null)return this.speed(-t);const n=Math.abs(t);return this.speed(e?-n:n)}schedule(e,t,n){if(e==null)return this._runners.map(cee);let s=0;const r=this.getEndTime();if(t=t||0,n==null||n==="last"||n==="after")s=r;else if(n==="absolute"||n==="start")s=t,t=0;else if(n==="now")s=this._time;else if(n==="relative"){const c=this.getRunnerInfoById(e.id);c&&(s=c.start+t,t=0)}else{if(n!=="with-last")throw new Error('Invalid value for the "when" parameter');{const c=this.getLastRunnerInfo();s=c?c.start:this._time}}e.unschedule(),e.timeline(this);const a=e.persist(),l={persist:a===null?this._persist:a,start:s+t,runner:e};return this._lastRunnerId=e.id,this._runners.push(l),this._runners.sort((c,h)=>c.start-h.start),this._runnerIds=this._runners.map(c=>c.runner.id),this.updateTime()._continue(),this}seek(e){return this.time(this._time+e)}source(e){return e==null?this._timeSource:(this._timeSource=e,this)}speed(e){return e==null?this._speed:(this._speed=e,this)}stop(){return this.time(0),this.pause()}time(e){return e==null?this._time:(this._time=e,this._continue(!0))}unschedule(e){const t=this._runnerIds.indexOf(e.id);return t<0||(this._runners.splice(t,1),this._runnerIds.splice(t,1),e.timeline(null)),this}updateTime(){return this.active()||(this._lastSourceTime=this._timeSource()),this}_continue(e=!1){return Ut.cancelFrame(this._nextFrame),this._nextFrame=null,e?this._stepImmediate():(this._paused||(this._nextFrame=Ut.frame(this._step)),this)}_stepFn(e=!1){const t=this._timeSource();let n=t-this._lastSourceTime;e&&(n=0);const s=this._speed*n+(this._time-this._lastStepTime);this._lastSourceTime=t,e||(this._time+=s,this._time=this._time<0?0:this._time),this._lastStepTime=this._time,this.fire("time",this._time);for(let a=this._runners.length;a--;){const l=this._runners[a],c=l.runner;this._time-l.start<=0&&c.reset()}let r=!1;for(let a=0,l=this._runners.length;a<l;a++){const c=this._runners[a],h=c.runner;let d=s;const f=this._time-c.start;if(f<=0){r=!0;continue}f<d&&(d=f),h.active()&&(h.step(d).done?c.persist!==!0&&h.duration()-h.time()+this._time+c.persist<this._time&&(h.unschedule(),--a,--l):r=!0)}return r&&!(this._speed<0&&this._time===0)||this._runnerIds.length&&this._speed<0&&this._time>0?this._continue():(this.pause(),this.fire("finished")),this}terminate(){this._startTime=0,this._speed=1,this._persist=0,this._nextFrame=null,this._paused=!0,this._runners=[],this._runnerIds=[],this._lastRunnerId=-1,this._time=0,this._lastSourceTime=0,this._lastStepTime=0,this._step=this._stepFn.bind(this,!1),this._stepImmediate=this._stepFn.bind(this,!0)}}ct({Element:{timeline:function(i){return i==null?(this._timeline=this._timeline||new dF,this._timeline):(this._timeline=i,this)}}});class As extends mg{constructor(e){super(),this.id=As.id++,e=typeof(e=e??c0)=="function"?new Sy(e):e,this._element=null,this._timeline=null,this.done=!1,this._queue=[],this._duration=typeof e=="number"&&e,this._isDeclarative=e instanceof Sy,this._stepper=this._isDeclarative?e:new Qw,this._history={},this.enabled=!0,this._time=0,this._lastTime=0,this._reseted=!0,this.transforms=new Ve,this.transformId=1,this._haveReversed=!1,this._reverse=!1,this._loopsDone=0,this._swing=!1,this._wait=0,this._times=1,this._frameId=null,this._persist=!!this._isDeclarative||null}static sanitise(e,t,n){let s=1,r=!1,a=0;return t=t??KJ,n=n||"last",typeof(e=e??c0)!="object"||e instanceof $S||(t=e.delay??t,n=e.when??n,r=e.swing||r,s=e.times??s,a=e.wait??a,e=e.duration??c0),{duration:e,delay:t,swing:r,times:s,wait:a,when:n}}active(e){return e==null?this.enabled:(this.enabled=e,this)}addTransform(e){return this.transforms.lmultiplyO(e),this}after(e){return this.on("finished",e)}animate(e,t,n){const s=As.sanitise(e,t,n),r=new As(s.duration);return this._timeline&&r.timeline(this._timeline),this._element&&r.element(this._element),r.loop(s).schedule(s.delay,s.when)}clearTransform(){return this.transforms=new Ve,this}clearTransformsFromQueue(){this.done&&this._timeline&&this._timeline._runnerIds.includes(this.id)||(this._queue=this._queue.filter(e=>!e.isTransform))}delay(e){return this.animate(0,e)}duration(){return this._times*(this._wait+this._duration)-this._wait}during(e){return this.queue(null,e)}ease(e){return this._stepper=new Qw(e),this}element(e){return e==null?this._element:(this._element=e,e._prepareRunner(),this)}finish(){return this.step(1/0)}loop(e,t,n){return typeof e=="object"&&(t=e.swing,n=e.wait,e=e.times),this._times=e||1/0,this._swing=t||!1,this._wait=n||0,this._times===!0&&(this._times=1/0),this}loops(e){const t=this._duration+this._wait;if(e==null){const r=Math.floor(this._time/t),a=(this._time-r*t)/this._duration;return Math.min(r+a,this._times)}const n=e%1,s=t*Math.floor(e)+this._duration*n;return this.time(s)}persist(e){return e==null?this._persist:(this._persist=e,this)}position(e){const t=this._time,n=this._duration,s=this._wait,r=this._times,a=this._swing,l=this._reverse;let c;if(e==null){const f=function(y){const b=a*Math.floor(y%(2*(s+n))/(s+n)),x=b&&!l||!b&&l,_=Math.pow(-1,x)*(y%(s+n))/n+x;return Math.max(Math.min(_,1),0)},p=r*(s+n)-s;return c=t<=0?Math.round(f(1e-5)):t<p?f(t):Math.round(f(p-1e-5)),c}const h=Math.floor(this.loops()),d=a&&h%2==0;return c=h+(d&&!l||l&&d?e:1-e),this.loops(c)}progress(e){return e==null?Math.min(1,this._time/this.duration()):this.time(e*this.duration())}queue(e,t,n,s){return this._queue.push({initialiser:e||O2,runner:t||O2,retarget:n,isTransform:s,initialised:!1,finished:!1}),this.timeline()&&this.timeline()._continue(),this}reset(){return this._reseted||(this.time(0),this._reseted=!0),this}reverse(e){return this._reverse=e??!this._reverse,this}schedule(e,t,n){if(e instanceof dF||(n=t,t=e,e=this.timeline()),!e)throw Error("Runner cannot be scheduled without timeline");return e.schedule(this,t,n),this}step(e){if(!this.enabled)return this;e=e??16,this._time+=e;const t=this.position(),n=this._lastPosition!==t&&this._time>=0;this._lastPosition=t;const s=this.duration(),r=this._lastTime<=0&&this._time>0,a=this._lastTime<s&&this._time>=s;this._lastTime=this._time,r&&this.fire("start",this);const l=this._isDeclarative;this.done=!l&&!a&&this._time>=s,this._reseted=!1;let c=!1;return(n||l)&&(this._initialise(n),this.transforms=new Ve,c=this._run(l?e:t),this.fire("step",this)),this.done=this.done||c&&l,a&&this.fire("finished",this),this}time(e){if(e==null)return this._time;const t=e-this._time;return this.step(t),this}timeline(e){return e===void 0?this._timeline:(this._timeline=e,this)}unschedule(){const e=this.timeline();return e&&e.unschedule(this),this}_initialise(e){if(e||this._isDeclarative)for(let t=0,n=this._queue.length;t<n;++t){const s=this._queue[t],r=this._isDeclarative||!s.initialised&&e;e=!s.finished,r&&e&&(s.initialiser.call(this),s.initialised=!0)}}_rememberMorpher(e,t){if(this._history[e]={morpher:t,caller:this._queue[this._queue.length-1]},this._isDeclarative){const n=this.timeline();n&&n.play()}}_run(e){let t=!0;for(let n=0,s=this._queue.length;n<s;++n){const r=this._queue[n],a=r.runner.call(this,e);r.finished=r.finished||a===!0,t=t&&r.finished}return t}_tryRetarget(e,t,n){if(this._history[e]){if(!this._history[e].caller.initialised){const r=this._queue.indexOf(this._history[e].caller);return this._queue.splice(r,1),!1}this._history[e].caller.retarget?this._history[e].caller.retarget.call(this,t,n):this._history[e].morpher.to(t),this._history[e].caller.finished=!1;const s=this.timeline();return s&&s.play(),!0}return!1}}As.id=0;class Ty{constructor(e=new Ve,t=-1,n=!0){this.transforms=e,this.id=t,this.done=n}clearTransformsFromQueue(){}}je([As,Ty],{mergeWith(i){return new Ty(i.transforms.lmultiply(this.transforms),i.id)}});const fF=(i,e)=>i.lmultiplyO(e),gF=i=>i.transforms;function hee(){const i=this._transformationRunners.runners.map(gF).reduce(fF,new Ve);this.transform(i),this._transformationRunners.merge(),this._transformationRunners.length()===1&&(this._frameId=null)}class dee{constructor(){this.runners=[],this.ids=[]}add(e){if(this.runners.includes(e))return;const t=e.id+1;return this.runners.push(e),this.ids.push(t),this}clearBefore(e){const t=this.ids.indexOf(e+1)||1;return this.ids.splice(0,t,0),this.runners.splice(0,t,new Ty).forEach(n=>n.clearTransformsFromQueue()),this}edit(e,t){const n=this.ids.indexOf(e+1);return this.ids.splice(n,1,e+1),this.runners.splice(n,1,t),this}getByID(e){return this.runners[this.ids.indexOf(e+1)]}length(){return this.ids.length}merge(){let e=null;for(let t=0;t<this.runners.length;++t){const n=this.runners[t];if(e&&n.done&&e.done&&(!n._timeline||!n._timeline._runnerIds.includes(n.id))&&(!e._timeline||!e._timeline._runnerIds.includes(e.id))){this.remove(n.id);const s=n.mergeWith(e);this.edit(e.id,s),e=s,--t}else e=n}return this}remove(e){const t=this.ids.indexOf(e+1);return this.ids.splice(t,1),this.runners.splice(t,1),this}}ct({Element:{animate(i,e,t){const n=As.sanitise(i,e,t),s=this.timeline();return new As(n.duration).loop(n).element(this).timeline(s.play()).schedule(n.delay,n.when)},delay(i,e){return this.animate(0,i,e)},_clearTransformRunnersBefore(i){this._transformationRunners.clearBefore(i.id)},_currentTransform(i){return this._transformationRunners.runners.filter(e=>e.id<=i.id).map(gF).reduce(fF,new Ve)},_addRunner(i){this._transformationRunners.add(i),Ut.cancelImmediate(this._frameId),this._frameId=Ut.immediate(hee.bind(this))},_prepareRunner(){this._frameId==null&&(this._transformationRunners=new dee().add(new Ty(new Ve(this))))}}});je(As,{attr(i,e){return this.styleAttr("attr",i,e)},css(i,e){return this.styleAttr("css",i,e)},styleAttr(i,e,t){if(typeof e=="string")return this.styleAttr(i,{[e]:t});let n=e;if(this._tryRetarget(i,n))return this;let s=new Fl(this._stepper).to(n),r=Object.keys(n);return this.queue(function(){s=s.from(this.element()[i](r))},function(a){return this.element()[i](s.at(a).valueOf()),s.done()},function(a){const l=Object.keys(a),c=(h=r,l.filter(f=>!h.includes(f)));var h;if(c.length){const f=this.element()[i](c),p=new Mf(s.from()).valueOf();Object.assign(p,f),s.from(p)}const d=new Mf(s.to()).valueOf();Object.assign(d,a),s.to(d),r=l,n=a}),this._rememberMorpher(i,s),this},zoom(i,e){if(this._tryRetarget("zoom",i,e))return this;let t=new Fl(this._stepper).to(new it(i));return this.queue(function(){t=t.from(this.element().zoom())},function(n){return this.element().zoom(t.at(n),e),t.done()},function(n,s){e=s,t.to(n)}),this._rememberMorpher("zoom",t),this},transform(i,e,t){if(e=i.relative||e,this._isDeclarative&&!e&&this._tryRetarget("transform",i))return this;const n=Ve.isMatrixLike(i);t=i.affine!=null?i.affine:t??!n;const s=new Fl(this._stepper).type(t?yg:Ve);let r,a,l,c,h;return this.queue(function(){a=a||this.element(),r=r||$w(i,a),h=new Ve(e?void 0:a),a._addRunner(this),e||a._clearTransformRunnersBefore(this)},function(d){e||this.clearTransform();const{x:f,y:p}=new jt(r).transform(a._currentTransform(this));let y=new Ve({...i,origin:[f,p]}),b=this._isDeclarative&&l?l:h;if(t){y=y.decompose(f,p),b=b.decompose(f,p);const _=y.rotate,S=b.rotate,T=[_-360,_,_+360],C=T.map(P=>Math.abs(P-S)),M=Math.min(...C),R=C.indexOf(M);y.rotate=T[R]}e&&(n||(y.rotate=i.rotate||0),this._isDeclarative&&c&&(b.rotate=c)),s.from(b),s.to(y);const x=s.at(d);return c=x.rotate,l=new Ve(x),this.addTransform(l),a._addRunner(this),s.done()},function(d){(d.origin||"center").toString()!==(i.origin||"center").toString()&&(r=$w(d,a)),i={...d,origin:r}},!0),this._isDeclarative&&this._rememberMorpher("transform",s),this},x(i){return this._queueNumber("x",i)},y(i){return this._queueNumber("y",i)},ax(i){return this._queueNumber("ax",i)},ay(i){return this._queueNumber("ay",i)},dx(i=0){return this._queueNumberDelta("x",i)},dy(i=0){return this._queueNumberDelta("y",i)},dmove(i,e){return this.dx(i).dy(e)},_queueNumberDelta(i,e){if(e=new it(e),this._tryRetarget(i,e))return this;const t=new Fl(this._stepper).to(e);let n=null;return this.queue(function(){n=this.element()[i](),t.from(n),t.to(n+e)},function(s){return this.element()[i](t.at(s)),t.done()},function(s){t.to(n+new it(s))}),this._rememberMorpher(i,t),this},_queueObject(i,e){if(this._tryRetarget(i,e))return this;const t=new Fl(this._stepper).to(e);return this.queue(function(){t.from(this.element()[i]())},function(n){return this.element()[i](t.at(n)),t.done()}),this._rememberMorpher(i,t),this},_queueNumber(i,e){return this._queueObject(i,new it(e))},cx(i){return this._queueNumber("cx",i)},cy(i){return this._queueNumber("cy",i)},move(i,e){return this.x(i).y(e)},amove(i,e){return this.ax(i).ay(e)},center(i,e){return this.cx(i).cy(e)},size(i,e){let t;return i&&e||(t=this._element.bbox()),i||(i=t.width/t.height*e),e||(e=t.height/t.width*i),this.width(i).height(e)},width(i){return this._queueNumber("width",i)},height(i){return this._queueNumber("height",i)},plot(i,e,t,n){if(arguments.length===4)return this.plot([i,e,t,n]);if(this._tryRetarget("plot",i))return this;const s=new Fl(this._stepper).type(this._element.MorphArray).to(i);return this.queue(function(){s.from(this._element.array())},function(r){return this._element.plot(s.at(r)),s.done()}),this._rememberMorpher("plot",s),this},leading(i){return this._queueNumber("leading",i)},viewbox(i,e,t,n){return this._queueObject("viewbox",new In(i,e,t,n))},update(i){return typeof i!="object"?this.update({offset:arguments[0],color:arguments[1],opacity:arguments[2]}):(i.opacity!=null&&this.attr("stop-opacity",i.opacity),i.color!=null&&this.attr("stop-color",i.color),i.offset!=null&&this.attr("offset",i.offset),this)}}),je(As,{rx:WS,ry:GS,from:lF,to:cF}),Pt(As,"Runner");class i_ extends $i{constructor(e,t=e){super(sn("svg",e),t),this.namespace()}defs(){return this.isRoot()?Xs(this.node.querySelector("defs"))||this.put(new mv):this.root().defs()}isRoot(){return!this.node.parentNode||!(this.node.parentNode instanceof Nt.window.SVGElement)&&this.node.parentNode.nodeName!=="#document-fragment"}namespace(){return this.isRoot()?this.attr({xmlns:BS,version:"1.1"}).attr("xmlns:xlink",dh,a0):this.root().namespace()}removeNamespace(){return this.attr({xmlns:null,version:null}).attr("xmlns:xlink",null,a0).attr("xmlns:svgjs",null,a0)}root(){return this.isRoot()?this:super.root()}}ct({Container:{nested:nn(function(){return this.put(new i_)})}}),Pt(i_,"Svg",!0);let s_=class extends $i{constructor(i,e=i){super(sn("symbol",i),e)}};ct({Container:{symbol:nn(function(){return this.put(new s_)})}}),Pt(s_,"Symbol");var pF=Object.freeze({__proto__:null,amove:function(i,e){return this.ax(i).ay(e)},ax:function(i){return this.attr("x",i)},ay:function(i){return this.attr("y",i)},build:function(i){return this._build=!!i,this},center:function(i,e,t=this.bbox()){return this.cx(i,t).cy(e,t)},cx:function(i,e=this.bbox()){return i==null?e.cx:this.attr("x",this.attr("x")+i-e.cx)},cy:function(i,e=this.bbox()){return i==null?e.cy:this.attr("y",this.attr("y")+i-e.cy)},length:function(){return this.node.getComputedTextLength()},move:function(i,e,t=this.bbox()){return this.x(i,t).y(e,t)},plain:function(i){return this._build===!1&&this.clear(),this.node.appendChild(Nt.document.createTextNode(i)),this},x:function(i,e=this.bbox()){return i==null?e.x:this.attr("x",this.attr("x")+i-e.x)},y:function(i,e=this.bbox()){return i==null?e.y:this.attr("y",this.attr("y")+i-e.y)}});class mr extends Ts{constructor(e,t=e){super(sn("text",e),t),this.dom.leading=this.dom.leading??new it(1.3),this._rebuild=!0,this._build=!1}leading(e){return e==null?this.dom.leading:(this.dom.leading=new it(e),this.rebuild())}rebuild(e){if(typeof e=="boolean"&&(this._rebuild=e),this._rebuild){const t=this;let n=0;const s=this.dom.leading;this.each(function(r){if(Kw(this.node))return;const a=Nt.window.getComputedStyle(this.node).getPropertyValue("font-size"),l=s*new it(a);this.dom.newLined&&(this.attr("x",t.attr("x")),this.text()===`
`?n+=l:(this.attr("dy",r?l+n:0),n=0))}),this.fire("rebuild")}return this}setData(e){return this.dom=e,this.dom.leading=new it(e.leading||1.3),this}writeDataToDom(){return GV(this,this.dom,{leading:1.3}),this}text(e){if(e===void 0){const t=this.node.childNodes;let n=0;e="";for(let s=0,r=t.length;s<r;++s)t[s].nodeName==="textPath"||Kw(t[s])?s===0&&(n=s+1):(s!==n&&t[s].nodeType!==3&&Xs(t[s]).dom.newLined===!0&&(e+=`
`),e+=t[s].textContent);return e}if(this.clear().build(!0),typeof e=="function")e.call(this,this);else for(let t=0,n=(e=(e+"").split(`
`)).length;t<n;t++)this.newLine(e[t]);return this.build(!1).rebuild()}}je(mr,pF),ct({Container:{text:nn(function(i=""){return this.put(new mr).text(i)}),plain:nn(function(i=""){return this.put(new mr).plain(i)})}}),Pt(mr,"Text");class Rm extends Ts{constructor(e,t=e){super(sn("tspan",e),t),this._build=!1}dx(e){return this.attr("dx",e)}dy(e){return this.attr("dy",e)}newLine(){this.dom.newLined=!0;const e=this.parent();if(!(e instanceof mr))return this;const t=e.index(this),n=Nt.window.getComputedStyle(this.node).getPropertyValue("font-size"),s=e.dom.leading*new it(n);return this.dy(t?s:0).attr("x",e.x())}text(e){return e==null?this.node.textContent+(this.dom.newLined?`
`:""):(typeof e=="function"?(this.clear().build(!0),e.call(this,this),this.build(!1)):this.plain(e),this)}}je(Rm,pF),ct({Tspan:{tspan:nn(function(i=""){const e=new Rm;return this._build||this.clear(),this.put(e).text(i)})},Text:{newLine:function(i=""){return this.tspan(i).newLine()}}}),Pt(Rm,"Tspan");class d0 extends Ts{constructor(e,t=e){super(sn("circle",e),t)}radius(e){return this.attr("r",e)}rx(e){return this.attr("r",e)}ry(e){return this.rx(e)}size(e){return this.radius(new it(e).divide(2))}}je(d0,{x:tF,y:nF,cx:iF,cy:sF,width:rF,height:aF}),ct({Container:{circle:nn(function(i=0){return this.put(new d0).size(i).move(0,0)})}}),Pt(d0,"Circle");class f0 extends $i{constructor(e,t=e){super(sn("clipPath",e),t)}remove(){return this.targets().forEach(function(e){e.unclip()}),super.remove()}targets(){return vc("svg [clip-path*="+this.id()+"]")}}ct({Container:{clip:nn(function(){return this.defs().put(new f0)})},Element:{clipper(){return this.reference("clip-path")},clipWith(i){const e=i instanceof f0?i:this.parent().clip().add(i);return this.attr("clip-path","url(#"+e.id()+")")},unclip(){return this.attr("clip-path",null)}}}),Pt(f0,"ClipPath");class F2 extends wi{constructor(e,t=e){super(sn("foreignObject",e),t)}}ct({Container:{foreignObject:nn(function(i,e){return this.put(new F2).size(i,e)})}}),Pt(F2,"ForeignObject");var mF=Object.freeze({__proto__:null,dmove:function(i,e){return this.children().forEach(t=>{let n;try{n=t.node instanceof pg().SVGSVGElement?new In(t.attr(["x","y","width","height"])):t.bbox()}catch{return}const s=new Ve(t),r=s.translate(i,e).transform(s.inverse()),a=new jt(n.x,n.y).transform(r);t.move(a.x,a.y)}),this},dx:function(i){return this.dmove(i,0)},dy:function(i){return this.dmove(0,i)},height:function(i,e=this.bbox()){return i==null?e.height:this.size(e.width,i,e)},move:function(i=0,e=0,t=this.bbox()){const n=i-t.x,s=e-t.y;return this.dmove(n,s)},size:function(i,e,t=this.bbox()){const n=hh(this,i,e,t),s=n.width/t.width,r=n.height/t.height;return this.children().forEach(a=>{const l=new jt(t).transform(new Ve(a).inverse());a.scale(s,r,l.x,l.y)}),this},width:function(i,e=this.bbox()){return i==null?e.width:this.size(i,e.height,e)},x:function(i,e=this.bbox()){return i==null?e.x:this.move(i,e.y,e)},y:function(i,e=this.bbox()){return i==null?e.y:this.move(e.x,i,e)}});class Lo extends $i{constructor(e,t=e){super(sn("g",e),t)}}je(Lo,mF),ct({Container:{group:nn(function(){return this.put(new Lo)})}}),Pt(Lo,"G");class nm extends $i{constructor(e,t=e){super(sn("a",e),t)}target(e){return this.attr("target",e)}to(e){return this.attr("href",e,dh)}}je(nm,mF),ct({Container:{link:nn(function(i){return this.put(new nm).to(i)})},Element:{unlink(){const i=this.linker();if(!i)return this;const e=i.parent();if(!e)return this.remove();const t=e.index(i);return e.add(this,t),i.remove(),this},linkTo(i){let e=this.linker();return e||(e=new nm,this.wrap(e)),typeof i=="function"?i.call(e,e):e.to(i),this},linker(){const i=this.parent();return i&&i.node.nodeName.toLowerCase()==="a"?i:null}}}),Pt(nm,"A");class g0 extends $i{constructor(e,t=e){super(sn("mask",e),t)}remove(){return this.targets().forEach(function(e){e.unmask()}),super.remove()}targets(){return vc("svg [mask*="+this.id()+"]")}}ct({Container:{mask:nn(function(){return this.defs().put(new g0)})},Element:{masker(){return this.reference("mask")},maskWith(i){const e=i instanceof g0?i:this.parent().mask().add(i);return this.attr("mask","url(#"+e.id()+")")},unmask(){return this.attr("mask",null)}}}),Pt(g0,"Mask");class z2 extends wi{constructor(e,t=e){super(sn("stop",e),t)}update(e){return(typeof e=="number"||e instanceof it)&&(e={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),e.opacity!=null&&this.attr("stop-opacity",e.opacity),e.color!=null&&this.attr("stop-color",e.color),e.offset!=null&&this.attr("offset",new it(e.offset)),this}}ct({Gradient:{stop:function(i,e,t){return this.put(new z2).update(i,e,t)}}}),Pt(z2,"Stop");class p0 extends wi{constructor(e,t=e){super(sn("style",e),t)}addText(e=""){return this.node.textContent+=e,this}font(e,t,n={}){return this.rule("@font-face",{fontFamily:e,src:t,...n})}rule(e,t){return this.addText(function(n,s){if(!n)return"";if(!s)return n;let r=n+"{";for(const a in s)r+=a.replace(/([A-Z])/g,function(l,c){return"-"+c.toLowerCase()})+":"+s[a]+";";return r+="}",r}(e,t))}}ct("Dom",{style(i,e){return this.put(new p0).rule(i,e)},fontface(i,e,t){return this.put(new p0).font(i,e,t)}}),Pt(p0,"Style");class m0 extends mr{constructor(e,t=e){super(sn("textPath",e),t)}array(){const e=this.track();return e?e.array():null}plot(e){const t=this.track();let n=null;return t&&(n=t.plot(e)),e==null?n:this}track(){return this.reference("href")}}ct({Container:{textPath:nn(function(i,e){return i instanceof mr||(i=this.text(i)),i.path(e)})},Text:{path:nn(function(i,e=!0){const t=new m0;let n;if(i instanceof Mu||(i=this.defs().path(i)),t.attr("href","#"+i,dh),e)for(;n=this.node.firstChild;)t.node.appendChild(n);return this.put(t)}),textPath(){return this.findOne("textPath")}},Path:{text:nn(function(i){return i instanceof mr||(i=new mr().addTo(this.parent()).text(i)),i.path(this)}),targets(){return vc("svg textPath").filter(i=>(i.attr("href")||"").includes(this.id()))}}}),m0.prototype.MorphArray=pr,Pt(m0,"TextPath");class j2 extends Ts{constructor(e,t=e){super(sn("use",e),t)}use(e,t){return this.attr("href",(t||"")+"#"+e,dh)}}ct({Container:{use:nn(function(i,e){return this.put(new j2).use(i,e)})}}),Pt(j2,"Use");const fee=Xi;je([i_,s_,Em,If,Cm],es("viewbox")),je([Gl,$l,ql,Mu],es("marker")),je(mr,es("Text")),je(Mu,es("Path")),je(mv,es("Defs")),je([mr,Rm],es("Tspan")),je([km,Tm,Qd,As],es("radius")),je(mg,es("EventTarget")),je(Wo,es("Dom")),je(wi,es("Element")),je(Ts,es("Shape")),je([$i,oF],es("Container")),je(Qd,es("Gradient")),je(As,es("Runner")),lc.extend([...new Set(XV)]),function(i=[]){n_.push(...[].concat(i))}([it,qt,In,Ve,cc,Go,pr,jt]),je(n_,{to(i){return new Fl().type(this.constructor).from(this.toArray()).to(i)},fromArray(i){return this.init(i),this},toConsumable(){return this.toArray()},morph(i,e,t,n,s){return this.fromArray(i.map(function(r,a){return n.step(r,e[a],t,s[a],s)}))}});class cn extends wi{constructor(e){super(sn("filter",e),e),this.$source="SourceGraphic",this.$sourceAlpha="SourceAlpha",this.$background="BackgroundImage",this.$backgroundAlpha="BackgroundAlpha",this.$fill="FillPaint",this.$stroke="StrokePaint",this.$autoSetIn=!0}put(e,t){return!(e=super.put(e,t)).attr("in")&&this.$autoSetIn&&e.attr("in",this.$source),e.attr("result")||e.attr("result",e.id()),e}remove(){return this.targets().each("unfilter"),super.remove()}targets(){return vc('svg [filter*="'+this.id()+'"]')}toString(){return"url(#"+this.id()+")"}}class KS extends wi{constructor(e,t){super(e,t),this.result(this.id())}in(e){if(e==null){const t=this.attr("in");return this.parent()&&this.parent().find(`[result="${t}"]`)[0]||t}return this.attr("in",e)}result(e){return this.attr("result",e)}toString(){return this.result()}}const Us=i=>function(...e){for(let t=i.length;t--;)e[t]!=null&&this.attr(i[t],e[t])},gee={blend:Us(["in","in2","mode"]),colorMatrix:Us(["type","values"]),composite:Us(["in","in2","operator"]),convolveMatrix:function(i){i=new cc(i).toString(),this.attr({order:Math.sqrt(i.split(" ").length),kernelMatrix:i})},diffuseLighting:Us(["surfaceScale","lightingColor","diffuseConstant","kernelUnitLength"]),displacementMap:Us(["in","in2","scale","xChannelSelector","yChannelSelector"]),dropShadow:Us(["in","dx","dy","stdDeviation"]),flood:Us(["flood-color","flood-opacity"]),gaussianBlur:function(i=0,e=i){this.attr("stdDeviation",i+" "+e)},image:function(i){this.attr("href",i,dh)},morphology:Us(["operator","radius"]),offset:Us(["dx","dy"]),specularLighting:Us(["surfaceScale","lightingColor","diffuseConstant","specularExponent","kernelUnitLength"]),tile:Us([]),turbulence:Us(["baseFrequency","numOctaves","seed","stitchTiles","type"])};["blend","colorMatrix","componentTransfer","composite","convolveMatrix","diffuseLighting","displacementMap","dropShadow","flood","gaussianBlur","image","merge","morphology","offset","specularLighting","tile","turbulence"].forEach(i=>{const e=uh(i),t=gee[i];cn[e+"Effect"]=class extends KS{constructor(n){super(sn("fe"+e,n),n)}update(n){return t.apply(this,n),this}},cn.prototype[i]=nn(function(n,...s){const r=new cn[e+"Effect"];return n==null?this.put(r):(typeof n=="function"?n.call(r,r):s.unshift(n),this.put(r).update(s))})}),je(cn,{merge(i){const e=this.put(new cn.MergeEffect);return typeof i=="function"?(i.call(e,e),e):((i instanceof Array?i:[...arguments]).forEach(t=>{t instanceof cn.MergeNode?e.put(t):e.mergeNode(t)}),e)},componentTransfer(i={}){const e=this.put(new cn.ComponentTransferEffect);if(typeof i=="function")return i.call(e,e),e;i.r||i.g||i.b||i.a||(i={r:i,g:i,b:i,a:i});for(const t in i)e.add(new cn["Func"+t.toUpperCase()](i[t]));return e}});["distantLight","pointLight","spotLight","mergeNode","FuncR","FuncG","FuncB","FuncA"].forEach(i=>{const e=uh(i);cn[e]=class extends KS{constructor(t){super(sn("fe"+e,t),t)}}});["funcR","funcG","funcB","funcA"].forEach(function(i){const e=cn[uh(i)],t=nn(function(){return this.put(new e)});cn.ComponentTransferEffect.prototype[i]=t});["distantLight","pointLight","spotLight"].forEach(i=>{const e=cn[uh(i)],t=nn(function(){return this.put(new e)});cn.DiffuseLightingEffect.prototype[i]=t,cn.SpecularLightingEffect.prototype[i]=t}),je(cn.MergeEffect,{mergeNode(i){return this.put(new cn.MergeNode).attr("in",i)}}),je(mv,{filter:function(i){const e=this.put(new cn);return typeof i=="function"&&i.call(e,e),e}}),je($i,{filter:function(i){return this.defs().filter(i)}}),je(wi,{filterWith:function(i){const e=i instanceof cn?i:this.defs().filter(i);return this.attr("filter",e)},unfilter:function(i){return this.attr("filter",null)},filterer(){return this.reference("filter")}});const pee={blend:function(i,e){return this.parent()&&this.parent().blend(this,i,e)},colorMatrix:function(i,e){return this.parent()&&this.parent().colorMatrix(i,e).in(this)},componentTransfer:function(i){return this.parent()&&this.parent().componentTransfer(i).in(this)},composite:function(i,e){return this.parent()&&this.parent().composite(this,i,e)},convolveMatrix:function(i){return this.parent()&&this.parent().convolveMatrix(i).in(this)},diffuseLighting:function(i,e,t,n){return this.parent()&&this.parent().diffuseLighting(i,t,n).in(this)},displacementMap:function(i,e,t,n){return this.parent()&&this.parent().displacementMap(this,i,e,t,n)},dropShadow:function(i,e,t){return this.parent()&&this.parent().dropShadow(this,i,e,t).in(this)},flood:function(i,e){return this.parent()&&this.parent().flood(i,e)},gaussianBlur:function(i,e){return this.parent()&&this.parent().gaussianBlur(i,e).in(this)},image:function(i){return this.parent()&&this.parent().image(i)},merge:function(i){return i=i instanceof Array?i:[...i],this.parent()&&this.parent().merge(this,...i)},morphology:function(i,e){return this.parent()&&this.parent().morphology(i,e).in(this)},offset:function(i,e){return this.parent()&&this.parent().offset(i,e).in(this)},specularLighting:function(i,e,t,n,s){return this.parent()&&this.parent().specularLighting(i,t,n,s).in(this)},tile:function(){return this.parent()&&this.parent().tile().in(this)},turbulence:function(i,e,t,n,s){return this.parent()&&this.parent().turbulence(i,e,t,n,s).in(this)}};je(KS,pee),je(cn.MergeEffect,{in:function(i){return i instanceof cn.MergeNode?this.add(i,0):this.add(new cn.MergeNode().in(i),0),this}}),je([cn.CompositeEffect,cn.BlendEffect,cn.DisplacementMapEffect],{in2:function(i){if(i==null){const e=this.attr("in2");return this.parent()&&this.parent().find(`[result="${e}"]`)[0]||e}return this.attr("in2",i)}}),cn.filter={sepiatone:[.343,.669,.119,0,0,.249,.626,.13,0,0,.172,.334,.111,0,0,0,0,0,1,0]};var bi=function(){function i(e){Ce(this,i),this.ctx=e,this.w=e.w}return ke(i,[{key:"getDefaultFilter",value:function(e,t){var n=this.w;e.unfilter(!0),new cn().size("120%","180%","-5%","-40%"),n.config.chart.dropShadow.enabled&&this.dropShadow(e,n.config.chart.dropShadow,t)}},{key:"applyFilter",value:function(e,t,n){var s,r=this,a=this.w;if(e.unfilter(!0),n!=="none"){var l,c,h=a.config.chart.dropShadow,d=n==="lighten"?2:.3;e.filterWith(function(f){f.colorMatrix({type:"matrix",values:`
          `.concat(d,` 0 0 0 0
          0 `).concat(d,` 0 0 0
          0 0 `).concat(d,` 0 0
          0 0 0 1 0
        `),in:"SourceGraphic",result:"brightness"}),h.enabled&&r.addShadow(f,t,h,"brightness")}),!h.noUserSpaceOnUse&&((l=e.filterer())===null||l===void 0||(c=l.node)===null||c===void 0||c.setAttribute("filterUnits","userSpaceOnUse")),this._scaleFilterSize((s=e.filterer())===null||s===void 0?void 0:s.node)}else this.getDefaultFilter(e,t)}},{key:"addShadow",value:function(e,t,n,s){var r,a=this.w,l=n.blur,c=n.top,h=n.left,d=n.color,f=n.opacity;if(d=Array.isArray(d)?d[t]:d,((r=a.config.chart.dropShadow.enabledOnSeries)===null||r===void 0?void 0:r.length)>0&&a.config.chart.dropShadow.enabledOnSeries.indexOf(t)===-1)return e;e.offset({in:s,dx:h,dy:c,result:"offset"}),e.gaussianBlur({in:"offset",stdDeviation:l,result:"blur"}),e.flood({"flood-color":d,"flood-opacity":f,result:"flood"}),e.composite({in:"flood",in2:"blur",operator:"in",result:"shadow"}),e.merge(["shadow",s])}},{key:"dropShadow",value:function(e,t){var n,s,r,a,l,c=this,h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,d=this.w;return e.unfilter(!0),q.isMsEdge()&&d.config.chart.type==="radialBar"||((n=d.config.chart.dropShadow.enabledOnSeries)===null||n===void 0?void 0:n.length)>0&&((r=d.config.chart.dropShadow.enabledOnSeries)===null||r===void 0?void 0:r.indexOf(h))===-1?e:(e.filterWith(function(f){c.addShadow(f,h,t,"SourceGraphic")}),t.noUserSpaceOnUse||(a=e.filterer())===null||a===void 0||(l=a.node)===null||l===void 0||l.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize((s=e.filterer())===null||s===void 0?void 0:s.node),e)}},{key:"setSelectionFilter",value:function(e,t,n){var s=this.w;if(s.globals.selectedDataPoints[t]!==void 0&&s.globals.selectedDataPoints[t].indexOf(n)>-1){e.node.setAttribute("selected",!0);var r=s.config.states.active.filter;r!=="none"&&this.applyFilter(e,t,r.type)}}},{key:"_scaleFilterSize",value:function(e){e&&function(t){for(var n in t)t.hasOwnProperty(n)&&e.setAttribute(n,t[n])}({width:"200%",height:"200%",x:"-50%",y:"-50%"})}}]),i}(),fe=function(){function i(e){Ce(this,i),this.ctx=e,this.w=e.w}return ke(i,[{key:"roundPathCorners",value:function(e,t){function n(E,D,O){var F=D.x-E.x,H=D.y-E.y,B=Math.sqrt(F*F+H*H);return s(E,D,Math.min(1,O/B))}function s(E,D,O){return{x:E.x+(D.x-E.x)*O,y:E.y+(D.y-E.y)*O}}function r(E,D){E.length>2&&(E[E.length-2]=D.x,E[E.length-1]=D.y)}function a(E){return{x:parseFloat(E[E.length-2]),y:parseFloat(E[E.length-1])}}e.indexOf("NaN")>-1&&(e="");var l=e.split(/[,\s]/).reduce(function(E,D){var O=D.match(/^([a-zA-Z])(.+)/);return O?(E.push(O[1]),E.push(O[2])):E.push(D),E},[]).reduce(function(E,D){return parseFloat(D)==D&&E.length?E[E.length-1].push(D):E.push([D]),E},[]),c=[];if(l.length>1){var h=a(l[0]),d=null;l[l.length-1][0]=="Z"&&l[0].length>2&&(d=["L",h.x,h.y],l[l.length-1]=d),c.push(l[0]);for(var f=1;f<l.length;f++){var p=c[c.length-1],y=l[f],b=y==d?l[1]:l[f+1];if(b&&p&&p.length>2&&y[0]=="L"&&b.length>2&&b[0]=="L"){var x,_,S=a(p),T=a(y),C=a(b);x=n(T,S,t),_=n(T,C,t),r(y,x),y.origPoint=T,c.push(y);var M=s(x,T,.5),R=s(T,_,.5),P=["C",M.x,M.y,R.x,R.y,_.x,_.y];P.origPoint=T,c.push(P)}else c.push(y)}if(d){var k=a(c[c.length-1]);c.push(["Z"]),r(c[0],k)}}else c=l;return c.reduce(function(E,D){return E+D.join(" ")+" "},"")}},{key:"drawLine",value:function(e,t,n,s){var r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"#a8a8a8",a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,l=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,c=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"butt";return this.w.globals.dom.Paper.line().attr({x1:e,y1:t,x2:n,y2:s,stroke:r,"stroke-dasharray":a,"stroke-width":l,"stroke-linecap":c})}},{key:"drawRect",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"#fefefe",l=arguments.length>6&&arguments[6]!==void 0?arguments[6]:1,c=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null,h=arguments.length>8&&arguments[8]!==void 0?arguments[8]:null,d=arguments.length>9&&arguments[9]!==void 0?arguments[9]:0,f=this.w.globals.dom.Paper.rect();return f.attr({x:e,y:t,width:n>0?n:0,height:s>0?s:0,rx:r,ry:r,opacity:l,"stroke-width":c!==null?c:0,stroke:h!==null?h:"none","stroke-dasharray":d}),f.node.setAttribute("fill",a),f}},{key:"drawPolygon",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"#e1e1e1",n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"none";return this.w.globals.dom.Paper.polygon(e).attr({fill:s,stroke:t,"stroke-width":n})}},{key:"drawCircle",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;e<0&&(e=0);var n=this.w.globals.dom.Paper.circle(2*e);return t!==null&&n.attr(t),n}},{key:"drawPath",value:function(e){var t=e.d,n=t===void 0?"":t,s=e.stroke,r=s===void 0?"#a8a8a8":s,a=e.strokeWidth,l=a===void 0?1:a,c=e.fill,h=e.fillOpacity,d=h===void 0?1:h,f=e.strokeOpacity,p=f===void 0?1:f,y=e.classes,b=e.strokeLinecap,x=b===void 0?null:b,_=e.strokeDashArray,S=_===void 0?0:_,T=this.w;return x===null&&(x=T.config.stroke.lineCap),(n.indexOf("undefined")>-1||n.indexOf("NaN")>-1)&&(n="M 0 ".concat(T.globals.gridHeight)),T.globals.dom.Paper.path(n).attr({fill:c,"fill-opacity":d,stroke:r,"stroke-opacity":p,"stroke-linecap":x,"stroke-width":l,"stroke-dasharray":S,class:y})}},{key:"group",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,t=this.w.globals.dom.Paper.group();return e!==null&&t.attr(e),t}},{key:"move",value:function(e,t){var n=["M",e,t].join(" ");return n}},{key:"line",value:function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=null;return n===null?s=[" L",e,t].join(" "):n==="H"?s=[" H",e].join(" "):n==="V"&&(s=[" V",t].join(" ")),s}},{key:"curve",value:function(e,t,n,s,r,a){var l=["C",e,t,n,s,r,a].join(" ");return l}},{key:"quadraticCurve",value:function(e,t,n,s){return["Q",e,t,n,s].join(" ")}},{key:"arc",value:function(e,t,n,s,r,a,l){var c="A";arguments.length>7&&arguments[7]!==void 0&&arguments[7]&&(c="a");var h=[c,e,t,n,s,r,a,l].join(" ");return h}},{key:"renderPaths",value:function(e){var t,n=e.j,s=e.realIndex,r=e.pathFrom,a=e.pathTo,l=e.stroke,c=e.strokeWidth,h=e.strokeLinecap,d=e.fill,f=e.animationDelay,p=e.initialSpeed,y=e.dataChangeSpeed,b=e.className,x=e.chartType,_=e.shouldClipToGrid,S=_===void 0||_,T=e.bindEventsOnPaths,C=T===void 0||T,M=e.drawShadow,R=M===void 0||M,P=this.w,k=new bi(this.ctx),E=new ch(this.ctx),D=this.w.config.chart.animations.enabled,O=D&&this.w.config.chart.animations.dynamicAnimation.enabled;if(r&&r.startsWith("M 0 0")&&a){var F=a.match(/^M\s+[\d.-]+\s+[\d.-]+/);F&&(r=r.replace(/^M\s+0\s+0/,F[0]))}var H=!!(D&&!P.globals.resized||O&&P.globals.dataChanged&&P.globals.shouldAnimate);H?t=r:(t=a,P.globals.animationEnded=!0);var B=P.config.stroke.dashArray,K=0;K=Array.isArray(B)?B[s]:P.config.stroke.dashArray;var ne=this.drawPath({d:t,stroke:l,strokeWidth:c,fill:d,fillOpacity:1,classes:b,strokeLinecap:h,strokeDashArray:K});ne.attr("index",s),S&&(x==="bar"&&!P.globals.isHorizontal||P.globals.comboCharts?ne.attr({"clip-path":"url(#gridRectBarMask".concat(P.globals.cuid,")")}):ne.attr({"clip-path":"url(#gridRectMask".concat(P.globals.cuid,")")})),P.config.chart.dropShadow.enabled&&R&&k.dropShadow(ne,P.config.chart.dropShadow,s),C&&(ne.node.addEventListener("mouseenter",this.pathMouseEnter.bind(this,ne)),ne.node.addEventListener("mouseleave",this.pathMouseLeave.bind(this,ne)),ne.node.addEventListener("mousedown",this.pathMouseDown.bind(this,ne))),ne.attr({pathTo:a,pathFrom:r});var X={el:ne,j:n,realIndex:s,pathFrom:r,pathTo:a,fill:d,strokeWidth:c,delay:f};return!D||P.globals.resized||P.globals.dataChanged?!P.globals.resized&&P.globals.dataChanged||E.showDelayedElements():E.animatePathsGradually(be(be({},X),{},{speed:p})),P.globals.dataChanged&&O&&H&&E.animatePathsGradually(be(be({},X),{},{speed:y})),ne}},{key:"drawPattern",value:function(e,t,n){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"#a8a8a8",r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;return this.w.globals.dom.Paper.pattern(t,n,function(a){e==="horizontalLines"?a.line(0,0,n,0).stroke({color:s,width:r+1}):e==="verticalLines"?a.line(0,0,0,t).stroke({color:s,width:r+1}):e==="slantedLines"?a.line(0,0,t,n).stroke({color:s,width:r}):e==="squares"?a.rect(t,n).fill("none").stroke({color:s,width:r}):e==="circles"&&a.circle(t).fill("none").stroke({color:s,width:r})})}},{key:"drawGradient",value:function(e,t,n,s,r){var a,l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,c=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,h=arguments.length>7&&arguments[7]!==void 0?arguments[7]:[],d=arguments.length>8&&arguments[8]!==void 0?arguments[8]:0,f=this.w;t.length<9&&t.indexOf("#")===0&&(t=q.hexToRgba(t,s)),n.length<9&&n.indexOf("#")===0&&(n=q.hexToRgba(n,r));var p=0,y=1,b=1,x=null;c!==null&&(p=c[0]!==void 0?c[0]/100:0,y=c[1]!==void 0?c[1]/100:1,b=c[2]!==void 0?c[2]/100:1,x=c[3]!==void 0?c[3]/100:null);var _=!(f.config.chart.type!=="donut"&&f.config.chart.type!=="pie"&&f.config.chart.type!=="polarArea"&&f.config.chart.type!=="bubble");if(a=h&&h.length!==0?f.globals.dom.Paper.gradient(_?"radial":"linear",function(C){(Array.isArray(h[d])?h[d]:h).forEach(function(M){C.stop(M.offset/100,M.color,M.opacity)})}):f.globals.dom.Paper.gradient(_?"radial":"linear",function(C){C.stop(p,t,s),C.stop(y,n,r),C.stop(b,n,r),x!==null&&C.stop(x,t,s)}),_){var S=f.globals.gridWidth/2,T=f.globals.gridHeight/2;f.config.chart.type!=="bubble"?a.attr({gradientUnits:"userSpaceOnUse",cx:S,cy:T,r:l}):a.attr({cx:.5,cy:.5,r:.8,fx:.2,fy:.2})}else e==="vertical"?a.from(0,0).to(0,1):e==="diagonal"?a.from(0,0).to(1,1):e==="horizontal"?a.from(0,1).to(1,1):e==="diagonal2"&&a.from(1,0).to(0,1);return a}},{key:"getTextBasedOnMaxWidth",value:function(e){var t=e.text,n=e.maxWidth,s=e.fontSize,r=e.fontFamily,a=this.getTextRects(t,s,r),l=a.width/t.length,c=Math.floor(n/l);return n<a.width?t.slice(0,c-3)+"...":t}},{key:"drawText",value:function(e){var t=this,n=e.x,s=e.y,r=e.text,a=e.textAnchor,l=e.fontSize,c=e.fontFamily,h=e.fontWeight,d=e.foreColor,f=e.opacity,p=e.maxWidth,y=e.cssClass,b=y===void 0?"":y,x=e.isPlainText,_=x===void 0||x,S=e.dominantBaseline,T=S===void 0?"auto":S,C=this.w;r===void 0&&(r="");var M=r;a||(a="start"),d&&d.length||(d=C.config.chart.foreColor),c=c||C.config.chart.fontFamily,h=h||"regular";var R,P={maxWidth:p,fontSize:l=l||"11px",fontFamily:c};return Array.isArray(r)?R=C.globals.dom.Paper.text(function(k){for(var E=0;E<r.length;E++)M=r[E],p&&(M=t.getTextBasedOnMaxWidth(be({text:r[E]},P))),E===0?k.tspan(M):k.tspan(M).newLine()}):(p&&(M=this.getTextBasedOnMaxWidth(be({text:r},P))),R=_?C.globals.dom.Paper.plain(r):C.globals.dom.Paper.text(function(k){return k.tspan(M)})),R.attr({x:n,y:s,"text-anchor":a,"dominant-baseline":T,"font-size":l,"font-family":c,"font-weight":h,fill:d,class:"apexcharts-text "+b}),R.node.style.fontFamily=c,R.node.style.opacity=f,R}},{key:"getMarkerPath",value:function(e,t,n,s){var r="";switch(n){case"cross":r="M ".concat(e-(s/=1.4)," ").concat(t-s," L ").concat(e+s," ").concat(t+s,"  M ").concat(e-s," ").concat(t+s," L ").concat(e+s," ").concat(t-s);break;case"plus":r="M ".concat(e-(s/=1.12)," ").concat(t," L ").concat(e+s," ").concat(t,"  M ").concat(e," ").concat(t-s," L ").concat(e," ").concat(t+s);break;case"star":case"sparkle":var a=5;s*=1.15,n==="sparkle"&&(s/=1.1,a=4);for(var l=Math.PI/a,c=0;c<=2*a;c++){var h=c*l,d=c%2==0?s:s/2;r+=(c===0?"M":"L")+(e+d*Math.sin(h))+","+(t-d*Math.cos(h))}r+="Z";break;case"triangle":r="M ".concat(e," ").concat(t-s,` 
             L `).concat(e+s," ").concat(t+s,` 
             L `).concat(e-s," ").concat(t+s,` 
             Z`);break;case"square":case"rect":r="M ".concat(e-(s/=1.125)," ").concat(t-s,` 
           L `).concat(e+s," ").concat(t-s,` 
           L `).concat(e+s," ").concat(t+s,` 
           L `).concat(e-s," ").concat(t+s,` 
           Z`);break;case"diamond":s*=1.05,r="M ".concat(e," ").concat(t-s,` 
             L `).concat(e+s," ").concat(t,` 
             L `).concat(e," ").concat(t+s,` 
             L `).concat(e-s," ").concat(t,` 
            Z`);break;case"line":r="M ".concat(e-(s/=1.1)," ").concat(t,` 
           L `).concat(e+s," ").concat(t);break;default:s*=2,r="M ".concat(e,", ").concat(t,` 
           m -`).concat(s/2,`, 0 
           a `).concat(s/2,",").concat(s/2," 0 1,0 ").concat(s,`,0 
           a `).concat(s/2,",").concat(s/2," 0 1,0 -").concat(s,",0")}return r}},{key:"drawMarkerShape",value:function(e,t,n,s,r){var a=this.drawPath({d:this.getMarkerPath(e,t,n,s,r),stroke:r.pointStrokeColor,strokeDashArray:r.pointStrokeDashArray,strokeWidth:r.pointStrokeWidth,fill:r.pointFillColor,fillOpacity:r.pointFillOpacity,strokeOpacity:r.pointStrokeOpacity});return a.attr({cx:e,cy:t,shape:r.shape,class:r.class?r.class:""}),a}},{key:"drawMarker",value:function(e,t,n){e=e||0;var s=n.pSize||0;return q.isNumber(t)||(s=0,t=0),this.drawMarkerShape(e,t,n==null?void 0:n.shape,s,be(be({},n),n.shape==="line"||n.shape==="plus"||n.shape==="cross"?{pointStrokeColor:n.pointFillColor,pointStrokeOpacity:n.pointFillOpacity}:{}))}},{key:"pathMouseEnter",value:function(e,t){var n=this.w,s=new bi(this.ctx),r=parseInt(e.node.getAttribute("index"),10),a=parseInt(e.node.getAttribute("j"),10);if(typeof n.config.chart.events.dataPointMouseEnter=="function"&&n.config.chart.events.dataPointMouseEnter(t,this.ctx,{seriesIndex:r,dataPointIndex:a,w:n}),this.ctx.events.fireEvent("dataPointMouseEnter",[t,this.ctx,{seriesIndex:r,dataPointIndex:a,w:n}]),(n.config.states.active.filter.type==="none"||e.node.getAttribute("selected")!=="true")&&n.config.states.hover.filter.type!=="none"&&!n.globals.isTouchDevice){var l=n.config.states.hover.filter;s.applyFilter(e,r,l.type)}}},{key:"pathMouseLeave",value:function(e,t){var n=this.w,s=new bi(this.ctx),r=parseInt(e.node.getAttribute("index"),10),a=parseInt(e.node.getAttribute("j"),10);typeof n.config.chart.events.dataPointMouseLeave=="function"&&n.config.chart.events.dataPointMouseLeave(t,this.ctx,{seriesIndex:r,dataPointIndex:a,w:n}),this.ctx.events.fireEvent("dataPointMouseLeave",[t,this.ctx,{seriesIndex:r,dataPointIndex:a,w:n}]),n.config.states.active.filter.type!=="none"&&e.node.getAttribute("selected")==="true"||n.config.states.hover.filter.type!=="none"&&s.getDefaultFilter(e,r)}},{key:"pathMouseDown",value:function(e,t){var n=this.w,s=new bi(this.ctx),r=parseInt(e.node.getAttribute("index"),10),a=parseInt(e.node.getAttribute("j"),10),l="false";if(e.node.getAttribute("selected")==="true"){if(e.node.setAttribute("selected","false"),n.globals.selectedDataPoints[r].indexOf(a)>-1){var c=n.globals.selectedDataPoints[r].indexOf(a);n.globals.selectedDataPoints[r].splice(c,1)}}else{if(!n.config.states.active.allowMultipleDataPointsSelection&&n.globals.selectedDataPoints.length>0){n.globals.selectedDataPoints=[];var h=n.globals.dom.Paper.find(".apexcharts-series path:not(.apexcharts-decoration-element)"),d=n.globals.dom.Paper.find(".apexcharts-series circle:not(.apexcharts-decoration-element), .apexcharts-series rect:not(.apexcharts-decoration-element)"),f=function(b){Array.prototype.forEach.call(b,function(x){x.node.setAttribute("selected","false"),s.getDefaultFilter(x,r)})};f(h),f(d)}e.node.setAttribute("selected","true"),l="true",n.globals.selectedDataPoints[r]===void 0&&(n.globals.selectedDataPoints[r]=[]),n.globals.selectedDataPoints[r].push(a)}if(l==="true"){var p=n.config.states.active.filter;if(p!=="none")s.applyFilter(e,r,p.type);else if(n.config.states.hover.filter!=="none"&&!n.globals.isTouchDevice){var y=n.config.states.hover.filter;s.applyFilter(e,r,y.type)}}else n.config.states.active.filter.type!=="none"&&(n.config.states.hover.filter.type==="none"||n.globals.isTouchDevice?s.getDefaultFilter(e,r):(y=n.config.states.hover.filter,s.applyFilter(e,r,y.type)));typeof n.config.chart.events.dataPointSelection=="function"&&n.config.chart.events.dataPointSelection(t,this.ctx,{selectedDataPoints:n.globals.selectedDataPoints,seriesIndex:r,dataPointIndex:a,w:n}),t&&this.ctx.events.fireEvent("dataPointSelection",[t,this.ctx,{selectedDataPoints:n.globals.selectedDataPoints,seriesIndex:r,dataPointIndex:a,w:n}])}},{key:"rotateAroundCenter",value:function(e){var t={};return e&&typeof e.getBBox=="function"&&(t=e.getBBox()),{x:t.x+t.width/2,y:t.y+t.height/2}}},{key:"getTextRects",value:function(e,t,n,s){var r=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],a=this.w,l=this.drawText({x:-200,y:-200,text:e,textAnchor:"start",fontSize:t,fontFamily:n,foreColor:"#fff",opacity:0});s&&l.attr("transform",s),a.globals.dom.Paper.add(l);var c=l.bbox();return r||(c=l.node.getBoundingClientRect()),l.remove(),{width:c.width,height:c.height}}},{key:"placeTextWithEllipsis",value:function(e,t,n){if(typeof e.getComputedTextLength=="function"&&(e.textContent=t,t.length>0&&e.getComputedTextLength()>=n/1.1)){for(var s=t.length-3;s>0;s-=3)if(e.getSubStringLength(0,s)<=n/1.1)return void(e.textContent=t.substring(0,s)+"...");e.textContent="."}}}],[{key:"setAttrs",value:function(e,t){for(var n in t)t.hasOwnProperty(n)&&e.setAttribute(n,t[n])}}]),i}(),Mn=function(){function i(e){Ce(this,i),this.ctx=e,this.w=e.w}return ke(i,[{key:"getStackedSeriesTotals",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=this.w,n=[];if(t.globals.series.length===0)return n;for(var s=0;s<t.globals.series[t.globals.maxValsInArrayIndex].length;s++){for(var r=0,a=0;a<t.globals.series.length;a++)t.globals.series[a][s]!==void 0&&e.indexOf(a)===-1&&(r+=t.globals.series[a][s]);n.push(r)}return n}},{key:"getSeriesTotalByIndex",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return e===null?this.w.config.series.reduce(function(t,n){return t+n},0):this.w.globals.series[e].reduce(function(t,n){return t+n},0)}},{key:"getStackedSeriesTotalsByGroups",value:function(){var e=this,t=this.w,n=[];return t.globals.seriesGroups.forEach(function(s){var r=[];t.config.series.forEach(function(l,c){s.indexOf(t.globals.seriesNames[c])>-1&&r.push(c)});var a=t.globals.series.map(function(l,c){return r.indexOf(c)===-1?c:-1}).filter(function(l){return l!==-1});n.push(e.getStackedSeriesTotals(a))}),n}},{key:"setSeriesYAxisMappings",value:function(){var e=this.w.globals,t=this.w.config,n=[],s=[],r=[],a=e.series.length>t.yaxis.length||t.yaxis.some(function(f){return Array.isArray(f.seriesName)});t.series.forEach(function(f,p){r.push(p),s.push(null)}),t.yaxis.forEach(function(f,p){n[p]=[]});var l=[];t.yaxis.forEach(function(f,p){var y=!1;if(f.seriesName){var b=[];Array.isArray(f.seriesName)?b=f.seriesName:b.push(f.seriesName),b.forEach(function(x){t.series.forEach(function(_,S){if(_.name===x){var T=S;p===S||a?!a||r.indexOf(S)>-1?n[p].push([p,S]):console.warn("Series '"+_.name+"' referenced more than once in what looks like the new style. That is, when using either seriesName: [], or when there are more series than yaxes."):(n[S].push([S,p]),T=p),y=!0,(T=r.indexOf(T))!==-1&&r.splice(T,1)}})})}y||l.push(p)}),n=n.map(function(f,p){var y=[];return f.forEach(function(b){s[b[1]]=b[0],y.push(b[1])}),y});for(var c=t.yaxis.length-1,h=0;h<l.length&&(c=l[h],n[c]=[],r);h++){var d=r[0];r.shift(),n[c].push(d),s[d]=c}r.forEach(function(f){n[c].push(f),s[f]=c}),e.seriesYAxisMap=n.map(function(f){return f}),e.seriesYAxisReverseMap=s.map(function(f){return f}),e.seriesYAxisMap.forEach(function(f,p){f.forEach(function(y){t.series[y]&&t.series[y].group===void 0&&(t.series[y].group="apexcharts-axis-".concat(p.toString()))})})}},{key:"isSeriesNull",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return(e===null?this.w.config.series.filter(function(t){return t!==null}):this.w.config.series[e].data.filter(function(t){return t!==null})).length===0}},{key:"seriesHaveSameValues",value:function(e){return this.w.globals.series[e].every(function(t,n,s){return t===s[0]})}},{key:"getCategoryLabels",value:function(e){var t=this.w,n=e.slice();return t.config.xaxis.convertedCatToNumeric&&(n=e.map(function(s,r){return t.config.xaxis.labels.formatter(s-t.globals.minX+1)})),n}},{key:"getLargestSeries",value:function(){var e=this.w;e.globals.maxValsInArrayIndex=e.globals.series.map(function(t){return t.length}).indexOf(Math.max.apply(Math,e.globals.series.map(function(t){return t.length})))}},{key:"getLargestMarkerSize",value:function(){var e=this.w,t=0;return e.globals.markers.size.forEach(function(n){t=Math.max(t,n)}),e.config.markers.discrete&&e.config.markers.discrete.length&&e.config.markers.discrete.forEach(function(n){t=Math.max(t,n.size)}),t>0&&(e.config.markers.hover.size>0?t=e.config.markers.hover.size:t+=e.config.markers.hover.sizeOffset),e.globals.markers.largestSize=t,t}},{key:"getSeriesTotals",value:function(){var e=this.w;e.globals.seriesTotals=e.globals.series.map(function(t,n){var s=0;if(Array.isArray(t))for(var r=0;r<t.length;r++)s+=t[r];else s+=t;return s})}},{key:"getSeriesTotalsXRange",value:function(e,t){var n=this.w;return n.globals.series.map(function(s,r){for(var a=0,l=0;l<s.length;l++)n.globals.seriesX[r][l]>e&&n.globals.seriesX[r][l]<t&&(a+=s[l]);return a})}},{key:"getPercentSeries",value:function(){var e=this.w;e.globals.seriesPercent=e.globals.series.map(function(t,n){var s=[];if(Array.isArray(t))for(var r=0;r<t.length;r++){var a=e.globals.stackedSeriesTotals[r],l=0;a&&(l=100*t[r]/a),s.push(l)}else{var c=100*t/e.globals.seriesTotals.reduce(function(h,d){return h+d},0);s.push(c)}return s})}},{key:"getCalculatedRatios",value:function(){var e,t,n,s=this,r=this.w,a=r.globals,l=[],c=0,h=[],d=.1,f=0;if(a.yRange=[],a.isMultipleYAxis)for(var p=0;p<a.minYArr.length;p++)a.yRange.push(Math.abs(a.minYArr[p]-a.maxYArr[p])),h.push(0);else a.yRange.push(Math.abs(a.minY-a.maxY));a.xRange=Math.abs(a.maxX-a.minX),a.zRange=Math.abs(a.maxZ-a.minZ);for(var y=0;y<a.yRange.length;y++)l.push(a.yRange[y]/a.gridHeight);if(t=a.xRange/a.gridWidth,e=a.yRange/a.gridWidth,n=a.xRange/a.gridHeight,(c=a.zRange/a.gridHeight*16)||(c=1),a.minY!==Number.MIN_VALUE&&Math.abs(a.minY)!==0&&(a.hasNegs=!0),r.globals.seriesYAxisReverseMap.length>0){var b=function(_,S){var T=r.config.yaxis[r.globals.seriesYAxisReverseMap[S]],C=_<0?-1:1;return _=Math.abs(_),T.logarithmic&&(_=s.getBaseLog(T.logBase,_)),-C*_/l[S]};if(a.isMultipleYAxis){h=[];for(var x=0;x<l.length;x++)h.push(b(a.minYArr[x],x))}else(h=[]).push(b(a.minY,0)),a.minY!==Number.MIN_VALUE&&Math.abs(a.minY)!==0&&(d=-a.minY/e,f=a.minX/t)}else(h=[]).push(0),d=0,f=0;return{yRatio:l,invertedYRatio:e,zRatio:c,xRatio:t,invertedXRatio:n,baseLineInvertedY:d,baseLineY:h,baseLineX:f}}},{key:"getLogSeries",value:function(e){var t=this,n=this.w;return n.globals.seriesLog=e.map(function(s,r){var a=n.globals.seriesYAxisReverseMap[r];return n.config.yaxis[a]&&n.config.yaxis[a].logarithmic?s.map(function(l){return l===null?null:t.getLogVal(n.config.yaxis[a].logBase,l,r)}):s}),n.globals.invalidLogScale?e:n.globals.seriesLog}},{key:"getLogValAtSeriesIndex",value:function(e,t){if(e===null)return null;var n=this.w,s=n.globals.seriesYAxisReverseMap[t];return n.config.yaxis[s]&&n.config.yaxis[s].logarithmic?this.getLogVal(n.config.yaxis[s].logBase,e,t):e}},{key:"getBaseLog",value:function(e,t){return Math.log(t)/Math.log(e)}},{key:"getLogVal",value:function(e,t,n){if(t<=0)return 0;var s=this.w,r=s.globals.minYArr[n]===0?-1:this.getBaseLog(e,s.globals.minYArr[n]),a=(s.globals.maxYArr[n]===0?0:this.getBaseLog(e,s.globals.maxYArr[n]))-r;return t<1?t/a:(this.getBaseLog(e,t)-r)/a}},{key:"getLogYRatios",value:function(e){var t=this,n=this.w,s=this.w.globals;return s.yLogRatio=e.slice(),s.logYRange=s.yRange.map(function(r,a){var l=n.globals.seriesYAxisReverseMap[a];if(n.config.yaxis[l]&&t.w.config.yaxis[l].logarithmic){var c,h=-Number.MAX_VALUE,d=Number.MIN_VALUE;return s.seriesLog.forEach(function(f,p){f.forEach(function(y){n.config.yaxis[p]&&n.config.yaxis[p].logarithmic&&(h=Math.max(y,h),d=Math.min(y,d))})}),c=Math.pow(s.yRange[a],Math.abs(d-h)/s.yRange[a]),s.yLogRatio[a]=c/s.gridHeight,c}}),s.invalidLogScale?e.slice():s.yLogRatio}},{key:"drawSeriesByGroup",value:function(e,t,n,s){var r=this.w,a=[];return e.series.length>0&&t.forEach(function(l){var c=[],h=[];e.i.forEach(function(d,f){r.config.series[d].group===l&&(c.push(e.series[f]),h.push(d))}),c.length>0&&a.push(s.draw(c,n,h))}),a}}],[{key:"checkComboSeries",value:function(e,t){var n=!1,s=0,r=0;return t===void 0&&(t="line"),e.length&&e[0].type!==void 0&&e.forEach(function(a){a.type!=="bar"&&a.type!=="column"&&a.type!=="candlestick"&&a.type!=="boxPlot"||s++,a.type!==void 0&&a.type!==t&&r++}),r>0&&(n=!0),{comboBarCount:s,comboCharts:n}}},{key:"extendArrayProps",value:function(e,t,n){var s,r,a,l,c,h;return(s=t)!==null&&s!==void 0&&s.yaxis&&(t=e.extendYAxis(t,n)),(r=t)!==null&&r!==void 0&&r.annotations&&(t.annotations.yaxis&&(t=e.extendYAxisAnnotations(t)),(a=t)!==null&&a!==void 0&&(l=a.annotations)!==null&&l!==void 0&&l.xaxis&&(t=e.extendXAxisAnnotations(t)),(c=t)!==null&&c!==void 0&&(h=c.annotations)!==null&&h!==void 0&&h.points&&(t=e.extendPointAnnotations(t))),t}}]),i}(),yv=function(){function i(e){Ce(this,i),this.w=e.w,this.annoCtx=e}return ke(i,[{key:"setOrientations",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,n=this.w;if(e.label.orientation==="vertical"){var s=t!==null?t:0,r=n.globals.dom.baseEl.querySelector(".apexcharts-xaxis-annotations .apexcharts-xaxis-annotation-label[rel='".concat(s,"']"));if(r!==null){var a=r.getBoundingClientRect();r.setAttribute("x",parseFloat(r.getAttribute("x"))-a.height+4);var l=e.label.position==="top"?a.width:-a.width;r.setAttribute("y",parseFloat(r.getAttribute("y"))+l);var c=this.annoCtx.graphics.rotateAroundCenter(r),h=c.x,d=c.y;r.setAttribute("transform","rotate(-90 ".concat(h," ").concat(d,")"))}}}},{key:"addBackgroundToAnno",value:function(e,t){var n=this.w;if(!e||!t.label.text||!String(t.label.text).trim())return null;var s=n.globals.dom.baseEl.querySelector(".apexcharts-grid").getBoundingClientRect(),r=e.getBoundingClientRect(),a=t.label.style.padding,l=a.left,c=a.right,h=a.top,d=a.bottom;if(t.label.orientation==="vertical"){var f=[l,c,h,d];h=f[0],d=f[1],l=f[2],c=f[3]}var p=r.left-s.left-l,y=r.top-s.top-h,b=this.annoCtx.graphics.drawRect(p-n.globals.barPadForNumericAxis,y,r.width+l+c,r.height+h+d,t.label.borderRadius,t.label.style.background,1,t.label.borderWidth,t.label.borderColor,0);return t.id&&b.node.classList.add(t.id),b}},{key:"annotationsBackground",value:function(){var e=this,t=this.w,n=function(s,r,a){var l=t.globals.dom.baseEl.querySelector(".apexcharts-".concat(a,"-annotations .apexcharts-").concat(a,"-annotation-label[rel='").concat(r,"']"));if(l){var c=l.parentNode,h=e.addBackgroundToAnno(l,s);h&&(c.insertBefore(h.node,l),s.label.mouseEnter&&h.node.addEventListener("mouseenter",s.label.mouseEnter.bind(e,s)),s.label.mouseLeave&&h.node.addEventListener("mouseleave",s.label.mouseLeave.bind(e,s)),s.label.click&&h.node.addEventListener("click",s.label.click.bind(e,s)))}};t.config.annotations.xaxis.forEach(function(s,r){return n(s,r,"xaxis")}),t.config.annotations.yaxis.forEach(function(s,r){return n(s,r,"yaxis")}),t.config.annotations.points.forEach(function(s,r){return n(s,r,"point")})}},{key:"getY1Y2",value:function(e,t){var n,s=this.w,r=e==="y1"?t.y:t.y2,a=!1;if(this.annoCtx.invertAxis){var l=s.config.xaxis.convertedCatToNumeric?s.globals.categoryLabels:s.globals.labels,c=l.indexOf(r),h=s.globals.dom.baseEl.querySelector(".apexcharts-yaxis-texts-g text:nth-child(".concat(c+1,")"));n=h?parseFloat(h.getAttribute("y")):(s.globals.gridHeight/l.length-1)*(c+1)-s.globals.barHeight,t.seriesIndex!==void 0&&s.globals.barHeight&&(n-=s.globals.barHeight/2*(s.globals.series.length-1)-s.globals.barHeight*t.seriesIndex)}else{var d,f=s.globals.seriesYAxisMap[t.yAxisIndex][0],p=s.config.yaxis[t.yAxisIndex].logarithmic?new Mn(this.annoCtx.ctx).getLogVal(s.config.yaxis[t.yAxisIndex].logBase,r,f)/s.globals.yLogRatio[f]:(r-s.globals.minYArr[f])/(s.globals.yRange[f]/s.globals.gridHeight);n=s.globals.gridHeight-Math.min(Math.max(p,0),s.globals.gridHeight),a=p>s.globals.gridHeight||p<0,!t.marker||t.y!==void 0&&t.y!==null||(n=0),(d=s.config.yaxis[t.yAxisIndex])!==null&&d!==void 0&&d.reversed&&(n=p)}return typeof r=="string"&&r.includes("px")&&(n=parseFloat(r)),{yP:n,clipped:a}}},{key:"getX1X2",value:function(e,t){var n=this.w,s=e==="x1"?t.x:t.x2,r=this.annoCtx.invertAxis?n.globals.minY:n.globals.minX,a=this.annoCtx.invertAxis?n.globals.maxY:n.globals.maxX,l=this.annoCtx.invertAxis?n.globals.yRange[0]:n.globals.xRange,c=!1,h=this.annoCtx.inversedReversedAxis?(a-s)/(l/n.globals.gridWidth):(s-r)/(l/n.globals.gridWidth);return n.config.xaxis.type!=="category"&&!n.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||n.globals.dataFormatXNumeric||n.config.chart.sparkline.enabled||(h=this.getStringX(s)),typeof s=="string"&&s.includes("px")&&(h=parseFloat(s)),s==null&&t.marker&&(h=n.globals.gridWidth),t.seriesIndex!==void 0&&n.globals.barWidth&&!this.annoCtx.invertAxis&&(h-=n.globals.barWidth/2*(n.globals.series.length-1)-n.globals.barWidth*t.seriesIndex),typeof h!="number"&&(h=0,c=!0),parseFloat(h.toFixed(10))>parseFloat(n.globals.gridWidth.toFixed(10))?(h=n.globals.gridWidth,c=!0):h<0&&(h=0,c=!0),{x:h,clipped:c}}},{key:"getStringX",value:function(e){var t=this.w,n=e;t.config.xaxis.convertedCatToNumeric&&t.globals.categoryLabels.length&&(e=t.globals.categoryLabels.indexOf(e)+1);var s=t.globals.labels.map(function(a){return Array.isArray(a)?a.join(" "):a}).indexOf(e),r=t.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g text:nth-child(".concat(s+1,")"));return r&&(n=parseFloat(r.getAttribute("x"))),n}}]),i}(),mee=function(){function i(e){Ce(this,i),this.w=e.w,this.annoCtx=e,this.invertAxis=this.annoCtx.invertAxis,this.helpers=new yv(this.annoCtx)}return ke(i,[{key:"addXaxisAnnotation",value:function(e,t,n){var s,r=this.w,a=this.helpers.getX1X2("x1",e),l=a.x,c=a.clipped,h=!0,d=e.label.text,f=e.strokeDashArray;if(q.isNumber(l)){if(e.x2===null||e.x2===void 0){if(!c){var p=this.annoCtx.graphics.drawLine(l+e.offsetX,0+e.offsetY,l+e.offsetX,r.globals.gridHeight+e.offsetY,e.borderColor,f,e.borderWidth);t.appendChild(p.node),e.id&&p.node.classList.add(e.id)}}else{var y=this.helpers.getX1X2("x2",e);if(s=y.x,h=y.clipped,s<l){var b=l;l=s,s=b}var x=this.annoCtx.graphics.drawRect(l+e.offsetX,0+e.offsetY,s-l,r.globals.gridHeight+e.offsetY,0,e.fillColor,e.opacity,1,e.borderColor,f);x.node.classList.add("apexcharts-annotation-rect"),x.attr("clip-path","url(#gridRectMask".concat(r.globals.cuid,")")),t.appendChild(x.node),e.id&&x.node.classList.add(e.id)}if(!c||!h){var _=this.annoCtx.graphics.getTextRects(d,parseFloat(e.label.style.fontSize)),S=e.label.position==="top"?4:e.label.position==="center"?r.globals.gridHeight/2+(e.label.orientation==="vertical"?_.width/2:0):r.globals.gridHeight,T=this.annoCtx.graphics.drawText({x:l+e.label.offsetX,y:S+e.label.offsetY-(e.label.orientation==="vertical"?e.label.position==="top"?_.width/2-12:-_.width/2:0),text:d,textAnchor:e.label.textAnchor,fontSize:e.label.style.fontSize,fontFamily:e.label.style.fontFamily,fontWeight:e.label.style.fontWeight,foreColor:e.label.style.color,cssClass:"apexcharts-xaxis-annotation-label ".concat(e.label.style.cssClass," ").concat(e.id?e.id:"")});T.attr({rel:n}),t.appendChild(T.node),this.annoCtx.helpers.setOrientations(e,n)}}}},{key:"drawXAxisAnnotations",value:function(){var e=this,t=this.w,n=this.annoCtx.graphics.group({class:"apexcharts-xaxis-annotations"});return t.config.annotations.xaxis.map(function(s,r){e.addXaxisAnnotation(s,n.node,r)}),n}}]),i}(),mi=function(){function i(e){Ce(this,i),this.ctx=e,this.w=e.w,this.months31=[1,3,5,7,8,10,12],this.months30=[2,4,6,9,11],this.daysCntOfYear=[0,31,59,90,120,151,181,212,243,273,304,334]}return ke(i,[{key:"isValidDate",value:function(e){return typeof e!="number"&&!isNaN(this.parseDate(e))}},{key:"getTimeStamp",value:function(e){return Date.parse(e)?this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(e).toISOString().substr(0,25)).getTime():new Date(e).getTime():e}},{key:"getDate",value:function(e){return this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(e).toUTCString()):new Date(e)}},{key:"parseDate",value:function(e){var t=Date.parse(e);if(!isNaN(t))return this.getTimeStamp(e);var n=Date.parse(e.replace(/-/g,"/").replace(/[a-z]+/gi," "));return n=this.getTimeStamp(n)}},{key:"parseDateWithTimezone",value:function(e){return Date.parse(e.replace(/-/g,"/").replace(/[a-z]+/gi," "))}},{key:"formatDate",value:function(e,t){var n=this.w.globals.locale,s=this.w.config.xaxis.labels.datetimeUTC,r=["\0"].concat(Qn(n.months)),a=[""].concat(Qn(n.shortMonths)),l=[""].concat(Qn(n.days)),c=[""].concat(Qn(n.shortDays));function h(E,D){var O=E+"";for(D=D||2;O.length<D;)O="0"+O;return O}var d=s?e.getUTCFullYear():e.getFullYear();t=(t=(t=t.replace(/(^|[^\\])yyyy+/g,"$1"+d)).replace(/(^|[^\\])yy/g,"$1"+d.toString().substr(2,2))).replace(/(^|[^\\])y/g,"$1"+d);var f=(s?e.getUTCMonth():e.getMonth())+1;t=(t=(t=(t=t.replace(/(^|[^\\])MMMM+/g,"$1"+r[0])).replace(/(^|[^\\])MMM/g,"$1"+a[0])).replace(/(^|[^\\])MM/g,"$1"+h(f))).replace(/(^|[^\\])M/g,"$1"+f);var p=s?e.getUTCDate():e.getDate();t=(t=(t=(t=t.replace(/(^|[^\\])dddd+/g,"$1"+l[0])).replace(/(^|[^\\])ddd/g,"$1"+c[0])).replace(/(^|[^\\])dd/g,"$1"+h(p))).replace(/(^|[^\\])d/g,"$1"+p);var y=s?e.getUTCHours():e.getHours(),b=y>12?y-12:y===0?12:y;t=(t=(t=(t=t.replace(/(^|[^\\])HH+/g,"$1"+h(y))).replace(/(^|[^\\])H/g,"$1"+y)).replace(/(^|[^\\])hh+/g,"$1"+h(b))).replace(/(^|[^\\])h/g,"$1"+b);var x=s?e.getUTCMinutes():e.getMinutes();t=(t=t.replace(/(^|[^\\])mm+/g,"$1"+h(x))).replace(/(^|[^\\])m/g,"$1"+x);var _=s?e.getUTCSeconds():e.getSeconds();t=(t=t.replace(/(^|[^\\])ss+/g,"$1"+h(_))).replace(/(^|[^\\])s/g,"$1"+_);var S=s?e.getUTCMilliseconds():e.getMilliseconds();t=t.replace(/(^|[^\\])fff+/g,"$1"+h(S,3)),S=Math.round(S/10),t=t.replace(/(^|[^\\])ff/g,"$1"+h(S)),S=Math.round(S/10);var T=y<12?"AM":"PM";t=(t=(t=t.replace(/(^|[^\\])f/g,"$1"+S)).replace(/(^|[^\\])TT+/g,"$1"+T)).replace(/(^|[^\\])T/g,"$1"+T.charAt(0));var C=T.toLowerCase();t=(t=t.replace(/(^|[^\\])tt+/g,"$1"+C)).replace(/(^|[^\\])t/g,"$1"+C.charAt(0));var M=-e.getTimezoneOffset(),R=s||!M?"Z":M>0?"+":"-";if(!s){var P=(M=Math.abs(M))%60;R+=h(Math.floor(M/60))+":"+h(P)}t=t.replace(/(^|[^\\])K/g,"$1"+R);var k=(s?e.getUTCDay():e.getDay())+1;return t=(t=(t=(t=(t=t.replace(new RegExp(l[0],"g"),l[k])).replace(new RegExp(c[0],"g"),c[k])).replace(new RegExp(r[0],"g"),r[f])).replace(new RegExp(a[0],"g"),a[f])).replace(/\\(.)/g,"$1")}},{key:"getTimeUnitsfromTimestamp",value:function(e,t,n){var s=this.w;s.config.xaxis.min!==void 0&&(e=s.config.xaxis.min),s.config.xaxis.max!==void 0&&(t=s.config.xaxis.max);var r=this.getDate(e),a=this.getDate(t),l=this.formatDate(r,"yyyy MM dd HH mm ss fff").split(" "),c=this.formatDate(a,"yyyy MM dd HH mm ss fff").split(" ");return{minMillisecond:parseInt(l[6],10),maxMillisecond:parseInt(c[6],10),minSecond:parseInt(l[5],10),maxSecond:parseInt(c[5],10),minMinute:parseInt(l[4],10),maxMinute:parseInt(c[4],10),minHour:parseInt(l[3],10),maxHour:parseInt(c[3],10),minDate:parseInt(l[2],10),maxDate:parseInt(c[2],10),minMonth:parseInt(l[1],10)-1,maxMonth:parseInt(c[1],10)-1,minYear:parseInt(l[0],10),maxYear:parseInt(c[0],10)}}},{key:"isLeapYear",value:function(e){return e%4==0&&e%100!=0||e%400==0}},{key:"calculcateLastDaysOfMonth",value:function(e,t,n){return this.determineDaysOfMonths(e,t)-n}},{key:"determineDaysOfYear",value:function(e){var t=365;return this.isLeapYear(e)&&(t=366),t}},{key:"determineRemainingDaysOfYear",value:function(e,t,n){var s=this.daysCntOfYear[t]+n;return t>1&&this.isLeapYear()&&s++,s}},{key:"determineDaysOfMonths",value:function(e,t){var n=30;switch(e=q.monthMod(e),!0){case this.months30.indexOf(e)>-1:e===2&&(n=this.isLeapYear(t)?29:28);break;case this.months31.indexOf(e)>-1:default:n=31}return n}}]),i}(),vg=function(){function i(e){Ce(this,i),this.ctx=e,this.w=e.w,this.tooltipKeyFormat="dd MMM"}return ke(i,[{key:"xLabelFormat",value:function(e,t,n,s){var r=this.w;if(r.config.xaxis.type==="datetime"&&r.config.xaxis.labels.formatter===void 0&&r.config.tooltip.x.formatter===void 0){var a=new mi(this.ctx);return a.formatDate(a.getDate(t),r.config.tooltip.x.format)}return e(t,n,s)}},{key:"defaultGeneralFormatter",value:function(e){return Array.isArray(e)?e.map(function(t){return t}):e}},{key:"defaultYFormatter",value:function(e,t,n){var s=this.w;if(q.isNumber(e))if(s.globals.yValueDecimal!==0)e=e.toFixed(t.decimalsInFloat!==void 0?t.decimalsInFloat:s.globals.yValueDecimal);else{var r=e.toFixed(0);e=e==r?r:e.toFixed(1)}return e}},{key:"setLabelFormatters",value:function(){var e=this,t=this.w;return t.globals.xaxisTooltipFormatter=function(n){return e.defaultGeneralFormatter(n)},t.globals.ttKeyFormatter=function(n){return e.defaultGeneralFormatter(n)},t.globals.ttZFormatter=function(n){return n},t.globals.legendFormatter=function(n){return e.defaultGeneralFormatter(n)},t.config.xaxis.labels.formatter!==void 0?t.globals.xLabelFormatter=t.config.xaxis.labels.formatter:t.globals.xLabelFormatter=function(n){if(q.isNumber(n)){if(!t.config.xaxis.convertedCatToNumeric&&t.config.xaxis.type==="numeric"){if(q.isNumber(t.config.xaxis.decimalsInFloat))return n.toFixed(t.config.xaxis.decimalsInFloat);var s=t.globals.maxX-t.globals.minX;return s>0&&s<100?n.toFixed(1):n.toFixed(0)}return t.globals.isBarHorizontal&&t.globals.maxY-t.globals.minYArr<4?n.toFixed(1):n.toFixed(0)}return n},typeof t.config.tooltip.x.formatter=="function"?t.globals.ttKeyFormatter=t.config.tooltip.x.formatter:t.globals.ttKeyFormatter=t.globals.xLabelFormatter,typeof t.config.xaxis.tooltip.formatter=="function"&&(t.globals.xaxisTooltipFormatter=t.config.xaxis.tooltip.formatter),(Array.isArray(t.config.tooltip.y)||t.config.tooltip.y.formatter!==void 0)&&(t.globals.ttVal=t.config.tooltip.y),t.config.tooltip.z.formatter!==void 0&&(t.globals.ttZFormatter=t.config.tooltip.z.formatter),t.config.legend.formatter!==void 0&&(t.globals.legendFormatter=t.config.legend.formatter),t.config.yaxis.forEach(function(n,s){n.labels.formatter!==void 0?t.globals.yLabelFormatters[s]=n.labels.formatter:t.globals.yLabelFormatters[s]=function(r){return t.globals.xyCharts?Array.isArray(r)?r.map(function(a){return e.defaultYFormatter(a,n,s)}):e.defaultYFormatter(r,n,s):r}}),t.globals}},{key:"heatmapLabelFormatters",value:function(){var e=this.w;if(e.config.chart.type==="heatmap"){e.globals.yAxisScale[0].result=e.globals.seriesNames.slice();var t=e.globals.seriesNames.reduce(function(n,s){return n.length>s.length?n:s},0);e.globals.yAxisScale[0].niceMax=t,e.globals.yAxisScale[0].niceMin=t}}}]),i}(),qo=function(){function i(e){Ce(this,i),this.ctx=e,this.w=e.w}return ke(i,[{key:"getLabel",value:function(e,t,n,s){var r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[],a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"12px",l=!(arguments.length>6&&arguments[6]!==void 0)||arguments[6],c=this.w,h=e[s]===void 0?"":e[s],d=h,f=c.globals.xLabelFormatter,p=c.config.xaxis.labels.formatter,y=!1,b=new vg(this.ctx),x=h;l&&(d=b.xLabelFormat(f,h,x,{i:s,dateFormatter:new mi(this.ctx).formatDate,w:c}),p!==void 0&&(d=p(h,e[s],{i:s,dateFormatter:new mi(this.ctx).formatDate,w:c})));var _,S;t.length>0?(_=t[s].unit,S=null,t.forEach(function(R){R.unit==="month"?S="year":R.unit==="day"?S="month":R.unit==="hour"?S="day":R.unit==="minute"&&(S="hour")}),y=S===_,n=t[s].position,d=t[s].value):c.config.xaxis.type==="datetime"&&p===void 0&&(d=""),d===void 0&&(d=""),d=Array.isArray(d)?d:d.toString();var T=new fe(this.ctx),C={};C=c.globals.rotateXLabels&&l?T.getTextRects(d,parseInt(a,10),null,"rotate(".concat(c.config.xaxis.labels.rotate," 0 0)"),!1):T.getTextRects(d,parseInt(a,10));var M=!c.config.xaxis.labels.showDuplicates&&this.ctx.timeScale;return!Array.isArray(d)&&(String(d)==="NaN"||r.indexOf(d)>=0&&M)&&(d=""),{x:n,text:d,textRect:C,isBold:y}}},{key:"checkLabelBasedOnTickamount",value:function(e,t,n){var s=this.w,r=s.config.xaxis.tickAmount;return r==="dataPoints"&&(r=Math.round(s.globals.gridWidth/120)),r>n||e%Math.round(n/(r+1))==0||(t.text=""),t}},{key:"checkForOverflowingLabels",value:function(e,t,n,s,r){var a=this.w;if(e===0&&a.globals.skipFirstTimelinelabel&&(t.text=""),e===n-1&&a.globals.skipLastTimelinelabel&&(t.text=""),a.config.xaxis.labels.hideOverlappingLabels&&s.length>0){var l=r[r.length-1];if(a.config.xaxis.labels.trim&&a.config.xaxis.type!=="datetime")return t;t.x<l.textRect.width/(a.globals.rotateXLabels?Math.abs(a.config.xaxis.labels.rotate)/12:1.01)+l.x&&(t.text="")}return t}},{key:"checkForReversedLabels",value:function(e,t){var n=this.w;return n.config.yaxis[e]&&n.config.yaxis[e].reversed&&t.reverse(),t}},{key:"yAxisAllSeriesCollapsed",value:function(e){var t=this.w.globals;return!t.seriesYAxisMap[e].some(function(n){return t.collapsedSeriesIndices.indexOf(n)===-1})}},{key:"translateYAxisIndex",value:function(e){var t=this.w,n=t.globals,s=t.config.yaxis;return n.series.length>s.length||s.some(function(r){return Array.isArray(r.seriesName)})?e:n.seriesYAxisReverseMap[e]}},{key:"isYAxisHidden",value:function(e){var t=this.w,n=t.config.yaxis[e];if(!n.show||this.yAxisAllSeriesCollapsed(e))return!0;if(!n.showForNullSeries){var s=t.globals.seriesYAxisMap[e],r=new Mn(this.ctx);return s.every(function(a){return r.isSeriesNull(a)})}return!1}},{key:"getYAxisForeColor",value:function(e,t){var n=this.w;return Array.isArray(e)&&n.globals.yAxisScale[t]&&this.ctx.theme.pushExtraColors(e,n.globals.yAxisScale[t].result.length,!1),e}},{key:"drawYAxisTicks",value:function(e,t,n,s,r,a,l){var c=this.w,h=new fe(this.ctx),d=c.globals.translateY+c.config.yaxis[r].labels.offsetY;if(c.globals.isBarHorizontal?d=0:c.config.chart.type==="heatmap"&&(d+=a/2),s.show&&t>0){c.config.yaxis[r].opposite===!0&&(e+=s.width);for(var f=t;f>=0;f--){var p=h.drawLine(e+n.offsetX-s.width+s.offsetX,d+s.offsetY,e+n.offsetX+s.offsetX,d+s.offsetY,s.color);l.add(p),d+=a}}}}]),i}(),yee=function(){function i(e){Ce(this,i),this.w=e.w,this.annoCtx=e,this.helpers=new yv(this.annoCtx),this.axesUtils=new qo(this.annoCtx)}return ke(i,[{key:"addYaxisAnnotation",value:function(e,t,n){var s,r=this.w,a=e.strokeDashArray,l=this.helpers.getY1Y2("y1",e),c=l.yP,h=l.clipped,d=!0,f=!1,p=e.label.text;if(e.y2===null||e.y2===void 0){if(!h){f=!0;var y=this.annoCtx.graphics.drawLine(0+e.offsetX,c+e.offsetY,this._getYAxisAnnotationWidth(e),c+e.offsetY,e.borderColor,a,e.borderWidth);t.appendChild(y.node),e.id&&y.node.classList.add(e.id)}}else{if(s=(l=this.helpers.getY1Y2("y2",e)).yP,d=l.clipped,s>c){var b=c;c=s,s=b}if(!h||!d){f=!0;var x=this.annoCtx.graphics.drawRect(0+e.offsetX,s+e.offsetY,this._getYAxisAnnotationWidth(e),c-s,0,e.fillColor,e.opacity,1,e.borderColor,a);x.node.classList.add("apexcharts-annotation-rect"),x.attr("clip-path","url(#gridRectMask".concat(r.globals.cuid,")")),t.appendChild(x.node),e.id&&x.node.classList.add(e.id)}}if(f){var _=e.label.position==="right"?r.globals.gridWidth:e.label.position==="center"?r.globals.gridWidth/2:0,S=this.annoCtx.graphics.drawText({x:_+e.label.offsetX,y:(s??c)+e.label.offsetY-3,text:p,textAnchor:e.label.textAnchor,fontSize:e.label.style.fontSize,fontFamily:e.label.style.fontFamily,fontWeight:e.label.style.fontWeight,foreColor:e.label.style.color,cssClass:"apexcharts-yaxis-annotation-label ".concat(e.label.style.cssClass," ").concat(e.id?e.id:"")});S.attr({rel:n}),t.appendChild(S.node)}}},{key:"_getYAxisAnnotationWidth",value:function(e){var t=this.w;return t.globals.gridWidth,(e.width.indexOf("%")>-1?t.globals.gridWidth*parseInt(e.width,10)/100:parseInt(e.width,10))+e.offsetX}},{key:"drawYAxisAnnotations",value:function(){var e=this,t=this.w,n=this.annoCtx.graphics.group({class:"apexcharts-yaxis-annotations"});return t.config.annotations.yaxis.forEach(function(s,r){s.yAxisIndex=e.axesUtils.translateYAxisIndex(s.yAxisIndex),e.axesUtils.isYAxisHidden(s.yAxisIndex)&&e.axesUtils.yAxisAllSeriesCollapsed(s.yAxisIndex)||e.addYaxisAnnotation(s,n.node,r)}),n}}]),i}(),vee=function(){function i(e){Ce(this,i),this.w=e.w,this.annoCtx=e,this.helpers=new yv(this.annoCtx)}return ke(i,[{key:"addPointAnnotation",value:function(e,t,n){if(!(this.w.globals.collapsedSeriesIndices.indexOf(e.seriesIndex)>-1)){var s=this.helpers.getX1X2("x1",e),r=s.x,a=s.clipped,l=(s=this.helpers.getY1Y2("y1",e)).yP,c=s.clipped;if(q.isNumber(r)&&!c&&!a){var h={pSize:e.marker.size,pointStrokeWidth:e.marker.strokeWidth,pointFillColor:e.marker.fillColor,pointStrokeColor:e.marker.strokeColor,shape:e.marker.shape,pRadius:e.marker.radius,class:"apexcharts-point-annotation-marker ".concat(e.marker.cssClass," ").concat(e.id?e.id:"")},d=this.annoCtx.graphics.drawMarker(r+e.marker.offsetX,l+e.marker.offsetY,h);t.appendChild(d.node);var f=e.label.text?e.label.text:"",p=this.annoCtx.graphics.drawText({x:r+e.label.offsetX,y:l+e.label.offsetY-e.marker.size-parseFloat(e.label.style.fontSize)/1.6,text:f,textAnchor:e.label.textAnchor,fontSize:e.label.style.fontSize,fontFamily:e.label.style.fontFamily,fontWeight:e.label.style.fontWeight,foreColor:e.label.style.color,cssClass:"apexcharts-point-annotation-label ".concat(e.label.style.cssClass," ").concat(e.id?e.id:"")});if(p.attr({rel:n}),t.appendChild(p.node),e.customSVG.SVG){var y=this.annoCtx.graphics.group({class:"apexcharts-point-annotations-custom-svg "+e.customSVG.cssClass});y.attr({transform:"translate(".concat(r+e.customSVG.offsetX,", ").concat(l+e.customSVG.offsetY,")")}),y.node.innerHTML=e.customSVG.SVG,t.appendChild(y.node)}if(e.image.path){var b=e.image.width?e.image.width:20,x=e.image.height?e.image.height:20;d=this.annoCtx.addImage({x:r+e.image.offsetX-b/2,y:l+e.image.offsetY-x/2,width:b,height:x,path:e.image.path,appendTo:".apexcharts-point-annotations"})}e.mouseEnter&&d.node.addEventListener("mouseenter",e.mouseEnter.bind(this,e)),e.mouseLeave&&d.node.addEventListener("mouseleave",e.mouseLeave.bind(this,e)),e.click&&d.node.addEventListener("click",e.click.bind(this,e))}}}},{key:"drawPointAnnotations",value:function(){var e=this,t=this.w,n=this.annoCtx.graphics.group({class:"apexcharts-point-annotations"});return t.config.annotations.points.map(function(s,r){e.addPointAnnotation(s,n.node,r)}),n}}]),i}(),yF={name:"en",options:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],toolbar:{exportToSVG:"Download SVG",exportToPNG:"Download PNG",exportToCSV:"Download CSV",menu:"Menu",selection:"Selection",selectionZoom:"Selection Zoom",zoomIn:"Zoom In",zoomOut:"Zoom Out",pan:"Panning",reset:"Reset Zoom"}}},jl=function(){function i(){Ce(this,i),this.yAxis={show:!0,showAlways:!1,showForNullSeries:!0,seriesName:void 0,opposite:!1,reversed:!1,logarithmic:!1,logBase:10,tickAmount:void 0,stepSize:void 0,forceNiceScale:!1,max:void 0,min:void 0,floating:!1,decimalsInFloat:void 0,labels:{show:!0,showDuplicates:!1,minWidth:0,maxWidth:160,offsetX:0,offsetY:0,align:void 0,rotate:0,padding:20,style:{colors:[],fontSize:"11px",fontWeight:400,fontFamily:void 0,cssClass:""},formatter:void 0},axisBorder:{show:!1,color:"#e0e0e0",width:1,offsetX:0,offsetY:0},axisTicks:{show:!1,color:"#e0e0e0",width:6,offsetX:0,offsetY:0},title:{text:void 0,rotate:-90,offsetY:0,offsetX:0,style:{color:void 0,fontSize:"11px",fontWeight:900,fontFamily:void 0,cssClass:""}},tooltip:{enabled:!1,offsetX:0},crosshairs:{show:!0,position:"front",stroke:{color:"#b6b6b6",width:1,dashArray:0}}},this.pointAnnotation={id:void 0,x:0,y:null,yAxisIndex:0,seriesIndex:void 0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,marker:{size:4,fillColor:"#fff",strokeWidth:2,strokeColor:"#333",shape:"circle",offsetX:0,offsetY:0,cssClass:""},label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}},customSVG:{SVG:void 0,cssClass:void 0,offsetX:0,offsetY:0},image:{path:void 0,width:20,height:20,offsetX:0,offsetY:0}},this.yAxisAnnotation={id:void 0,y:0,y2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,width:"100%",yAxisIndex:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"end",position:"right",offsetX:0,offsetY:-3,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.xAxisAnnotation={id:void 0,x:0,x2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",orientation:"vertical",position:"top",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.text={x:0,y:0,text:"",textAnchor:"start",foreColor:void 0,fontSize:"13px",fontFamily:void 0,fontWeight:400,appendTo:".apexcharts-annotations",backgroundColor:"transparent",borderColor:"#c2c2c2",borderRadius:0,borderWidth:0,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2}}return ke(i,[{key:"init",value:function(){return{annotations:{yaxis:[this.yAxisAnnotation],xaxis:[this.xAxisAnnotation],points:[this.pointAnnotation],texts:[],images:[],shapes:[]},chart:{animations:{enabled:!0,speed:800,animateGradually:{delay:150,enabled:!0},dynamicAnimation:{enabled:!0,speed:350}},background:"",locales:[yF],defaultLocale:"en",dropShadow:{enabled:!1,enabledOnSeries:void 0,top:2,left:2,blur:4,color:"#000",opacity:.7},events:{animationEnd:void 0,beforeMount:void 0,mounted:void 0,updated:void 0,click:void 0,mouseMove:void 0,mouseLeave:void 0,xAxisLabelClick:void 0,legendClick:void 0,markerClick:void 0,selection:void 0,dataPointSelection:void 0,dataPointMouseEnter:void 0,dataPointMouseLeave:void 0,beforeZoom:void 0,beforeResetZoom:void 0,zoomed:void 0,scrolled:void 0,brushScrolled:void 0},foreColor:"#373d3f",fontFamily:"Helvetica, Arial, sans-serif",height:"auto",parentHeightOffset:15,redrawOnParentResize:!0,redrawOnWindowResize:!0,id:void 0,group:void 0,nonce:void 0,offsetX:0,offsetY:0,injectStyleSheet:!0,selection:{enabled:!1,type:"x",fill:{color:"#24292e",opacity:.1},stroke:{width:1,color:"#24292e",opacity:.4,dashArray:3},xaxis:{min:void 0,max:void 0},yaxis:{min:void 0,max:void 0}},sparkline:{enabled:!1},brush:{enabled:!1,autoScaleYaxis:!0,target:void 0,targets:void 0},stacked:!1,stackOnlyBar:!0,stackType:"normal",toolbar:{show:!0,offsetX:0,offsetY:0,tools:{download:!0,selection:!0,zoom:!0,zoomin:!0,zoomout:!0,pan:!0,reset:!0,customIcons:[]},export:{csv:{filename:void 0,columnDelimiter:",",headerCategory:"category",headerValue:"value",categoryFormatter:void 0,valueFormatter:void 0},png:{filename:void 0},svg:{filename:void 0},scale:void 0,width:void 0},autoSelected:"zoom"},type:"line",width:"100%",zoom:{enabled:!0,type:"x",autoScaleYaxis:!1,allowMouseWheelZoom:!0,zoomedArea:{fill:{color:"#90CAF9",opacity:.4},stroke:{color:"#0D47A1",opacity:.4,width:1}}}},parsing:{x:void 0,y:void 0},plotOptions:{line:{isSlopeChart:!1,colors:{threshold:0,colorAboveThreshold:void 0,colorBelowThreshold:void 0}},area:{fillTo:"origin"},bar:{horizontal:!1,columnWidth:"70%",barHeight:"70%",distributed:!1,borderRadius:0,borderRadiusApplication:"around",borderRadiusWhenStacked:"last",rangeBarOverlap:!0,rangeBarGroupRows:!1,hideZeroBarsWhenGrouped:!1,isDumbbell:!1,dumbbellColors:void 0,isFunnel:!1,isFunnel3d:!0,colors:{ranges:[],backgroundBarColors:[],backgroundBarOpacity:1,backgroundBarRadius:0},dataLabels:{position:"top",maxItems:100,hideOverflowingLabels:!0,orientation:"horizontal",total:{enabled:!1,formatter:void 0,offsetX:0,offsetY:0,style:{color:"#373d3f",fontSize:"12px",fontFamily:void 0,fontWeight:600}}}},bubble:{zScaling:!0,minBubbleRadius:void 0,maxBubbleRadius:void 0},candlestick:{colors:{upward:"#00B746",downward:"#EF403C"},wick:{useFillColor:!0}},boxPlot:{colors:{upper:"#00E396",lower:"#008FFB"}},heatmap:{radius:2,enableShades:!0,shadeIntensity:.5,reverseNegativeShade:!1,distributed:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},treemap:{enableShades:!0,shadeIntensity:.5,distributed:!1,reverseNegativeShade:!1,useFillColorAsStroke:!1,borderRadius:4,dataLabels:{format:"scale"},colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0},seriesTitle:{show:!0,offsetY:1,offsetX:1,borderColor:"#000",borderWidth:1,borderRadius:2,style:{background:"rgba(0, 0, 0, 0.6)",color:"#fff",fontSize:"12px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:6,right:6,top:2,bottom:2}}}},radialBar:{inverseOrder:!1,startAngle:0,endAngle:360,offsetX:0,offsetY:0,hollow:{margin:5,size:"50%",background:"transparent",image:void 0,imageWidth:150,imageHeight:150,imageOffsetX:0,imageOffsetY:0,imageClipped:!0,position:"front",dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},track:{show:!0,startAngle:void 0,endAngle:void 0,background:"#f2f2f2",strokeWidth:"97%",opacity:1,margin:5,dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},dataLabels:{show:!0,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:0,formatter:function(e){return e}},value:{show:!0,fontSize:"14px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:16,formatter:function(e){return e+"%"}},total:{show:!1,label:"Total",fontSize:"16px",fontWeight:600,fontFamily:void 0,color:void 0,formatter:function(e){return e.globals.seriesTotals.reduce(function(t,n){return t+n},0)/e.globals.series.length+"%"}}},barLabels:{enabled:!1,offsetX:0,offsetY:0,useSeriesColors:!0,fontFamily:void 0,fontWeight:600,fontSize:"16px",formatter:function(e){return e},onClick:void 0}},pie:{customScale:1,offsetX:0,offsetY:0,startAngle:0,endAngle:360,expandOnClick:!0,dataLabels:{offset:0,minAngleToShowLabel:10},donut:{size:"65%",background:"transparent",labels:{show:!1,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:-10,formatter:function(e){return e}},value:{show:!0,fontSize:"20px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:10,formatter:function(e){return e}},total:{show:!1,showAlways:!1,label:"Total",fontSize:"16px",fontWeight:400,fontFamily:void 0,color:void 0,formatter:function(e){return e.globals.seriesTotals.reduce(function(t,n){return t+n},0)}}}}},polarArea:{rings:{strokeWidth:1,strokeColor:"#e8e8e8"},spokes:{strokeWidth:1,connectorColors:"#e8e8e8"}},radar:{size:void 0,offsetX:0,offsetY:0,polygons:{strokeWidth:1,strokeColors:"#e8e8e8",connectorColors:"#e8e8e8",fill:{colors:void 0}}}},colors:void 0,dataLabels:{enabled:!0,enabledOnSeries:void 0,formatter:function(e){return e!==null?e:""},textAnchor:"middle",distributed:!1,offsetX:0,offsetY:0,style:{fontSize:"12px",fontFamily:void 0,fontWeight:600,colors:void 0},background:{enabled:!0,foreColor:"#fff",backgroundColor:void 0,borderRadius:2,padding:4,opacity:.9,borderWidth:1,borderColor:"#fff",dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.8}},dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.8}},fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]},image:{src:[],width:void 0,height:void 0},pattern:{style:"squares",width:6,height:6,strokeWidth:2}},forecastDataPoints:{count:0,fillOpacity:.5,strokeWidth:void 0,dashArray:4},grid:{show:!0,borderColor:"#e0e0e0",strokeDashArray:0,position:"back",xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}},row:{colors:void 0,opacity:.5},column:{colors:void 0,opacity:.5},padding:{top:0,right:10,bottom:0,left:12}},labels:[],legend:{show:!0,showForSingleSeries:!1,showForNullSeries:!0,showForZeroSeries:!0,floating:!1,position:"bottom",horizontalAlign:"center",inverseOrder:!1,fontSize:"12px",fontFamily:void 0,fontWeight:400,width:void 0,height:void 0,formatter:void 0,tooltipHoverFormatter:void 0,offsetX:-20,offsetY:4,customLegendItems:[],clusterGroupedSeries:!0,clusterGroupedSeriesOrientation:"vertical",labels:{colors:void 0,useSeriesColors:!1},markers:{size:7,fillColors:void 0,strokeWidth:1,shape:void 0,offsetX:0,offsetY:0,customHTML:void 0,onClick:void 0},itemMargin:{horizontal:5,vertical:4},onItemClick:{toggleDataSeries:!0},onItemHover:{highlightDataSeries:!0}},markers:{discrete:[],size:0,colors:void 0,strokeColors:"#fff",strokeWidth:2,strokeOpacity:.9,strokeDashArray:0,fillOpacity:1,shape:"circle",offsetX:0,offsetY:0,showNullDataPoints:!0,onClick:void 0,onDblClick:void 0,hover:{size:void 0,sizeOffset:3}},noData:{text:void 0,align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:void 0,fontSize:"14px",fontFamily:void 0}},responsive:[],series:void 0,states:{hover:{filter:{type:"lighten"}},active:{allowMultipleDataPointsSelection:!1,filter:{type:"darken"}}},title:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"14px",fontWeight:900,fontFamily:void 0,color:void 0}},subtitle:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:30,floating:!1,style:{fontSize:"12px",fontWeight:400,fontFamily:void 0,color:void 0}},stroke:{show:!0,curve:"smooth",lineCap:"butt",width:2,colors:void 0,dashArray:0,fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]}}},tooltip:{enabled:!0,enabledOnSeries:void 0,shared:!0,hideEmptySeries:!1,followCursor:!1,intersect:!1,inverseOrder:!1,custom:void 0,fillSeriesColor:!1,theme:"light",cssClass:"",style:{fontSize:"12px",fontFamily:void 0},onDatasetHover:{highlightDataSeries:!1},x:{show:!0,format:"dd MMM",formatter:void 0},y:{formatter:void 0,title:{formatter:function(e){return e?e+": ":""}}},z:{formatter:void 0,title:"Size: "},marker:{show:!0,fillColors:void 0},items:{display:"flex"},fixed:{enabled:!1,position:"topRight",offsetX:0,offsetY:0}},xaxis:{type:"category",categories:[],convertedCatToNumeric:!1,offsetX:0,offsetY:0,overwriteCategories:void 0,labels:{show:!0,rotate:-45,rotateAlways:!1,hideOverlappingLabels:!0,trim:!1,minHeight:void 0,maxHeight:120,showDuplicates:!0,style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""},offsetX:0,offsetY:0,format:void 0,formatter:void 0,datetimeUTC:!0,datetimeFormatter:{year:"yyyy",month:"MMM 'yy",day:"dd MMM",hour:"HH:mm",minute:"HH:mm:ss",second:"HH:mm:ss"}},group:{groups:[],style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""}},axisBorder:{show:!0,color:"#e0e0e0",width:"100%",height:1,offsetX:0,offsetY:0},axisTicks:{show:!0,color:"#e0e0e0",height:6,offsetX:0,offsetY:0},stepSize:void 0,tickAmount:void 0,tickPlacement:"on",min:void 0,max:void 0,range:void 0,floating:!1,decimalsInFloat:void 0,position:"bottom",title:{text:void 0,offsetX:0,offsetY:0,style:{color:void 0,fontSize:"12px",fontWeight:900,fontFamily:void 0,cssClass:""}},crosshairs:{show:!0,width:1,position:"back",opacity:.9,stroke:{color:"#b6b6b6",width:1,dashArray:3},fill:{type:"solid",color:"#B1B9C4",gradient:{colorFrom:"#D8E3F0",colorTo:"#BED1E6",stops:[0,100],opacityFrom:.4,opacityTo:.5}},dropShadow:{enabled:!1,left:0,top:0,blur:1,opacity:.8}},tooltip:{enabled:!0,offsetY:0,formatter:void 0,style:{fontSize:"12px",fontFamily:void 0}}},yaxis:this.yAxis,theme:{mode:"",palette:"palette1",monochrome:{enabled:!1,color:"#008FFB",shadeTo:"light",shadeIntensity:.65}}}}}]),i}(),bee=function(){function i(e){Ce(this,i),this.ctx=e,this.w=e.w,this.graphics=new fe(this.ctx),this.w.globals.isBarHorizontal&&(this.invertAxis=!0),this.helpers=new yv(this),this.xAxisAnnotations=new mee(this),this.yAxisAnnotations=new yee(this),this.pointsAnnotations=new vee(this),this.w.globals.isBarHorizontal&&this.w.config.yaxis[0].reversed&&(this.inversedReversedAxis=!0),this.xDivision=this.w.globals.gridWidth/this.w.globals.dataPoints}return ke(i,[{key:"drawAxesAnnotations",value:function(){var e=this.w;if(e.globals.axisCharts&&e.globals.dataPoints){for(var t=this.yAxisAnnotations.drawYAxisAnnotations(),n=this.xAxisAnnotations.drawXAxisAnnotations(),s=this.pointsAnnotations.drawPointAnnotations(),r=e.config.chart.animations.enabled,a=[t,n,s],l=[n.node,t.node,s.node],c=0;c<3;c++)e.globals.dom.elGraphical.add(a[c]),!r||e.globals.resized||e.globals.dataChanged||e.config.chart.type!=="scatter"&&e.config.chart.type!=="bubble"&&e.globals.dataPoints>1&&l[c].classList.add("apexcharts-element-hidden"),e.globals.delayedElements.push({el:l[c],index:0});this.helpers.annotationsBackground()}}},{key:"drawImageAnnos",value:function(){var e=this;this.w.config.annotations.images.map(function(t,n){e.addImage(t,n)})}},{key:"drawTextAnnos",value:function(){var e=this;this.w.config.annotations.texts.map(function(t,n){e.addText(t,n)})}},{key:"addXaxisAnnotation",value:function(e,t,n){this.xAxisAnnotations.addXaxisAnnotation(e,t,n)}},{key:"addYaxisAnnotation",value:function(e,t,n){this.yAxisAnnotations.addYaxisAnnotation(e,t,n)}},{key:"addPointAnnotation",value:function(e,t,n){this.pointsAnnotations.addPointAnnotation(e,t,n)}},{key:"addText",value:function(e,t){var n=e.x,s=e.y,r=e.text,a=e.textAnchor,l=e.foreColor,c=e.fontSize,h=e.fontFamily,d=e.fontWeight,f=e.cssClass,p=e.backgroundColor,y=e.borderWidth,b=e.strokeDashArray,x=e.borderRadius,_=e.borderColor,S=e.appendTo,T=S===void 0?".apexcharts-svg":S,C=e.paddingLeft,M=C===void 0?4:C,R=e.paddingRight,P=R===void 0?4:R,k=e.paddingBottom,E=k===void 0?2:k,D=e.paddingTop,O=D===void 0?2:D,F=this.w,H=this.graphics.drawText({x:n,y:s,text:r,textAnchor:a||"start",fontSize:c||"12px",fontWeight:d||"regular",fontFamily:h||F.config.chart.fontFamily,foreColor:l||F.config.chart.foreColor,cssClass:f}),B=F.globals.dom.baseEl.querySelector(T);B&&B.appendChild(H.node);var K=H.bbox();if(r){var ne=this.graphics.drawRect(K.x-M,K.y-O,K.width+M+P,K.height+E+O,x,p||"transparent",1,y,_,b);B.insertBefore(ne.node,H.node)}}},{key:"addImage",value:function(e,t){var n=this.w,s=e.path,r=e.x,a=r===void 0?0:r,l=e.y,c=l===void 0?0:l,h=e.width,d=h===void 0?20:h,f=e.height,p=f===void 0?20:f,y=e.appendTo,b=y===void 0?".apexcharts-svg":y,x=n.globals.dom.Paper.image(s);x.size(d,p).move(a,c);var _=n.globals.dom.baseEl.querySelector(b);return _&&_.appendChild(x.node),x}},{key:"addXaxisAnnotationExternal",value:function(e,t,n){return this.addAnnotationExternal({params:e,pushToMemory:t,context:n,type:"xaxis",contextMethod:n.addXaxisAnnotation}),n}},{key:"addYaxisAnnotationExternal",value:function(e,t,n){return this.addAnnotationExternal({params:e,pushToMemory:t,context:n,type:"yaxis",contextMethod:n.addYaxisAnnotation}),n}},{key:"addPointAnnotationExternal",value:function(e,t,n){return this.invertAxis===void 0&&(this.invertAxis=n.w.globals.isBarHorizontal),this.addAnnotationExternal({params:e,pushToMemory:t,context:n,type:"point",contextMethod:n.addPointAnnotation}),n}},{key:"addAnnotationExternal",value:function(e){var t=e.params,n=e.pushToMemory,s=e.context,r=e.type,a=e.contextMethod,l=s,c=l.w,h=c.globals.dom.baseEl.querySelector(".apexcharts-".concat(r,"-annotations")),d=h.childNodes.length+1,f=new jl,p=Object.assign({},r==="xaxis"?f.xAxisAnnotation:r==="yaxis"?f.yAxisAnnotation:f.pointAnnotation),y=q.extend(p,t);switch(r){case"xaxis":this.addXaxisAnnotation(y,h,d);break;case"yaxis":this.addYaxisAnnotation(y,h,d);break;case"point":this.addPointAnnotation(y,h,d)}var b=c.globals.dom.baseEl.querySelector(".apexcharts-".concat(r,"-annotations .apexcharts-").concat(r,"-annotation-label[rel='").concat(d,"']")),x=this.helpers.addBackgroundToAnno(b,y);return x&&h.insertBefore(x.node,b),n&&c.globals.memory.methodsToExec.push({context:l,id:y.id?y.id:q.randomId(),method:a,label:"addAnnotation",params:t}),s}},{key:"clearAnnotations",value:function(e){for(var t=e.w,n=t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-annotations, .apexcharts-xaxis-annotations, .apexcharts-point-annotations"),s=t.globals.memory.methodsToExec.length-1;s>=0;s--)t.globals.memory.methodsToExec[s].label!=="addText"&&t.globals.memory.methodsToExec[s].label!=="addAnnotation"||t.globals.memory.methodsToExec.splice(s,1);n=q.listToArray(n),Array.prototype.forEach.call(n,function(r){for(;r.firstChild;)r.removeChild(r.firstChild)})}},{key:"removeAnnotation",value:function(e,t){var n=e.w,s=n.globals.dom.baseEl.querySelectorAll(".".concat(t));s&&(n.globals.memory.methodsToExec.map(function(r,a){r.id===t&&n.globals.memory.methodsToExec.splice(a,1)}),Object.keys(n.config.annotations).forEach(function(r){var a=n.config.annotations[r];Array.isArray(a)&&(n.config.annotations[r]=a.filter(function(l){return l.id!==t}))}),Array.prototype.forEach.call(s,function(r){r.parentElement.removeChild(r)}))}}]),i}(),y0=function(i){var e,t=i.isTimeline,n=i.ctx,s=i.seriesIndex,r=i.dataPointIndex,a=i.y1,l=i.y2,c=i.w,h=c.globals.seriesRangeStart[s][r],d=c.globals.seriesRangeEnd[s][r],f=c.globals.labels[r],p=c.config.series[s].name?c.config.series[s].name:"",y=c.globals.ttKeyFormatter,b=c.config.tooltip.y.title.formatter,x={w:c,seriesIndex:s,dataPointIndex:r,start:h,end:d};typeof b=="function"&&(p=b(p,x)),(e=c.config.series[s].data[r])!==null&&e!==void 0&&e.x&&(f=c.config.series[s].data[r].x),t||c.config.xaxis.type==="datetime"&&(f=new vg(n).xLabelFormat(c.globals.ttKeyFormatter,f,f,{i:void 0,dateFormatter:new mi(n).formatDate,w:c})),typeof y=="function"&&(f=y(f,x)),Number.isFinite(a)&&Number.isFinite(l)&&(h=a,d=l);var _="",S="",T=c.globals.colors[s];if(c.config.tooltip.x.formatter===void 0)if(c.config.xaxis.type==="datetime"){var C=new mi(n);_=C.formatDate(C.getDate(h),c.config.tooltip.x.format),S=C.formatDate(C.getDate(d),c.config.tooltip.x.format)}else _=h,S=d;else _=c.config.tooltip.x.formatter(h),S=c.config.tooltip.x.formatter(d);return{start:h,end:d,startVal:_,endVal:S,ylabel:f,color:T,seriesName:p}},v0=function(i){var e=i.color,t=i.seriesName,n=i.ylabel,s=i.start,r=i.end,a=i.seriesIndex,l=i.dataPointIndex,c=i.ctx.tooltip.tooltipLabels.getFormatters(a);s=c.yLbFormatter(s),r=c.yLbFormatter(r);var h=c.yLbFormatter(i.w.globals.series[a][l]),d=`<span class="value start-value">
  `.concat(s,`
  </span> <span class="separator">-</span> <span class="value end-value">
  `).concat(r,`
  </span>`);return'<div class="apexcharts-tooltip-rangebar"><div> <span class="series-name" style="color: '+e+'">'+(t||"")+'</span></div><div> <span class="category">'+n+": </span> "+(i.w.globals.comboCharts?i.w.config.series[a].type==="rangeArea"||i.w.config.series[a].type==="rangeBar"?d:"<span>".concat(h,"</span>"):d)+" </div></div>"},Df=function(){function i(e){Ce(this,i),this.opts=e}return ke(i,[{key:"hideYAxis",value:function(){this.opts.yaxis[0].show=!1,this.opts.yaxis[0].title.text="",this.opts.yaxis[0].axisBorder.show=!1,this.opts.yaxis[0].axisTicks.show=!1,this.opts.yaxis[0].floating=!0}},{key:"line",value:function(){return{dataLabels:{enabled:!1},stroke:{width:5,curve:"straight"},markers:{size:0,hover:{sizeOffset:6}},xaxis:{crosshairs:{width:1}}}}},{key:"sparkline",value:function(e){return this.hideYAxis(),q.extend(e,{grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},legend:{show:!1},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}},chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1}})}},{key:"slope",value:function(){return this.hideYAxis(),{chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!0,formatter:function(e,t){var n=t.w.config.series[t.seriesIndex].name;return e!==null?n+": "+e:""},background:{enabled:!1},offsetX:-5},grid:{xaxis:{lines:{show:!0}},yaxis:{lines:{show:!1}}},xaxis:{position:"top",labels:{style:{fontSize:14,fontWeight:900}},tooltip:{enabled:!1},crosshairs:{show:!1}},markers:{size:8,hover:{sizeOffset:1}},legend:{show:!1},tooltip:{shared:!1,intersect:!0,followCursor:!0},stroke:{width:5,curve:"straight"}}}},{key:"bar",value:function(){return{chart:{stacked:!1},plotOptions:{bar:{dataLabels:{position:"center"}}},dataLabels:{style:{colors:["#fff"]},background:{enabled:!1}},stroke:{width:0,lineCap:"square"},fill:{opacity:.85},legend:{markers:{shape:"square"}},tooltip:{shared:!1,intersect:!0},xaxis:{tooltip:{enabled:!1},tickPlacement:"between",crosshairs:{width:"barWidth",position:"back",fill:{type:"gradient"},dropShadow:{enabled:!1},stroke:{width:0}}}}}},{key:"funnel",value:function(){return this.hideYAxis(),be(be({},this.bar()),{},{chart:{animations:{speed:800,animateGradually:{enabled:!1}}},plotOptions:{bar:{horizontal:!0,borderRadiusApplication:"around",borderRadius:0,dataLabels:{position:"center"}}},grid:{show:!1,padding:{left:0,right:0}},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}}})}},{key:"candlestick",value:function(){var e=this;return{stroke:{width:1},fill:{opacity:1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(t){var n=t.seriesIndex,s=t.dataPointIndex,r=t.w;return e._getBoxTooltip(r,n,s,["Open","High","","Low","Close"],"candlestick")}},states:{active:{filter:{type:"none"}}},xaxis:{crosshairs:{width:1}}}}},{key:"boxPlot",value:function(){var e=this;return{chart:{animations:{dynamicAnimation:{enabled:!1}}},stroke:{width:1,colors:["#24292e"]},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(t){var n=t.seriesIndex,s=t.dataPointIndex,r=t.w;return e._getBoxTooltip(r,n,s,["Minimum","Q1","Median","Q3","Maximum"],"boxPlot")}},markers:{size:7,strokeWidth:1,strokeColors:"#111"},xaxis:{crosshairs:{width:1}}}}},{key:"rangeBar",value:function(){return{chart:{animations:{animateGradually:!1}},stroke:{width:0,lineCap:"square"},plotOptions:{bar:{borderRadius:0,dataLabels:{position:"center"}}},dataLabels:{enabled:!1,formatter:function(e,t){t.ctx;var n=t.seriesIndex,s=t.dataPointIndex,r=t.w,a=function(){var l=r.globals.seriesRangeStart[n][s];return r.globals.seriesRangeEnd[n][s]-l};return r.globals.comboCharts?r.config.series[n].type==="rangeBar"||r.config.series[n].type==="rangeArea"?a():e:a()},background:{enabled:!1},style:{colors:["#fff"]}},markers:{size:10},tooltip:{shared:!1,followCursor:!0,custom:function(e){return e.w.config.plotOptions&&e.w.config.plotOptions.bar&&e.w.config.plotOptions.bar.horizontal?function(t){var n=y0(be(be({},t),{},{isTimeline:!0})),s=n.color,r=n.seriesName,a=n.ylabel,l=n.startVal,c=n.endVal;return v0(be(be({},t),{},{color:s,seriesName:r,ylabel:a,start:l,end:c}))}(e):function(t){var n=y0(t),s=n.color,r=n.seriesName,a=n.ylabel,l=n.start,c=n.end;return v0(be(be({},t),{},{color:s,seriesName:r,ylabel:a,start:l,end:c}))}(e)}},xaxis:{tickPlacement:"between",tooltip:{enabled:!1},crosshairs:{stroke:{width:0}}}}}},{key:"dumbbell",value:function(e){var t,n;return(t=e.plotOptions.bar)!==null&&t!==void 0&&t.barHeight||(e.plotOptions.bar.barHeight=2),(n=e.plotOptions.bar)!==null&&n!==void 0&&n.columnWidth||(e.plotOptions.bar.columnWidth=2),e}},{key:"area",value:function(){return{stroke:{width:4,fill:{type:"solid",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}}},fill:{type:"gradient",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}},markers:{size:0,hover:{sizeOffset:6}},tooltip:{followCursor:!1}}}},{key:"rangeArea",value:function(){return{stroke:{curve:"straight",width:0},fill:{type:"solid",opacity:.6},markers:{size:0},states:{hover:{filter:{type:"none"}},active:{filter:{type:"none"}}},tooltip:{intersect:!1,shared:!0,followCursor:!0,custom:function(e){return function(t){var n=y0(t),s=n.color,r=n.seriesName,a=n.ylabel,l=n.start,c=n.end;return v0(be(be({},t),{},{color:s,seriesName:r,ylabel:a,start:l,end:c}))}(e)}}}}},{key:"brush",value:function(e){return q.extend(e,{chart:{toolbar:{autoSelected:"selection",show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{width:1},tooltip:{enabled:!1},xaxis:{tooltip:{enabled:!1}}})}},{key:"stacked100",value:function(e){e.dataLabels=e.dataLabels||{},e.dataLabels.formatter=e.dataLabels.formatter||void 0;var t=e.dataLabels.formatter;return e.yaxis.forEach(function(n,s){e.yaxis[s].min=0,e.yaxis[s].max=100}),e.chart.type==="bar"&&(e.dataLabels.formatter=t||function(n){return typeof n=="number"&&n?n.toFixed(0)+"%":n}),e}},{key:"stackedBars",value:function(){var e=this.bar();return be(be({},e),{},{plotOptions:be(be({},e.plotOptions),{},{bar:be(be({},e.plotOptions.bar),{},{borderRadiusApplication:"end",borderRadiusWhenStacked:"last"})})})}},{key:"convertCatToNumeric",value:function(e){return e.xaxis.convertedCatToNumeric=!0,e}},{key:"convertCatToNumericXaxis",value:function(e,t,n){e.xaxis.type="numeric",e.xaxis.labels=e.xaxis.labels||{},e.xaxis.labels.formatter=e.xaxis.labels.formatter||function(a){return q.isNumber(a)?Math.floor(a):a};var s=e.xaxis.labels.formatter,r=e.xaxis.categories&&e.xaxis.categories.length?e.xaxis.categories:e.labels;return n&&n.length&&(r=n.map(function(a){return Array.isArray(a)?a:String(a)})),r&&r.length&&(e.xaxis.labels.formatter=function(a){return q.isNumber(a)?s(r[Math.floor(a)-1]):s(a)}),e.xaxis.categories=[],e.labels=[],e.xaxis.tickAmount=e.xaxis.tickAmount||"dataPoints",e}},{key:"bubble",value:function(){return{dataLabels:{style:{colors:["#fff"]}},tooltip:{shared:!1,intersect:!0},xaxis:{crosshairs:{width:0}},fill:{type:"solid",gradient:{shade:"light",inverse:!0,shadeIntensity:.55,opacityFrom:.4,opacityTo:.8}}}}},{key:"scatter",value:function(){return{dataLabels:{enabled:!1},tooltip:{shared:!1,intersect:!0},markers:{size:6,strokeWidth:1,hover:{sizeOffset:2}}}}},{key:"heatmap",value:function(){return{chart:{stacked:!1},fill:{opacity:1},dataLabels:{style:{colors:["#fff"]}},stroke:{colors:["#fff"]},tooltip:{followCursor:!0,marker:{show:!1},x:{show:!1}},legend:{position:"top",markers:{shape:"square"}},grid:{padding:{right:20}}}}},{key:"treemap",value:function(){return{chart:{zoom:{enabled:!1}},dataLabels:{style:{fontSize:14,fontWeight:600,colors:["#fff"]}},stroke:{show:!0,width:2,colors:["#fff"]},legend:{show:!1},fill:{opacity:1,gradient:{stops:[0,100]}},tooltip:{followCursor:!0,x:{show:!1}},grid:{padding:{left:0,right:0}},xaxis:{crosshairs:{show:!1},tooltip:{enabled:!1}}}}},{key:"pie",value:function(){return{chart:{toolbar:{show:!1}},plotOptions:{pie:{donut:{labels:{show:!1}}}},dataLabels:{formatter:function(e){return e.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",stops:[0,100]}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"donut",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(e){return e.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",shadeIntensity:.35,stops:[80,100],opacityFrom:1,opacityTo:1}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"polarArea",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(e){return e.toFixed(1)+"%"},enabled:!1},stroke:{show:!0,width:2},fill:{opacity:.7},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"radar",value:function(){return this.opts.yaxis[0].labels.offsetY=this.opts.yaxis[0].labels.offsetY?this.opts.yaxis[0].labels.offsetY:6,{dataLabels:{enabled:!1,style:{fontSize:"11px"}},stroke:{width:2},markers:{size:5,strokeWidth:1,strokeOpacity:1},fill:{opacity:.2},tooltip:{shared:!1,intersect:!0,followCursor:!0},grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},xaxis:{labels:{formatter:function(e){return e},style:{colors:["#a8a8a8"],fontSize:"11px"}},tooltip:{enabled:!1},crosshairs:{show:!1}}}}},{key:"radialBar",value:function(){return{chart:{animations:{dynamicAnimation:{enabled:!0,speed:800}},toolbar:{show:!1}},fill:{gradient:{shade:"dark",shadeIntensity:.4,inverseColors:!1,type:"diagonal2",opacityFrom:1,opacityTo:1,stops:[70,98,100]}},legend:{show:!1,position:"right"},tooltip:{enabled:!1,fillSeriesColor:!0},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"_getBoxTooltip",value:function(e,t,n,s,r){var a=e.globals.seriesCandleO[t][n],l=e.globals.seriesCandleH[t][n],c=e.globals.seriesCandleM[t][n],h=e.globals.seriesCandleL[t][n],d=e.globals.seriesCandleC[t][n];return e.config.series[t].type&&e.config.series[t].type!==r?`<div class="apexcharts-custom-tooltip">
          `.concat(e.config.series[t].name?e.config.series[t].name:"series-"+(t+1),": <strong>").concat(e.globals.series[t][n],`</strong>
        </div>`):'<div class="apexcharts-tooltip-box apexcharts-tooltip-'.concat(e.config.chart.type,'">')+"<div>".concat(s[0],': <span class="value">')+a+"</span></div>"+"<div>".concat(s[1],': <span class="value">')+l+"</span></div>"+(c?"<div>".concat(s[2],': <span class="value">')+c+"</span></div>":"")+"<div>".concat(s[3],': <span class="value">')+h+"</span></div>"+"<div>".concat(s[4],': <span class="value">')+d+"</span></div></div>"}}]),i}(),Nf=function(){function i(e){Ce(this,i),this.opts=e}return ke(i,[{key:"init",value:function(e){var t=e.responsiveOverride,n=this.opts,s=new jl,r=new Df(n);this.chartType=n.chart.type,n=this.extendYAxis(n),n=this.extendAnnotations(n);var a=s.init(),l={};if(n&&Yi(n)==="object"){var c,h,d,f,p,y,b,x,_,S,T={};T=["line","area","bar","candlestick","boxPlot","rangeBar","rangeArea","bubble","scatter","heatmap","treemap","pie","polarArea","donut","radar","radialBar"].indexOf(n.chart.type)!==-1?r[n.chart.type]():r.line(),(c=n.plotOptions)!==null&&c!==void 0&&(h=c.bar)!==null&&h!==void 0&&h.isFunnel&&(T=r.funnel()),n.chart.stacked&&n.chart.type==="bar"&&(T=r.stackedBars()),(d=n.chart.brush)!==null&&d!==void 0&&d.enabled&&(T=r.brush(T)),(f=n.plotOptions)!==null&&f!==void 0&&(p=f.line)!==null&&p!==void 0&&p.isSlopeChart&&(T=r.slope()),n.chart.stacked&&n.chart.stackType==="100%"&&(n=r.stacked100(n)),(y=n.plotOptions)!==null&&y!==void 0&&(b=y.bar)!==null&&b!==void 0&&b.isDumbbell&&(n=r.dumbbell(n)),this.checkForDarkTheme(window.Apex),this.checkForDarkTheme(n),n.xaxis=n.xaxis||window.Apex.xaxis||{},t||(n.xaxis.convertedCatToNumeric=!1),((x=(n=this.checkForCatToNumericXAxis(this.chartType,T,n)).chart.sparkline)!==null&&x!==void 0&&x.enabled||(_=window.Apex.chart)!==null&&_!==void 0&&(S=_.sparkline)!==null&&S!==void 0&&S.enabled)&&(T=r.sparkline(T)),l=q.extend(a,T)}var C=q.extend(l,window.Apex);return a=q.extend(C,n),a=this.handleUserInputErrors(a)}},{key:"checkForCatToNumericXAxis",value:function(e,t,n){var s,r,a=new Df(n),l=(e==="bar"||e==="boxPlot")&&((s=n.plotOptions)===null||s===void 0||(r=s.bar)===null||r===void 0?void 0:r.horizontal),c=e==="pie"||e==="polarArea"||e==="donut"||e==="radar"||e==="radialBar"||e==="heatmap",h=n.xaxis.type!=="datetime"&&n.xaxis.type!=="numeric",d=n.xaxis.tickPlacement?n.xaxis.tickPlacement:t.xaxis&&t.xaxis.tickPlacement;return l||c||!h||d==="between"||(n=a.convertCatToNumeric(n)),n}},{key:"extendYAxis",value:function(e,t){var n=new jl;(e.yaxis===void 0||!e.yaxis||Array.isArray(e.yaxis)&&e.yaxis.length===0)&&(e.yaxis={}),e.yaxis.constructor!==Array&&window.Apex.yaxis&&window.Apex.yaxis.constructor!==Array&&(e.yaxis=q.extend(e.yaxis,window.Apex.yaxis)),e.yaxis.constructor!==Array?e.yaxis=[q.extend(n.yAxis,e.yaxis)]:e.yaxis=q.extendArray(e.yaxis,n.yAxis);var s=!1;e.yaxis.forEach(function(a){a.logarithmic&&(s=!0)});var r=e.series;return t&&!r&&(r=t.config.series),s&&r.length!==e.yaxis.length&&r.length&&(e.yaxis=r.map(function(a,l){if(a.name||(r[l].name="series-".concat(l+1)),e.yaxis[l])return e.yaxis[l].seriesName=r[l].name,e.yaxis[l];var c=q.extend(n.yAxis,e.yaxis[0]);return c.show=!1,c})),s&&r.length>1&&r.length!==e.yaxis.length&&console.warn("A multi-series logarithmic chart should have equal number of series and y-axes"),e}},{key:"extendAnnotations",value:function(e){return e.annotations===void 0&&(e.annotations={},e.annotations.yaxis=[],e.annotations.xaxis=[],e.annotations.points=[]),e=this.extendYAxisAnnotations(e),e=this.extendXAxisAnnotations(e),e=this.extendPointAnnotations(e)}},{key:"extendYAxisAnnotations",value:function(e){var t=new jl;return e.annotations.yaxis=q.extendArray(e.annotations.yaxis!==void 0?e.annotations.yaxis:[],t.yAxisAnnotation),e}},{key:"extendXAxisAnnotations",value:function(e){var t=new jl;return e.annotations.xaxis=q.extendArray(e.annotations.xaxis!==void 0?e.annotations.xaxis:[],t.xAxisAnnotation),e}},{key:"extendPointAnnotations",value:function(e){var t=new jl;return e.annotations.points=q.extendArray(e.annotations.points!==void 0?e.annotations.points:[],t.pointAnnotation),e}},{key:"checkForDarkTheme",value:function(e){e.theme&&e.theme.mode==="dark"&&(e.tooltip||(e.tooltip={}),e.tooltip.theme!=="light"&&(e.tooltip.theme="dark"),e.chart.foreColor||(e.chart.foreColor="#f6f7f8"),e.theme.palette||(e.theme.palette="palette4"))}},{key:"handleUserInputErrors",value:function(e){var t=e;if(t.tooltip.shared&&t.tooltip.intersect)throw new Error("tooltip.shared cannot be enabled when tooltip.intersect is true. Turn off any other option by setting it to false.");if(t.chart.type==="bar"&&t.plotOptions.bar.horizontal){if(t.yaxis.length>1)throw new Error("Multiple Y Axis for bars are not supported. Switch to column chart by setting plotOptions.bar.horizontal=false");t.yaxis[0].reversed&&(t.yaxis[0].opposite=!0),t.xaxis.tooltip.enabled=!1,t.yaxis[0].tooltip.enabled=!1,t.chart.zoom.enabled=!1}return t.chart.type!=="bar"&&t.chart.type!=="rangeBar"||t.tooltip.shared&&t.xaxis.crosshairs.width==="barWidth"&&t.series.length>1&&(t.xaxis.crosshairs.width="tickWidth"),t.chart.type!=="candlestick"&&t.chart.type!=="boxPlot"||t.yaxis[0].reversed&&(console.warn("Reversed y-axis in ".concat(t.chart.type," chart is not supported.")),t.yaxis[0].reversed=!1),t}}]),i}(),vF=function(){function i(){Ce(this,i)}return ke(i,[{key:"initGlobalVars",value:function(e){e.series=[],e.seriesCandleO=[],e.seriesCandleH=[],e.seriesCandleM=[],e.seriesCandleL=[],e.seriesCandleC=[],e.seriesRangeStart=[],e.seriesRangeEnd=[],e.seriesRange=[],e.seriesPercent=[],e.seriesGoals=[],e.seriesX=[],e.seriesZ=[],e.seriesNames=[],e.seriesTotals=[],e.seriesLog=[],e.seriesColors=[],e.stackedSeriesTotals=[],e.seriesXvalues=[],e.seriesYvalues=[],e.dataWasParsed=!1,e.originalSeries=null,e.labels=[],e.hasXaxisGroups=!1,e.groups=[],e.barGroups=[],e.lineGroups=[],e.areaGroups=[],e.hasSeriesGroups=!1,e.seriesGroups=[],e.categoryLabels=[],e.timescaleLabels=[],e.noLabelsProvided=!1,e.resizeTimer=null,e.selectionResizeTimer=null,e.lastWheelExecution=0,e.delayedElements=[],e.pointsArray=[],e.dataLabelsRects=[],e.isXNumeric=!1,e.skipLastTimelinelabel=!1,e.skipFirstTimelinelabel=!1,e.isDataXYZ=!1,e.isMultiLineX=!1,e.isMultipleYAxis=!1,e.maxY=-Number.MAX_VALUE,e.minY=Number.MIN_VALUE,e.minYArr=[],e.maxYArr=[],e.maxX=-Number.MAX_VALUE,e.minX=Number.MAX_VALUE,e.initialMaxX=-Number.MAX_VALUE,e.initialMinX=Number.MAX_VALUE,e.maxDate=0,e.minDate=Number.MAX_VALUE,e.minZ=Number.MAX_VALUE,e.maxZ=-Number.MAX_VALUE,e.minXDiff=Number.MAX_VALUE,e.yAxisScale=[],e.xAxisScale=null,e.xAxisTicksPositions=[],e.yLabelsCoords=[],e.yTitleCoords=[],e.barPadForNumericAxis=0,e.padHorizontal=0,e.xRange=0,e.yRange=[],e.zRange=0,e.dataPoints=0,e.xTickAmount=0,e.multiAxisTickAmount=0}},{key:"globalVars",value:function(e){return{chartID:null,cuid:null,events:{beforeMount:[],mounted:[],updated:[],clicked:[],selection:[],dataPointSelection:[],zoomed:[],scrolled:[]},colors:[],clientX:null,clientY:null,fill:{colors:[]},stroke:{colors:[]},dataLabels:{style:{colors:[]}},radarPolygons:{fill:{colors:[]}},markers:{colors:[],size:e.markers.size,largestSize:0},animationEnded:!1,isTouchDevice:"ontouchstart"in window||navigator.msMaxTouchPoints,isDirty:!1,isExecCalled:!1,initialConfig:null,initialSeries:[],lastXAxis:[],lastYAxis:[],columnSeries:null,labels:[],timescaleLabels:[],noLabelsProvided:!1,allSeriesCollapsed:!1,collapsedSeries:[],collapsedSeriesIndices:[],ancillaryCollapsedSeries:[],ancillaryCollapsedSeriesIndices:[],risingSeries:[],dataFormatXNumeric:!1,capturedSeriesIndex:-1,capturedDataPointIndex:-1,selectedDataPoints:[],invalidLogScale:!1,ignoreYAxisIndexes:[],maxValsInArrayIndex:0,radialSize:0,selection:void 0,zoomEnabled:e.chart.toolbar.autoSelected==="zoom"&&e.chart.toolbar.tools.zoom&&e.chart.zoom.enabled,panEnabled:e.chart.toolbar.autoSelected==="pan"&&e.chart.toolbar.tools.pan,selectionEnabled:e.chart.toolbar.autoSelected==="selection"&&e.chart.toolbar.tools.selection,yaxis:null,mousedown:!1,lastClientPosition:{},visibleXRange:void 0,yValueDecimal:0,total:0,SVGNS:"http://www.w3.org/2000/svg",svgWidth:0,svgHeight:0,noData:!1,locale:{},dom:{},memory:{methodsToExec:[]},shouldAnimate:!0,skipLastTimelinelabel:!1,skipFirstTimelinelabel:!1,delayedElements:[],axisCharts:!0,isDataXYZ:!1,isSlopeChart:e.plotOptions.line.isSlopeChart,resized:!1,resizeTimer:null,comboCharts:!1,dataChanged:!1,previousPaths:[],allSeriesHasEqualX:!0,pointsArray:[],dataLabelsRects:[],lastDrawnDataLabelsIndexes:[],hasNullValues:!1,zoomed:!1,gridWidth:0,gridHeight:0,rotateXLabels:!1,defaultLabels:!1,xLabelFormatter:void 0,yLabelFormatters:[],xaxisTooltipFormatter:void 0,ttKeyFormatter:void 0,ttVal:void 0,ttZFormatter:void 0,LINE_HEIGHT_RATIO:1.618,xAxisLabelsHeight:0,xAxisGroupLabelsHeight:0,xAxisLabelsWidth:0,yAxisLabelsWidth:0,scaleX:1,scaleY:1,translateX:0,translateY:0,translateYAxisX:[],yAxisWidths:[],translateXAxisY:0,translateXAxisX:0,tooltip:null,niceScaleAllowedMagMsd:[[1,1,2,5,5,5,10,10,10,10,10],[1,1,2,5,5,5,10,10,10,10,10]],niceScaleDefaultTicks:[1,2,4,4,6,6,6,6,6,6,6,6,6,6,6,6,6,6,12,12,12,12,12,12,12,12,12,24],seriesYAxisMap:[],seriesYAxisReverseMap:[]}}},{key:"init",value:function(e){var t=this.globalVars(e);return this.initGlobalVars(t),t.initialConfig=q.extend({},e),t.initialSeries=q.clone(e.series),t.lastXAxis=q.clone(t.initialConfig.xaxis),t.lastYAxis=q.clone(t.initialConfig.yaxis),t}}]),i}(),xee=function(){function i(e){Ce(this,i),this.opts=e}return ke(i,[{key:"init",value:function(){var e=new Nf(this.opts).init({responsiveOverride:!1});return{config:e,globals:new vF().init(e)}}}]),i}(),vr=function(){function i(e){Ce(this,i),this.ctx=e,this.w=e.w,this.opts=null,this.seriesIndex=0,this.patternIDs=[]}return ke(i,[{key:"clippedImgArea",value:function(e){var t=this.w,n=t.config,s=parseInt(t.globals.gridWidth,10),r=parseInt(t.globals.gridHeight,10),a=s>r?s:r,l=e.image,c=0,h=0;e.width===void 0&&e.height===void 0?n.fill.image.width!==void 0&&n.fill.image.height!==void 0?(c=n.fill.image.width+1,h=n.fill.image.height):(c=a+1,h=a):(c=e.width,h=e.height);var d=document.createElementNS(t.globals.SVGNS,"pattern");fe.setAttrs(d,{id:e.patternID,patternUnits:e.patternUnits?e.patternUnits:"userSpaceOnUse",width:c+"px",height:h+"px"});var f=document.createElementNS(t.globals.SVGNS,"image");d.appendChild(f),f.setAttributeNS(window.SVG.xlink,"href",l),fe.setAttrs(f,{x:0,y:0,preserveAspectRatio:"none",width:c+"px",height:h+"px"}),f.style.opacity=e.opacity,t.globals.dom.elDefs.node.appendChild(d)}},{key:"getSeriesIndex",value:function(e){var t=this.w,n=t.config.chart.type;return(n==="bar"||n==="rangeBar")&&t.config.plotOptions.bar.distributed||n==="heatmap"||n==="treemap"?this.seriesIndex=e.seriesNumber:this.seriesIndex=e.seriesNumber%t.globals.series.length,this.seriesIndex}},{key:"computeColorStops",value:function(e,t){var n,s=this.w,r=null,a=null,l=Od(e);try{for(l.s();!(n=l.n()).done;){var c=n.value;c>=t.threshold?(r===null||c>r)&&(r=c):(a===null||c<a)&&(a=c)}}catch(f){l.e(f)}finally{l.f()}r===null&&(r=t.threshold),a===null&&(a=t.threshold);var h=r-t.threshold+(t.threshold-a);h===0&&(h=1);var d=100-(t.threshold-a)/h*100;return[{offset:d=Math.max(0,Math.min(d,100)),color:t.colorAboveThreshold,opacity:s.config.fill.opacity},{offset:0,color:t.colorBelowThreshold,opacity:s.config.fill.opacity}]}},{key:"fillPath",value:function(e){var t,n,s,r=this.w;this.opts=e;var a,l,c,h=this.w.config;this.seriesIndex=this.getSeriesIndex(e);var d=h.plotOptions.line.colors.colorAboveThreshold&&h.plotOptions.line.colors.colorBelowThreshold,f=this.getFillColors()[this.seriesIndex];r.globals.seriesColors[this.seriesIndex]!==void 0&&(f=r.globals.seriesColors[this.seriesIndex]),typeof f=="function"&&(f=f({seriesIndex:this.seriesIndex,dataPointIndex:e.dataPointIndex,value:e.value,w:r}));var p,y,b,x=e.fillType?e.fillType:this.getFillType(this.seriesIndex),_=Array.isArray(h.fill.opacity)?h.fill.opacity[this.seriesIndex]:h.fill.opacity,S=x==="gradient"||d;e.color&&(f=e.color),(t=r.config.series[this.seriesIndex])!==null&&t!==void 0&&(n=t.data)!==null&&n!==void 0&&(s=n[e.dataPointIndex])!==null&&s!==void 0&&s.fillColor&&(f=(p=r.config.series[this.seriesIndex])===null||p===void 0||(y=p.data)===null||y===void 0||(b=y[e.dataPointIndex])===null||b===void 0?void 0:b.fillColor),f||(f="#fff",console.warn("undefined color - ApexCharts"));var T=f;if(f.indexOf("rgb")===-1?f.indexOf("#")===-1?T=f:f.length<9&&(T=q.hexToRgba(f,_)):f.indexOf("rgba")>-1?_=q.getOpacityFromRGBA(f):T=q.hexToRgba(q.rgb2hex(f),_),e.opacity&&(_=e.opacity),x==="pattern"&&(l=this.handlePatternFill({fillConfig:e.fillConfig,patternFill:l,fillColor:f,fillOpacity:_,defaultColor:T})),S){var C=Qn(h.fill.gradient.colorStops)||[],M=h.fill.gradient.type;d&&(C[this.seriesIndex]=this.computeColorStops(r.globals.series[this.seriesIndex],h.plotOptions.line.colors),M="vertical"),c=this.handleGradientFill({type:M,fillConfig:e.fillConfig,fillColor:f,fillOpacity:_,colorStops:C,i:this.seriesIndex})}if(x==="image"){var R=h.fill.image.src,P=e.patternID?e.patternID:"",k="pattern".concat(r.globals.cuid).concat(e.seriesNumber+1).concat(P);this.patternIDs.indexOf(k)===-1&&(this.clippedImgArea({opacity:_,image:Array.isArray(R)?e.seriesNumber<R.length?R[e.seriesNumber]:R[0]:R,width:e.width?e.width:void 0,height:e.height?e.height:void 0,patternUnits:e.patternUnits,patternID:k}),this.patternIDs.push(k)),a="url(#".concat(k,")")}else a=S?c:x==="pattern"?l:T;return e.solid&&(a=T),a}},{key:"getFillType",value:function(e){var t=this.w;return Array.isArray(t.config.fill.type)?t.config.fill.type[e]:t.config.fill.type}},{key:"getFillColors",value:function(){var e=this.w,t=e.config,n=this.opts,s=[];return e.globals.comboCharts?e.config.series[this.seriesIndex].type==="line"?Array.isArray(e.globals.stroke.colors)?s=e.globals.stroke.colors:s.push(e.globals.stroke.colors):Array.isArray(e.globals.fill.colors)?s=e.globals.fill.colors:s.push(e.globals.fill.colors):t.chart.type==="line"?Array.isArray(e.globals.stroke.colors)?s=e.globals.stroke.colors:s.push(e.globals.stroke.colors):Array.isArray(e.globals.fill.colors)?s=e.globals.fill.colors:s.push(e.globals.fill.colors),n.fillColors!==void 0&&(s=[],Array.isArray(n.fillColors)?s=n.fillColors.slice():s.push(n.fillColors)),s}},{key:"handlePatternFill",value:function(e){var t=e.fillConfig,n=e.patternFill,s=e.fillColor,r=e.fillOpacity,a=e.defaultColor,l=this.w.config.fill;t&&(l=t);var c=this.opts,h=new fe(this.ctx),d=Array.isArray(l.pattern.strokeWidth)?l.pattern.strokeWidth[this.seriesIndex]:l.pattern.strokeWidth,f=s;return Array.isArray(l.pattern.style)?n=l.pattern.style[c.seriesNumber]!==void 0?h.drawPattern(l.pattern.style[c.seriesNumber],l.pattern.width,l.pattern.height,f,d,r):a:n=h.drawPattern(l.pattern.style,l.pattern.width,l.pattern.height,f,d,r),n}},{key:"handleGradientFill",value:function(e){var t=e.type,n=e.fillColor,s=e.fillOpacity,r=e.fillConfig,a=e.colorStops,l=e.i,c=this.w.config.fill;r&&(c=be(be({},c),r));var h=this.opts,d=new fe(this.ctx),f=new q;t=t||c.gradient.type;var p,y=n,b=c.gradient.opacityFrom===void 0?s:Array.isArray(c.gradient.opacityFrom)?c.gradient.opacityFrom[l]:c.gradient.opacityFrom;y.indexOf("rgba")>-1&&(b=q.getOpacityFromRGBA(y));var x=c.gradient.opacityTo===void 0?s:Array.isArray(c.gradient.opacityTo)?c.gradient.opacityTo[l]:c.gradient.opacityTo;if(c.gradient.gradientToColors===void 0||c.gradient.gradientToColors.length===0)p=c.gradient.shade==="dark"?f.shadeColor(-1*parseFloat(c.gradient.shadeIntensity),n.indexOf("rgb")>-1?q.rgb2hex(n):n):f.shadeColor(parseFloat(c.gradient.shadeIntensity),n.indexOf("rgb")>-1?q.rgb2hex(n):n);else if(c.gradient.gradientToColors[h.seriesNumber]){var _=c.gradient.gradientToColors[h.seriesNumber];p=_,_.indexOf("rgba")>-1&&(x=q.getOpacityFromRGBA(_))}else p=n;if(c.gradient.gradientFrom&&(y=c.gradient.gradientFrom),c.gradient.gradientTo&&(p=c.gradient.gradientTo),c.gradient.inverseColors){var S=y;y=p,p=S}return y.indexOf("rgb")>-1&&(y=q.rgb2hex(y)),p.indexOf("rgb")>-1&&(p=q.rgb2hex(p)),d.drawGradient(t,y,p,b,x,h.size,c.gradient.stops,a,l)}}]),i}(),fh=function(){function i(e,t){Ce(this,i),this.ctx=e,this.w=e.w}return ke(i,[{key:"setGlobalMarkerSize",value:function(){var e=this.w;if(e.globals.markers.size=Array.isArray(e.config.markers.size)?e.config.markers.size:[e.config.markers.size],e.globals.markers.size.length>0){if(e.globals.markers.size.length<e.globals.series.length+1)for(var t=0;t<=e.globals.series.length;t++)e.globals.markers.size[t]===void 0&&e.globals.markers.size.push(e.globals.markers.size[0])}else e.globals.markers.size=e.config.series.map(function(n){return e.config.markers.size})}},{key:"plotChartMarkers",value:function(e){var t=e.pointsPos,n=e.seriesIndex,s=e.j,r=e.pSize,a=e.alwaysDrawMarker,l=a!==void 0&&a,c=e.isVirtualPoint,h=c!==void 0&&c,d=this.w,f=n,p=t,y=null,b=new fe(this.ctx),x=d.config.markers.discrete&&d.config.markers.discrete.length;if(Array.isArray(p.x))for(var _=0;_<p.x.length;_++){var S=void 0,T=s,C=!q.isNumber(p.y[_]);d.globals.markers.largestSize===0&&d.globals.hasNullValues&&d.globals.series[f][s+1]!==null&&!h&&(C=!0),s===1&&_===0&&(T=0),s===1&&_===1&&(T=1);var M="apexcharts-marker";if(d.config.chart.type!=="line"&&d.config.chart.type!=="area"||d.globals.comboCharts||d.config.tooltip.intersect||(M+=" no-pointer-events"),(Array.isArray(d.config.markers.size)?d.globals.markers.size[n]>0:d.config.markers.size>0)||l||x){C||(M+=" w".concat(q.randomId()));var R=this.getMarkerConfig({cssClass:M,seriesIndex:n,dataPointIndex:T});d.config.series[f].data[T]&&(d.config.series[f].data[T].fillColor&&(R.pointFillColor=d.config.series[f].data[T].fillColor),d.config.series[f].data[T].strokeColor&&(R.pointStrokeColor=d.config.series[f].data[T].strokeColor)),r!==void 0&&(R.pSize=r),(p.x[_]<-d.globals.markers.largestSize||p.x[_]>d.globals.gridWidth+d.globals.markers.largestSize||p.y[_]<-d.globals.markers.largestSize||p.y[_]>d.globals.gridHeight+d.globals.markers.largestSize)&&(R.pSize=0),!C&&((d.globals.markers.size[n]>0||l||x)&&!y&&(y=b.group({class:l||x?"":"apexcharts-series-markers"})).attr("clip-path","url(#gridRectMarkerMask".concat(d.globals.cuid,")")),(S=b.drawMarker(p.x[_],p.y[_],R)).attr("rel",T),S.attr("j",T),S.attr("index",n),S.node.setAttribute("default-marker-size",R.pSize),new bi(this.ctx).setSelectionFilter(S,n,T),this.addEvents(S),y&&y.add(S))}else d.globals.pointsArray[n]===void 0&&(d.globals.pointsArray[n]=[]),d.globals.pointsArray[n].push([p.x[_],p.y[_]])}return y}},{key:"getMarkerConfig",value:function(e){var t=e.cssClass,n=e.seriesIndex,s=e.dataPointIndex,r=s===void 0?null:s,a=e.radius,l=a===void 0?null:a,c=e.size,h=c===void 0?null:c,d=e.strokeWidth,f=d===void 0?null:d,p=this.w,y=this.getMarkerStyle(n),b=h===null?p.globals.markers.size[n]:h,x=p.config.markers;return r!==null&&x.discrete.length&&x.discrete.map(function(_){_.seriesIndex===n&&_.dataPointIndex===r&&(y.pointStrokeColor=_.strokeColor,y.pointFillColor=_.fillColor,b=_.size,y.pointShape=_.shape)}),{pSize:l===null?b:l,pRadius:l!==null?l:x.radius,pointStrokeWidth:f!==null?f:Array.isArray(x.strokeWidth)?x.strokeWidth[n]:x.strokeWidth,pointStrokeColor:y.pointStrokeColor,pointFillColor:y.pointFillColor,shape:y.pointShape||(Array.isArray(x.shape)?x.shape[n]:x.shape),class:t,pointStrokeOpacity:Array.isArray(x.strokeOpacity)?x.strokeOpacity[n]:x.strokeOpacity,pointStrokeDashArray:Array.isArray(x.strokeDashArray)?x.strokeDashArray[n]:x.strokeDashArray,pointFillOpacity:Array.isArray(x.fillOpacity)?x.fillOpacity[n]:x.fillOpacity,seriesIndex:n}}},{key:"addEvents",value:function(e){var t=this.w,n=new fe(this.ctx);e.node.addEventListener("mouseenter",n.pathMouseEnter.bind(this.ctx,e)),e.node.addEventListener("mouseleave",n.pathMouseLeave.bind(this.ctx,e)),e.node.addEventListener("mousedown",n.pathMouseDown.bind(this.ctx,e)),e.node.addEventListener("click",t.config.markers.onClick),e.node.addEventListener("dblclick",t.config.markers.onDblClick),e.node.addEventListener("touchstart",n.pathMouseDown.bind(this.ctx,e),{passive:!0})}},{key:"getMarkerStyle",value:function(e){var t=this.w,n=t.globals.markers.colors,s=t.config.markers.strokeColor||t.config.markers.strokeColors;return{pointStrokeColor:Array.isArray(s)?s[e]:s,pointFillColor:Array.isArray(n)?n[e]:n}}}]),i}(),bF=function(){function i(e){Ce(this,i),this.ctx=e,this.w=e.w,this.initialAnim=this.w.config.chart.animations.enabled}return ke(i,[{key:"draw",value:function(e,t,n){var s=this.w,r=new fe(this.ctx),a=n.realIndex,l=n.pointsPos,c=n.zRatio,h=n.elParent,d=r.group({class:"apexcharts-series-markers apexcharts-series-".concat(s.config.chart.type)});if(d.attr("clip-path","url(#gridRectMarkerMask".concat(s.globals.cuid,")")),Array.isArray(l.x))for(var f=0;f<l.x.length;f++){var p=t+1,y=!0;t===0&&f===0&&(p=0),t===0&&f===1&&(p=1);var b=s.globals.markers.size[a];if(c!==1/0){var x=s.config.plotOptions.bubble;b=s.globals.seriesZ[a][p],x.zScaling&&(b/=c),x.minBubbleRadius&&b<x.minBubbleRadius&&(b=x.minBubbleRadius),x.maxBubbleRadius&&b>x.maxBubbleRadius&&(b=x.maxBubbleRadius)}var _=l.x[f],S=l.y[f];if(b=b||0,S!==null&&s.globals.series[a][p]!==void 0||(y=!1),y){var T=this.drawPoint(_,S,b,a,p,t);d.add(T)}h.add(d)}}},{key:"drawPoint",value:function(e,t,n,s,r,a){var l=this.w,c=s,h=new ch(this.ctx),d=new bi(this.ctx),f=new vr(this.ctx),p=new fh(this.ctx),y=new fe(this.ctx),b=p.getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:c,dataPointIndex:r,radius:l.config.chart.type==="bubble"||l.globals.comboCharts&&l.config.series[s]&&l.config.series[s].type==="bubble"?n:null}),x=f.fillPath({seriesNumber:s,dataPointIndex:r,color:b.pointFillColor,patternUnits:"objectBoundingBox",value:l.globals.series[s][a]}),_=y.drawMarker(e,t,b);if(l.config.series[c].data[r]&&l.config.series[c].data[r].fillColor&&(x=l.config.series[c].data[r].fillColor),_.attr({fill:x}),l.config.chart.dropShadow.enabled){var S=l.config.chart.dropShadow;d.dropShadow(_,S,s)}if(!this.initialAnim||l.globals.dataChanged||l.globals.resized)l.globals.animationEnded=!0;else{var T=l.config.chart.animations.speed;h.animateMarker(_,T,l.globals.easing,function(){window.setTimeout(function(){h.animationCompleted(_)},100)})}return _.attr({rel:r,j:r,index:s,"default-marker-size":b.pSize}),d.setSelectionFilter(_,s,r),p.addEvents(_),_.node.classList.add("apexcharts-marker"),_}},{key:"centerTextInBubble",value:function(e){var t=this.w;return{y:e+=parseInt(t.config.dataLabels.style.fontSize,10)/4}}}]),i}(),Xu=function(){function i(e){Ce(this,i),this.ctx=e,this.w=e.w}return ke(i,[{key:"dataLabelsCorrection",value:function(e,t,n,s,r,a,l){var c=this.w,h=!1,d=new fe(this.ctx).getTextRects(n,l),f=d.width,p=d.height;t<0&&(t=0),t>c.globals.gridHeight+p&&(t=c.globals.gridHeight+p/2),c.globals.dataLabelsRects[s]===void 0&&(c.globals.dataLabelsRects[s]=[]),c.globals.dataLabelsRects[s].push({x:e,y:t,width:f,height:p});var y=c.globals.dataLabelsRects[s].length-2,b=c.globals.lastDrawnDataLabelsIndexes[s]!==void 0?c.globals.lastDrawnDataLabelsIndexes[s][c.globals.lastDrawnDataLabelsIndexes[s].length-1]:0;if(c.globals.dataLabelsRects[s][y]!==void 0){var x=c.globals.dataLabelsRects[s][b];(e>x.x+x.width||t>x.y+x.height||t+p<x.y||e+f<x.x)&&(h=!0)}return(r===0||a)&&(h=!0),{x:e,y:t,textRects:d,drawnextLabel:h}}},{key:"drawDataLabel",value:function(e){var t=this,n=e.type,s=e.pos,r=e.i,a=e.j,l=e.isRangeStart,c=e.strokeWidth,h=c===void 0?2:c,d=this.w,f=new fe(this.ctx),p=d.config.dataLabels,y=0,b=0,x=a,_=null;if(d.globals.collapsedSeriesIndices.indexOf(r)!==-1||!p.enabled||!Array.isArray(s.x))return _;_=f.group({class:"apexcharts-data-labels"});for(var S=0;S<s.x.length;S++)if(y=s.x[S]+p.offsetX,b=s.y[S]+p.offsetY+h,!isNaN(y)){a===1&&S===0&&(x=0),a===1&&S===1&&(x=1);var T=d.globals.series[r][x];n==="rangeArea"&&(T=l?d.globals.seriesRangeStart[r][x]:d.globals.seriesRangeEnd[r][x]);var C="",M=function(P){return d.config.dataLabels.formatter(P,{ctx:t.ctx,seriesIndex:r,dataPointIndex:x,w:d})};d.config.chart.type==="bubble"?(C=M(T=d.globals.seriesZ[r][x]),b=s.y[S],b=new bF(this.ctx).centerTextInBubble(b,r,x).y):T!==void 0&&(C=M(T));var R=d.config.dataLabels.textAnchor;d.globals.isSlopeChart&&(R=x===0?"end":x===d.config.series[r].data.length-1?"start":"middle"),this.plotDataLabelsText({x:y,y:b,text:C,i:r,j:x,parent:_,offsetCorrection:!0,dataLabelsConfig:d.config.dataLabels,textAnchor:R})}return _}},{key:"plotDataLabelsText",value:function(e){var t=this.w,n=new fe(this.ctx),s=e.x,r=e.y,a=e.i,l=e.j,c=e.text,h=e.textAnchor,d=e.fontSize,f=e.parent,p=e.dataLabelsConfig,y=e.color,b=e.alwaysDrawDataLabel,x=e.offsetCorrection,_=e.className,S=null;if(Array.isArray(t.config.dataLabels.enabledOnSeries)&&t.config.dataLabels.enabledOnSeries.indexOf(a)<0)return S;var T={x:s,y:r,drawnextLabel:!0,textRects:null};x&&(T=this.dataLabelsCorrection(s,r,c,a,l,b,parseInt(p.style.fontSize,10))),t.globals.zoomed||(s=T.x,r=T.y),T.textRects&&(s<-20-T.textRects.width||s>t.globals.gridWidth+T.textRects.width+30)&&(c="");var C=t.globals.dataLabels.style.colors[a];((t.config.chart.type==="bar"||t.config.chart.type==="rangeBar")&&t.config.plotOptions.bar.distributed||t.config.dataLabels.distributed)&&(C=t.globals.dataLabels.style.colors[l]),typeof C=="function"&&(C=C({series:t.globals.series,seriesIndex:a,dataPointIndex:l,w:t})),y&&(C=y);var M=p.offsetX,R=p.offsetY;if(t.config.chart.type!=="bar"&&t.config.chart.type!=="rangeBar"||(M=0,R=0),t.globals.isSlopeChart&&(l!==0&&(M=-2*p.offsetX+5),l!==0&&l!==t.config.series[a].data.length-1&&(M=0)),T.drawnextLabel){if(h==="middle"&&s===t.globals.gridWidth&&(h="end"),(S=n.drawText({width:100,height:parseInt(p.style.fontSize,10),x:s+M,y:r+R,foreColor:C,textAnchor:h||p.textAnchor,text:c,fontSize:d||p.style.fontSize,fontFamily:p.style.fontFamily,fontWeight:p.style.fontWeight||"normal"})).attr({class:_||"apexcharts-datalabel",cx:s,cy:r}),p.dropShadow.enabled){var P=p.dropShadow;new bi(this.ctx).dropShadow(S,P)}f.add(S),t.globals.lastDrawnDataLabelsIndexes[a]===void 0&&(t.globals.lastDrawnDataLabelsIndexes[a]=[]),t.globals.lastDrawnDataLabelsIndexes[a].push(l)}return S}},{key:"addBackgroundToDataLabel",value:function(e,t){var n=this.w,s=n.config.dataLabels.background,r=s.padding,a=s.padding/2,l=t.width,c=t.height,h=new fe(this.ctx).drawRect(t.x-r,t.y-a/2,l+2*r,c+a,s.borderRadius,n.config.chart.background!=="transparent"&&n.config.chart.background?n.config.chart.background:"#fff",s.opacity,s.borderWidth,s.borderColor);return s.dropShadow.enabled&&new bi(this.ctx).dropShadow(h,s.dropShadow),h}},{key:"dataLabelsBackground",value:function(){var e=this.w;if(e.config.chart.type!=="bubble")for(var t=e.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels text"),n=0;n<t.length;n++){var s=t[n],r=s.getBBox(),a=null;if(r.width&&r.height&&(a=this.addBackgroundToDataLabel(s,r)),a){s.parentNode.insertBefore(a.node,s);var l=e.config.dataLabels.background.backgroundColor||s.getAttribute("fill");e.config.chart.animations.enabled&&!e.globals.resized&&!e.globals.dataChanged?a.animate().attr({fill:l}):a.attr({fill:l}),s.setAttribute("fill",e.config.dataLabels.background.foreColor)}}}},{key:"bringForward",value:function(){for(var e=this.w,t=e.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels"),n=e.globals.dom.baseEl.querySelector(".apexcharts-plot-series:last-child"),s=0;s<t.length;s++)n&&n.insertBefore(t[s],n.nextSibling)}}]),i}(),xF=`.apexcharts-flip-y {
  transform: scaleY(-1) translateY(-100%);
  transform-origin: top;
  transform-box: fill-box;
}
.apexcharts-flip-x {
  transform: scaleX(-1);
  transform-origin: center;
  transform-box: fill-box;
}
.apexcharts-legend {
  display: flex;
  overflow: auto;
  padding: 0 10px;
}
.apexcharts-legend.apexcharts-legend-group-horizontal {
  flex-direction: column;
}
.apexcharts-legend-group {
  display: flex;
}
.apexcharts-legend-group-vertical {
  flex-direction: column-reverse;
}
.apexcharts-legend.apx-legend-position-bottom, .apexcharts-legend.apx-legend-position-top {
  flex-wrap: wrap
}
.apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {
  flex-direction: column;
  bottom: 0;
}
.apexcharts-legend.apx-legend-position-bottom.apexcharts-align-left, .apexcharts-legend.apx-legend-position-top.apexcharts-align-left, .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {
  justify-content: flex-start;
  align-items: flex-start;
}
.apexcharts-legend.apx-legend-position-bottom.apexcharts-align-center, .apexcharts-legend.apx-legend-position-top.apexcharts-align-center {
  justify-content: center;
  align-items: center;
}
.apexcharts-legend.apx-legend-position-bottom.apexcharts-align-right, .apexcharts-legend.apx-legend-position-top.apexcharts-align-right {
  justify-content: flex-end;
  align-items: flex-end;
}
.apexcharts-legend-series {
  cursor: pointer;
  line-height: normal;
  display: flex;
  align-items: center;
}
.apexcharts-legend-text {
  position: relative;
  font-size: 14px;
}
.apexcharts-legend-text *, .apexcharts-legend-marker * {
  pointer-events: none;
}
.apexcharts-legend-marker {
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  margin-right: 1px;
}

.apexcharts-legend-series.apexcharts-no-click {
  cursor: auto;
}
.apexcharts-legend .apexcharts-hidden-zero-series, .apexcharts-legend .apexcharts-hidden-null-series {
  display: none !important;
}
.apexcharts-inactive-legend {
  opacity: 0.45;
} `,Ks=function(){function i(e){Ce(this,i),this.ctx=e,this.w=e.w,this.legendInactiveClass="legend-mouseover-inactive"}return ke(i,[{key:"getAllSeriesEls",value:function(){return this.w.globals.dom.baseEl.getElementsByClassName("apexcharts-series")}},{key:"getSeriesByName",value:function(e){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner .apexcharts-series[seriesName='".concat(q.escapeString(e),"']"))}},{key:"isSeriesHidden",value:function(e){var t=this.getSeriesByName(e),n=parseInt(t.getAttribute("data:realIndex"),10);return{isHidden:t.classList.contains("apexcharts-series-collapsed"),realIndex:n}}},{key:"addCollapsedClassToSeries",value:function(e,t){var n=this.w;function s(r){for(var a=0;a<r.length;a++)r[a].index===t&&e.node.classList.add("apexcharts-series-collapsed")}s(n.globals.collapsedSeries),s(n.globals.ancillaryCollapsedSeries)}},{key:"toggleSeries",value:function(e){var t=this.isSeriesHidden(e);return this.ctx.legend.legendHelpers.toggleDataSeries(t.realIndex,t.isHidden),t.isHidden}},{key:"showSeries",value:function(e){var t=this.isSeriesHidden(e);t.isHidden&&this.ctx.legend.legendHelpers.toggleDataSeries(t.realIndex,!0)}},{key:"hideSeries",value:function(e){var t=this.isSeriesHidden(e);t.isHidden||this.ctx.legend.legendHelpers.toggleDataSeries(t.realIndex,!1)}},{key:"resetSeries",value:function(){var e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],n=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],s=this.w,r=q.clone(s.globals.initialSeries);s.globals.previousPaths=[],n?(s.globals.collapsedSeries=[],s.globals.ancillaryCollapsedSeries=[],s.globals.collapsedSeriesIndices=[],s.globals.ancillaryCollapsedSeriesIndices=[]):r=this.emptyCollapsedSeries(r),s.config.series=r,e&&(t&&(s.globals.zoomed=!1,this.ctx.updateHelpers.revertDefaultAxisMinMax()),this.ctx.updateHelpers._updateSeries(r,s.config.chart.animations.dynamicAnimation.enabled))}},{key:"emptyCollapsedSeries",value:function(e){for(var t=this.w,n=0;n<e.length;n++)t.globals.collapsedSeriesIndices.indexOf(n)>-1&&(e[n].data=[]);return e}},{key:"highlightSeries",value:function(e){var t=this.w,n=this.getSeriesByName(e),s=parseInt(n==null?void 0:n.getAttribute("data:realIndex"),10),r=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels, .apexcharts-yaxis"),a=null,l=null,c=null;if(t.globals.axisCharts||t.config.chart.type==="radialBar")if(t.globals.axisCharts){a=t.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(s,"']")),l=t.globals.dom.baseEl.querySelector(".apexcharts-datalabels[data\\:realIndex='".concat(s,"']"));var h=t.globals.seriesYAxisReverseMap[s];c=t.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(h,"']"))}else a=t.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(s+1,"']"));else a=t.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(s+1,"'] path"));for(var d=0;d<r.length;d++)r[d].classList.add(this.legendInactiveClass);if(a)t.globals.axisCharts||a.parentNode.classList.remove(this.legendInactiveClass),a.classList.remove(this.legendInactiveClass),l!==null&&l.classList.remove(this.legendInactiveClass),c!==null&&c.classList.remove(this.legendInactiveClass);else for(var f=0;f<r.length;f++)r[f].classList.remove(this.legendInactiveClass)}},{key:"toggleSeriesOnHover",value:function(e,t){var n=this.w;t||(t=e.target);var s=n.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels, .apexcharts-yaxis");if(e.type==="mousemove"){var r=parseInt(t.getAttribute("rel"),10)-1;this.highlightSeries(n.globals.seriesNames[r])}else if(e.type==="mouseout")for(var a=0;a<s.length;a++)s[a].classList.remove(this.legendInactiveClass)}},{key:"highlightRangeInSeries",value:function(e,t){var n=this,s=this.w,r=s.globals.dom.baseEl.getElementsByClassName("apexcharts-heatmap-rect"),a=function(h){for(var d=0;d<r.length;d++)r[d].classList[h](n.legendInactiveClass)};if(e.type==="mousemove"){var l=parseInt(t.getAttribute("rel"),10)-1;a("add");var c=s.config.plotOptions.heatmap.colorScale.ranges;(function(h,d){for(var f=0;f<r.length;f++){var p=Number(r[f].getAttribute("val"));p>=h.from&&(p<h.to||h.to===d&&p===d)&&r[f].classList.remove(n.legendInactiveClass)}})(c[l],c.reduce(function(h,d){return Math.max(h,d.to)},0))}else e.type==="mouseout"&&a("remove")}},{key:"getActiveConfigSeriesIndex",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"asc",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=this.w,s=0;if(n.config.series.length>1){for(var r=n.config.series.map(function(l,c){return l.data&&l.data.length>0&&n.globals.collapsedSeriesIndices.indexOf(c)===-1&&(!n.globals.comboCharts||t.length===0||t.length&&t.indexOf(n.config.series[c].type)>-1)?c:-1}),a=e==="asc"?0:r.length-1;e==="asc"?a<r.length:a>=0;e==="asc"?a++:a--)if(r[a]!==-1){s=r[a];break}}return s}},{key:"getBarSeriesIndices",value:function(){return this.w.globals.comboCharts?this.w.config.series.map(function(e,t){return e.type==="bar"||e.type==="column"?t:-1}).filter(function(e){return e!==-1}):this.w.config.series.map(function(e,t){return t})}},{key:"getPreviousPaths",value:function(){var e=this.w;function t(a,l,c){for(var h=a[l].childNodes,d={type:c,paths:[],realIndex:a[l].getAttribute("data:realIndex")},f=0;f<h.length;f++)if(h[f].hasAttribute("pathTo")){var p=h[f].getAttribute("pathTo");d.paths.push({d:p})}e.globals.previousPaths.push(d)}e.globals.previousPaths=[],["line","area","bar","rangebar","rangeArea","candlestick","radar"].forEach(function(a){for(var l,c=(l=a,e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(l,"-series .apexcharts-series"))),h=0;h<c.length;h++)t(c,h,a)});var n=e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(e.config.chart.type," .apexcharts-series"));if(n.length>0)for(var s=function(a){for(var l=e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(e.config.chart.type," .apexcharts-series[data\\:realIndex='").concat(a,"'] rect")),c=[],h=function(f){var p=function(b){return l[f].getAttribute(b)},y={x:parseFloat(p("x")),y:parseFloat(p("y")),width:parseFloat(p("width")),height:parseFloat(p("height"))};c.push({rect:y,color:l[f].getAttribute("color")})},d=0;d<l.length;d++)h(d);e.globals.previousPaths.push(c)},r=0;r<n.length;r++)s(r);e.globals.axisCharts||(e.globals.previousPaths=e.globals.series)}},{key:"clearPreviousPaths",value:function(){var e=this.w;e.globals.previousPaths=[],e.globals.allSeriesCollapsed=!1}},{key:"handleNoData",value:function(){var e=this.w,t=e.config.noData,n=new fe(this.ctx),s=e.globals.svgWidth/2,r=e.globals.svgHeight/2,a="middle";if(e.globals.noData=!0,e.globals.animationEnded=!0,t.align==="left"?(s=10,a="start"):t.align==="right"&&(s=e.globals.svgWidth-10,a="end"),t.verticalAlign==="top"?r=50:t.verticalAlign==="bottom"&&(r=e.globals.svgHeight-50),s+=t.offsetX,r=r+parseInt(t.style.fontSize,10)+2+t.offsetY,t.text!==void 0&&t.text!==""){var l=n.drawText({x:s,y:r,text:t.text,textAnchor:a,fontSize:t.style.fontSize,fontFamily:t.style.fontFamily,foreColor:t.style.color,opacity:1,class:"apexcharts-text-nodata"});e.globals.dom.Paper.add(l)}}},{key:"setNullSeriesToZeroValues",value:function(e){for(var t=this.w,n=0;n<e.length;n++)if(e[n].length===0)for(var s=0;s<e[t.globals.maxValsInArrayIndex].length;s++)e[n].push(0);return e}},{key:"hasAllSeriesEqualX",value:function(){for(var e=!0,t=this.w,n=this.filteredSeriesX(),s=0;s<n.length-1;s++)if(n[s][0]!==n[s+1][0]){e=!1;break}return t.globals.allSeriesHasEqualX=e,e}},{key:"filteredSeriesX",value:function(){var e=this.w.globals.seriesX.map(function(t){return t.length>0?t:[]});return e}}]),i}(),QS=function(){function i(e){Ce(this,i),this.ctx=e,this.w=e.w,this.twoDSeries=[],this.threeDSeries=[],this.twoDSeriesX=[],this.seriesGoals=[],this.coreUtils=new Mn(this.ctx)}return ke(i,[{key:"isMultiFormat",value:function(){return this.isFormatXY()||this.isFormat2DArray()}},{key:"isFormatXY",value:function(){var e=this.w.config.series.slice(),t=new Ks(this.ctx);if(this.activeSeriesIndex=t.getActiveConfigSeriesIndex(),e[this.activeSeriesIndex].data!==void 0&&e[this.activeSeriesIndex].data.length>0&&e[this.activeSeriesIndex].data[0]!==null&&e[this.activeSeriesIndex].data[0].x!==void 0&&e[this.activeSeriesIndex].data[0]!==null)return!0}},{key:"isFormat2DArray",value:function(){var e=this.w.config.series.slice(),t=new Ks(this.ctx);if(this.activeSeriesIndex=t.getActiveConfigSeriesIndex(),e[this.activeSeriesIndex].data!==void 0&&e[this.activeSeriesIndex].data.length>0&&e[this.activeSeriesIndex].data[0]!==void 0&&e[this.activeSeriesIndex].data[0]!==null&&e[this.activeSeriesIndex].data[0].constructor===Array)return!0}},{key:"handleFormat2DArray",value:function(e,t){for(var n=this.w.config,s=this.w.globals,r=n.chart.type==="boxPlot"||n.series[t].type==="boxPlot",a=0;a<e[t].data.length;a++)if(e[t].data[a][1]!==void 0&&(Array.isArray(e[t].data[a][1])&&e[t].data[a][1].length===4&&!r?this.twoDSeries.push(q.parseNumber(e[t].data[a][1][3])):e[t].data[a].length>=5?this.twoDSeries.push(q.parseNumber(e[t].data[a][4])):this.twoDSeries.push(q.parseNumber(e[t].data[a][1])),s.dataFormatXNumeric=!0),n.xaxis.type==="datetime"){var l=new Date(e[t].data[a][0]);l=new Date(l).getTime(),this.twoDSeriesX.push(l)}else this.twoDSeriesX.push(e[t].data[a][0]);for(var c=0;c<e[t].data.length;c++)e[t].data[c][2]!==void 0&&(this.threeDSeries.push(e[t].data[c][2]),s.isDataXYZ=!0)}},{key:"handleFormatXY",value:function(e,t){var n=this.w.config,s=this.w.globals,r=new mi(this.ctx),a=t;s.collapsedSeriesIndices.indexOf(t)>-1&&(a=this.activeSeriesIndex);for(var l=0;l<e[t].data.length;l++)e[t].data[l].y!==void 0&&(Array.isArray(e[t].data[l].y)?this.twoDSeries.push(q.parseNumber(e[t].data[l].y[e[t].data[l].y.length-1])):this.twoDSeries.push(q.parseNumber(e[t].data[l].y))),e[t].data[l].goals!==void 0&&Array.isArray(e[t].data[l].goals)?(this.seriesGoals[t]===void 0&&(this.seriesGoals[t]=[]),this.seriesGoals[t].push(e[t].data[l].goals)):(this.seriesGoals[t]===void 0&&(this.seriesGoals[t]=[]),this.seriesGoals[t].push(null));for(var c=0;c<e[a].data.length;c++){var h=typeof e[a].data[c].x=="string",d=Array.isArray(e[a].data[c].x),f=!d&&!!r.isValidDate(e[a].data[c].x);if(h||f)if(h||n.xaxis.convertedCatToNumeric){var p=s.isBarHorizontal&&s.isRangeData;n.xaxis.type!=="datetime"||p?(this.fallbackToCategory=!0,this.twoDSeriesX.push(e[a].data[c].x),isNaN(e[a].data[c].x)||this.w.config.xaxis.type==="category"||typeof e[a].data[c].x=="string"||(s.isXNumeric=!0)):this.twoDSeriesX.push(r.parseDate(e[a].data[c].x))}else n.xaxis.type==="datetime"?this.twoDSeriesX.push(r.parseDate(e[a].data[c].x.toString())):(s.dataFormatXNumeric=!0,s.isXNumeric=!0,this.twoDSeriesX.push(parseFloat(e[a].data[c].x)));else d?(this.fallbackToCategory=!0,this.twoDSeriesX.push(e[a].data[c].x)):(s.isXNumeric=!0,s.dataFormatXNumeric=!0,this.twoDSeriesX.push(e[a].data[c].x))}if(e[t].data[0]&&e[t].data[0].z!==void 0){for(var y=0;y<e[t].data.length;y++)this.threeDSeries.push(e[t].data[y].z);s.isDataXYZ=!0}}},{key:"handleRangeData",value:function(e,t){var n=this.w.globals,s={};return this.isFormat2DArray()?s=this.handleRangeDataFormat("array",e,t):this.isFormatXY()&&(s=this.handleRangeDataFormat("xy",e,t)),n.seriesRangeStart[t]=s.start===void 0?[]:s.start,n.seriesRangeEnd[t]=s.end===void 0?[]:s.end,n.seriesRange[t]=s.rangeUniques,n.seriesRange.forEach(function(r,a){r&&r.forEach(function(l,c){l.y.forEach(function(h,d){for(var f=0;f<l.y.length;f++)if(d!==f){var p=h.y1,y=h.y2,b=l.y[f].y1;p<=l.y[f].y2&&b<=y&&(l.overlaps.indexOf(h.rangeName)<0&&l.overlaps.push(h.rangeName),l.overlaps.indexOf(l.y[f].rangeName)<0&&l.overlaps.push(l.y[f].rangeName))}})})}),s}},{key:"handleCandleStickBoxData",value:function(e,t){var n=this.w.globals,s={};return this.isFormat2DArray()?s=this.handleCandleStickBoxDataFormat("array",e,t):this.isFormatXY()&&(s=this.handleCandleStickBoxDataFormat("xy",e,t)),n.seriesCandleO[t]=s.o,n.seriesCandleH[t]=s.h,n.seriesCandleM[t]=s.m,n.seriesCandleL[t]=s.l,n.seriesCandleC[t]=s.c,s}},{key:"handleRangeDataFormat",value:function(e,t,n){var s=[],r=[],a=t[n].data.filter(function(d,f,p){return f===p.findIndex(function(y){return y.x===d.x})}).map(function(d,f){return{x:d.x,overlaps:[],y:[]}});if(e==="array")for(var l=0;l<t[n].data.length;l++)Array.isArray(t[n].data[l])?(s.push(t[n].data[l][1][0]),r.push(t[n].data[l][1][1])):(s.push(t[n].data[l]),r.push(t[n].data[l]));else if(e==="xy")for(var c=function(d){var f=Array.isArray(t[n].data[d].y),p=q.randomId(),y=t[n].data[d].x,b={y1:f?t[n].data[d].y[0]:t[n].data[d].y,y2:f?t[n].data[d].y[1]:t[n].data[d].y,rangeName:p};t[n].data[d].rangeName=p;var x=a.findIndex(function(_){return _.x===y});a[x].y.push(b),s.push(b.y1),r.push(b.y2)},h=0;h<t[n].data.length;h++)c(h);return{start:s,end:r,rangeUniques:a}}},{key:"handleCandleStickBoxDataFormat",value:function(e,t,n){var s=this.w,r=s.config.chart.type==="boxPlot"||s.config.series[n].type==="boxPlot",a=[],l=[],c=[],h=[],d=[];if(e==="array")if(r&&t[n].data[0].length===6||!r&&t[n].data[0].length===5)for(var f=0;f<t[n].data.length;f++)a.push(t[n].data[f][1]),l.push(t[n].data[f][2]),r?(c.push(t[n].data[f][3]),h.push(t[n].data[f][4]),d.push(t[n].data[f][5])):(h.push(t[n].data[f][3]),d.push(t[n].data[f][4]));else for(var p=0;p<t[n].data.length;p++)Array.isArray(t[n].data[p][1])&&(a.push(t[n].data[p][1][0]),l.push(t[n].data[p][1][1]),r?(c.push(t[n].data[p][1][2]),h.push(t[n].data[p][1][3]),d.push(t[n].data[p][1][4])):(h.push(t[n].data[p][1][2]),d.push(t[n].data[p][1][3])));else if(e==="xy")for(var y=0;y<t[n].data.length;y++)Array.isArray(t[n].data[y].y)&&(a.push(t[n].data[y].y[0]),l.push(t[n].data[y].y[1]),r?(c.push(t[n].data[y].y[2]),h.push(t[n].data[y].y[3]),d.push(t[n].data[y].y[4])):(h.push(t[n].data[y].y[2]),d.push(t[n].data[y].y[3])));return{o:a,h:l,m:c,l:h,c:d}}},{key:"parseDataAxisCharts",value:function(e){var t=this,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.ctx,s=this.w.config,r=this.w.globals,a=new mi(n),l=s.labels.length>0?s.labels.slice():s.xaxis.categories.slice();r.isRangeBar=s.chart.type==="rangeBar"&&r.isBarHorizontal,r.hasXaxisGroups=s.xaxis.type==="category"&&s.xaxis.group.groups.length>0,r.hasXaxisGroups&&(r.groups=s.xaxis.group.groups),e.forEach(function(y,b){y.name!==void 0?r.seriesNames.push(y.name):r.seriesNames.push("series-"+parseInt(b+1,10))}),this.coreUtils.setSeriesYAxisMappings();var c=[],h=Qn(new Set(s.series.map(function(y){return y.group})));s.series.forEach(function(y,b){var x=h.indexOf(y.group);c[x]||(c[x]=[]),c[x].push(r.seriesNames[b])}),r.seriesGroups=c;for(var d=function(){for(var y=0;y<l.length;y++)if(typeof l[y]=="string"){if(!a.isValidDate(l[y]))throw new Error("You have provided invalid Date format. Please provide a valid JavaScript Date");t.twoDSeriesX.push(a.parseDate(l[y]))}else t.twoDSeriesX.push(l[y])},f=0;f<e.length;f++){if(this.twoDSeries=[],this.twoDSeriesX=[],this.threeDSeries=[],e[f].data===void 0)return void console.error("It is a possibility that you may have not included 'data' property in series.");if(s.chart.type!=="rangeBar"&&s.chart.type!=="rangeArea"&&e[f].type!=="rangeBar"&&e[f].type!=="rangeArea"||(r.isRangeData=!0,this.handleRangeData(e,f)),this.isMultiFormat())this.isFormat2DArray()?this.handleFormat2DArray(e,f):this.isFormatXY()&&this.handleFormatXY(e,f),s.chart.type!=="candlestick"&&e[f].type!=="candlestick"&&s.chart.type!=="boxPlot"&&e[f].type!=="boxPlot"||this.handleCandleStickBoxData(e,f),r.series.push(this.twoDSeries),r.labels.push(this.twoDSeriesX),r.seriesX.push(this.twoDSeriesX),r.seriesGoals=this.seriesGoals,f!==this.activeSeriesIndex||this.fallbackToCategory||(r.isXNumeric=!0);else{s.xaxis.type==="datetime"?(r.isXNumeric=!0,d(),r.seriesX.push(this.twoDSeriesX)):s.xaxis.type==="numeric"&&(r.isXNumeric=!0,l.length>0&&(this.twoDSeriesX=l,r.seriesX.push(this.twoDSeriesX))),r.labels.push(this.twoDSeriesX);var p=e[f].data.map(function(y){return q.parseNumber(y)});r.series.push(p)}r.seriesZ.push(this.threeDSeries),e[f].color!==void 0?r.seriesColors.push(e[f].color):r.seriesColors.push(void 0)}return this.w}},{key:"parseDataNonAxisCharts",value:function(e){var t=this.w.globals,n=this.w.config,s=Array.isArray(e)&&e.every(function(d){return typeof d=="number"})&&n.labels.length>0,r=Array.isArray(e)&&e.some(function(d){return d&&Yi(d)==="object"&&d.data||d&&Yi(d)==="object"&&d.parsing});if(s&&r&&console.warn("ApexCharts: Both old format (numeric series + labels) and new format (series objects with data/parsing) detected. Using old format for backward compatibility."),s){t.series=e.slice(),t.seriesNames=n.labels.slice();for(var a=0;a<t.series.length;a++)t.seriesNames[a]===void 0&&t.seriesNames.push("series-"+(a+1));return this.w}if(Array.isArray(e)&&e.every(function(d){return typeof d=="number"})){t.series=e.slice(),t.seriesNames=[];for(var l=0;l<t.series.length;l++)t.seriesNames.push(n.labels[l]||"series-".concat(l+1));return this.w}var c=this.extractPieDataFromSeries(e);t.series=c.values,t.seriesNames=c.labels,n.chart.type==="radialBar"&&(t.series=t.series.map(function(d){var f=q.parseNumber(d);return f>100&&console.warn("ApexCharts: RadialBar value ".concat(f," > 100, consider using percentage values (0-100)")),f}));for(var h=0;h<t.series.length;h++)t.seriesNames[h]===void 0&&t.seriesNames.push("series-"+(h+1));return this.w}},{key:"resetParsingFlags",value:function(){var e=this.w;e.globals.dataWasParsed=!1,e.globals.originalSeries=null,e.config.series&&e.config.series.forEach(function(t){t.__apexParsed&&delete t.__apexParsed})}},{key:"extractPieDataFromSeries",value:function(e){var t=[],n=[];if(!Array.isArray(e))return console.warn("ApexCharts: Expected array for series data"),{values:[],labels:[]};if(e.length===0)return console.warn("ApexCharts: Empty series array"),{values:[],labels:[]};var s=e[0];return Yi(s)==="object"&&s!==null&&s.data?(this.extractPieDataFromSeriesObjects(e,t,n),{values:t,labels:n}):(console.warn("ApexCharts: Unsupported series format for pie/donut/radialBar. Expected series objects with data property."),{values:[],labels:[]})}},{key:"extractPieDataFromSeriesObjects",value:function(e,t,n){e.forEach(function(s,r){s.data&&Array.isArray(s.data)?s.data.forEach(function(a){Yi(a)==="object"&&a!==null?a.x!==void 0&&a.y!==void 0?(n.push(String(a.x)),t.push(q.parseNumber(a.y))):console.warn("ApexCharts: Invalid data point format for pie chart. Expected {x, y} format:",a):console.warn("ApexCharts: Expected object data point, got:",Yi(a))}):console.warn("ApexCharts: Series ".concat(r," has no valid data array"))})}},{key:"handleExternalLabelsData",value:function(e){var t=this.w.config,n=this.w.globals;t.xaxis.categories.length>0?n.labels=t.xaxis.categories:t.labels.length>0?n.labels=t.labels.slice():this.fallbackToCategory?(n.labels=n.labels[0],n.seriesRange.length&&(n.seriesRange.map(function(s){s.forEach(function(r){n.labels.indexOf(r.x)<0&&r.x&&n.labels.push(r.x)})}),n.labels=Array.from(new Set(n.labels.map(JSON.stringify)),JSON.parse)),t.xaxis.convertedCatToNumeric&&(new Df(t).convertCatToNumericXaxis(t,this.ctx,n.seriesX[0]),this._generateExternalLabels(e))):this._generateExternalLabels(e)}},{key:"_generateExternalLabels",value:function(e){var t=this.w.globals,n=this.w.config,s=[];if(t.axisCharts){if(t.series.length>0)if(this.isFormatXY())for(var r=n.series.map(function(f,p){return f.data.filter(function(y,b,x){return x.findIndex(function(_){return _.x===y.x})===b})}),a=r.reduce(function(f,p,y,b){return b[f].length>p.length?f:y},0),l=0;l<r[a].length;l++)s.push(l+1);else for(var c=0;c<t.series[t.maxValsInArrayIndex].length;c++)s.push(c+1);t.seriesX=[];for(var h=0;h<e.length;h++)t.seriesX.push(s);this.w.globals.isBarHorizontal||(t.isXNumeric=!0)}if(s.length===0){s=t.axisCharts?[]:t.series.map(function(f,p){return p+1});for(var d=0;d<e.length;d++)t.seriesX.push(s)}t.labels=s,n.xaxis.convertedCatToNumeric&&(t.categoryLabels=s.map(function(f){return n.xaxis.labels.formatter(f)})),t.noLabelsProvided=!0}},{key:"parseRawDataIfNeeded",value:function(e){var t=this,n=this.w.config,s=this.w.globals,r=n.parsing;if(s.dataWasParsed||!r&&!e.some(function(l){return l.parsing}))return e;var a=e.map(function(l,c){var h,d,f;if(!l.data||!Array.isArray(l.data)||l.data.length===0)return l;var p={x:((h=l.parsing)===null||h===void 0?void 0:h.x)||(r==null?void 0:r.x),y:((d=l.parsing)===null||d===void 0?void 0:d.y)||(r==null?void 0:r.y),z:((f=l.parsing)===null||f===void 0?void 0:f.z)||(r==null?void 0:r.z)};if(!p.x&&!p.y)return l;var y=l.data[0];if(Yi(y)==="object"&&y!==null&&(y.hasOwnProperty("x")||y.hasOwnProperty("y"))||Array.isArray(y))return l;if(!p.x||!p.y||Array.isArray(p.y)&&p.y.length===0)return console.warn("ApexCharts: Series ".concat(c," has parsing config but missing x or y field specification")),l;var b=l.data.map(function(x,_){if(Yi(x)!=="object"||x===null)return console.warn("ApexCharts: Series ".concat(c,", data point ").concat(_," is not an object, skipping parsing")),x;var S,T=t.getNestedValue(x,p.x),C=void 0;if(Array.isArray(p.y)){var M=p.y.map(function(k){return t.getNestedValue(x,k)});S=t.w.config.chart.type==="bubble"&&M.length===2?M[0]:M}else S=t.getNestedValue(x,p.y);p.z&&(C=t.getNestedValue(x,p.z)),T===void 0&&console.warn("ApexCharts: Series ".concat(c,", data point ").concat(_," missing field '").concat(p.x,"'")),S===void 0&&console.warn("ApexCharts: Series ".concat(c,", data point ").concat(_," missing field '").concat(p.y,"'"));var R={x:T,y:S};if(t.w.config.chart.type==="bubble"&&Array.isArray(p.y)&&p.y.length===2){var P=t.getNestedValue(x,p.y[1]);P!==void 0&&(R.z=P)}return C!==void 0&&(R.z=C),R});return be(be({},l),{},{data:b,__apexParsed:!0})});return s.dataWasParsed=!0,s.originalSeries||(s.originalSeries=q.clone(e)),a}},{key:"getNestedValue",value:function(e,t){if(e&&Yi(e)==="object"&&t){if(t.indexOf(".")===-1)return e[t];for(var n=t.split("."),s=e,r=0;r<n.length;r++){if(s==null||Yi(s)!=="object")return;s=s[n[r]]}return s}}},{key:"parseData",value:function(e){var t=this.w,n=t.config,s=t.globals;if(e=this.parseRawDataIfNeeded(e),n.series=e,s.initialSeries=q.clone(e),this.excludeCollapsedSeriesInYAxis(),this.fallbackToCategory=!1,this.ctx.core.resetGlobals(),this.ctx.core.isMultipleY(),s.axisCharts?(this.parseDataAxisCharts(e),this.coreUtils.getLargestSeries()):this.parseDataNonAxisCharts(e),n.chart.stacked){var r=new Ks(this.ctx);s.series=r.setNullSeriesToZeroValues(s.series)}this.coreUtils.getSeriesTotals(),s.axisCharts&&(s.stackedSeriesTotals=this.coreUtils.getStackedSeriesTotals(),s.stackedSeriesTotalsByGroups=this.coreUtils.getStackedSeriesTotalsByGroups()),this.coreUtils.getPercentSeries(),s.dataFormatXNumeric||s.isXNumeric&&(n.xaxis.type!=="numeric"||n.labels.length!==0||n.xaxis.categories.length!==0)||this.handleExternalLabelsData(e);for(var a=this.coreUtils.getCategoryLabels(s.labels),l=0;l<a.length;l++)if(Array.isArray(a[l])){s.isMultiLineX=!0;break}}},{key:"excludeCollapsedSeriesInYAxis",value:function(){var e=this.w,t=[];e.globals.seriesYAxisMap.forEach(function(n,s){var r=0;n.forEach(function(a){e.globals.collapsedSeriesIndices.indexOf(a)!==-1&&r++}),r>0&&r==n.length&&t.push(s)}),e.globals.ignoreYAxisIndexes=t.map(function(n){return n})}}]),i}(),Zd=function(){function i(e){Ce(this,i),this.ctx=e,this.w=e.w}return ke(i,[{key:"svgStringToNode",value:function(e){return new DOMParser().parseFromString(e,"image/svg+xml").documentElement}},{key:"scaleSvgNode",value:function(e,t){var n=parseFloat(e.getAttributeNS(null,"width")),s=parseFloat(e.getAttributeNS(null,"height"));e.setAttributeNS(null,"width",n*t),e.setAttributeNS(null,"height",s*t),e.setAttributeNS(null,"viewBox","0 0 "+n+" "+s)}},{key:"getSvgString",value:function(e){var t=this;return new Promise(function(n){var s=t.w,r=e||s.config.chart.toolbar.export.scale||s.config.chart.toolbar.export.width/s.globals.svgWidth;r||(r=1);var a=s.globals.svgWidth*r,l=s.globals.svgHeight*r,c=s.globals.dom.elWrap.cloneNode(!0);c.style.width=a+"px",c.style.height=l+"px";var h=new XMLSerializer().serializeToString(c),d=`
        .apexcharts-tooltip, .apexcharts-toolbar, .apexcharts-xaxistooltip, .apexcharts-yaxistooltip, .apexcharts-xcrosshairs, .apexcharts-ycrosshairs, .apexcharts-zoom-rect, .apexcharts-selection-rect {
          display: none;
        }
      `;s.config.legend.show&&s.globals.dom.elLegendWrap&&s.globals.dom.elLegendWrap.children.length>0&&(d+=xF);var f=`
        <svg xmlns="http://www.w3.org/2000/svg"
          version="1.1"
          xmlns:xlink="http://www.w3.org/1999/xlink"
          class="apexcharts-svg"
          xmlns:data="ApexChartsNS"
          transform="translate(0, 0)"
          width="`.concat(s.globals.svgWidth,'px" height="').concat(s.globals.svgHeight,`px">
          <foreignObject width="100%" height="100%">
            <div xmlns="http://www.w3.org/1999/xhtml" style="width:`).concat(a,"px; height:").concat(l,`px;">
            <style type="text/css">
              `).concat(d,`
            </style>
              `).concat(h,`
            </div>
          </foreignObject>
        </svg>
      `),p=t.svgStringToNode(f);r!==1&&t.scaleSvgNode(p,r),t.convertImagesToBase64(p).then(function(){f=new XMLSerializer().serializeToString(p),n(f.replace(/&nbsp;/g,"&#160;"))})})}},{key:"convertImagesToBase64",value:function(e){var t=this,n=e.getElementsByTagName("image"),s=Array.from(n).map(function(r){var a=r.getAttributeNS("http://www.w3.org/1999/xlink","href");return a&&!a.startsWith("data:")?t.getBase64FromUrl(a).then(function(l){r.setAttributeNS("http://www.w3.org/1999/xlink","href",l)}).catch(function(l){console.error("Error converting image to base64:",l)}):Promise.resolve()});return Promise.all(s)}},{key:"getBase64FromUrl",value:function(e){return new Promise(function(t,n){var s=new Image;s.crossOrigin="Anonymous",s.onload=function(){var r=document.createElement("canvas");r.width=s.width,r.height=s.height,r.getContext("2d").drawImage(s,0,0),t(r.toDataURL())},s.onerror=n,s.src=e})}},{key:"svgUrl",value:function(){var e=this;return new Promise(function(t){e.getSvgString().then(function(n){var s=new Blob([n],{type:"image/svg+xml;charset=utf-8"});t(URL.createObjectURL(s))})})}},{key:"dataURI",value:function(e){var t=this;return new Promise(function(n){var s=t.w,r=e?e.scale||e.width/s.globals.svgWidth:1,a=document.createElement("canvas");a.width=s.globals.svgWidth*r,a.height=parseInt(s.globals.dom.elWrap.style.height,10)*r;var l=s.config.chart.background!=="transparent"&&s.config.chart.background?s.config.chart.background:"#fff",c=a.getContext("2d");c.fillStyle=l,c.fillRect(0,0,a.width*r,a.height*r),t.getSvgString(r).then(function(h){var d="data:image/svg+xml,"+encodeURIComponent(h),f=new Image;f.crossOrigin="anonymous",f.onload=function(){if(c.drawImage(f,0,0),a.msToBlob){var p=a.msToBlob();n({blob:p})}else{var y=a.toDataURL("image/png");n({imgURI:y})}},f.src=d})})}},{key:"exportToSVG",value:function(){var e=this;this.svgUrl().then(function(t){e.triggerDownload(t,e.w.config.chart.toolbar.export.svg.filename,".svg")})}},{key:"exportToPng",value:function(){var e=this,t=this.w.config.chart.toolbar.export.scale,n=this.w.config.chart.toolbar.export.width,s=t?{scale:t}:n?{width:n}:void 0;this.dataURI(s).then(function(r){var a=r.imgURI,l=r.blob;l?navigator.msSaveOrOpenBlob(l,e.w.globals.chartID+".png"):e.triggerDownload(a,e.w.config.chart.toolbar.export.png.filename,".png")})}},{key:"exportToCSV",value:function(e){var t=this,n=e.series,s=e.fileName,r=e.columnDelimiter,a=r===void 0?",":r,l=e.lineDelimiter,c=l===void 0?`
`:l,h=this.w;n||(n=h.config.series);var d=[],f=[],p="",y=h.globals.series.map(function(R,P){return h.globals.collapsedSeriesIndices.indexOf(P)===-1?R:[]}),b=function(R){return typeof h.config.chart.toolbar.export.csv.categoryFormatter=="function"?h.config.chart.toolbar.export.csv.categoryFormatter(R):h.config.xaxis.type==="datetime"&&String(R).length>=10?new Date(R).toDateString():q.isNumber(R)?R:R.split(a).join("")},x=function(R){return typeof h.config.chart.toolbar.export.csv.valueFormatter=="function"?h.config.chart.toolbar.export.csv.valueFormatter(R):R},_=Math.max.apply(Math,Qn(n.map(function(R){return R.data?R.data.length:0}))),S=new QS(this.ctx),T=new qo(this.ctx),C=function(R){var P="";if(h.globals.axisCharts){if(h.config.xaxis.type==="category"||h.config.xaxis.convertedCatToNumeric)if(h.globals.isBarHorizontal){var k=h.globals.yLabelFormatters[0],E=new Ks(t.ctx).getActiveConfigSeriesIndex();P=k(h.globals.labels[R],{seriesIndex:E,dataPointIndex:R,w:h})}else P=T.getLabel(h.globals.labels,h.globals.timescaleLabels,0,R).text;h.config.xaxis.type==="datetime"&&(h.config.xaxis.categories.length?P=h.config.xaxis.categories[R]:h.config.labels.length&&(P=h.config.labels[R]))}else P=h.config.labels[R];return P===null?"nullvalue":(Array.isArray(P)&&(P=P.join(" ")),q.isNumber(P)?P:P.split(a).join(""))},M=function(R,P){if(d.length&&P===0&&f.push(d.join(a)),R.data){R.data=R.data.length&&R.data||Qn(Array(_)).map(function(){return""});for(var k=0;k<R.data.length;k++){d=[];var E=C(k);if(E!=="nullvalue"){if(E||(S.isFormatXY()?E=n[P].data[k].x:S.isFormat2DArray()&&(E=n[P].data[k]?n[P].data[k][0]:"")),P===0){d.push(b(E));for(var D=0;D<h.globals.series.length;D++){var O,F=S.isFormatXY()?(O=n[D].data[k])===null||O===void 0?void 0:O.y:y[D][k];d.push(x(F))}}(h.config.chart.type==="candlestick"||R.type&&R.type==="candlestick")&&(d.pop(),d.push(h.globals.seriesCandleO[P][k]),d.push(h.globals.seriesCandleH[P][k]),d.push(h.globals.seriesCandleL[P][k]),d.push(h.globals.seriesCandleC[P][k])),(h.config.chart.type==="boxPlot"||R.type&&R.type==="boxPlot")&&(d.pop(),d.push(h.globals.seriesCandleO[P][k]),d.push(h.globals.seriesCandleH[P][k]),d.push(h.globals.seriesCandleM[P][k]),d.push(h.globals.seriesCandleL[P][k]),d.push(h.globals.seriesCandleC[P][k])),h.config.chart.type==="rangeBar"&&(d.pop(),d.push(h.globals.seriesRangeStart[P][k]),d.push(h.globals.seriesRangeEnd[P][k])),d.length&&f.push(d.join(a))}}}};d.push(h.config.chart.toolbar.export.csv.headerCategory),h.config.chart.type==="boxPlot"?(d.push("minimum"),d.push("q1"),d.push("median"),d.push("q3"),d.push("maximum")):h.config.chart.type==="candlestick"?(d.push("open"),d.push("high"),d.push("low"),d.push("close")):h.config.chart.type==="rangeBar"?(d.push("minimum"),d.push("maximum")):n.map(function(R,P){var k=(R.name?R.name:"series-".concat(P))+"";h.globals.axisCharts&&d.push(k.split(a).join("")?k.split(a).join(""):"series-".concat(P))}),h.globals.axisCharts||(d.push(h.config.chart.toolbar.export.csv.headerValue),f.push(d.join(a))),h.globals.allSeriesHasEqualX||!h.globals.axisCharts||h.config.xaxis.categories.length||h.config.labels.length?n.map(function(R,P){h.globals.axisCharts?M(R,P):((d=[]).push(b(h.globals.labels[P])),d.push(x(y[P])),f.push(d.join(a)))}):function(){var R=new Set,P={};n.forEach(function(k,E){k==null||k.data.forEach(function(D){var O,F;if(S.isFormatXY())O=D.x,F=D.y;else{if(!S.isFormat2DArray())return;O=D[0],F=D[1]}P[O]||(P[O]=Array(n.length).fill("")),P[O][E]=x(F),R.add(O)})}),d.length&&f.push(d.join(a)),Array.from(R).sort().forEach(function(k){f.push([b(k),P[k].join(a)])})}(),p+=f.join(c),this.triggerDownload("data:text/csv; charset=utf-8,"+encodeURIComponent("\uFEFF"+p),s||h.config.chart.toolbar.export.csv.filename,".csv")}},{key:"triggerDownload",value:function(e,t,n){var s=document.createElement("a");s.href=e,s.download=(t||this.w.globals.chartID)+n,document.body.appendChild(s),s.click(),document.body.removeChild(s)}}]),i}(),Pf=function(){function i(e,t){Ce(this,i),this.ctx=e,this.elgrid=t,this.w=e.w;var n=this.w;this.axesUtils=new qo(e),this.xaxisLabels=n.globals.labels.slice(),n.globals.timescaleLabels.length>0&&!n.globals.isBarHorizontal&&(this.xaxisLabels=n.globals.timescaleLabels.slice()),n.config.xaxis.overwriteCategories&&(this.xaxisLabels=n.config.xaxis.overwriteCategories),this.drawnLabels=[],this.drawnLabelsRects=[],n.config.xaxis.position==="top"?this.offY=0:this.offY=n.globals.gridHeight,this.offY=this.offY+n.config.xaxis.axisBorder.offsetY,this.isCategoryBarHorizontal=n.config.chart.type==="bar"&&n.config.plotOptions.bar.horizontal,this.xaxisFontSize=n.config.xaxis.labels.style.fontSize,this.xaxisFontFamily=n.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=n.config.xaxis.labels.style.colors,this.xaxisBorderWidth=n.config.xaxis.axisBorder.width,this.isCategoryBarHorizontal&&(this.xaxisBorderWidth=n.config.yaxis[0].axisBorder.width.toString()),String(this.xaxisBorderWidth).indexOf("%")>-1?this.xaxisBorderWidth=n.globals.gridWidth*parseInt(this.xaxisBorderWidth,10)/100:this.xaxisBorderWidth=parseInt(this.xaxisBorderWidth,10),this.xaxisBorderHeight=n.config.xaxis.axisBorder.height,this.yaxis=n.config.yaxis[0]}return ke(i,[{key:"drawXaxis",value:function(){var e=this.w,t=new fe(this.ctx),n=t.group({class:"apexcharts-xaxis",transform:"translate(".concat(e.config.xaxis.offsetX,", ").concat(e.config.xaxis.offsetY,")")}),s=t.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(e.globals.translateXAxisX,", ").concat(e.globals.translateXAxisY,")")});n.add(s);for(var r=[],a=0;a<this.xaxisLabels.length;a++)r.push(this.xaxisLabels[a]);if(this.drawXAxisLabelAndGroup(!0,t,s,r,e.globals.isXNumeric,function(b,x){return x}),e.globals.hasXaxisGroups){var l=e.globals.groups;r=[];for(var c=0;c<l.length;c++)r.push(l[c].title);var h={};e.config.xaxis.group.style&&(h.xaxisFontSize=e.config.xaxis.group.style.fontSize,h.xaxisFontFamily=e.config.xaxis.group.style.fontFamily,h.xaxisForeColors=e.config.xaxis.group.style.colors,h.fontWeight=e.config.xaxis.group.style.fontWeight,h.cssClass=e.config.xaxis.group.style.cssClass),this.drawXAxisLabelAndGroup(!1,t,s,r,!1,function(b,x){return l[b].cols*x},h)}if(e.config.xaxis.title.text!==void 0){var d=t.group({class:"apexcharts-xaxis-title"}),f=t.drawText({x:e.globals.gridWidth/2+e.config.xaxis.title.offsetX,y:this.offY+parseFloat(this.xaxisFontSize)+(e.config.xaxis.position==="bottom"?e.globals.xAxisLabelsHeight:-e.globals.xAxisLabelsHeight-10)+e.config.xaxis.title.offsetY,text:e.config.xaxis.title.text,textAnchor:"middle",fontSize:e.config.xaxis.title.style.fontSize,fontFamily:e.config.xaxis.title.style.fontFamily,fontWeight:e.config.xaxis.title.style.fontWeight,foreColor:e.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+e.config.xaxis.title.style.cssClass});d.add(f),n.add(d)}if(e.config.xaxis.axisBorder.show){var p=e.globals.barPadForNumericAxis,y=t.drawLine(e.globals.padHorizontal+e.config.xaxis.axisBorder.offsetX-p,this.offY,this.xaxisBorderWidth+p,this.offY,e.config.xaxis.axisBorder.color,0,this.xaxisBorderHeight);this.elgrid&&this.elgrid.elGridBorders&&e.config.grid.show?this.elgrid.elGridBorders.add(y):n.add(y)}return n}},{key:"drawXAxisLabelAndGroup",value:function(e,t,n,s,r,a){var l,c=this,h=arguments.length>6&&arguments[6]!==void 0?arguments[6]:{},d=[],f=[],p=this.w,y=h.xaxisFontSize||this.xaxisFontSize,b=h.xaxisFontFamily||this.xaxisFontFamily,x=h.xaxisForeColors||this.xaxisForeColors,_=h.fontWeight||p.config.xaxis.labels.style.fontWeight,S=h.cssClass||p.config.xaxis.labels.style.cssClass,T=p.globals.padHorizontal,C=s.length,M=p.config.xaxis.type==="category"?p.globals.dataPoints:C;if(M===0&&C>M&&(M=C),r){var R=Math.max(Number(p.config.xaxis.tickAmount)||1,M>1?M-1:M);l=p.globals.gridWidth/Math.min(R,C-1),T=T+a(0,l)/2+p.config.xaxis.labels.offsetX}else l=p.globals.gridWidth/M,T=T+a(0,l)+p.config.xaxis.labels.offsetX;for(var P=function(E){var D=T-a(E,l)/2+p.config.xaxis.labels.offsetX;E===0&&C===1&&l/2===T&&M===1&&(D=p.globals.gridWidth/2);var O=c.axesUtils.getLabel(s,p.globals.timescaleLabels,D,E,d,y,e),F=28;if(p.globals.rotateXLabels&&e&&(F=22),p.config.xaxis.title.text&&p.config.xaxis.position==="top"&&(F+=parseFloat(p.config.xaxis.title.style.fontSize)+2),e||(F=F+parseFloat(y)+(p.globals.xAxisLabelsHeight-p.globals.xAxisGroupLabelsHeight)+(p.globals.rotateXLabels?10:0)),O=p.config.xaxis.tickAmount!==void 0&&p.config.xaxis.tickAmount!=="dataPoints"&&p.config.xaxis.type!=="datetime"?c.axesUtils.checkLabelBasedOnTickamount(E,O,C):c.axesUtils.checkForOverflowingLabels(E,O,C,d,f),p.config.xaxis.labels.show){var H=t.drawText({x:O.x,y:c.offY+p.config.xaxis.labels.offsetY+F-(p.config.xaxis.position==="top"?p.globals.xAxisHeight+p.config.xaxis.axisTicks.height-2:0),text:O.text,textAnchor:"middle",fontWeight:O.isBold?600:_,fontSize:y,fontFamily:b,foreColor:Array.isArray(x)?e&&p.config.xaxis.convertedCatToNumeric?x[p.globals.minX+E-1]:x[E]:x,isPlainText:!1,cssClass:(e?"apexcharts-xaxis-label ":"apexcharts-xaxis-group-label ")+S});if(n.add(H),H.on("click",function(K){if(typeof p.config.chart.events.xAxisLabelClick=="function"){var ne=Object.assign({},p,{labelIndex:E});p.config.chart.events.xAxisLabelClick(K,c.ctx,ne)}}),e){var B=document.createElementNS(p.globals.SVGNS,"title");B.textContent=Array.isArray(O.text)?O.text.join(" "):O.text,H.node.appendChild(B),O.text!==""&&(d.push(O.text),f.push(O))}}E<C-1&&(T+=a(E+1,l))},k=0;k<=C-1;k++)P(k)}},{key:"drawXaxisInversed",value:function(e){var t,n,s=this,r=this.w,a=new fe(this.ctx),l=r.config.yaxis[0].opposite?r.globals.translateYAxisX[e]:0,c=a.group({class:"apexcharts-yaxis apexcharts-xaxis-inversed",rel:e}),h=a.group({class:"apexcharts-yaxis-texts-g apexcharts-xaxis-inversed-texts-g",transform:"translate("+l+", 0)"});c.add(h);var d=[];if(r.config.yaxis[e].show)for(var f=0;f<this.xaxisLabels.length;f++)d.push(this.xaxisLabels[f]);t=r.globals.gridHeight/d.length,n=-t/2.2;var p=r.globals.yLabelFormatters[0],y=r.config.yaxis[0].labels;if(y.show)for(var b=function(R){var P=d[R]===void 0?"":d[R];P=p(P,{seriesIndex:e,dataPointIndex:R,w:r});var k=s.axesUtils.getYAxisForeColor(y.style.colors,e),E=0;Array.isArray(P)&&(E=P.length/2*parseInt(y.style.fontSize,10));var D=y.offsetX-15,O="end";s.yaxis.opposite&&(O="start"),r.config.yaxis[0].labels.align==="left"?(D=y.offsetX,O="start"):r.config.yaxis[0].labels.align==="center"?(D=y.offsetX,O="middle"):r.config.yaxis[0].labels.align==="right"&&(O="end");var F=a.drawText({x:D,y:n+t+y.offsetY-E,text:P,textAnchor:O,foreColor:Array.isArray(k)?k[R]:k,fontSize:y.style.fontSize,fontFamily:y.style.fontFamily,fontWeight:y.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+y.style.cssClass,maxWidth:y.maxWidth});h.add(F),F.on("click",function(K){if(typeof r.config.chart.events.xAxisLabelClick=="function"){var ne=Object.assign({},r,{labelIndex:R});r.config.chart.events.xAxisLabelClick(K,s.ctx,ne)}});var H=document.createElementNS(r.globals.SVGNS,"title");if(H.textContent=Array.isArray(P)?P.join(" "):P,F.node.appendChild(H),r.config.yaxis[e].labels.rotate!==0){var B=a.rotateAroundCenter(F.node);F.node.setAttribute("transform","rotate(".concat(r.config.yaxis[e].labels.rotate," 0 ").concat(B.y,")"))}n+=t},x=0;x<=d.length-1;x++)b(x);if(r.config.yaxis[0].title.text!==void 0){var _=a.group({class:"apexcharts-yaxis-title apexcharts-xaxis-title-inversed",transform:"translate("+l+", 0)"}),S=a.drawText({x:r.config.yaxis[0].title.offsetX,y:r.globals.gridHeight/2+r.config.yaxis[0].title.offsetY,text:r.config.yaxis[0].title.text,textAnchor:"middle",foreColor:r.config.yaxis[0].title.style.color,fontSize:r.config.yaxis[0].title.style.fontSize,fontWeight:r.config.yaxis[0].title.style.fontWeight,fontFamily:r.config.yaxis[0].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+r.config.yaxis[0].title.style.cssClass});_.add(S),c.add(_)}var T=0;this.isCategoryBarHorizontal&&r.config.yaxis[0].opposite&&(T=r.globals.gridWidth);var C=r.config.xaxis.axisBorder;if(C.show){var M=a.drawLine(r.globals.padHorizontal+C.offsetX+T,1+C.offsetY,r.globals.padHorizontal+C.offsetX+T,r.globals.gridHeight+C.offsetY,C.color,0);this.elgrid&&this.elgrid.elGridBorders&&r.config.grid.show?this.elgrid.elGridBorders.add(M):c.add(M)}return r.config.yaxis[0].axisTicks.show&&this.axesUtils.drawYAxisTicks(T,d.length,r.config.yaxis[0].axisBorder,r.config.yaxis[0].axisTicks,0,t,c),c}},{key:"drawXaxisTicks",value:function(e,t,n){var s=this.w,r=e;if(!(e<0||e-2>s.globals.gridWidth)){var a=this.offY+s.config.xaxis.axisTicks.offsetY;if(t=t+a+s.config.xaxis.axisTicks.height,s.config.xaxis.position==="top"&&(t=a-s.config.xaxis.axisTicks.height),s.config.xaxis.axisTicks.show){var l=new fe(this.ctx).drawLine(e+s.config.xaxis.axisTicks.offsetX,a+s.config.xaxis.offsetY,r+s.config.xaxis.axisTicks.offsetX,t+s.config.xaxis.offsetY,s.config.xaxis.axisTicks.color);n.add(l),l.node.classList.add("apexcharts-xaxis-tick")}}}},{key:"getXAxisTicksPositions",value:function(){var e=this.w,t=[],n=this.xaxisLabels.length,s=e.globals.padHorizontal;if(e.globals.timescaleLabels.length>0)for(var r=0;r<n;r++)s=this.xaxisLabels[r].position,t.push(s);else for(var a=n,l=0;l<a;l++){var c=a;e.globals.isXNumeric&&e.config.chart.type!=="bar"&&(c-=1),s+=e.globals.gridWidth/c,t.push(s)}return t}},{key:"xAxisLabelCorrections",value:function(){var e=this.w,t=new fe(this.ctx),n=e.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g"),s=e.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-texts-g text:not(.apexcharts-xaxis-group-label)"),r=e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-inversed text"),a=e.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-inversed-texts-g text tspan");if(e.globals.rotateXLabels||e.config.xaxis.labels.rotateAlways)for(var l=0;l<s.length;l++){var c=t.rotateAroundCenter(s[l]);c.y=c.y-1,c.x=c.x+1,s[l].setAttribute("transform","rotate(".concat(e.config.xaxis.labels.rotate," ").concat(c.x," ").concat(c.y,")")),s[l].setAttribute("text-anchor","end"),n.setAttribute("transform","translate(0, ".concat(-10,")"));var h=s[l].childNodes;e.config.xaxis.labels.trim&&Array.prototype.forEach.call(h,function(y){t.placeTextWithEllipsis(y,y.textContent,e.globals.xAxisLabelsHeight-(e.config.legend.position==="bottom"?20:10))})}else(function(){for(var y=e.globals.gridWidth/(e.globals.labels.length+1),b=0;b<s.length;b++){var x=s[b].childNodes;e.config.xaxis.labels.trim&&e.config.xaxis.type!=="datetime"&&Array.prototype.forEach.call(x,function(_){t.placeTextWithEllipsis(_,_.textContent,y)})}})();if(r.length>0){var d=r[r.length-1].getBBox(),f=r[0].getBBox();d.x<-20&&r[r.length-1].parentNode.removeChild(r[r.length-1]),f.x+f.width>e.globals.gridWidth&&!e.globals.isBarHorizontal&&r[0].parentNode.removeChild(r[0]);for(var p=0;p<a.length;p++)t.placeTextWithEllipsis(a[p],a[p].textContent,e.config.yaxis[0].labels.maxWidth-(e.config.yaxis[0].title.text?2*parseFloat(e.config.yaxis[0].title.style.fontSize):0)-15)}}}]),i}(),wF=function(){function i(e){Ce(this,i),this.ctx=e,this.w=e.w;var t=this.w;this.xaxisLabels=t.globals.labels.slice(),this.axesUtils=new qo(e),this.isRangeBar=t.globals.seriesRange.length&&t.globals.isBarHorizontal,t.globals.timescaleLabels.length>0&&(this.xaxisLabels=t.globals.timescaleLabels.slice())}return ke(i,[{key:"drawGridArea",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,t=this.w,n=new fe(this.ctx);e||(e=n.group({class:"apexcharts-grid"}));var s=n.drawLine(t.globals.padHorizontal,1,t.globals.padHorizontal,t.globals.gridHeight,"transparent"),r=n.drawLine(t.globals.padHorizontal,t.globals.gridHeight,t.globals.gridWidth,t.globals.gridHeight,"transparent");return e.add(r),e.add(s),e}},{key:"drawGrid",value:function(){if(this.w.globals.axisCharts){var e=this.renderGrid();return this.drawGridArea(e.el),e}return null}},{key:"createGridMask",value:function(){var e=this.w,t=e.globals,n=new fe(this.ctx),s=Array.isArray(e.config.stroke.width)?Math.max.apply(Math,Qn(e.config.stroke.width)):e.config.stroke.width,r=function(d){var f=document.createElementNS(t.SVGNS,"clipPath");return f.setAttribute("id",d),f};t.dom.elGridRectMask=r("gridRectMask".concat(t.cuid)),t.dom.elGridRectBarMask=r("gridRectBarMask".concat(t.cuid)),t.dom.elGridRectMarkerMask=r("gridRectMarkerMask".concat(t.cuid)),t.dom.elForecastMask=r("forecastMask".concat(t.cuid)),t.dom.elNonForecastMask=r("nonForecastMask".concat(t.cuid));var a=0,l=0;(["bar","rangeBar","candlestick","boxPlot"].includes(e.config.chart.type)||e.globals.comboBarCount>0)&&e.globals.isXNumeric&&!e.globals.isBarHorizontal&&(a=Math.max(e.config.grid.padding.left,t.barPadForNumericAxis),l=Math.max(e.config.grid.padding.right,t.barPadForNumericAxis)),t.dom.elGridRect=n.drawRect(-s/2-2,-s/2-2,t.gridWidth+s+4,t.gridHeight+s+4,0,"#fff"),t.dom.elGridRectBar=n.drawRect(-s/2-a-2,-s/2-2,t.gridWidth+s+l+a+4,t.gridHeight+s+4,0,"#fff");var c=e.globals.markers.largestSize;t.dom.elGridRectMarker=n.drawRect(Math.min(-s/2-a-2,-c),-c,t.gridWidth+Math.max(s+l+a+4,2*c),t.gridHeight+2*c,0,"#fff"),t.dom.elGridRectMask.appendChild(t.dom.elGridRect.node),t.dom.elGridRectBarMask.appendChild(t.dom.elGridRectBar.node),t.dom.elGridRectMarkerMask.appendChild(t.dom.elGridRectMarker.node);var h=t.dom.baseEl.querySelector("defs");h.appendChild(t.dom.elGridRectMask),h.appendChild(t.dom.elGridRectBarMask),h.appendChild(t.dom.elGridRectMarkerMask),h.appendChild(t.dom.elForecastMask),h.appendChild(t.dom.elNonForecastMask)}},{key:"_drawGridLines",value:function(e){var t=e.i,n=e.x1,s=e.y1,r=e.x2,a=e.y2,l=e.xCount,c=e.parent,h=this.w;if(!(t===0&&h.globals.skipFirstTimelinelabel||t===l-1&&h.globals.skipLastTimelinelabel&&!h.config.xaxis.labels.formatter||h.config.chart.type==="radar")){h.config.grid.xaxis.lines.show&&this._drawGridLine({i:t,x1:n,y1:s,x2:r,y2:a,xCount:l,parent:c});var d=0;if(h.globals.hasXaxisGroups&&h.config.xaxis.tickPlacement==="between"){var f=h.globals.groups;if(f){for(var p=0,y=0;p<t&&y<f.length;y++)p+=f[y].cols;p===t&&(d=.6*h.globals.xAxisLabelsHeight)}}new Pf(this.ctx).drawXaxisTicks(n,d,h.globals.dom.elGraphical)}}},{key:"_drawGridLine",value:function(e){var t=e.i,n=e.x1,s=e.y1,r=e.x2,a=e.y2,l=e.xCount,c=e.parent,h=this.w,d=c.node.classList.contains("apexcharts-gridlines-horizontal"),f=h.globals.barPadForNumericAxis,p=s===0&&a===0||n===0&&r===0||s===h.globals.gridHeight&&a===h.globals.gridHeight||h.globals.isBarHorizontal&&(t===0||t===l-1),y=new fe(this).drawLine(n-(d?f:0),s,r+(d?f:0),a,h.config.grid.borderColor,h.config.grid.strokeDashArray);y.node.classList.add("apexcharts-gridline"),p&&h.config.grid.show?this.elGridBorders.add(y):c.add(y)}},{key:"_drawGridBandRect",value:function(e){var t=e.c,n=e.x1,s=e.y1,r=e.x2,a=e.y2,l=e.type,c=this.w,h=new fe(this.ctx),d=c.globals.barPadForNumericAxis,f=c.config.grid[l].colors[t],p=h.drawRect(n-(l==="row"?d:0),s,r+(l==="row"?2*d:0),a,0,f,c.config.grid[l].opacity);this.elg.add(p),p.attr("clip-path","url(#gridRectMask".concat(c.globals.cuid,")")),p.node.classList.add("apexcharts-grid-".concat(l))}},{key:"_drawXYLines",value:function(e){var t=this,n=e.xCount,s=e.tickAmount,r=this.w;if(r.config.grid.xaxis.lines.show||r.config.xaxis.axisTicks.show){var a,l=r.globals.padHorizontal,c=r.globals.gridHeight;r.globals.timescaleLabels.length?function(b){for(var x=b.xC,_=b.x1,S=b.y1,T=b.x2,C=b.y2,M=0;M<x;M++)_=t.xaxisLabels[M].position,T=t.xaxisLabels[M].position,t._drawGridLines({i:M,x1:_,y1:S,x2:T,y2:C,xCount:n,parent:t.elgridLinesV})}({xC:n,x1:l,y1:0,x2:a,y2:c}):(r.globals.isXNumeric&&(n=r.globals.xAxisScale.result.length),function(b){for(var x=b.xC,_=b.x1,S=b.y1,T=b.x2,C=b.y2,M=0;M<x+(r.globals.isXNumeric?0:1);M++)M===0&&x===1&&r.globals.dataPoints===1&&(T=_=r.globals.gridWidth/2),t._drawGridLines({i:M,x1:_,y1:S,x2:T,y2:C,xCount:n,parent:t.elgridLinesV}),T=_+=r.globals.gridWidth/(r.globals.isXNumeric?x-1:x)}({xC:n,x1:l,y1:0,x2:a,y2:c}))}if(r.config.grid.yaxis.lines.show){var h=0,d=0,f=r.globals.gridWidth,p=s+1;this.isRangeBar&&(p=r.globals.labels.length);for(var y=0;y<p+(this.isRangeBar?1:0);y++)this._drawGridLine({i:y,xCount:p+(this.isRangeBar?1:0),x1:0,y1:h,x2:f,y2:d,parent:this.elgridLinesH}),d=h+=r.globals.gridHeight/(this.isRangeBar?p:s)}}},{key:"_drawInvertedXYLines",value:function(e){var t=e.xCount,n=this.w;if(n.config.grid.xaxis.lines.show||n.config.xaxis.axisTicks.show)for(var s,r=n.globals.padHorizontal,a=n.globals.gridHeight,l=0;l<t+1;l++)n.config.grid.xaxis.lines.show&&this._drawGridLine({i:l,xCount:t+1,x1:r,y1:0,x2:s,y2:a,parent:this.elgridLinesV}),new Pf(this.ctx).drawXaxisTicks(r,0,n.globals.dom.elGraphical),s=r+=n.globals.gridWidth/t;if(n.config.grid.yaxis.lines.show)for(var c=0,h=0,d=n.globals.gridWidth,f=0;f<n.globals.dataPoints+1;f++)this._drawGridLine({i:f,xCount:n.globals.dataPoints+1,x1:0,y1:c,x2:d,y2:h,parent:this.elgridLinesH}),h=c+=n.globals.gridHeight/n.globals.dataPoints}},{key:"renderGrid",value:function(){var e=this.w,t=e.globals,n=new fe(this.ctx);this.elg=n.group({class:"apexcharts-grid"}),this.elgridLinesH=n.group({class:"apexcharts-gridlines-horizontal"}),this.elgridLinesV=n.group({class:"apexcharts-gridlines-vertical"}),this.elGridBorders=n.group({class:"apexcharts-grid-borders"}),this.elg.add(this.elgridLinesH),this.elg.add(this.elgridLinesV),e.config.grid.show||(this.elgridLinesV.hide(),this.elgridLinesH.hide(),this.elGridBorders.hide());for(var s=0;s<t.seriesYAxisMap.length&&t.ignoreYAxisIndexes.includes(s);)s++;s===t.seriesYAxisMap.length&&(s=0);var r,a=t.yAxisScale[s].result.length-1;if(!t.isBarHorizontal||this.isRangeBar){var l,c,h;r=this.xaxisLabels.length,this.isRangeBar&&(a=t.labels.length,e.config.xaxis.tickAmount&&e.config.xaxis.labels.formatter&&(r=e.config.xaxis.tickAmount),((l=t.yAxisScale)===null||l===void 0||(c=l[s])===null||c===void 0||(h=c.result)===null||h===void 0?void 0:h.length)>0&&e.config.xaxis.type!=="datetime"&&(r=t.yAxisScale[s].result.length-1)),this._drawXYLines({xCount:r,tickAmount:a})}else r=a,a=t.xTickAmount,this._drawInvertedXYLines({xCount:r,tickAmount:a});return this.drawGridBands(r,a),{el:this.elg,elGridBorders:this.elGridBorders,xAxisTickWidth:t.gridWidth/r}}},{key:"drawGridBands",value:function(e,t){var n,s,r=this,a=this.w;if(((n=a.config.grid.row.colors)===null||n===void 0?void 0:n.length)>0&&function(b,x,_,S,T,C){for(var M=0,R=0;M<x;M++,R++)R>=a.config.grid[b].colors.length&&(R=0),r._drawGridBandRect({c:R,x1:_,y1:S,x2:T,y2:C,type:b}),S+=a.globals.gridHeight/t}("row",t,0,0,a.globals.gridWidth,a.globals.gridHeight/t),((s=a.config.grid.column.colors)===null||s===void 0?void 0:s.length)>0){var l=a.globals.isBarHorizontal||a.config.xaxis.tickPlacement!=="on"||a.config.xaxis.type!=="category"&&!a.config.xaxis.convertedCatToNumeric?e:e-1;a.globals.isXNumeric&&(l=a.globals.xAxisScale.result.length-1);for(var c=a.globals.padHorizontal,h=a.globals.padHorizontal+a.globals.gridWidth/l,d=a.globals.gridHeight,f=0,p=0;f<e;f++,p++){var y;p>=a.config.grid.column.colors.length&&(p=0),a.config.xaxis.type==="datetime"&&(c=this.xaxisLabels[f].position,h=(((y=this.xaxisLabels[f+1])===null||y===void 0?void 0:y.position)||a.globals.gridWidth)-this.xaxisLabels[f].position),this._drawGridBandRect({c:p,x1:c,y1:0,x2:h,y2:d,type:"column"}),c+=a.globals.gridWidth/l}}}}]),i}(),_F=function(){function i(e){Ce(this,i),this.ctx=e,this.w=e.w,this.coreUtils=new Mn(this.ctx)}return ke(i,[{key:"niceScale",value:function(e,t){var n,s,r,a,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,c=1e-11,h=this.w,d=h.globals;d.isBarHorizontal?(n=h.config.xaxis,s=Math.max((d.svgWidth-100)/25,2)):(n=h.config.yaxis[l],s=Math.max((d.svgHeight-100)/15,2)),q.isNumber(s)||(s=10),r=n.min!==void 0&&n.min!==null,a=n.max!==void 0&&n.min!==null;var f=n.stepSize!==void 0&&n.stepSize!==null,p=n.tickAmount!==void 0&&n.tickAmount!==null,y=p?n.tickAmount:d.niceScaleDefaultTicks[Math.min(Math.round(s/2),d.niceScaleDefaultTicks.length-1)];if(d.isMultipleYAxis&&!p&&d.multiAxisTickAmount>0&&(y=d.multiAxisTickAmount,p=!0),y=y==="dataPoints"?d.dataPoints-1:Math.abs(Math.round(y)),(e===Number.MIN_VALUE&&t===0||!q.isNumber(e)&&!q.isNumber(t)||e===Number.MIN_VALUE&&t===-Number.MAX_VALUE)&&(e=q.isNumber(n.min)?n.min:0,t=q.isNumber(n.max)?n.max:e+y,d.allSeriesCollapsed=!1),e>t){console.warn("axis.min cannot be greater than axis.max: swapping min and max");var b=t;t=e,e=b}else e===t&&(e=e===0?0:e-1,t=t===0?2:t+1);var x=[];y<1&&(y=1);var _=y,S=Math.abs(t-e);!r&&e>0&&e/S<.15&&(e=0,r=!0),!a&&t<0&&-t/S<.15&&(t=0,a=!0);var T=(S=Math.abs(t-e))/_,C=T,M=Math.floor(Math.log10(C)),R=Math.pow(10,M),P=Math.ceil(C/R);if(T=C=(P=d.niceScaleAllowedMagMsd[d.yValueDecimal===0?0:1][P])*R,d.isBarHorizontal&&n.stepSize&&n.type!=="datetime"?(T=n.stepSize,f=!0):f&&(T=n.stepSize),f&&n.forceNiceScale){var k=Math.floor(Math.log10(T));T*=Math.pow(10,M-k)}if(r&&a){var E=S/_;if(p)if(f)if(q.mod(S,T)!=0){var D=q.getGCD(T,E);T=E/D<10?D:E}else q.mod(T,E)==0?T=E:(E=T,p=!1);else T=E;else if(f)q.mod(S,T)==0?E=T:T=E;else if(q.mod(S,T)==0)E=T;else{E=S/(_=Math.ceil(S/T));var O=q.getGCD(S,T);S/O<s&&(E=O),T=E}_=Math.round(S/T)}else{if(r||a){if(a)if(p)e=t-T*_;else{var F=e;e=T*Math.floor(e/T),Math.abs(t-e)/q.getGCD(S,T)>s&&(e=t-T*y,e+=T*Math.floor((F-e)/T))}else if(r)if(p)t=e+T*_;else{var H=t;t=T*Math.ceil(t/T),Math.abs(t-e)/q.getGCD(S,T)>s&&(t=e+T*y,t+=T*Math.ceil((H-t)/T))}}else if(d.isMultipleYAxis&&p){var B=T*Math.floor(e/T),K=B+T*_;K<t&&(T*=2),K=t,t=(e=B)+T*_,S=Math.abs(t-e),e>0&&e<Math.abs(K-t)&&(e=0,t=T*_),t<0&&-t<Math.abs(B-e)&&(t=0,e=-T*_)}else e=T*Math.floor(e/T),t=T*Math.ceil(t/T);S=Math.abs(t-e),T=q.getGCD(S,T),_=Math.round(S/T)}if(p||r||a||(_=Math.ceil((S-c)/(T+c)))>16&&q.getPrimeFactors(_).length<2&&_++,!p&&n.forceNiceScale&&d.yValueDecimal===0&&_>S&&(_=S,T=Math.round(S/_)),_>s&&(!p&&!f||n.forceNiceScale)){var ne=q.getPrimeFactors(_),X=ne.length-1,G=_;e:for(var ee=0;ee<X;ee++)for(var ue=0;ue<=X-ee;ue++){for(var le=Math.min(ue+ee,X),me=G,ae=1,ye=ue;ye<=le;ye++)ae*=ne[ye];if((me/=ae)<s){G=me;break e}}T=G===_?S:S/G,_=Math.round(S/T)}d.isMultipleYAxis&&d.multiAxisTickAmount==0&&d.ignoreYAxisIndexes.indexOf(l)<0&&(d.multiAxisTickAmount=_);var _e=e-T,Pe=T*c;do _e+=T,x.push(q.stripNumber(_e,7));while(t-_e>Pe);return{result:x,niceMin:x[0],niceMax:x[x.length-1]}}},{key:"linearScale",value:function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:void 0,a=Math.abs(t-e),l=[];if(e===t)return{result:l=[e],niceMin:l[0],niceMax:l[l.length-1]};(n=this._adjustTicksForSmallRange(n,s,a))==="dataPoints"&&(n=this.w.globals.dataPoints-1),r||(r=a/n),r=Math.round(100*(r+Number.EPSILON))/100,n===Number.MAX_VALUE&&(n=5,r=1);for(var c=e;n>=0;)l.push(c),c=q.preciseAddition(c,r),n-=1;return{result:l,niceMin:l[0],niceMax:l[l.length-1]}}},{key:"logarithmicScaleNice",value:function(e,t,n){t<=0&&(t=Math.max(e,n)),e<=0&&(e=Math.min(t,n));for(var s=[],r=Math.ceil(Math.log(t)/Math.log(n)+1),a=Math.floor(Math.log(e)/Math.log(n));a<r;a++)s.push(Math.pow(n,a));return{result:s,niceMin:s[0],niceMax:s[s.length-1]}}},{key:"logarithmicScale",value:function(e,t,n){t<=0&&(t=Math.max(e,n)),e<=0&&(e=Math.min(t,n));for(var s=[],r=Math.log(t)/Math.log(n),a=Math.log(e)/Math.log(n),l=r-a,c=Math.round(l),h=l/c,d=0,f=a;d<c;d++,f+=h)s.push(Math.pow(n,f));return s.push(Math.pow(n,r)),{result:s,niceMin:e,niceMax:t}}},{key:"_adjustTicksForSmallRange",value:function(e,t,n){var s=e;if(t!==void 0&&this.w.config.yaxis[t].labels.formatter&&this.w.config.yaxis[t].tickAmount===void 0){var r=Number(this.w.config.yaxis[t].labels.formatter(1));q.isNumber(r)&&this.w.globals.yValueDecimal===0&&(s=Math.ceil(n))}return s<e?s:e}},{key:"setYScaleForIndex",value:function(e,t,n){var s=this.w.globals,r=this.w.config,a=s.isBarHorizontal?r.xaxis:r.yaxis[e];s.yAxisScale[e]===void 0&&(s.yAxisScale[e]=[]);var l=Math.abs(n-t);a.logarithmic&&l<=5&&(s.invalidLogScale=!0),a.logarithmic&&l>5?(s.allSeriesCollapsed=!1,s.yAxisScale[e]=a.forceNiceScale?this.logarithmicScaleNice(t,n,a.logBase):this.logarithmicScale(t,n,a.logBase)):n!==-Number.MAX_VALUE&&q.isNumber(n)&&t!==Number.MAX_VALUE&&q.isNumber(t)?(s.allSeriesCollapsed=!1,s.yAxisScale[e]=this.niceScale(t,n,e)):s.yAxisScale[e]=this.niceScale(Number.MIN_VALUE,0,e)}},{key:"setXScale",value:function(e,t){var n=this.w,s=n.globals;if(t!==-Number.MAX_VALUE&&q.isNumber(t)){var r=s.xTickAmount;s.xAxisScale=this.linearScale(e,t,r,0,n.config.xaxis.max===void 0?n.config.xaxis.stepSize:void 0)}else s.xAxisScale=this.linearScale(0,10,10);return s.xAxisScale}},{key:"scaleMultipleYAxes",value:function(){var e=this,t=this.w.config,n=this.w.globals;this.coreUtils.setSeriesYAxisMappings();var s=n.seriesYAxisMap,r=n.minYArr,a=n.maxYArr;n.allSeriesCollapsed=!0,n.barGroups=[],s.forEach(function(l,c){var h=[];l.forEach(function(d){var f,p=(f=t.series[d])===null||f===void 0?void 0:f.group;h.indexOf(p)<0&&h.push(p)}),l.length>0?function(){var d,f,p=Number.MAX_VALUE,y=-Number.MAX_VALUE,b=p,x=y;if(t.chart.stacked)(function(){var T=new Array(n.dataPoints).fill(0),C=[],M=[],R=[];h.forEach(function(){C.push(T.map(function(){return Number.MIN_VALUE})),M.push(T.map(function(){return Number.MIN_VALUE})),R.push(T.map(function(){return Number.MIN_VALUE}))});for(var P=function(E){!d&&t.series[l[E]].type&&(d=t.series[l[E]].type);var D=l[E];f=t.series[D].group?t.series[D].group:"axis-".concat(c),!(n.collapsedSeriesIndices.indexOf(D)<0&&n.ancillaryCollapsedSeriesIndices.indexOf(D)<0)||(n.allSeriesCollapsed=!1,h.forEach(function(O,F){if(t.series[D].group===O)for(var H=0;H<n.series[D].length;H++){var B=n.series[D][H];B>=0?M[F][H]+=B:R[F][H]+=B,C[F][H]+=B,b=Math.min(b,B),x=Math.max(x,B)}})),d!=="bar"&&d!=="column"||n.barGroups.push(f)},k=0;k<l.length;k++)P(k);d||(d=t.chart.type),d==="bar"||d==="column"?h.forEach(function(E,D){p=Math.min(p,Math.min.apply(null,R[D])),y=Math.max(y,Math.max.apply(null,M[D]))}):(h.forEach(function(E,D){b=Math.min(b,Math.min.apply(null,C[D])),x=Math.max(x,Math.max.apply(null,C[D]))}),p=b,y=x),p===Number.MIN_VALUE&&y===Number.MIN_VALUE&&(y=-Number.MAX_VALUE)})();else for(var _=0;_<l.length;_++){var S=l[_];p=Math.min(p,r[S]),y=Math.max(y,a[S]),!(n.collapsedSeriesIndices.indexOf(S)<0&&n.ancillaryCollapsedSeriesIndices.indexOf(S)<0)||(n.allSeriesCollapsed=!1)}t.yaxis[c].min!==void 0&&(p=typeof t.yaxis[c].min=="function"?t.yaxis[c].min(p):t.yaxis[c].min),t.yaxis[c].max!==void 0&&(y=typeof t.yaxis[c].max=="function"?t.yaxis[c].max(y):t.yaxis[c].max),n.barGroups=n.barGroups.filter(function(T,C,M){return M.indexOf(T)===C}),e.setYScaleForIndex(c,p,y),l.forEach(function(T){r[T]=n.yAxisScale[c].niceMin,a[T]=n.yAxisScale[c].niceMax})}():e.setYScaleForIndex(c,0,-Number.MAX_VALUE)})}}]),i}(),r_=function(){function i(e){Ce(this,i),this.ctx=e,this.w=e.w,this.scales=new _F(e)}return ke(i,[{key:"init",value:function(){this.setYRange(),this.setXRange(),this.setZRange()}},{key:"getMinYMaxY",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-Number.MAX_VALUE,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,r=this.w.config,a=this.w.globals,l=-Number.MAX_VALUE,c=Number.MIN_VALUE;s===null&&(s=e+1);var h=a.series,d=h,f=h;r.chart.type==="candlestick"?(d=a.seriesCandleL,f=a.seriesCandleH):r.chart.type==="boxPlot"?(d=a.seriesCandleO,f=a.seriesCandleC):a.isRangeData&&(d=a.seriesRangeStart,f=a.seriesRangeEnd);var p=!1;if(a.seriesX.length>=s){var y,b=(y=a.brushSource)===null||y===void 0?void 0:y.w.config.chart.brush;(r.chart.zoom.enabled&&r.chart.zoom.autoScaleYaxis||b!=null&&b.enabled&&b!=null&&b.autoScaleYaxis)&&(p=!0)}for(var x=e;x<s;x++){a.dataPoints=Math.max(a.dataPoints,h[x].length);var _=r.series[x].type;a.categoryLabels.length&&(a.dataPoints=a.categoryLabels.filter(function(D){return D!==void 0}).length),a.labels.length&&r.xaxis.type!=="datetime"&&a.series.reduce(function(D,O){return D+O.length},0)!==0&&(a.dataPoints=Math.max(a.dataPoints,a.labels.length));var S=0,T=h[x].length-1;if(p){if(r.xaxis.min)for(;S<T&&a.seriesX[x][S]<r.xaxis.min;S++);if(r.xaxis.max)for(;T>S&&a.seriesX[x][T]>r.xaxis.max;T--);}for(var C=S;C<=T&&C<a.series[x].length;C++){var M=h[x][C];if(M!==null&&q.isNumber(M)){var R,P,k,E;switch(((R=f[x])===null||R===void 0?void 0:R[C])!==void 0&&(l=Math.max(l,f[x][C]),t=Math.min(t,f[x][C])),((P=d[x])===null||P===void 0?void 0:P[C])!==void 0&&(t=Math.min(t,d[x][C]),n=Math.max(n,d[x][C])),_){case"candlestick":a.seriesCandleC[x][C]!==void 0&&(l=Math.max(l,a.seriesCandleH[x][C]),t=Math.min(t,a.seriesCandleL[x][C]));break;case"boxPlot":a.seriesCandleC[x][C]!==void 0&&(l=Math.max(l,a.seriesCandleC[x][C]),t=Math.min(t,a.seriesCandleO[x][C]))}_&&_!=="candlestick"&&_!=="boxPlot"&&_!=="rangeArea"&&_!=="rangeBar"&&(l=Math.max(l,a.series[x][C]),t=Math.min(t,a.series[x][C])),a.seriesGoals[x]&&a.seriesGoals[x][C]&&Array.isArray(a.seriesGoals[x][C])&&a.seriesGoals[x][C].forEach(function(D){l=Math.max(l,D.value),t=Math.min(t,D.value)}),n=l,M=q.noExponents(M),q.isFloat(M)&&(a.yValueDecimal=Math.max(a.yValueDecimal,M.toString().split(".")[1].length)),c>((k=d[x])===null||k===void 0?void 0:k[C])&&((E=d[x])===null||E===void 0?void 0:E[C])<0&&(c=d[x][C])}else a.hasNullValues=!0}_!=="bar"&&_!=="column"||(c<0&&l<0&&(l=0,n=Math.max(n,0)),c===Number.MIN_VALUE&&(c=0,t=Math.min(t,0)))}return r.chart.type==="rangeBar"&&a.seriesRangeStart.length&&a.isBarHorizontal&&(c=t),r.chart.type==="bar"&&(c<0&&l<0&&(l=0),c===Number.MIN_VALUE&&(c=0)),{minY:c,maxY:l,lowestY:t,highestY:n}}},{key:"setYRange",value:function(){var e=this.w.globals,t=this.w.config;e.maxY=-Number.MAX_VALUE,e.minY=Number.MIN_VALUE;var n,s=Number.MAX_VALUE;if(e.isMultipleYAxis){s=Number.MAX_VALUE;for(var r=0;r<e.series.length;r++)n=this.getMinYMaxY(r),e.minYArr[r]=n.lowestY,e.maxYArr[r]=n.highestY,s=Math.min(s,n.lowestY)}return n=this.getMinYMaxY(0,s,null,e.series.length),t.chart.type==="bar"?(e.minY=n.minY,e.maxY=n.maxY):(e.minY=n.lowestY,e.maxY=n.highestY),s=n.lowestY,t.chart.stacked&&this._setStackedMinMax(),t.chart.type==="line"||t.chart.type==="area"||t.chart.type==="scatter"||t.chart.type==="candlestick"||t.chart.type==="boxPlot"||t.chart.type==="rangeBar"&&!e.isBarHorizontal?e.minY===Number.MIN_VALUE&&s!==-Number.MAX_VALUE&&s!==e.maxY&&(e.minY=s):e.minY=e.minY!==Number.MIN_VALUE?Math.min(n.minY,e.minY):n.minY,t.yaxis.forEach(function(a,l){a.max!==void 0&&(typeof a.max=="number"?e.maxYArr[l]=a.max:typeof a.max=="function"&&(e.maxYArr[l]=a.max(e.isMultipleYAxis?e.maxYArr[l]:e.maxY)),e.maxY=e.maxYArr[l]),a.min!==void 0&&(typeof a.min=="number"?e.minYArr[l]=a.min:typeof a.min=="function"&&(e.minYArr[l]=a.min(e.isMultipleYAxis?e.minYArr[l]===Number.MIN_VALUE?0:e.minYArr[l]:e.minY)),e.minY=e.minYArr[l])}),e.isBarHorizontal&&["min","max"].forEach(function(a){t.xaxis[a]!==void 0&&typeof t.xaxis[a]=="number"&&(a==="min"?e.minY=t.xaxis[a]:e.maxY=t.xaxis[a])}),e.isMultipleYAxis?(this.scales.scaleMultipleYAxes(),e.minY=s):(this.scales.setYScaleForIndex(0,e.minY,e.maxY),e.minY=e.yAxisScale[0].niceMin,e.maxY=e.yAxisScale[0].niceMax,e.minYArr[0]=e.minY,e.maxYArr[0]=e.maxY),e.barGroups=[],e.lineGroups=[],e.areaGroups=[],t.series.forEach(function(a){switch(a.type||t.chart.type){case"bar":case"column":e.barGroups.push(a.group);break;case"line":e.lineGroups.push(a.group);break;case"area":e.areaGroups.push(a.group)}}),e.barGroups=e.barGroups.filter(function(a,l,c){return c.indexOf(a)===l}),e.lineGroups=e.lineGroups.filter(function(a,l,c){return c.indexOf(a)===l}),e.areaGroups=e.areaGroups.filter(function(a,l,c){return c.indexOf(a)===l}),{minY:e.minY,maxY:e.maxY,minYArr:e.minYArr,maxYArr:e.maxYArr,yAxisScale:e.yAxisScale}}},{key:"setXRange",value:function(){var e=this.w.globals,t=this.w.config,n=t.xaxis.type==="numeric"||t.xaxis.type==="datetime"||t.xaxis.type==="category"&&!e.noLabelsProvided||e.noLabelsProvided||e.isXNumeric;if(e.isXNumeric&&function(){for(var c=0;c<e.series.length;c++)if(e.labels[c])for(var h=0;h<e.labels[c].length;h++)e.labels[c][h]!==null&&q.isNumber(e.labels[c][h])&&(e.maxX=Math.max(e.maxX,e.labels[c][h]),e.initialMaxX=Math.max(e.maxX,e.labels[c][h]),e.minX=Math.min(e.minX,e.labels[c][h]),e.initialMinX=Math.min(e.minX,e.labels[c][h]))}(),e.noLabelsProvided&&t.xaxis.categories.length===0&&(e.maxX=e.labels[e.labels.length-1],e.initialMaxX=e.labels[e.labels.length-1],e.minX=1,e.initialMinX=1),e.isXNumeric||e.noLabelsProvided||e.dataFormatXNumeric){var s=10;if(t.xaxis.tickAmount===void 0)s=Math.round(e.svgWidth/150),t.xaxis.type==="numeric"&&e.dataPoints<30&&(s=e.dataPoints-1),s>e.dataPoints&&e.dataPoints!==0&&(s=e.dataPoints-1);else if(t.xaxis.tickAmount==="dataPoints"){if(e.series.length>1&&(s=e.series[e.maxValsInArrayIndex].length-1),e.isXNumeric){var r=Math.round(e.maxX-e.minX);r<30&&(s=r)}}else s=t.xaxis.tickAmount;if(e.xTickAmount=s,t.xaxis.max!==void 0&&typeof t.xaxis.max=="number"&&(e.maxX=t.xaxis.max),t.xaxis.min!==void 0&&typeof t.xaxis.min=="number"&&(e.minX=t.xaxis.min),t.xaxis.range!==void 0&&(e.minX=e.maxX-t.xaxis.range),e.minX!==Number.MAX_VALUE&&e.maxX!==-Number.MAX_VALUE)if(t.xaxis.convertedCatToNumeric&&!e.dataFormatXNumeric){for(var a=[],l=e.minX-1;l<e.maxX;l++)a.push(l+1);e.xAxisScale={result:a,niceMin:a[0],niceMax:a[a.length-1]}}else e.xAxisScale=this.scales.setXScale(e.minX,e.maxX);else e.xAxisScale=this.scales.linearScale(0,s,s,0,t.xaxis.stepSize),e.noLabelsProvided&&e.labels.length>0&&(e.xAxisScale=this.scales.linearScale(1,e.labels.length,s-1,0,t.xaxis.stepSize),e.seriesX=e.labels.slice());n&&(e.labels=e.xAxisScale.result.slice())}return e.isBarHorizontal&&e.labels.length&&(e.xTickAmount=e.labels.length),this._handleSingleDataPoint(),this._getMinXDiff(),{minX:e.minX,maxX:e.maxX}}},{key:"setZRange",value:function(){var e=this.w.globals;if(e.isDataXYZ){for(var t=0;t<e.series.length;t++)if(e.seriesZ[t]!==void 0)for(var n=0;n<e.seriesZ[t].length;n++)e.seriesZ[t][n]!==null&&q.isNumber(e.seriesZ[t][n])&&(e.maxZ=Math.max(e.maxZ,e.seriesZ[t][n]),e.minZ=Math.min(e.minZ,e.seriesZ[t][n]))}}},{key:"_handleSingleDataPoint",value:function(){var e=this.w.globals,t=this.w.config;if(e.minX===e.maxX){var n=new mi(this.ctx);if(t.xaxis.type==="datetime"){var s=n.getDate(e.minX);t.xaxis.labels.datetimeUTC?s.setUTCDate(s.getUTCDate()-2):s.setDate(s.getDate()-2),e.minX=new Date(s).getTime();var r=n.getDate(e.maxX);t.xaxis.labels.datetimeUTC?r.setUTCDate(r.getUTCDate()+2):r.setDate(r.getDate()+2),e.maxX=new Date(r).getTime()}else(t.xaxis.type==="numeric"||t.xaxis.type==="category"&&!e.noLabelsProvided)&&(e.minX=e.minX-2,e.initialMinX=e.minX,e.maxX=e.maxX+2,e.initialMaxX=e.maxX)}}},{key:"_getMinXDiff",value:function(){var e=this.w.globals;e.isXNumeric&&e.seriesX.forEach(function(t,n){if(t.length){t.length===1&&t.push(e.seriesX[e.maxValsInArrayIndex][e.seriesX[e.maxValsInArrayIndex].length-1]);var s=t.slice();s.sort(function(r,a){return r-a}),s.forEach(function(r,a){if(a>0){var l=r-s[a-1];l>0&&(e.minXDiff=Math.min(l,e.minXDiff))}}),e.dataPoints!==1&&e.minXDiff!==Number.MAX_VALUE||(e.minXDiff=.5)}})}},{key:"_setStackedMinMax",value:function(){var e=this,t=this.w.globals;if(t.series.length){var n=t.seriesGroups;n.length||(n=[this.w.globals.seriesNames.map(function(a){return a})]);var s={},r={};n.forEach(function(a){s[a]=[],r[a]=[],e.w.config.series.map(function(l,c){return a.indexOf(t.seriesNames[c])>-1?c:null}).filter(function(l){return l!==null}).forEach(function(l){for(var c=0;c<t.series[t.maxValsInArrayIndex].length;c++){var h,d,f,p;s[a][c]===void 0&&(s[a][c]=0,r[a][c]=0),(e.w.config.chart.stacked&&!t.comboCharts||e.w.config.chart.stacked&&t.comboCharts&&(!e.w.config.chart.stackOnlyBar||((h=e.w.config.series)===null||h===void 0||(d=h[l])===null||d===void 0?void 0:d.type)==="bar"||((f=e.w.config.series)===null||f===void 0||(p=f[l])===null||p===void 0?void 0:p.type)==="column"))&&t.series[l][c]!==null&&q.isNumber(t.series[l][c])&&(t.series[l][c]>0?s[a][c]+=parseFloat(t.series[l][c])+1e-4:r[a][c]+=parseFloat(t.series[l][c]))}})}),Object.entries(s).forEach(function(a){var l=UV(a,1)[0];s[l].forEach(function(c,h){t.maxY=Math.max(t.maxY,s[l][h]),t.minY=Math.min(t.minY,r[l][h])})})}}}]),i}(),ZS=function(){function i(e,t){Ce(this,i),this.ctx=e,this.elgrid=t,this.w=e.w;var n=this.w;this.xaxisFontSize=n.config.xaxis.labels.style.fontSize,this.axisFontFamily=n.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=n.config.xaxis.labels.style.colors,this.isCategoryBarHorizontal=n.config.chart.type==="bar"&&n.config.plotOptions.bar.horizontal,this.xAxisoffX=n.config.xaxis.position==="bottom"?n.globals.gridHeight:0,this.drawnLabels=[],this.axesUtils=new qo(e)}return ke(i,[{key:"drawYaxis",value:function(e){var t=this.w,n=new fe(this.ctx),s=t.config.yaxis[e].labels.style,r=s.fontSize,a=s.fontFamily,l=s.fontWeight,c=n.group({class:"apexcharts-yaxis",rel:e,transform:"translate(".concat(t.globals.translateYAxisX[e],", 0)")});if(this.axesUtils.isYAxisHidden(e))return c;var h=n.group({class:"apexcharts-yaxis-texts-g"});c.add(h);var d=t.globals.yAxisScale[e].result.length-1,f=t.globals.gridHeight/d,p=t.globals.yLabelFormatters[e],y=this.axesUtils.checkForReversedLabels(e,t.globals.yAxisScale[e].result.slice());if(t.config.yaxis[e].labels.show){var b=t.globals.translateY+t.config.yaxis[e].labels.offsetY;t.globals.isBarHorizontal?b=0:t.config.chart.type==="heatmap"&&(b-=f/2),b+=parseInt(r,10)/3;for(var x=d;x>=0;x--){var _=p(y[x],x,t),S=t.config.yaxis[e].labels.padding;t.config.yaxis[e].opposite&&t.config.yaxis.length!==0&&(S*=-1);var T=this.getTextAnchor(t.config.yaxis[e].labels.align,t.config.yaxis[e].opposite),C=this.axesUtils.getYAxisForeColor(s.colors,e),M=Array.isArray(C)?C[x]:C,R=q.listToArray(t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(e,"'] .apexcharts-yaxis-label tspan"))).map(function(k){return k.textContent}),P=n.drawText({x:S,y:b,text:R.includes(_)&&!t.config.yaxis[e].labels.showDuplicates?"":_,textAnchor:T,fontSize:r,fontFamily:a,fontWeight:l,maxWidth:t.config.yaxis[e].labels.maxWidth,foreColor:M,isPlainText:!1,cssClass:"apexcharts-yaxis-label ".concat(s.cssClass)});h.add(P),this.addTooltip(P,_),t.config.yaxis[e].labels.rotate!==0&&this.rotateLabel(n,P,firstLabel,t.config.yaxis[e].labels.rotate),b+=f}}return this.addYAxisTitle(n,c,e),this.addAxisBorder(n,c,e,d,f),c}},{key:"getTextAnchor",value:function(e,t){return e==="left"?"start":e==="center"?"middle":e==="right"?"end":t?"start":"end"}},{key:"addTooltip",value:function(e,t){var n=document.createElementNS(this.w.globals.SVGNS,"title");n.textContent=Array.isArray(t)?t.join(" "):t,e.node.appendChild(n)}},{key:"rotateLabel",value:function(e,t,n,s){var r=e.rotateAroundCenter(n.node),a=e.rotateAroundCenter(t.node);t.node.setAttribute("transform","rotate(".concat(s," ").concat(r.x," ").concat(a.y,")"))}},{key:"addYAxisTitle",value:function(e,t,n){var s=this.w;if(s.config.yaxis[n].title.text!==void 0){var r=e.group({class:"apexcharts-yaxis-title"}),a=s.config.yaxis[n].opposite?s.globals.translateYAxisX[n]:0,l=e.drawText({x:a,y:s.globals.gridHeight/2+s.globals.translateY+s.config.yaxis[n].title.offsetY,text:s.config.yaxis[n].title.text,textAnchor:"end",foreColor:s.config.yaxis[n].title.style.color,fontSize:s.config.yaxis[n].title.style.fontSize,fontWeight:s.config.yaxis[n].title.style.fontWeight,fontFamily:s.config.yaxis[n].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text ".concat(s.config.yaxis[n].title.style.cssClass)});r.add(l),t.add(r)}}},{key:"addAxisBorder",value:function(e,t,n,s,r){var a=this.w,l=a.config.yaxis[n].axisBorder,c=31+l.offsetX;if(a.config.yaxis[n].opposite&&(c=-31-l.offsetX),l.show){var h=e.drawLine(c,a.globals.translateY+l.offsetY-2,c,a.globals.gridHeight+a.globals.translateY+l.offsetY+2,l.color,0,l.width);t.add(h)}a.config.yaxis[n].axisTicks.show&&this.axesUtils.drawYAxisTicks(c,s,l,a.config.yaxis[n].axisTicks,n,r,t)}},{key:"drawYaxisInversed",value:function(e){var t=this.w,n=new fe(this.ctx),s=n.group({class:"apexcharts-xaxis apexcharts-yaxis-inversed"}),r=n.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(t.globals.translateXAxisX,", ").concat(t.globals.translateXAxisY,")")});s.add(r);var a=t.globals.yAxisScale[e].result.length-1,l=t.globals.gridWidth/a+.1,c=l+t.config.xaxis.labels.offsetX,h=t.globals.xLabelFormatter,d=this.axesUtils.checkForReversedLabels(e,t.globals.yAxisScale[e].result.slice()),f=t.globals.timescaleLabels;if(f.length>0&&(this.xaxisLabels=f.slice(),a=(d=f.slice()).length),t.config.xaxis.labels.show)for(var p=f.length?0:a;f.length?p<f.length:p>=0;f.length?p++:p--){var y=h(d[p],p,t),b=t.globals.gridWidth+t.globals.padHorizontal-(c-l+t.config.xaxis.labels.offsetX);if(f.length){var x=this.axesUtils.getLabel(d,f,b,p,this.drawnLabels,this.xaxisFontSize);b=x.x,y=x.text,this.drawnLabels.push(x.text),p===0&&t.globals.skipFirstTimelinelabel&&(y=""),p===d.length-1&&t.globals.skipLastTimelinelabel&&(y="")}var _=n.drawText({x:b,y:this.xAxisoffX+t.config.xaxis.labels.offsetY+30-(t.config.xaxis.position==="top"?t.globals.xAxisHeight+t.config.xaxis.axisTicks.height-2:0),text:y,textAnchor:"middle",foreColor:Array.isArray(this.xaxisForeColors)?this.xaxisForeColors[e]:this.xaxisForeColors,fontSize:this.xaxisFontSize,fontFamily:this.xaxisFontFamily,fontWeight:t.config.xaxis.labels.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-xaxis-label ".concat(t.config.xaxis.labels.style.cssClass)});r.add(_),_.tspan(y),this.addTooltip(_,y),c+=l}return this.inversedYAxisTitleText(s),this.inversedYAxisBorder(s),s}},{key:"inversedYAxisBorder",value:function(e){var t=this.w,n=new fe(this.ctx),s=t.config.xaxis.axisBorder;if(s.show){var r=0;t.config.chart.type==="bar"&&t.globals.isXNumeric&&(r-=15);var a=n.drawLine(t.globals.padHorizontal+r+s.offsetX,this.xAxisoffX,t.globals.gridWidth,this.xAxisoffX,s.color,0,s.height);this.elgrid&&this.elgrid.elGridBorders&&t.config.grid.show?this.elgrid.elGridBorders.add(a):e.add(a)}}},{key:"inversedYAxisTitleText",value:function(e){var t=this.w,n=new fe(this.ctx);if(t.config.xaxis.title.text!==void 0){var s=n.group({class:"apexcharts-xaxis-title apexcharts-yaxis-title-inversed"}),r=n.drawText({x:t.globals.gridWidth/2+t.config.xaxis.title.offsetX,y:this.xAxisoffX+parseFloat(this.xaxisFontSize)+parseFloat(t.config.xaxis.title.style.fontSize)+t.config.xaxis.title.offsetY+20,text:t.config.xaxis.title.text,textAnchor:"middle",fontSize:t.config.xaxis.title.style.fontSize,fontFamily:t.config.xaxis.title.style.fontFamily,fontWeight:t.config.xaxis.title.style.fontWeight,foreColor:t.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text ".concat(t.config.xaxis.title.style.cssClass)});s.add(r),e.add(s)}}},{key:"yAxisTitleRotate",value:function(e,t){var n=this.w,s=new fe(this.ctx),r=n.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(e,"'] .apexcharts-yaxis-texts-g")),a=r?r.getBoundingClientRect():{width:0,height:0},l=n.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(e,"'] .apexcharts-yaxis-title text")),c=l?l.getBoundingClientRect():{width:0,height:0};if(l){var h=this.xPaddingForYAxisTitle(e,a,c,t);l.setAttribute("x",h.xPos-(t?10:0));var d=s.rotateAroundCenter(l);l.setAttribute("transform","rotate(".concat(t?-1*n.config.yaxis[e].title.rotate:n.config.yaxis[e].title.rotate," ").concat(d.x," ").concat(d.y,")"))}}},{key:"xPaddingForYAxisTitle",value:function(e,t,n,s){var r=this.w,a=0,l=10;return r.config.yaxis[e].title.text===void 0||e<0?{xPos:a,padd:0}:(s?a=t.width+r.config.yaxis[e].title.offsetX+n.width/2+l/2:(a=-1*t.width+r.config.yaxis[e].title.offsetX+l/2+n.width/2,r.globals.isBarHorizontal&&(l=25,a=-1*t.width-r.config.yaxis[e].title.offsetX-l)),{xPos:a,padd:l})}},{key:"setYAxisXPosition",value:function(e,t){var n=this.w,s=0,r=0,a=18,l=1;n.config.yaxis.length>1&&(this.multipleYs=!0),n.config.yaxis.forEach(function(c,h){var d=n.globals.ignoreYAxisIndexes.includes(h)||!c.show||c.floating||e[h].width===0,f=e[h].width+t[h].width;c.opposite?n.globals.isBarHorizontal?(r=n.globals.gridWidth+n.globals.translateX-1,n.globals.translateYAxisX[h]=r-c.labels.offsetX):(r=n.globals.gridWidth+n.globals.translateX+l,d||(l+=f+20),n.globals.translateYAxisX[h]=r-c.labels.offsetX+20):(s=n.globals.translateX-a,d||(a+=f+20),n.globals.translateYAxisX[h]=s+c.labels.offsetX)})}},{key:"setYAxisTextAlignments",value:function(){var e=this.w;q.listToArray(e.globals.dom.baseEl.getElementsByClassName("apexcharts-yaxis")).forEach(function(t,n){var s=e.config.yaxis[n];if(s&&!s.floating&&s.labels.align!==void 0){var r=e.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(n,"'] .apexcharts-yaxis-texts-g")),a=q.listToArray(e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(n,"'] .apexcharts-yaxis-label"))),l=r.getBoundingClientRect();a.forEach(function(c){c.setAttribute("text-anchor",s.labels.align)}),s.labels.align!=="left"||s.opposite?s.labels.align==="center"?r.setAttribute("transform","translate(".concat(l.width/2*(s.opposite?1:-1),", 0)")):s.labels.align==="right"&&s.opposite&&r.setAttribute("transform","translate(".concat(l.width,", 0)")):r.setAttribute("transform","translate(-".concat(l.width,", 0)"))}})}}]),i}(),wee=function(){function i(e){Ce(this,i),this.ctx=e,this.w=e.w,this.documentEvent=q.bind(this.documentEvent,this)}return ke(i,[{key:"addEventListener",value:function(e,t){var n=this.w;n.globals.events.hasOwnProperty(e)?n.globals.events[e].push(t):n.globals.events[e]=[t]}},{key:"removeEventListener",value:function(e,t){var n=this.w;if(n.globals.events.hasOwnProperty(e)){var s=n.globals.events[e].indexOf(t);s!==-1&&n.globals.events[e].splice(s,1)}}},{key:"fireEvent",value:function(e,t){var n=this.w;if(n.globals.events.hasOwnProperty(e)){t&&t.length||(t=[]);for(var s=n.globals.events[e],r=s.length,a=0;a<r;a++)s[a].apply(null,t)}}},{key:"setupEventHandlers",value:function(){var e=this,t=this.w,n=this.ctx,s=t.globals.dom.baseEl.querySelector(t.globals.chartClass);this.ctx.eventList.forEach(function(r){s.addEventListener(r,function(a){var l=a.target.getAttribute("i")===null&&t.globals.capturedSeriesIndex!==-1?t.globals.capturedSeriesIndex:a.target.getAttribute("i"),c=a.target.getAttribute("j")===null&&t.globals.capturedDataPointIndex!==-1?t.globals.capturedDataPointIndex:a.target.getAttribute("j"),h=Object.assign({},t,{seriesIndex:t.globals.axisCharts?l:0,dataPointIndex:c});a.type==="mousemove"||a.type==="touchmove"?typeof t.config.chart.events.mouseMove=="function"&&t.config.chart.events.mouseMove(a,n,h):a.type==="mouseleave"||a.type==="touchleave"?typeof t.config.chart.events.mouseLeave=="function"&&t.config.chart.events.mouseLeave(a,n,h):(a.type==="mouseup"&&a.which===1||a.type==="touchend")&&(typeof t.config.chart.events.click=="function"&&t.config.chart.events.click(a,n,h),n.ctx.events.fireEvent("click",[a,n,h]))},{capture:!1,passive:!0})}),this.ctx.eventList.forEach(function(r){t.globals.dom.baseEl.addEventListener(r,e.documentEvent,{passive:!0})}),this.ctx.core.setupBrushHandler()}},{key:"documentEvent",value:function(e){var t=this.w,n=e.target.className;if(e.type==="click"){var s=t.globals.dom.baseEl.querySelector(".apexcharts-menu");s&&s.classList.contains("apexcharts-menu-open")&&n!=="apexcharts-menu-icon"&&s.classList.remove("apexcharts-menu-open")}t.globals.clientX=e.type==="touchmove"?e.touches[0].clientX:e.clientX,t.globals.clientY=e.type==="touchmove"?e.touches[0].clientY:e.clientY}}]),i}(),_ee=function(){function i(e){Ce(this,i),this.ctx=e,this.w=e.w}return ke(i,[{key:"setCurrentLocaleValues",value:function(e){var t=this.w.config.chart.locales;window.Apex.chart&&window.Apex.chart.locales&&window.Apex.chart.locales.length>0&&(t=this.w.config.chart.locales.concat(window.Apex.chart.locales));var n=t.filter(function(r){return r.name===e})[0];if(!n)throw new Error("Wrong locale name provided. Please make sure you set the correct locale name in options");var s=q.extend(yF,n);this.w.globals.locale=s.options}}]),i}(),Aee=function(){function i(e){Ce(this,i),this.ctx=e,this.w=e.w}return ke(i,[{key:"drawAxis",value:function(e,t){var n,s,r=this,a=this.w.globals,l=this.w.config,c=new Pf(this.ctx,t),h=new ZS(this.ctx,t);a.axisCharts&&e!=="radar"&&(a.isBarHorizontal?(s=h.drawYaxisInversed(0),n=c.drawXaxisInversed(0),a.dom.elGraphical.add(n),a.dom.elGraphical.add(s)):(n=c.drawXaxis(),a.dom.elGraphical.add(n),l.yaxis.map(function(d,f){if(a.ignoreYAxisIndexes.indexOf(f)===-1&&(s=h.drawYaxis(f),a.dom.Paper.add(s),r.w.config.grid.position==="back")){var p=a.dom.Paper.children()[1];p.remove(),a.dom.Paper.add(p)}})))}}]),i}(),a_=function(){function i(e){Ce(this,i),this.ctx=e,this.w=e.w}return ke(i,[{key:"drawXCrosshairs",value:function(){var e=this.w,t=new fe(this.ctx),n=new bi(this.ctx),s=e.config.xaxis.crosshairs.fill.gradient,r=e.config.xaxis.crosshairs.dropShadow,a=e.config.xaxis.crosshairs.fill.type,l=s.colorFrom,c=s.colorTo,h=s.opacityFrom,d=s.opacityTo,f=s.stops,p=r.enabled,y=r.left,b=r.top,x=r.blur,_=r.color,S=r.opacity,T=e.config.xaxis.crosshairs.fill.color;if(e.config.xaxis.crosshairs.show){a==="gradient"&&(T=t.drawGradient("vertical",l,c,h,d,null,f,null));var C=t.drawRect();e.config.xaxis.crosshairs.width===1&&(C=t.drawLine());var M=e.globals.gridHeight;(!q.isNumber(M)||M<0)&&(M=0);var R=e.config.xaxis.crosshairs.width;(!q.isNumber(R)||R<0)&&(R=0),C.attr({class:"apexcharts-xcrosshairs",x:0,y:0,y2:M,width:R,height:M,fill:T,filter:"none","fill-opacity":e.config.xaxis.crosshairs.opacity,stroke:e.config.xaxis.crosshairs.stroke.color,"stroke-width":e.config.xaxis.crosshairs.stroke.width,"stroke-dasharray":e.config.xaxis.crosshairs.stroke.dashArray}),p&&(C=n.dropShadow(C,{left:y,top:b,blur:x,color:_,opacity:S})),e.globals.dom.elGraphical.add(C)}}},{key:"drawYCrosshairs",value:function(){var e=this.w,t=new fe(this.ctx),n=e.config.yaxis[0].crosshairs,s=e.globals.barPadForNumericAxis;if(e.config.yaxis[0].crosshairs.show){var r=t.drawLine(-s,0,e.globals.gridWidth+s,0,n.stroke.color,n.stroke.dashArray,n.stroke.width);r.attr({class:"apexcharts-ycrosshairs"}),e.globals.dom.elGraphical.add(r)}var a=t.drawLine(-s,0,e.globals.gridWidth+s,0,n.stroke.color,0,0);a.attr({class:"apexcharts-ycrosshairs-hidden"}),e.globals.dom.elGraphical.add(a)}}]),i}(),See=function(){function i(e){Ce(this,i),this.ctx=e,this.w=e.w}return ke(i,[{key:"checkResponsiveConfig",value:function(e){var t=this,n=this.w,s=n.config;if(s.responsive.length!==0){var r=s.responsive.slice();r.sort(function(h,d){return h.breakpoint>d.breakpoint?1:d.breakpoint>h.breakpoint?-1:0}).reverse();var a=new Nf({}),l=function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},d=r[0].breakpoint,f=window.innerWidth>0?window.innerWidth:screen.width;if(f>d){var p=q.clone(n.globals.initialConfig);p.series=q.clone(n.config.series);var y=Mn.extendArrayProps(a,p,n);h=q.extend(y,h),h=q.extend(n.config,h),t.overrideResponsiveOptions(h)}else for(var b=0;b<r.length;b++)f<r[b].breakpoint&&(h=Mn.extendArrayProps(a,r[b].options,n),h=q.extend(n.config,h),t.overrideResponsiveOptions(h))};if(e){var c=Mn.extendArrayProps(a,e,n);c=q.extend(n.config,c),l(c=q.extend(c,e))}else l({})}}},{key:"overrideResponsiveOptions",value:function(e){var t=new Nf(e).init({responsiveOverride:!0});this.w.config=t}}]),i}(),Tee=function(){function i(e){Ce(this,i),this.ctx=e,this.w=e.w,this.colors=[],this.isColorFn=!1,this.isHeatmapDistributed=this.checkHeatmapDistributed(),this.isBarDistributed=this.checkBarDistributed()}return ke(i,[{key:"checkHeatmapDistributed",value:function(){var e=this.w.config,t=e.chart,n=e.plotOptions;return t.type==="treemap"&&n.treemap&&n.treemap.distributed||t.type==="heatmap"&&n.heatmap&&n.heatmap.distributed}},{key:"checkBarDistributed",value:function(){var e=this.w.config,t=e.chart,n=e.plotOptions;return n.bar&&n.bar.distributed&&(t.type==="bar"||t.type==="rangeBar")}},{key:"init",value:function(){this.setDefaultColors()}},{key:"setDefaultColors",value:function(){var e=this.w,t=new q;e.globals.dom.elWrap.classList.add("apexcharts-theme-".concat(e.config.theme.mode||"light"));var n=Qn(e.config.colors||e.config.fill.colors||[]);e.globals.colors=this.getColors(n),this.applySeriesColors(e.globals.seriesColors,e.globals.colors),e.config.theme.monochrome.enabled&&(e.globals.colors=this.getMonochromeColors(e.config.theme.monochrome,e.globals.series,t));var s=e.globals.colors.slice();this.pushExtraColors(e.globals.colors),this.applyColorTypes(["fill","stroke"],s),this.applyDataLabelsColors(s),this.applyRadarPolygonsColors(),this.applyMarkersColors(s)}},{key:"getColors",value:function(e){var t=this,n=this.w;return e&&e.length!==0?Array.isArray(e)&&e.length>0&&typeof e[0]=="function"?(this.isColorFn=!0,n.config.series.map(function(s,r){var a=e[r]||e[0];return typeof a=="function"?a({value:n.globals.axisCharts?n.globals.series[r][0]||0:n.globals.series[r],seriesIndex:r,dataPointIndex:r,w:t.w}):a})):e:this.predefined()}},{key:"applySeriesColors",value:function(e,t){e.forEach(function(n,s){n&&(t[s]=n)})}},{key:"getMonochromeColors",value:function(e,t,n){var s=e.color,r=e.shadeIntensity,a=e.shadeTo,l=this.isBarDistributed||this.isHeatmapDistributed?t[0].length*t.length:t.length,c=1/(l/r),h=0;return Array.from({length:l},function(){var d=a==="dark"?n.shadeColor(-1*h,s):n.shadeColor(h,s);return h+=c,d})}},{key:"applyColorTypes",value:function(e,t){var n=this,s=this.w;e.forEach(function(r){s.globals[r].colors=s.config[r].colors===void 0?n.isColorFn?s.config.colors:t:s.config[r].colors.slice(),n.pushExtraColors(s.globals[r].colors)})}},{key:"applyDataLabelsColors",value:function(e){var t=this.w;t.globals.dataLabels.style.colors=t.config.dataLabels.style.colors===void 0?e:t.config.dataLabels.style.colors.slice(),this.pushExtraColors(t.globals.dataLabels.style.colors,50)}},{key:"applyRadarPolygonsColors",value:function(){var e=this.w;e.globals.radarPolygons.fill.colors=e.config.plotOptions.radar.polygons.fill.colors===void 0?[e.config.theme.mode==="dark"?"#343A3F":"none"]:e.config.plotOptions.radar.polygons.fill.colors.slice(),this.pushExtraColors(e.globals.radarPolygons.fill.colors,20)}},{key:"applyMarkersColors",value:function(e){var t=this.w;t.globals.markers.colors=t.config.markers.colors===void 0?e:t.config.markers.colors.slice(),this.pushExtraColors(t.globals.markers.colors)}},{key:"pushExtraColors",value:function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=this.w,r=t||s.globals.series.length;if(n===null&&(n=this.isBarDistributed||this.isHeatmapDistributed||s.config.chart.type==="heatmap"&&s.config.plotOptions.heatmap&&s.config.plotOptions.heatmap.colorScale.inverse),n&&s.globals.series.length&&(r=s.globals.series[s.globals.maxValsInArrayIndex].length*s.globals.series.length),e.length<r)for(var a=r-e.length,l=0;l<a;l++)e.push(e[l])}},{key:"updateThemeOptions",value:function(e){e.chart=e.chart||{},e.tooltip=e.tooltip||{};var t=e.theme.mode,n=t==="dark"?"palette4":t==="light"?"palette1":e.theme.palette||"palette1",s=t==="dark"?"#f6f7f8":t==="light"?"#373d3f":e.chart.foreColor||"#373d3f";return e.tooltip.theme=t||"light",e.chart.foreColor=s,e.theme.palette=n,e}},{key:"predefined",value:function(){var e=this.w.config.theme.palette,t=this.ctx.constructor.getThemePalettes();return t[e]||t.palette1}}]),i}(),Eee=function(){function i(e){Ce(this,i),this.ctx=e,this.w=e.w}return ke(i,[{key:"draw",value:function(){this.drawTitleSubtitle("title"),this.drawTitleSubtitle("subtitle")}},{key:"drawTitleSubtitle",value:function(e){var t=this.w,n=e==="title"?t.config.title:t.config.subtitle,s=t.globals.svgWidth/2,r=n.offsetY,a="middle";if(n.align==="left"?(s=10,a="start"):n.align==="right"&&(s=t.globals.svgWidth-10,a="end"),s+=n.offsetX,r=r+parseInt(n.style.fontSize,10)+n.margin/2,n.text!==void 0){var l=new fe(this.ctx).drawText({x:s,y:r,text:n.text,textAnchor:a,fontSize:n.style.fontSize,fontFamily:n.style.fontFamily,fontWeight:n.style.fontWeight,foreColor:n.style.color,opacity:1});l.node.setAttribute("class","apexcharts-".concat(e,"-text")),t.globals.dom.Paper.add(l)}}}]),i}(),Cee=function(){function i(e){Ce(this,i),this.w=e.w,this.dCtx=e}return ke(i,[{key:"getTitleSubtitleCoords",value:function(e){var t=this.w,n=0,s=0,r=e==="title"?t.config.title.floating:t.config.subtitle.floating,a=t.globals.dom.baseEl.querySelector(".apexcharts-".concat(e,"-text"));if(a!==null&&!r){var l=a.getBoundingClientRect();n=l.width,s=t.globals.axisCharts?l.height+5:l.height}return{width:n,height:s}}},{key:"getLegendsRect",value:function(){var e=this.w,t=e.globals.dom.elLegendWrap;e.config.legend.height||e.config.legend.position!=="top"&&e.config.legend.position!=="bottom"||(t.style.maxHeight=e.globals.svgHeight/2+"px");var n=Object.assign({},q.getBoundingClientRect(t));return t!==null&&!e.config.legend.floating&&e.config.legend.show?this.dCtx.lgRect={x:n.x,y:n.y,height:n.height,width:n.height===0?0:n.width}:this.dCtx.lgRect={x:0,y:0,height:0,width:0},e.config.legend.position!=="left"&&e.config.legend.position!=="right"||1.5*this.dCtx.lgRect.width>e.globals.svgWidth&&(this.dCtx.lgRect.width=e.globals.svgWidth/1.5),this.dCtx.lgRect}},{key:"getDatalabelsRect",value:function(){var e=this,t=this.w,n=[];t.config.series.forEach(function(c,h){c.data.forEach(function(d,f){var p;p=t.globals.series[h][f],s=t.config.dataLabels.formatter(p,{ctx:e.dCtx.ctx,seriesIndex:h,dataPointIndex:f,w:t}),n.push(s)})});var s=q.getLargestStringFromArr(n),r=new fe(this.dCtx.ctx),a=t.config.dataLabels.style,l=r.getTextRects(s,parseInt(a.fontSize),a.fontFamily);return{width:1.05*l.width,height:l.height}}},{key:"getLargestStringFromMultiArr",value:function(e,t){var n=e;if(this.w.globals.isMultiLineX){var s=t.map(function(a,l){return Array.isArray(a)?a.length:1}),r=Math.max.apply(Math,Qn(s));n=t[s.indexOf(r)]}return n}}]),i}(),kee=function(){function i(e){Ce(this,i),this.w=e.w,this.dCtx=e}return ke(i,[{key:"getxAxisLabelsCoords",value:function(){var e,t=this.w,n=t.globals.labels.slice();if(t.config.xaxis.convertedCatToNumeric&&n.length===0&&(n=t.globals.categoryLabels),t.globals.timescaleLabels.length>0){var s=this.getxAxisTimeScaleLabelsCoords();e={width:s.width,height:s.height},t.globals.rotateXLabels=!1}else{this.dCtx.lgWidthForSideLegends=t.config.legend.position!=="left"&&t.config.legend.position!=="right"||t.config.legend.floating?0:this.dCtx.lgRect.width;var r=t.globals.xLabelFormatter,a=q.getLargestStringFromArr(n),l=this.dCtx.dimHelpers.getLargestStringFromMultiArr(a,n);t.globals.isBarHorizontal&&(l=a=t.globals.yAxisScale[0].result.reduce(function(b,x){return b.length>x.length?b:x},0));var c=new vg(this.dCtx.ctx),h=a;a=c.xLabelFormat(r,a,h,{i:void 0,dateFormatter:new mi(this.dCtx.ctx).formatDate,w:t}),l=c.xLabelFormat(r,l,h,{i:void 0,dateFormatter:new mi(this.dCtx.ctx).formatDate,w:t}),(t.config.xaxis.convertedCatToNumeric&&a===void 0||String(a).trim()==="")&&(l=a="1");var d=new fe(this.dCtx.ctx),f=d.getTextRects(a,t.config.xaxis.labels.style.fontSize),p=f;if(a!==l&&(p=d.getTextRects(l,t.config.xaxis.labels.style.fontSize)),(e={width:f.width>=p.width?f.width:p.width,height:f.height>=p.height?f.height:p.height}).width*n.length>t.globals.svgWidth-this.dCtx.lgWidthForSideLegends-this.dCtx.yAxisWidth-this.dCtx.gridPad.left-this.dCtx.gridPad.right&&t.config.xaxis.labels.rotate!==0||t.config.xaxis.labels.rotateAlways){if(!t.globals.isBarHorizontal){t.globals.rotateXLabels=!0;var y=function(b){return d.getTextRects(b,t.config.xaxis.labels.style.fontSize,t.config.xaxis.labels.style.fontFamily,"rotate(".concat(t.config.xaxis.labels.rotate," 0 0)"),!1)};f=y(a),a!==l&&(p=y(l)),e.height=(f.height>p.height?f.height:p.height)/1.5,e.width=f.width>p.width?f.width:p.width}}else t.globals.rotateXLabels=!1}return t.config.xaxis.labels.show||(e={width:0,height:0}),{width:e.width,height:e.height}}},{key:"getxAxisGroupLabelsCoords",value:function(){var e,t=this.w;if(!t.globals.hasXaxisGroups)return{width:0,height:0};var n,s=((e=t.config.xaxis.group.style)===null||e===void 0?void 0:e.fontSize)||t.config.xaxis.labels.style.fontSize,r=t.globals.groups.map(function(f){return f.title}),a=q.getLargestStringFromArr(r),l=this.dCtx.dimHelpers.getLargestStringFromMultiArr(a,r),c=new fe(this.dCtx.ctx),h=c.getTextRects(a,s),d=h;return a!==l&&(d=c.getTextRects(l,s)),n={width:h.width>=d.width?h.width:d.width,height:h.height>=d.height?h.height:d.height},t.config.xaxis.labels.show||(n={width:0,height:0}),{width:n.width,height:n.height}}},{key:"getxAxisTitleCoords",value:function(){var e=this.w,t=0,n=0;if(e.config.xaxis.title.text!==void 0){var s=new fe(this.dCtx.ctx).getTextRects(e.config.xaxis.title.text,e.config.xaxis.title.style.fontSize);t=s.width,n=s.height}return{width:t,height:n}}},{key:"getxAxisTimeScaleLabelsCoords",value:function(){var e,t=this.w;this.dCtx.timescaleLabels=t.globals.timescaleLabels.slice();var n=this.dCtx.timescaleLabels.map(function(r){return r.value}),s=n.reduce(function(r,a){return r===void 0?(console.error("You have possibly supplied invalid Date format. Please supply a valid JavaScript Date"),0):r.length>a.length?r:a},0);return 1.05*(e=new fe(this.dCtx.ctx).getTextRects(s,t.config.xaxis.labels.style.fontSize)).width*n.length>t.globals.gridWidth&&t.config.xaxis.labels.rotate!==0&&(t.globals.overlappingXLabels=!0),e}},{key:"additionalPaddingXLabels",value:function(e){var t=this,n=this.w,s=n.globals,r=n.config,a=r.xaxis.type,l=e.width;s.skipLastTimelinelabel=!1,s.skipFirstTimelinelabel=!1;var c=n.config.yaxis[0].opposite&&n.globals.isBarHorizontal,h=function(d,f){r.yaxis.length>1&&function(p){return s.collapsedSeriesIndices.indexOf(p)!==-1}(f)||function(p){if(t.dCtx.timescaleLabels&&t.dCtx.timescaleLabels.length){var y=t.dCtx.timescaleLabels[0],b=t.dCtx.timescaleLabels[t.dCtx.timescaleLabels.length-1].position+l/1.75-t.dCtx.yAxisWidthRight,x=y.position-l/1.75+t.dCtx.yAxisWidthLeft,_=n.config.legend.position==="right"&&t.dCtx.lgRect.width>0?t.dCtx.lgRect.width:0;b>s.svgWidth-s.translateX-_&&(s.skipLastTimelinelabel=!0),x<-(p.show&&!p.floating||r.chart.type!=="bar"&&r.chart.type!=="candlestick"&&r.chart.type!=="rangeBar"&&r.chart.type!=="boxPlot"?10:l/1.75)&&(s.skipFirstTimelinelabel=!0)}else a==="datetime"?t.dCtx.gridPad.right<l&&!s.rotateXLabels&&(s.skipLastTimelinelabel=!0):a!=="datetime"&&t.dCtx.gridPad.right<l/2-t.dCtx.yAxisWidthRight&&!s.rotateXLabels&&!n.config.xaxis.labels.trim&&(t.dCtx.xPadRight=l/2+1)}(d)};r.yaxis.forEach(function(d,f){c?(t.dCtx.gridPad.left<l&&(t.dCtx.xPadLeft=l/2+1),t.dCtx.xPadRight=l/2+1):h(d,f)})}}]),i}(),Ree=function(){function i(e){Ce(this,i),this.w=e.w,this.dCtx=e}return ke(i,[{key:"getyAxisLabelsCoords",value:function(){var e=this,t=this.w,n=[],s=10,r=new qo(this.dCtx.ctx);return t.config.yaxis.map(function(a,l){var c={seriesIndex:l,dataPointIndex:-1,w:t},h=t.globals.yAxisScale[l],d=0;if(!r.isYAxisHidden(l)&&a.labels.show&&a.labels.minWidth!==void 0&&(d=a.labels.minWidth),!r.isYAxisHidden(l)&&a.labels.show&&h.result.length){var f=t.globals.yLabelFormatters[l],p=h.niceMin===Number.MIN_VALUE?0:h.niceMin,y=h.result.reduce(function(M,R){var P,k;return((P=String(f(M,c)))===null||P===void 0?void 0:P.length)>((k=String(f(R,c)))===null||k===void 0?void 0:k.length)?M:R},p),b=y=f(y,c);if(y!==void 0&&y.length!==0||(y=h.niceMax),t.globals.isBarHorizontal){s=0;var x=t.globals.labels.slice();y=q.getLargestStringFromArr(x),y=f(y,{seriesIndex:l,dataPointIndex:-1,w:t}),b=e.dCtx.dimHelpers.getLargestStringFromMultiArr(y,x)}var _=new fe(e.dCtx.ctx),S="rotate(".concat(a.labels.rotate," 0 0)"),T=_.getTextRects(y,a.labels.style.fontSize,a.labels.style.fontFamily,S,!1),C=T;y!==b&&(C=_.getTextRects(b,a.labels.style.fontSize,a.labels.style.fontFamily,S,!1)),n.push({width:(d>C.width||d>T.width?d:C.width>T.width?C.width:T.width)+s,height:C.height>T.height?C.height:T.height})}else n.push({width:0,height:0})}),n}},{key:"getyAxisTitleCoords",value:function(){var e=this,t=this.w,n=[];return t.config.yaxis.map(function(s,r){if(s.show&&s.title.text!==void 0){var a=new fe(e.dCtx.ctx),l="rotate(".concat(s.title.rotate," 0 0)"),c=a.getTextRects(s.title.text,s.title.style.fontSize,s.title.style.fontFamily,l,!1);n.push({width:c.width,height:c.height})}else n.push({width:0,height:0})}),n}},{key:"getTotalYAxisWidth",value:function(){var e=this.w,t=0,n=0,s=0,r=e.globals.yAxisScale.length>1?10:0,a=new qo(this.dCtx.ctx),l=function(c,h){var d=e.config.yaxis[h].floating,f=0;c.width>0&&!d?(f=c.width+r,function(p){return e.globals.ignoreYAxisIndexes.indexOf(p)>-1}(h)&&(f=f-c.width-r)):f=d||a.isYAxisHidden(h)?0:5,e.config.yaxis[h].opposite?s+=f:n+=f,t+=f};return e.globals.yLabelsCoords.map(function(c,h){l(c,h)}),e.globals.yTitleCoords.map(function(c,h){l(c,h)}),e.globals.isBarHorizontal&&!e.config.yaxis[0].floating&&(t=e.globals.yLabelsCoords[0].width+e.globals.yTitleCoords[0].width+15),this.dCtx.yAxisWidthLeft=n,this.dCtx.yAxisWidthRight=s,t}}]),i}(),Iee=function(){function i(e){Ce(this,i),this.w=e.w,this.dCtx=e}return ke(i,[{key:"gridPadForColumnsInNumericAxis",value:function(e){var t=this.w,n=t.config,s=t.globals;if(s.noData||s.collapsedSeries.length+s.ancillaryCollapsedSeries.length===n.series.length)return 0;var r=function(y){return["bar","rangeBar","candlestick","boxPlot"].includes(y)},a=n.chart.type,l=0,c=r(a)?n.series.length:1;s.comboBarCount>0&&(c=s.comboBarCount),s.collapsedSeries.forEach(function(y){r(y.type)&&(c-=1)}),n.chart.stacked&&(c=1);var h=r(a)||s.comboBarCount>0,d=Math.abs(s.initialMaxX-s.initialMinX);if(h&&s.isXNumeric&&!s.isBarHorizontal&&c>0&&d!==0){d<=3&&(d=s.dataPoints);var f=d/e,p=s.minXDiff&&s.minXDiff/f>0?s.minXDiff/f:0;p>e/2&&(p/=2),(l=p*parseInt(n.plotOptions.bar.columnWidth,10)/100)<1&&(l=1),s.barPadForNumericAxis=l}return l}},{key:"gridPadFortitleSubtitle",value:function(){var e=this,t=this.w,n=t.globals,s=this.dCtx.isSparkline||!n.axisCharts?0:10;["title","subtitle"].forEach(function(l){t.config[l].text!==void 0?s+=t.config[l].margin:s+=e.dCtx.isSparkline||!n.axisCharts?0:5}),!t.config.legend.show||t.config.legend.position!=="bottom"||t.config.legend.floating||n.axisCharts||(s+=10);var r=this.dCtx.dimHelpers.getTitleSubtitleCoords("title"),a=this.dCtx.dimHelpers.getTitleSubtitleCoords("subtitle");n.gridHeight-=r.height+a.height+s,n.translateY+=r.height+a.height+s}},{key:"setGridXPosForDualYAxis",value:function(e,t){var n=this.w,s=new qo(this.dCtx.ctx);n.config.yaxis.forEach(function(r,a){n.globals.ignoreYAxisIndexes.indexOf(a)!==-1||r.floating||s.isYAxisHidden(a)||(r.opposite&&(n.globals.translateX-=t[a].width+e[a].width+parseInt(r.labels.style.fontSize,10)/1.2+12),n.globals.translateX<2&&(n.globals.translateX=2))})}}]),i}(),Ey=function(){function i(e){Ce(this,i),this.ctx=e,this.w=e.w,this.lgRect={},this.yAxisWidth=0,this.yAxisWidthLeft=0,this.yAxisWidthRight=0,this.xAxisHeight=0,this.isSparkline=this.w.config.chart.sparkline.enabled,this.dimHelpers=new Cee(this),this.dimYAxis=new Ree(this),this.dimXAxis=new kee(this),this.dimGrid=new Iee(this),this.lgWidthForSideLegends=0,this.gridPad=this.w.config.grid.padding,this.xPadRight=0,this.xPadLeft=0}return ke(i,[{key:"plotCoords",value:function(){var e=this,t=this.w,n=t.globals;this.lgRect=this.dimHelpers.getLegendsRect(),this.datalabelsCoords={width:0,height:0};var s=Array.isArray(t.config.stroke.width)?Math.max.apply(Math,Qn(t.config.stroke.width)):t.config.stroke.width;this.isSparkline&&((t.config.markers.discrete.length>0||t.config.markers.size>0)&&Object.entries(this.gridPad).forEach(function(a){var l=UV(a,2),c=l[0],h=l[1];e.gridPad[c]=Math.max(h,e.w.globals.markers.largestSize/1.5)}),this.gridPad.top=Math.max(s/2,this.gridPad.top),this.gridPad.bottom=Math.max(s/2,this.gridPad.bottom)),n.axisCharts?this.setDimensionsForAxisCharts():this.setDimensionsForNonAxisCharts(),this.dimGrid.gridPadFortitleSubtitle(),n.gridHeight=n.gridHeight-this.gridPad.top-this.gridPad.bottom,n.gridWidth=n.gridWidth-this.gridPad.left-this.gridPad.right-this.xPadRight-this.xPadLeft;var r=this.dimGrid.gridPadForColumnsInNumericAxis(n.gridWidth);n.gridWidth=n.gridWidth-2*r,n.translateX=n.translateX+this.gridPad.left+this.xPadLeft+(r>0?r:0),n.translateY=n.translateY+this.gridPad.top}},{key:"setDimensionsForAxisCharts",value:function(){var e=this,t=this.w,n=t.globals,s=this.dimYAxis.getyAxisLabelsCoords(),r=this.dimYAxis.getyAxisTitleCoords();n.isSlopeChart&&(this.datalabelsCoords=this.dimHelpers.getDatalabelsRect()),t.globals.yLabelsCoords=[],t.globals.yTitleCoords=[],t.config.yaxis.map(function(y,b){t.globals.yLabelsCoords.push({width:s[b].width,index:b}),t.globals.yTitleCoords.push({width:r[b].width,index:b})}),this.yAxisWidth=this.dimYAxis.getTotalYAxisWidth();var a=this.dimXAxis.getxAxisLabelsCoords(),l=this.dimXAxis.getxAxisGroupLabelsCoords(),c=this.dimXAxis.getxAxisTitleCoords();this.conditionalChecksForAxisCoords(a,c,l),n.translateXAxisY=t.globals.rotateXLabels?this.xAxisHeight/8:-4,n.translateXAxisX=t.globals.rotateXLabels&&t.globals.isXNumeric&&t.config.xaxis.labels.rotate<=-45?-this.xAxisWidth/4:0,t.globals.isBarHorizontal&&(n.rotateXLabels=!1,n.translateXAxisY=parseInt(t.config.xaxis.labels.style.fontSize,10)/1.5*-1),n.translateXAxisY=n.translateXAxisY+t.config.xaxis.labels.offsetY,n.translateXAxisX=n.translateXAxisX+t.config.xaxis.labels.offsetX;var h=this.yAxisWidth,d=this.xAxisHeight;n.xAxisLabelsHeight=this.xAxisHeight-c.height,n.xAxisGroupLabelsHeight=n.xAxisLabelsHeight-a.height,n.xAxisLabelsWidth=this.xAxisWidth,n.xAxisHeight=this.xAxisHeight;var f=10;(t.config.chart.type==="radar"||this.isSparkline)&&(h=0,d=0),this.isSparkline&&(this.lgRect={height:0,width:0}),(this.isSparkline||t.config.chart.type==="treemap")&&(h=0,d=0,f=0),this.isSparkline||t.config.chart.type==="treemap"||this.dimXAxis.additionalPaddingXLabels(a);var p=function(){n.translateX=h+e.datalabelsCoords.width,n.gridHeight=n.svgHeight-e.lgRect.height-d-(e.isSparkline||t.config.chart.type==="treemap"?0:t.globals.rotateXLabels?10:15),n.gridWidth=n.svgWidth-h-2*e.datalabelsCoords.width};switch(t.config.xaxis.position==="top"&&(f=n.xAxisHeight-t.config.xaxis.axisTicks.height-5),t.config.legend.position){case"bottom":n.translateY=f,p();break;case"top":n.translateY=this.lgRect.height+f,p();break;case"left":n.translateY=f,n.translateX=this.lgRect.width+h+this.datalabelsCoords.width,n.gridHeight=n.svgHeight-d-12,n.gridWidth=n.svgWidth-this.lgRect.width-h-2*this.datalabelsCoords.width;break;case"right":n.translateY=f,n.translateX=h+this.datalabelsCoords.width,n.gridHeight=n.svgHeight-d-12,n.gridWidth=n.svgWidth-this.lgRect.width-h-2*this.datalabelsCoords.width-5;break;default:throw new Error("Legend position not supported")}this.dimGrid.setGridXPosForDualYAxis(r,s),new ZS(this.ctx).setYAxisXPosition(s,r)}},{key:"setDimensionsForNonAxisCharts",value:function(){var e=this.w,t=e.globals,n=e.config,s=0;e.config.legend.show&&!e.config.legend.floating&&(s=20);var r=n.chart.type==="pie"||n.chart.type==="polarArea"||n.chart.type==="donut"?"pie":"radialBar",a=n.plotOptions[r].offsetY,l=n.plotOptions[r].offsetX;if(!n.legend.show||n.legend.floating){t.gridHeight=t.svgHeight;var c=t.dom.elWrap.getBoundingClientRect().width;return t.gridWidth=Math.min(c,t.gridHeight),t.translateY=a,void(t.translateX=l+(t.svgWidth-t.gridWidth)/2)}switch(n.legend.position){case"bottom":t.gridHeight=t.svgHeight-this.lgRect.height,t.gridWidth=t.svgWidth,t.translateY=a-10,t.translateX=l+(t.svgWidth-t.gridWidth)/2;break;case"top":t.gridHeight=t.svgHeight-this.lgRect.height,t.gridWidth=t.svgWidth,t.translateY=this.lgRect.height+a+10,t.translateX=l+(t.svgWidth-t.gridWidth)/2;break;case"left":t.gridWidth=t.svgWidth-this.lgRect.width-s,t.gridHeight=n.chart.height!=="auto"?t.svgHeight:t.gridWidth,t.translateY=a,t.translateX=l+this.lgRect.width+s;break;case"right":t.gridWidth=t.svgWidth-this.lgRect.width-s-5,t.gridHeight=n.chart.height!=="auto"?t.svgHeight:t.gridWidth,t.translateY=a,t.translateX=l+10;break;default:throw new Error("Legend position not supported")}}},{key:"conditionalChecksForAxisCoords",value:function(e,t,n){var s=this.w,r=s.globals.hasXaxisGroups?2:1,a=n.height+e.height+t.height,l=s.globals.isMultiLineX?1.2:s.globals.LINE_HEIGHT_RATIO,c=s.globals.rotateXLabels?22:10,h=s.globals.rotateXLabels&&s.config.legend.position==="bottom"?10:0;this.xAxisHeight=a*l+r*c+h,this.xAxisWidth=e.width,this.xAxisHeight-t.height>s.config.xaxis.labels.maxHeight&&(this.xAxisHeight=s.config.xaxis.labels.maxHeight),s.config.xaxis.labels.minHeight&&this.xAxisHeight<s.config.xaxis.labels.minHeight&&(this.xAxisHeight=s.config.xaxis.labels.minHeight),s.config.xaxis.floating&&(this.xAxisHeight=0);var d=0,f=0;s.config.yaxis.forEach(function(p){d+=p.labels.minWidth,f+=p.labels.maxWidth}),this.yAxisWidth<d&&(this.yAxisWidth=d),this.yAxisWidth>f&&(this.yAxisWidth=f)}}]),i}(),Mee=function(){function i(e){Ce(this,i),this.w=e.w,this.lgCtx=e}return ke(i,[{key:"getLegendStyles",value:function(){var e,t,n,s=document.createElement("style");s.setAttribute("type","text/css");var r=((e=this.lgCtx.ctx)===null||e===void 0||(t=e.opts)===null||t===void 0||(n=t.chart)===null||n===void 0?void 0:n.nonce)||this.w.config.chart.nonce;r&&s.setAttribute("nonce",r);var a=document.createTextNode(xF);return s.appendChild(a),s}},{key:"getLegendDimensions",value:function(){var e=this.w.globals.dom.baseEl.querySelector(".apexcharts-legend").getBoundingClientRect(),t=e.width;return{clwh:e.height,clww:t}}},{key:"appendToForeignObject",value:function(){var e=this.w.globals;this.w.config.chart.injectStyleSheet!==!1&&e.dom.elLegendForeign.appendChild(this.getLegendStyles())}},{key:"toggleDataSeries",value:function(e,t){var n=this,s=this.w;if(s.globals.axisCharts||s.config.chart.type==="radialBar"){s.globals.resized=!0;var r=null,a=null;s.globals.risingSeries=[],s.globals.axisCharts?(r=s.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(e,"']")),a=parseInt(r.getAttribute("data:realIndex"),10)):(r=s.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(e+1,"']")),a=parseInt(r.getAttribute("rel"),10)-1),t?[{cs:s.globals.collapsedSeries,csi:s.globals.collapsedSeriesIndices},{cs:s.globals.ancillaryCollapsedSeries,csi:s.globals.ancillaryCollapsedSeriesIndices}].forEach(function(d){n.riseCollapsedSeries(d.cs,d.csi,a)}):this.hideSeries({seriesEl:r,realIndex:a})}else{var l=s.globals.dom.Paper.findOne(" .apexcharts-series[rel='".concat(e+1,"'] path")),c=s.config.chart.type;if(c==="pie"||c==="polarArea"||c==="donut"){var h=s.config.plotOptions.pie.donut.labels;new fe(this.lgCtx.ctx).pathMouseDown(l,null),this.lgCtx.ctx.pie.printDataLabelsInner(l.node,h)}l.fire("click")}}},{key:"getSeriesAfterCollapsing",value:function(e){var t=e.realIndex,n=this.w,s=n.globals,r=q.clone(n.config.series);if(s.axisCharts){var a=n.config.yaxis[s.seriesYAxisReverseMap[t]],l={index:t,data:r[t].data.slice(),type:r[t].type||n.config.chart.type};if(a&&a.show&&a.showAlways)s.ancillaryCollapsedSeriesIndices.indexOf(t)<0&&(s.ancillaryCollapsedSeries.push(l),s.ancillaryCollapsedSeriesIndices.push(t));else if(s.collapsedSeriesIndices.indexOf(t)<0){s.collapsedSeries.push(l),s.collapsedSeriesIndices.push(t);var c=s.risingSeries.indexOf(t);s.risingSeries.splice(c,1)}}else s.collapsedSeries.push({index:t,data:r[t]}),s.collapsedSeriesIndices.push(t);return s.allSeriesCollapsed=s.collapsedSeries.length+s.ancillaryCollapsedSeries.length===n.config.series.length,this._getSeriesBasedOnCollapsedState(r)}},{key:"hideSeries",value:function(e){for(var t=e.seriesEl,n=e.realIndex,s=this.w,r=this.getSeriesAfterCollapsing({realIndex:n}),a=t.childNodes,l=0;l<a.length;l++)a[l].classList.contains("apexcharts-series-markers-wrap")&&(a[l].classList.contains("apexcharts-hide")?a[l].classList.remove("apexcharts-hide"):a[l].classList.add("apexcharts-hide"));this.lgCtx.ctx.updateHelpers._updateSeries(r,s.config.chart.animations.dynamicAnimation.enabled)}},{key:"riseCollapsedSeries",value:function(e,t,n){var s=this.w,r=q.clone(s.config.series);if(e.length>0){for(var a=0;a<e.length;a++)e[a].index===n&&(s.globals.axisCharts?r[n].data=e[a].data.slice():r[n]=e[a].data,typeof r[n]!="number"&&(r[n].hidden=!1),e.splice(a,1),t.splice(a,1),s.globals.risingSeries.push(n));r=this._getSeriesBasedOnCollapsedState(r),this.lgCtx.ctx.updateHelpers._updateSeries(r,s.config.chart.animations.dynamicAnimation.enabled)}}},{key:"_getSeriesBasedOnCollapsedState",value:function(e){var t=this.w,n=0;return t.globals.axisCharts?e.forEach(function(s,r){t.globals.collapsedSeriesIndices.indexOf(r)<0&&t.globals.ancillaryCollapsedSeriesIndices.indexOf(r)<0||(e[r].data=[],n++)}):e.forEach(function(s,r){!t.globals.collapsedSeriesIndices.indexOf(r)<0&&(e[r]=0,n++)}),t.globals.allSeriesCollapsed=n===e.length,e}}]),i}(),AF=function(){function i(e){Ce(this,i),this.ctx=e,this.w=e.w,this.onLegendClick=this.onLegendClick.bind(this),this.onLegendHovered=this.onLegendHovered.bind(this),this.isBarsDistributed=this.w.config.chart.type==="bar"&&this.w.config.plotOptions.bar.distributed&&this.w.config.series.length===1,this.legendHelpers=new Mee(this)}return ke(i,[{key:"init",value:function(){var e=this.w,t=e.globals,n=e.config,s=n.legend.showForSingleSeries&&t.series.length===1||this.isBarsDistributed||t.series.length>1;if(this.legendHelpers.appendToForeignObject(),(s||!t.axisCharts)&&n.legend.show){for(;t.dom.elLegendWrap.firstChild;)t.dom.elLegendWrap.removeChild(t.dom.elLegendWrap.firstChild);this.drawLegends(),n.legend.position==="bottom"||n.legend.position==="top"?this.legendAlignHorizontal():n.legend.position!=="right"&&n.legend.position!=="left"||this.legendAlignVertical()}}},{key:"createLegendMarker",value:function(e){var t=e.i,n=e.fillcolor,s=this.w,r=document.createElement("span");r.classList.add("apexcharts-legend-marker");var a=s.config.legend.markers.shape||s.config.markers.shape,l=a;Array.isArray(a)&&(l=a[t]);var c=Array.isArray(s.config.legend.markers.size)?parseFloat(s.config.legend.markers.size[t]):parseFloat(s.config.legend.markers.size),h=Array.isArray(s.config.legend.markers.offsetX)?parseFloat(s.config.legend.markers.offsetX[t]):parseFloat(s.config.legend.markers.offsetX),d=Array.isArray(s.config.legend.markers.offsetY)?parseFloat(s.config.legend.markers.offsetY[t]):parseFloat(s.config.legend.markers.offsetY),f=Array.isArray(s.config.legend.markers.strokeWidth)?parseFloat(s.config.legend.markers.strokeWidth[t]):parseFloat(s.config.legend.markers.strokeWidth),p=r.style;if(p.height=2*(c+f)+"px",p.width=2*(c+f)+"px",p.left=h+"px",p.top=d+"px",s.config.legend.markers.customHTML)p.background="transparent",p.color=n[t],Array.isArray(s.config.legend.markers.customHTML)?s.config.legend.markers.customHTML[t]&&(r.innerHTML=s.config.legend.markers.customHTML[t]()):r.innerHTML=s.config.legend.markers.customHTML();else{var y=new fh(this.ctx).getMarkerConfig({cssClass:"apexcharts-legend-marker apexcharts-marker apexcharts-marker-".concat(l),seriesIndex:t,strokeWidth:f,size:c}),b=window.SVG().addTo(r).size("100%","100%"),x=new fe(this.ctx).drawMarker(0,0,be(be({},y),{},{pointFillColor:Array.isArray(n)?n[t]:y.pointFillColor,shape:l}));s.globals.dom.Paper.find(".apexcharts-legend-marker.apexcharts-marker").forEach(function(_){_.node.classList.contains("apexcharts-marker-triangle")?_.node.style.transform="translate(50%, 45%)":_.node.style.transform="translate(50%, 50%)"}),b.add(x)}return r}},{key:"drawLegends",value:function(){var e=this,t=this,n=this.w,s=n.config.legend.fontFamily,r=n.globals.seriesNames,a=n.config.legend.markers.fillColors?n.config.legend.markers.fillColors.slice():n.globals.colors.slice();if(n.config.chart.type==="heatmap"){var l=n.config.plotOptions.heatmap.colorScale.ranges;r=l.map(function(y){return y.name?y.name:y.from+" - "+y.to}),a=l.map(function(y){return y.color})}else this.isBarsDistributed&&(r=n.globals.labels.slice());n.config.legend.customLegendItems.length&&(r=n.config.legend.customLegendItems);var c=n.globals.legendFormatter,h=n.config.legend.inverseOrder,d=[];n.globals.seriesGroups.length>1&&n.config.legend.clusterGroupedSeries&&n.globals.seriesGroups.forEach(function(y,b){d[b]=document.createElement("div"),d[b].classList.add("apexcharts-legend-group","apexcharts-legend-group-".concat(b)),n.config.legend.clusterGroupedSeriesOrientation==="horizontal"?n.globals.dom.elLegendWrap.classList.add("apexcharts-legend-group-horizontal"):d[b].classList.add("apexcharts-legend-group-vertical")});for(var f=function(y){var b,x=c(r[y],{seriesIndex:y,w:n}),_=!1,S=!1;if(n.globals.collapsedSeries.length>0)for(var T=0;T<n.globals.collapsedSeries.length;T++)n.globals.collapsedSeries[T].index===y&&(_=!0);if(n.globals.ancillaryCollapsedSeriesIndices.length>0)for(var C=0;C<n.globals.ancillaryCollapsedSeriesIndices.length;C++)n.globals.ancillaryCollapsedSeriesIndices[C]===y&&(S=!0);var M=e.createLegendMarker({i:y,fillcolor:a});fe.setAttrs(M,{rel:y+1,"data:collapsed":_||S}),(_||S)&&M.classList.add("apexcharts-inactive-legend");var R=document.createElement("div"),P=document.createElement("span");P.classList.add("apexcharts-legend-text"),P.innerHTML=Array.isArray(x)?x.join(" "):x;var k=n.config.legend.labels.useSeriesColors?n.globals.colors[y]:Array.isArray(n.config.legend.labels.colors)?(b=n.config.legend.labels.colors)===null||b===void 0?void 0:b[y]:n.config.legend.labels.colors;k||(k=n.config.chart.foreColor),P.style.color=k,P.style.fontSize=parseFloat(n.config.legend.fontSize)+"px",P.style.fontWeight=n.config.legend.fontWeight,P.style.fontFamily=s||n.config.chart.fontFamily,fe.setAttrs(P,{rel:y+1,i:y,"data:default-text":encodeURIComponent(x),"data:collapsed":_||S}),R.appendChild(M),R.appendChild(P);var E=new Mn(e.ctx);n.config.legend.showForZeroSeries||E.getSeriesTotalByIndex(y)===0&&E.seriesHaveSameValues(y)&&!E.isSeriesNull(y)&&n.globals.collapsedSeriesIndices.indexOf(y)===-1&&n.globals.ancillaryCollapsedSeriesIndices.indexOf(y)===-1&&R.classList.add("apexcharts-hidden-zero-series"),n.config.legend.showForNullSeries||E.isSeriesNull(y)&&n.globals.collapsedSeriesIndices.indexOf(y)===-1&&n.globals.ancillaryCollapsedSeriesIndices.indexOf(y)===-1&&R.classList.add("apexcharts-hidden-null-series"),d.length?n.globals.seriesGroups.forEach(function(D,O){var F;D.includes((F=n.config.series[y])===null||F===void 0?void 0:F.name)&&(n.globals.dom.elLegendWrap.appendChild(d[O]),d[O].appendChild(R))}):n.globals.dom.elLegendWrap.appendChild(R),n.globals.dom.elLegendWrap.classList.add("apexcharts-align-".concat(n.config.legend.horizontalAlign)),n.globals.dom.elLegendWrap.classList.add("apx-legend-position-"+n.config.legend.position),R.classList.add("apexcharts-legend-series"),R.style.margin="".concat(n.config.legend.itemMargin.vertical,"px ").concat(n.config.legend.itemMargin.horizontal,"px"),n.globals.dom.elLegendWrap.style.width=n.config.legend.width?n.config.legend.width+"px":"",n.globals.dom.elLegendWrap.style.height=n.config.legend.height?n.config.legend.height+"px":"",fe.setAttrs(R,{rel:y+1,seriesName:q.escapeString(r[y]),"data:collapsed":_||S}),(_||S)&&R.classList.add("apexcharts-inactive-legend"),n.config.legend.onItemClick.toggleDataSeries||R.classList.add("apexcharts-no-click")},p=h?r.length-1:0;h?p>=0:p<=r.length-1;h?p--:p++)f(p);n.globals.dom.elWrap.addEventListener("click",t.onLegendClick,!0),n.config.legend.onItemHover.highlightDataSeries&&n.config.legend.customLegendItems.length===0&&(n.globals.dom.elWrap.addEventListener("mousemove",t.onLegendHovered,!0),n.globals.dom.elWrap.addEventListener("mouseout",t.onLegendHovered,!0))}},{key:"setLegendWrapXY",value:function(e,t){var n=this.w,s=n.globals.dom.elLegendWrap,r=s.clientHeight,a=0,l=0;if(n.config.legend.position==="bottom")l=n.globals.svgHeight-Math.min(r,n.globals.svgHeight/2)-5;else if(n.config.legend.position==="top"){var c=new Ey(this.ctx),h=c.dimHelpers.getTitleSubtitleCoords("title").height,d=c.dimHelpers.getTitleSubtitleCoords("subtitle").height;l=(h>0?h-10:0)+(d>0?d-10:0)}s.style.position="absolute",a=a+e+n.config.legend.offsetX,l=l+t+n.config.legend.offsetY,s.style.left=a+"px",s.style.top=l+"px",n.config.legend.position==="right"&&(s.style.left="auto",s.style.right=25+n.config.legend.offsetX+"px"),["width","height"].forEach(function(f){s.style[f]&&(s.style[f]=parseInt(n.config.legend[f],10)+"px")})}},{key:"legendAlignHorizontal",value:function(){var e=this.w;e.globals.dom.elLegendWrap.style.right=0;var t=new Ey(this.ctx),n=t.dimHelpers.getTitleSubtitleCoords("title"),s=t.dimHelpers.getTitleSubtitleCoords("subtitle"),r=0;e.config.legend.position==="top"&&(r=n.height+s.height+e.config.title.margin+e.config.subtitle.margin-10),this.setLegendWrapXY(20,r)}},{key:"legendAlignVertical",value:function(){var e=this.w,t=this.legendHelpers.getLegendDimensions(),n=0;e.config.legend.position==="left"&&(n=20),e.config.legend.position==="right"&&(n=e.globals.svgWidth-t.clww-10),this.setLegendWrapXY(n,20)}},{key:"onLegendHovered",value:function(e){var t=this.w,n=e.target.classList.contains("apexcharts-legend-series")||e.target.classList.contains("apexcharts-legend-text")||e.target.classList.contains("apexcharts-legend-marker");if(t.config.chart.type==="heatmap"||this.isBarsDistributed){if(n){var s=parseInt(e.target.getAttribute("rel"),10)-1;this.ctx.events.fireEvent("legendHover",[this.ctx,s,this.w]),new Ks(this.ctx).highlightRangeInSeries(e,e.target)}}else!e.target.classList.contains("apexcharts-inactive-legend")&&n&&new Ks(this.ctx).toggleSeriesOnHover(e,e.target)}},{key:"onLegendClick",value:function(e){var t=this.w;if(!t.config.legend.customLegendItems.length&&(e.target.classList.contains("apexcharts-legend-series")||e.target.classList.contains("apexcharts-legend-text")||e.target.classList.contains("apexcharts-legend-marker"))){var n=parseInt(e.target.getAttribute("rel"),10)-1,s=e.target.getAttribute("data:collapsed")==="true",r=this.w.config.chart.events.legendClick;typeof r=="function"&&r(this.ctx,n,this.w),this.ctx.events.fireEvent("legendClick",[this.ctx,n,this.w]);var a=this.w.config.legend.markers.onClick;typeof a=="function"&&e.target.classList.contains("apexcharts-legend-marker")&&(a(this.ctx,n,this.w),this.ctx.events.fireEvent("legendMarkerClick",[this.ctx,n,this.w])),t.config.chart.type!=="treemap"&&t.config.chart.type!=="heatmap"&&!this.isBarsDistributed&&t.config.legend.onItemClick.toggleDataSeries&&this.legendHelpers.toggleDataSeries(n,s)}}}]),i}(),SF=function(){function i(e){Ce(this,i),this.ctx=e,this.w=e.w;var t=this.w;this.ev=this.w.config.chart.events,this.selectedClass="apexcharts-selected",this.localeValues=this.w.globals.locale.toolbar,this.minX=t.globals.minX,this.maxX=t.globals.maxX}return ke(i,[{key:"createToolbar",value:function(){var e=this,t=this.w,n=function(){return document.createElement("div")},s=n();if(s.setAttribute("class","apexcharts-toolbar"),s.style.top=t.config.chart.toolbar.offsetY+"px",s.style.right=3-t.config.chart.toolbar.offsetX+"px",t.globals.dom.elWrap.appendChild(s),this.elZoom=n(),this.elZoomIn=n(),this.elZoomOut=n(),this.elPan=n(),this.elSelection=n(),this.elZoomReset=n(),this.elMenuIcon=n(),this.elMenu=n(),this.elCustomIcons=[],this.t=t.config.chart.toolbar.tools,Array.isArray(this.t.customIcons))for(var r=0;r<this.t.customIcons.length;r++)this.elCustomIcons.push(n());var a=[],l=function(f,p,y){var b=f.toLowerCase();e.t[b]&&t.config.chart.zoom.enabled&&a.push({el:p,icon:typeof e.t[b]=="string"?e.t[b]:y,title:e.localeValues[f],class:"apexcharts-".concat(b,"-icon")})};l("zoomIn",this.elZoomIn,`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
</svg>
`),l("zoomOut",this.elZoomOut,`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
</svg>
`);var c=function(f){e.t[f]&&t.config.chart[f].enabled&&a.push({el:f==="zoom"?e.elZoom:e.elSelection,icon:typeof e.t[f]=="string"?e.t[f]:f==="zoom"?`<svg xmlns="http://www.w3.org/2000/svg" fill="#000000" height="24" viewBox="0 0 24 24" width="24">
    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"/>
</svg>`:`<svg fill="#6E8192" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2z"/>
</svg>`,title:e.localeValues[f==="zoom"?"selectionZoom":"selection"],class:"apexcharts-".concat(f,"-icon")})};c("zoom"),c("selection"),this.t.pan&&t.config.chart.zoom.enabled&&a.push({el:this.elPan,icon:typeof this.t.pan=="string"?this.t.pan:`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000" height="24" viewBox="0 0 24 24" width="24">
    <defs>
        <path d="M0 0h24v24H0z" id="a"/>
    </defs>
    <clipPath id="b">
        <use overflow="visible" xlink:href="#a"/>
    </clipPath>
    <path clip-path="url(#b)" d="M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5z"/>
</svg>`,title:this.localeValues.pan,class:"apexcharts-pan-icon"}),l("reset",this.elZoomReset,`<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
    <path d="M0 0h24v24H0z" fill="none"/>
</svg>`),this.t.download&&a.push({el:this.elMenuIcon,icon:typeof this.t.download=="string"?this.t.download:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>',title:this.localeValues.menu,class:"apexcharts-menu-icon"});for(var h=0;h<this.elCustomIcons.length;h++)a.push({el:this.elCustomIcons[h],icon:this.t.customIcons[h].icon,title:this.t.customIcons[h].title,index:this.t.customIcons[h].index,class:"apexcharts-toolbar-custom-icon "+this.t.customIcons[h].class});a.forEach(function(f,p){f.index&&q.moveIndexInArray(a,p,f.index)});for(var d=0;d<a.length;d++)fe.setAttrs(a[d].el,{class:a[d].class,title:a[d].title}),a[d].el.innerHTML=a[d].icon,s.appendChild(a[d].el);this._createHamburgerMenu(s),t.globals.zoomEnabled?this.elZoom.classList.add(this.selectedClass):t.globals.panEnabled?this.elPan.classList.add(this.selectedClass):t.globals.selectionEnabled&&this.elSelection.classList.add(this.selectedClass),this.addToolbarEventListeners()}},{key:"_createHamburgerMenu",value:function(e){this.elMenuItems=[],e.appendChild(this.elMenu),fe.setAttrs(this.elMenu,{class:"apexcharts-menu"});for(var t=[{name:"exportSVG",title:this.localeValues.exportToSVG},{name:"exportPNG",title:this.localeValues.exportToPNG},{name:"exportCSV",title:this.localeValues.exportToCSV}],n=0;n<t.length;n++)this.elMenuItems.push(document.createElement("div")),this.elMenuItems[n].innerHTML=t[n].title,fe.setAttrs(this.elMenuItems[n],{class:"apexcharts-menu-item ".concat(t[n].name),title:t[n].title}),this.elMenu.appendChild(this.elMenuItems[n])}},{key:"addToolbarEventListeners",value:function(){var e=this;this.elZoomReset.addEventListener("click",this.handleZoomReset.bind(this)),this.elSelection.addEventListener("click",this.toggleZoomSelection.bind(this,"selection")),this.elZoom.addEventListener("click",this.toggleZoomSelection.bind(this,"zoom")),this.elZoomIn.addEventListener("click",this.handleZoomIn.bind(this)),this.elZoomOut.addEventListener("click",this.handleZoomOut.bind(this)),this.elPan.addEventListener("click",this.togglePanning.bind(this)),this.elMenuIcon.addEventListener("click",this.toggleMenu.bind(this)),this.elMenuItems.forEach(function(n){n.classList.contains("exportSVG")?n.addEventListener("click",e.handleDownload.bind(e,"svg")):n.classList.contains("exportPNG")?n.addEventListener("click",e.handleDownload.bind(e,"png")):n.classList.contains("exportCSV")&&n.addEventListener("click",e.handleDownload.bind(e,"csv"))});for(var t=0;t<this.t.customIcons.length;t++)this.elCustomIcons[t].addEventListener("click",this.t.customIcons[t].click.bind(this,this.ctx,this.ctx.w))}},{key:"toggleZoomSelection",value:function(e){this.ctx.getSyncedCharts().forEach(function(t){t.ctx.toolbar.toggleOtherControls();var n=e==="selection"?t.ctx.toolbar.elSelection:t.ctx.toolbar.elZoom,s=e==="selection"?"selectionEnabled":"zoomEnabled";t.w.globals[s]=!t.w.globals[s],n.classList.contains(t.ctx.toolbar.selectedClass)?n.classList.remove(t.ctx.toolbar.selectedClass):n.classList.add(t.ctx.toolbar.selectedClass)})}},{key:"getToolbarIconsReference",value:function(){var e=this.w;this.elZoom||(this.elZoom=e.globals.dom.baseEl.querySelector(".apexcharts-zoom-icon")),this.elPan||(this.elPan=e.globals.dom.baseEl.querySelector(".apexcharts-pan-icon")),this.elSelection||(this.elSelection=e.globals.dom.baseEl.querySelector(".apexcharts-selection-icon"))}},{key:"enableZoomPanFromToolbar",value:function(e){this.toggleOtherControls(),e==="pan"?this.w.globals.panEnabled=!0:this.w.globals.zoomEnabled=!0;var t=e==="pan"?this.elPan:this.elZoom,n=e==="pan"?this.elZoom:this.elPan;t&&t.classList.add(this.selectedClass),n&&n.classList.remove(this.selectedClass)}},{key:"togglePanning",value:function(){this.ctx.getSyncedCharts().forEach(function(e){e.ctx.toolbar.toggleOtherControls(),e.w.globals.panEnabled=!e.w.globals.panEnabled,e.ctx.toolbar.elPan.classList.contains(e.ctx.toolbar.selectedClass)?e.ctx.toolbar.elPan.classList.remove(e.ctx.toolbar.selectedClass):e.ctx.toolbar.elPan.classList.add(e.ctx.toolbar.selectedClass)})}},{key:"toggleOtherControls",value:function(){var e=this,t=this.w;t.globals.panEnabled=!1,t.globals.zoomEnabled=!1,t.globals.selectionEnabled=!1,this.getToolbarIconsReference(),[this.elPan,this.elSelection,this.elZoom].forEach(function(n){n&&n.classList.remove(e.selectedClass)})}},{key:"handleZoomIn",value:function(){var e=this.w;e.globals.isRangeBar&&(this.minX=e.globals.minY,this.maxX=e.globals.maxY);var t=(this.minX+this.maxX)/2,n=(this.minX+t)/2,s=(this.maxX+t)/2,r=this._getNewMinXMaxX(n,s);e.globals.disableZoomIn||this.zoomUpdateOptions(r.minX,r.maxX)}},{key:"handleZoomOut",value:function(){var e=this.w;if(e.globals.isRangeBar&&(this.minX=e.globals.minY,this.maxX=e.globals.maxY),!(e.config.xaxis.type==="datetime"&&new Date(this.minX).getUTCFullYear()<1e3)){var t=(this.minX+this.maxX)/2,n=this.minX-(t-this.minX),s=this.maxX-(t-this.maxX),r=this._getNewMinXMaxX(n,s);e.globals.disableZoomOut||this.zoomUpdateOptions(r.minX,r.maxX)}}},{key:"_getNewMinXMaxX",value:function(e,t){var n=this.w.config.xaxis.convertedCatToNumeric;return{minX:n?Math.floor(e):e,maxX:n?Math.floor(t):t}}},{key:"zoomUpdateOptions",value:function(e,t){var n=this.w;if(e!==void 0||t!==void 0){if(!(n.config.xaxis.convertedCatToNumeric&&(e<1&&(e=1,t=n.globals.dataPoints),t-e<2))){var s={min:e,max:t},r=this.getBeforeZoomRange(s);r&&(s=r.xaxis);var a={xaxis:s},l=q.clone(n.globals.initialConfig.yaxis);n.config.chart.group||(a.yaxis=l),this.w.globals.zoomed=!0,this.ctx.updateHelpers._updateOptions(a,!1,this.w.config.chart.animations.dynamicAnimation.enabled),this.zoomCallback(s,l)}}else this.handleZoomReset()}},{key:"zoomCallback",value:function(e,t){typeof this.ev.zoomed=="function"&&(this.ev.zoomed(this.ctx,{xaxis:e,yaxis:t}),this.ctx.events.fireEvent("zoomed",{xaxis:e,yaxis:t}))}},{key:"getBeforeZoomRange",value:function(e,t){var n=null;return typeof this.ev.beforeZoom=="function"&&(n=this.ev.beforeZoom(this,{xaxis:e,yaxis:t})),n}},{key:"toggleMenu",value:function(){var e=this;window.setTimeout(function(){e.elMenu.classList.contains("apexcharts-menu-open")?e.elMenu.classList.remove("apexcharts-menu-open"):e.elMenu.classList.add("apexcharts-menu-open")},0)}},{key:"handleDownload",value:function(e){var t=this.w,n=new Zd(this.ctx);switch(e){case"svg":n.exportToSVG(this.ctx);break;case"png":n.exportToPng(this.ctx);break;case"csv":n.exportToCSV({series:t.config.series,columnDelimiter:t.config.chart.toolbar.export.csv.columnDelimiter})}}},{key:"handleZoomReset",value:function(e){this.ctx.getSyncedCharts().forEach(function(t){var n=t.w;if(n.globals.lastXAxis.min=n.globals.initialConfig.xaxis.min,n.globals.lastXAxis.max=n.globals.initialConfig.xaxis.max,t.updateHelpers.revertDefaultAxisMinMax(),typeof n.config.chart.events.beforeResetZoom=="function"){var s=n.config.chart.events.beforeResetZoom(t,n);s&&t.updateHelpers.revertDefaultAxisMinMax(s)}typeof n.config.chart.events.zoomed=="function"&&t.ctx.toolbar.zoomCallback({min:n.config.xaxis.min,max:n.config.xaxis.max}),n.globals.zoomed=!1;var r=t.ctx.series.emptyCollapsedSeries(q.clone(n.globals.initialSeries));t.updateHelpers._updateSeries(r,n.config.chart.animations.dynamicAnimation.enabled)})}},{key:"destroy",value:function(){this.elZoom=null,this.elZoomIn=null,this.elZoomOut=null,this.elPan=null,this.elSelection=null,this.elZoomReset=null,this.elMenuIcon=null}}]),i}(),Dee=function(i){gg(t,SF);var e=fg(t);function t(n){var s;return Ce(this,t),(s=e.call(this,n)).ctx=n,s.w=n.w,s.dragged=!1,s.graphics=new fe(s.ctx),s.eventList=["mousedown","mouseleave","mousemove","touchstart","touchmove","mouseup","touchend","wheel"],s.clientX=0,s.clientY=0,s.startX=0,s.endX=0,s.dragX=0,s.startY=0,s.endY=0,s.dragY=0,s.moveDirection="none",s.debounceTimer=null,s.debounceDelay=100,s.wheelDelay=400,s}return ke(t,[{key:"init",value:function(n){var s=this,r=n.xyRatios,a=this.w,l=this;this.xyRatios=r,this.zoomRect=this.graphics.drawRect(0,0,0,0),this.selectionRect=this.graphics.drawRect(0,0,0,0),this.gridRect=a.globals.dom.baseEl.querySelector(".apexcharts-grid"),this.constraints=new In(0,0,a.globals.gridWidth,a.globals.gridHeight),this.zoomRect.node.classList.add("apexcharts-zoom-rect"),this.selectionRect.node.classList.add("apexcharts-selection-rect"),a.globals.dom.Paper.add(this.zoomRect),a.globals.dom.Paper.add(this.selectionRect),a.config.chart.selection.type==="x"?this.slDraggableRect=this.selectionRect.draggable({minX:0,minY:0,maxX:a.globals.gridWidth,maxY:a.globals.gridHeight}).on("dragmove.namespace",this.selectionDragging.bind(this,"dragging")):a.config.chart.selection.type==="y"?this.slDraggableRect=this.selectionRect.draggable({minX:0,maxX:a.globals.gridWidth}).on("dragmove.namespace",this.selectionDragging.bind(this,"dragging")):this.slDraggableRect=this.selectionRect.draggable().on("dragmove.namespace",this.selectionDragging.bind(this,"dragging")),this.preselectedSelection(),this.hoverArea=a.globals.dom.baseEl.querySelector("".concat(a.globals.chartClass," .apexcharts-svg")),this.hoverArea.classList.add("apexcharts-zoomable"),this.eventList.forEach(function(c){s.hoverArea.addEventListener(c,l.svgMouseEvents.bind(l,r),{capture:!1,passive:!0})}),a.config.chart.zoom.enabled&&a.config.chart.zoom.allowMouseWheelZoom&&this.hoverArea.addEventListener("wheel",l.mouseWheelEvent.bind(l),{capture:!1,passive:!1})}},{key:"destroy",value:function(){this.slDraggableRect&&(this.slDraggableRect.draggable(!1),this.slDraggableRect.off(),this.selectionRect.off()),this.selectionRect=null,this.zoomRect=null,this.gridRect=null}},{key:"svgMouseEvents",value:function(n,s){var r=this.w,a=this.ctx.toolbar,l=r.globals.zoomEnabled?r.config.chart.zoom.type:r.config.chart.selection.type,c=r.config.chart.toolbar.autoSelected;if(s.shiftKey?(this.shiftWasPressed=!0,a.enableZoomPanFromToolbar(c==="pan"?"zoom":"pan")):this.shiftWasPressed&&(a.enableZoomPanFromToolbar(c),this.shiftWasPressed=!1),s.target){var h,d=s.target.classList;if(s.target.parentNode&&s.target.parentNode!==null&&(h=s.target.parentNode.classList),!(d.contains("apexcharts-legend-marker")||d.contains("apexcharts-legend-text")||h&&h.contains("apexcharts-toolbar"))){if(this.clientX=s.type==="touchmove"||s.type==="touchstart"?s.touches[0].clientX:s.type==="touchend"?s.changedTouches[0].clientX:s.clientX,this.clientY=s.type==="touchmove"||s.type==="touchstart"?s.touches[0].clientY:s.type==="touchend"?s.changedTouches[0].clientY:s.clientY,s.type==="mousedown"&&s.which===1||s.type==="touchstart"){var f=this.gridRect.getBoundingClientRect();this.startX=this.clientX-f.left-r.globals.barPadForNumericAxis,this.startY=this.clientY-f.top,this.dragged=!1,this.w.globals.mousedown=!0}(s.type==="mousemove"&&s.which===1||s.type==="touchmove")&&(this.dragged=!0,r.globals.panEnabled?(r.globals.selection=null,this.w.globals.mousedown&&this.panDragging({context:this,zoomtype:l,xyRatios:n})):(this.w.globals.mousedown&&r.globals.zoomEnabled||this.w.globals.mousedown&&r.globals.selectionEnabled)&&(this.selection=this.selectionDrawing({context:this,zoomtype:l}))),s.type!=="mouseup"&&s.type!=="touchend"&&s.type!=="mouseleave"||this.handleMouseUp({zoomtype:l}),this.makeSelectionRectDraggable()}}}},{key:"handleMouseUp",value:function(n){var s,r=n.zoomtype,a=n.isResized,l=this.w,c=(s=this.gridRect)===null||s===void 0?void 0:s.getBoundingClientRect();c&&(this.w.globals.mousedown||a)&&(this.endX=this.clientX-c.left-l.globals.barPadForNumericAxis,this.endY=this.clientY-c.top,this.dragX=Math.abs(this.endX-this.startX),this.dragY=Math.abs(this.endY-this.startY),(l.globals.zoomEnabled||l.globals.selectionEnabled)&&this.selectionDrawn({context:this,zoomtype:r})),l.globals.zoomEnabled&&this.hideSelectionRect(this.selectionRect),this.dragged=!1,this.w.globals.mousedown=!1}},{key:"mouseWheelEvent",value:function(n){var s=this,r=this.w;n.preventDefault();var a=Date.now();a-r.globals.lastWheelExecution>this.wheelDelay&&(this.executeMouseWheelZoom(n),r.globals.lastWheelExecution=a),this.debounceTimer&&clearTimeout(this.debounceTimer),this.debounceTimer=setTimeout(function(){a-r.globals.lastWheelExecution>s.wheelDelay&&(s.executeMouseWheelZoom(n),r.globals.lastWheelExecution=a)},this.debounceDelay)}},{key:"executeMouseWheelZoom",value:function(n){var s,r=this.w;this.minX=r.globals.isRangeBar?r.globals.minY:r.globals.minX,this.maxX=r.globals.isRangeBar?r.globals.maxY:r.globals.maxX;var a=(s=this.gridRect)===null||s===void 0?void 0:s.getBoundingClientRect();if(a){var l,c,h,d=(n.clientX-a.left)/a.width,f=this.minX,p=this.maxX,y=p-f;if(n.deltaY<0){var b=f+d*y;c=b-(l=.5*y)/2,h=b+l/2}else c=f-(l=1.5*y)/2,h=p+l/2;if(!r.globals.isRangeBar){c=Math.max(c,r.globals.initialMinX),h=Math.min(h,r.globals.initialMaxX);var x=.01*(r.globals.initialMaxX-r.globals.initialMinX);if(h-c<x){var _=(c+h)/2;c=_-x/2,h=_+x/2}}var S=this._getNewMinXMaxX(c,h);isNaN(S.minX)||isNaN(S.maxX)||this.zoomUpdateOptions(S.minX,S.maxX)}}},{key:"makeSelectionRectDraggable",value:function(){var n=this,s=this.w;if(this.selectionRect){var r=this.selectionRect.node.getBoundingClientRect();r.width>0&&r.height>0&&(this.selectionRect.select(!1).resize(!1),this.selectionRect.select({createRot:function(){},updateRot:function(){},createHandle:function(a,l,c,h,d){return d==="l"||d==="r"?a.circle(8).css({"stroke-width":1,stroke:"#333",fill:"#fff"}):a.circle(0)},updateHandle:function(a,l){return a.center(l[0],l[1])}}).resize().on("resize",function(){var a=s.globals.zoomEnabled?s.config.chart.zoom.type:s.config.chart.selection.type;n.handleMouseUp({zoomtype:a,isResized:!0})}))}}},{key:"preselectedSelection",value:function(){var n=this.w,s=this.xyRatios;if(!n.globals.zoomEnabled){if(n.globals.selection!==void 0&&n.globals.selection!==null)this.drawSelectionRect(be(be({},n.globals.selection),{},{translateX:n.globals.translateX,translateY:n.globals.translateY}));else if(n.config.chart.selection.xaxis.min!==void 0&&n.config.chart.selection.xaxis.max!==void 0){var r=(n.config.chart.selection.xaxis.min-n.globals.minX)/s.xRatio,a=n.globals.gridWidth-(n.globals.maxX-n.config.chart.selection.xaxis.max)/s.xRatio-r;n.globals.isRangeBar&&(r=(n.config.chart.selection.xaxis.min-n.globals.yAxisScale[0].niceMin)/s.invertedYRatio,a=(n.config.chart.selection.xaxis.max-n.config.chart.selection.xaxis.min)/s.invertedYRatio);var l={x:r,y:0,width:a,height:n.globals.gridHeight,translateX:n.globals.translateX,translateY:n.globals.translateY,selectionEnabled:!0};this.drawSelectionRect(l),this.makeSelectionRectDraggable(),typeof n.config.chart.events.selection=="function"&&n.config.chart.events.selection(this.ctx,{xaxis:{min:n.config.chart.selection.xaxis.min,max:n.config.chart.selection.xaxis.max},yaxis:{}})}}}},{key:"drawSelectionRect",value:function(n){var s=n.x,r=n.y,a=n.width,l=n.height,c=n.translateX,h=c===void 0?0:c,d=n.translateY,f=d===void 0?0:d,p=this.w,y=this.zoomRect,b=this.selectionRect;if(this.dragged||p.globals.selection!==null){var x={transform:"translate("+h+", "+f+")"};p.globals.zoomEnabled&&this.dragged&&(a<0&&(a=1),y.attr({x:s,y:r,width:a,height:l,fill:p.config.chart.zoom.zoomedArea.fill.color,"fill-opacity":p.config.chart.zoom.zoomedArea.fill.opacity,stroke:p.config.chart.zoom.zoomedArea.stroke.color,"stroke-width":p.config.chart.zoom.zoomedArea.stroke.width,"stroke-opacity":p.config.chart.zoom.zoomedArea.stroke.opacity}),fe.setAttrs(y.node,x)),p.globals.selectionEnabled&&(b.attr({x:s,y:r,width:a>0?a:0,height:l>0?l:0,fill:p.config.chart.selection.fill.color,"fill-opacity":p.config.chart.selection.fill.opacity,stroke:p.config.chart.selection.stroke.color,"stroke-width":p.config.chart.selection.stroke.width,"stroke-dasharray":p.config.chart.selection.stroke.dashArray,"stroke-opacity":p.config.chart.selection.stroke.opacity}),fe.setAttrs(b.node,x))}}},{key:"hideSelectionRect",value:function(n){n&&n.attr({x:0,y:0,width:0,height:0})}},{key:"selectionDrawing",value:function(n){var s=n.context,r=n.zoomtype,a=this.w,l=s,c=this.gridRect.getBoundingClientRect(),h=l.startX-1,d=l.startY,f=!1,p=!1,y=l.clientX-c.left-a.globals.barPadForNumericAxis,b=l.clientY-c.top,x=y-h,_=b-d,S={translateX:a.globals.translateX,translateY:a.globals.translateY};return Math.abs(x+h)>a.globals.gridWidth?x=a.globals.gridWidth-h:y<0&&(x=h),h>y&&(f=!0,x=Math.abs(x)),d>b&&(p=!0,_=Math.abs(_)),S=be(be({},S=r==="x"?{x:f?h-x:h,y:0,width:x,height:a.globals.gridHeight}:r==="y"?{x:0,y:p?d-_:d,width:a.globals.gridWidth,height:_}:{x:f?h-x:h,y:p?d-_:d,width:x,height:_}),{},{translateX:a.globals.translateX,translateY:a.globals.translateY}),l.drawSelectionRect(S),l.selectionDragging("resizing"),S}},{key:"selectionDragging",value:function(n,s){var r=this,a=this.w;if(s){s.preventDefault();var l=s.detail,c=l.handler,h=l.box,d=h.x,f=h.y;d<this.constraints.x&&(d=this.constraints.x),f<this.constraints.y&&(f=this.constraints.y),h.x2>this.constraints.x2&&(d=this.constraints.x2-h.w),h.y2>this.constraints.y2&&(f=this.constraints.y2-h.h),c.move(d,f);var p=this.xyRatios,y=this.selectionRect,b=0;n==="resizing"&&(b=30);var x=function(S){return parseFloat(y.node.getAttribute(S))},_={x:x("x"),y:x("y"),width:x("width"),height:x("height")};a.globals.selection=_,typeof a.config.chart.events.selection=="function"&&a.globals.selectionEnabled&&(clearTimeout(this.w.globals.selectionResizeTimer),this.w.globals.selectionResizeTimer=window.setTimeout(function(){var S,T,C,M,R=r.gridRect.getBoundingClientRect(),P=y.node.getBoundingClientRect();a.globals.isRangeBar?(S=a.globals.yAxisScale[0].niceMin+(P.left-R.left)*p.invertedYRatio,T=a.globals.yAxisScale[0].niceMin+(P.right-R.left)*p.invertedYRatio,C=0,M=1):(S=a.globals.xAxisScale.niceMin+(P.left-R.left)*p.xRatio,T=a.globals.xAxisScale.niceMin+(P.right-R.left)*p.xRatio,C=a.globals.yAxisScale[0].niceMin+(R.bottom-P.bottom)*p.yRatio[0],M=a.globals.yAxisScale[0].niceMax-(P.top-R.top)*p.yRatio[0]);var k={xaxis:{min:S,max:T},yaxis:{min:C,max:M}};a.config.chart.events.selection(r.ctx,k),a.config.chart.brush.enabled&&a.config.chart.events.brushScrolled!==void 0&&a.config.chart.events.brushScrolled(r.ctx,k)},b))}}},{key:"selectionDrawn",value:function(n){var s,r,a=n.context,l=n.zoomtype,c=this.w,h=a,d=this.xyRatios,f=this.ctx.toolbar,p=c.globals.zoomEnabled?h.zoomRect.node.getBoundingClientRect():h.selectionRect.node.getBoundingClientRect(),y=h.gridRect.getBoundingClientRect(),b=p.left-y.left-c.globals.barPadForNumericAxis,x=p.right-y.left-c.globals.barPadForNumericAxis,_=p.top-y.top,S=p.bottom-y.top;c.globals.isRangeBar?(s=c.globals.yAxisScale[0].niceMin+b*d.invertedYRatio,r=c.globals.yAxisScale[0].niceMin+x*d.invertedYRatio):(s=c.globals.xAxisScale.niceMin+b*d.xRatio,r=c.globals.xAxisScale.niceMin+x*d.xRatio);var T=[],C=[];if(c.config.yaxis.forEach(function(O,F){var H=c.globals.seriesYAxisMap[F][0],B=c.globals.yAxisScale[F].niceMax-d.yRatio[H]*_,K=c.globals.yAxisScale[F].niceMax-d.yRatio[H]*S;T.push(B),C.push(K)}),h.dragged&&(h.dragX>10||h.dragY>10)&&s!==r){if(c.globals.zoomEnabled){var M=q.clone(c.globals.initialConfig.yaxis),R=q.clone(c.globals.initialConfig.xaxis);if(c.globals.zoomed=!0,c.config.xaxis.convertedCatToNumeric&&(s=Math.floor(s),r=Math.floor(r),s<1&&(s=1,r=c.globals.dataPoints),r-s<2&&(r=s+1)),l!=="xy"&&l!=="x"||(R={min:s,max:r}),l!=="xy"&&l!=="y"||M.forEach(function(O,F){M[F].min=C[F],M[F].max=T[F]}),f){var P=f.getBeforeZoomRange(R,M);P&&(R=P.xaxis?P.xaxis:R,M=P.yaxis?P.yaxis:M)}var k={xaxis:R};c.config.chart.group||(k.yaxis=M),h.ctx.updateHelpers._updateOptions(k,!1,h.w.config.chart.animations.dynamicAnimation.enabled),typeof c.config.chart.events.zoomed=="function"&&f.zoomCallback(R,M)}else if(c.globals.selectionEnabled){var E,D=null;E={min:s,max:r},l!=="xy"&&l!=="y"||(D=q.clone(c.config.yaxis)).forEach(function(O,F){D[F].min=C[F],D[F].max=T[F]}),c.globals.selection=h.selection,typeof c.config.chart.events.selection=="function"&&c.config.chart.events.selection(h.ctx,{xaxis:E,yaxis:D})}}}},{key:"panDragging",value:function(n){var s=n.context,r=this.w,a=s;if(r.globals.lastClientPosition.x!==void 0){var l=r.globals.lastClientPosition.x-a.clientX,c=r.globals.lastClientPosition.y-a.clientY;Math.abs(l)>Math.abs(c)&&l>0?this.moveDirection="left":Math.abs(l)>Math.abs(c)&&l<0?this.moveDirection="right":Math.abs(c)>Math.abs(l)&&c>0?this.moveDirection="up":Math.abs(c)>Math.abs(l)&&c<0&&(this.moveDirection="down")}r.globals.lastClientPosition={x:a.clientX,y:a.clientY};var h=r.globals.isRangeBar?r.globals.minY:r.globals.minX,d=r.globals.isRangeBar?r.globals.maxY:r.globals.maxX;a.panScrolled(h,d)}},{key:"panScrolled",value:function(n,s){var r=this.w,a=this.xyRatios,l=q.clone(r.globals.initialConfig.yaxis),c=a.xRatio,h=r.globals.minX,d=r.globals.maxX;r.globals.isRangeBar&&(c=a.invertedYRatio,h=r.globals.minY,d=r.globals.maxY),this.moveDirection==="left"?(n=h+r.globals.gridWidth/15*c,s=d+r.globals.gridWidth/15*c):this.moveDirection==="right"&&(n=h-r.globals.gridWidth/15*c,s=d-r.globals.gridWidth/15*c),r.globals.isRangeBar||(n<r.globals.initialMinX||s>r.globals.initialMaxX)&&(n=h,s=d);var f={xaxis:{min:n,max:s}};r.config.chart.group||(f.yaxis=l),this.updateScrolledChart(f,n,s)}},{key:"updateScrolledChart",value:function(n,s,r){var a=this.w;if(this.ctx.updateHelpers._updateOptions(n,!1,!1),typeof a.config.chart.events.scrolled=="function"){var l={xaxis:{min:s,max:r}};a.config.chart.events.scrolled(this.ctx,l),this.ctx.events.fireEvent("scrolled",l)}}}]),t}(),TF=function(){function i(e){Ce(this,i),this.w=e.w,this.ttCtx=e,this.ctx=e.ctx}return ke(i,[{key:"getNearestValues",value:function(e){var t=e.hoverArea,n=e.elGrid,s=e.clientX,r=e.clientY,a=this.w,l=n.getBoundingClientRect(),c=l.width,h=l.height,d=c/(a.globals.dataPoints-1),f=h/a.globals.dataPoints,p=this.hasBars();!a.globals.comboCharts&&!p||a.config.xaxis.convertedCatToNumeric||(d=c/a.globals.dataPoints);var y=s-l.left-a.globals.barPadForNumericAxis,b=r-l.top;y<0||b<0||y>c||b>h?(t.classList.remove("hovering-zoom"),t.classList.remove("hovering-pan")):a.globals.zoomEnabled?(t.classList.remove("hovering-pan"),t.classList.add("hovering-zoom")):a.globals.panEnabled&&(t.classList.remove("hovering-zoom"),t.classList.add("hovering-pan"));var x=Math.round(y/d),_=Math.floor(b/f);p&&!a.config.xaxis.convertedCatToNumeric&&(x=Math.ceil(y/d),x-=1);var S=null,T=null,C=a.globals.seriesXvalues.map(function(E){return E.filter(function(D){return q.isNumber(D)})}),M=a.globals.seriesYvalues.map(function(E){return E.filter(function(D){return q.isNumber(D)})});if(a.globals.isXNumeric){var R=this.ttCtx.getElGrid().getBoundingClientRect(),P=y*(R.width/c),k=b*(R.height/h);S=(T=this.closestInMultiArray(P,k,C,M)).index,x=T.j,S!==null&&a.globals.hasNullValues&&(C=a.globals.seriesXvalues[S],x=(T=this.closestInArray(P,C)).j)}return a.globals.capturedSeriesIndex=S===null?-1:S,(!x||x<1)&&(x=0),a.globals.isBarHorizontal?a.globals.capturedDataPointIndex=_:a.globals.capturedDataPointIndex=x,{capturedSeries:S,j:a.globals.isBarHorizontal?_:x,hoverX:y,hoverY:b}}},{key:"getFirstActiveXArray",value:function(e){for(var t=this.w,n=0,s=e.map(function(a,l){return a.length>0?l:-1}),r=0;r<s.length;r++)if(s[r]!==-1&&t.globals.collapsedSeriesIndices.indexOf(r)===-1&&t.globals.ancillaryCollapsedSeriesIndices.indexOf(r)===-1){n=s[r];break}return n}},{key:"closestInMultiArray",value:function(e,t,n,s){for(var r,a=this.w,l=1/0,c=null,h=null,d=0;d<n.length;d++)if(r=d,a.globals.collapsedSeriesIndices.indexOf(r)===-1&&a.globals.ancillaryCollapsedSeriesIndices.indexOf(r)===-1)for(var f=n[d],p=s[d],y=Math.min(f.length,p.length),b=0;b<y;b++){var x=e-f[b],_=Math.sqrt(x*x);if(!a.globals.allSeriesHasEqualX){var S=t-p[b];_=Math.sqrt(x*x+S*S)}_<l&&(l=_,c=d,h=b)}return{index:c,j:h}}},{key:"closestInArray",value:function(e,t){for(var n=t[0],s=null,r=Math.abs(e-n),a=0;a<t.length;a++){var l=Math.abs(e-t[a]);l<r&&(r=l,s=a)}return{j:s}}},{key:"isXoverlap",value:function(e){var t=[],n=this.w.globals.seriesX.filter(function(r){return r[0]!==void 0});if(n.length>0)for(var s=0;s<n.length-1;s++)n[s][e]!==void 0&&n[s+1][e]!==void 0&&n[s][e]!==n[s+1][e]&&t.push("unEqual");return t.length===0}},{key:"isInitialSeriesSameLen",value:function(){for(var e=!0,t=this.w.globals.initialSeries,n=0;n<t.length-1;n++)if(t[n].data.length!==t[n+1].data.length){e=!1;break}return e}},{key:"getBarsHeight",value:function(e){return Qn(e).reduce(function(t,n){return t+n.getBBox().height},0)}},{key:"getElMarkers",value:function(e){return typeof e=="number"?this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:realIndex='".concat(e,"'] .apexcharts-series-markers-wrap > *")):this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap > *")}},{key:"getAllMarkers",value:function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0&&arguments[0],n=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap");n=Qn(n),t&&(n=n.filter(function(r){var a=Number(r.getAttribute("data:realIndex"));return e.w.globals.collapsedSeriesIndices.indexOf(a)===-1})),n.sort(function(r,a){var l=Number(r.getAttribute("data:realIndex")),c=Number(a.getAttribute("data:realIndex"));return c<l?1:c>l?-1:0});var s=[];return n.forEach(function(r){s.push(r.querySelector(".apexcharts-marker"))}),s}},{key:"hasMarkers",value:function(e){return this.getElMarkers(e).length>0}},{key:"getPathFromPoint",value:function(e,t){var n=Number(e.getAttribute("cx")),s=Number(e.getAttribute("cy")),r=e.getAttribute("shape");return new fe(this.ctx).getMarkerPath(n,s,r,t)}},{key:"getElBars",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-bar-series,  .apexcharts-candlestick-series, .apexcharts-boxPlot-series, .apexcharts-rangebar-series")}},{key:"hasBars",value:function(){return this.getElBars().length>0}},{key:"getHoverMarkerSize",value:function(e){var t=this.w,n=t.config.markers.hover.size;return n===void 0&&(n=t.globals.markers.size[e]+t.config.markers.hover.sizeOffset),n}},{key:"toggleAllTooltipSeriesGroups",value:function(e){var t=this.w,n=this.ttCtx;n.allTooltipSeriesGroups.length===0&&(n.allTooltipSeriesGroups=t.globals.dom.baseEl.querySelectorAll(".apexcharts-tooltip-series-group"));for(var s=n.allTooltipSeriesGroups,r=0;r<s.length;r++)e==="enable"?(s[r].classList.add("apexcharts-active"),s[r].style.display=t.config.tooltip.items.display):(s[r].classList.remove("apexcharts-active"),s[r].style.display="none")}}]),i}(),Nee=function(){function i(e){Ce(this,i),this.w=e.w,this.ctx=e.ctx,this.ttCtx=e,this.tooltipUtil=new TF(e)}return ke(i,[{key:"drawSeriesTexts",value:function(e){var t=e.shared,n=t===void 0||t,s=e.ttItems,r=e.i,a=r===void 0?0:r,l=e.j,c=l===void 0?null:l,h=e.y1,d=e.y2,f=e.e,p=this.w;p.config.tooltip.custom!==void 0?this.handleCustomTooltip({i:a,j:c,y1:h,y2:d,w:p}):this.toggleActiveInactiveSeries(n,a);var y=this.getValuesToPrint({i:a,j:c});this.printLabels({i:a,j:c,values:y,ttItems:s,shared:n,e:f});var b=this.ttCtx.getElTooltip();this.ttCtx.tooltipRect.ttWidth=b.getBoundingClientRect().width,this.ttCtx.tooltipRect.ttHeight=b.getBoundingClientRect().height}},{key:"printLabels",value:function(e){var t,n=this,s=e.i,r=e.j,a=e.values,l=e.ttItems,c=e.shared,h=e.e,d=this.w,f=[],p=function(R){return d.globals.seriesGoals[R]&&d.globals.seriesGoals[R][r]&&Array.isArray(d.globals.seriesGoals[R][r])},y=a.xVal,b=a.zVal,x=a.xAxisTTVal,_="",S=d.globals.colors[s];r!==null&&d.config.plotOptions.bar.distributed&&(S=d.globals.colors[r]);for(var T=function(R,P){var k=n.getFormatters(s);_=n.getSeriesName({fn:k.yLbTitleFormatter,index:s,seriesIndex:s,j:r}),d.config.chart.type==="treemap"&&(_=k.yLbTitleFormatter(String(d.config.series[s].data[r].x),{series:d.globals.series,seriesIndex:s,dataPointIndex:r,w:d}));var E=d.config.tooltip.inverseOrder?P:R;if(d.globals.axisCharts){var D=function(H){var B,K,ne,X;return d.globals.isRangeData?k.yLbFormatter((B=d.globals.seriesRangeStart)===null||B===void 0||(K=B[H])===null||K===void 0?void 0:K[r],{series:d.globals.seriesRangeStart,seriesIndex:H,dataPointIndex:r,w:d})+" - "+k.yLbFormatter((ne=d.globals.seriesRangeEnd)===null||ne===void 0||(X=ne[H])===null||X===void 0?void 0:X[r],{series:d.globals.seriesRangeEnd,seriesIndex:H,dataPointIndex:r,w:d}):k.yLbFormatter(d.globals.series[H][r],{series:d.globals.series,seriesIndex:H,dataPointIndex:r,w:d})};if(c)k=n.getFormatters(E),_=n.getSeriesName({fn:k.yLbTitleFormatter,index:E,seriesIndex:s,j:r}),S=d.globals.colors[E],t=D(E),p(E)&&(f=d.globals.seriesGoals[E][r].map(function(H){return{attrs:H,val:k.yLbFormatter(H.value,{seriesIndex:E,dataPointIndex:r,w:d})}}));else{var O,F=h==null||(O=h.target)===null||O===void 0?void 0:O.getAttribute("fill");F&&(F.indexOf("url")!==-1?F.indexOf("Pattern")!==-1&&(S=d.globals.dom.baseEl.querySelector(F.substr(4).slice(0,-1)).childNodes[0].getAttribute("stroke")):S=F),t=D(s),p(s)&&Array.isArray(d.globals.seriesGoals[s][r])&&(f=d.globals.seriesGoals[s][r].map(function(H){return{attrs:H,val:k.yLbFormatter(H.value,{seriesIndex:s,dataPointIndex:r,w:d})}}))}}r===null&&(t=k.yLbFormatter(d.globals.series[s],be(be({},d),{},{seriesIndex:s,dataPointIndex:s}))),n.DOMHandling({i:s,t:E,j:r,ttItems:l,values:{val:t,goalVals:f,xVal:y,xAxisTTVal:x,zVal:b},seriesName:_,shared:c,pColor:S})},C=0,M=d.globals.series.length-1;C<d.globals.series.length;C++,M--)T(C,M)}},{key:"getFormatters",value:function(e){var t,n=this.w,s=n.globals.yLabelFormatters[e];return n.globals.ttVal!==void 0?Array.isArray(n.globals.ttVal)?(s=n.globals.ttVal[e]&&n.globals.ttVal[e].formatter,t=n.globals.ttVal[e]&&n.globals.ttVal[e].title&&n.globals.ttVal[e].title.formatter):(s=n.globals.ttVal.formatter,typeof n.globals.ttVal.title.formatter=="function"&&(t=n.globals.ttVal.title.formatter)):t=n.config.tooltip.y.title.formatter,typeof s!="function"&&(s=n.globals.yLabelFormatters[0]?n.globals.yLabelFormatters[0]:function(r){return r}),typeof t!="function"&&(t=function(r){return r?r+": ":""}),{yLbFormatter:s,yLbTitleFormatter:t}}},{key:"getSeriesName",value:function(e){var t=e.fn,n=e.index,s=e.seriesIndex,r=e.j,a=this.w;return t(String(a.globals.seriesNames[n]),{series:a.globals.series,seriesIndex:s,dataPointIndex:r,w:a})}},{key:"DOMHandling",value:function(e){e.i;var t=e.t,n=e.j,s=e.ttItems,r=e.values,a=e.seriesName,l=e.shared,c=e.pColor,h=this.w,d=this.ttCtx,f=r.val,p=r.goalVals,y=r.xVal,b=r.xAxisTTVal,x=r.zVal,_=null;_=s[t].children,h.config.tooltip.fillSeriesColor&&(s[t].style.backgroundColor=c,_[0].style.display="none"),d.showTooltipTitle&&(d.tooltipTitle===null&&(d.tooltipTitle=h.globals.dom.baseEl.querySelector(".apexcharts-tooltip-title")),d.tooltipTitle.innerHTML=y),d.isXAxisTooltipEnabled&&(d.xaxisTooltipText.innerHTML=b!==""?b:y);var S=s[t].querySelector(".apexcharts-tooltip-text-y-label");S&&(S.innerHTML=a||"");var T=s[t].querySelector(".apexcharts-tooltip-text-y-value");T&&(T.innerHTML=f!==void 0?f:""),_[0]&&_[0].classList.contains("apexcharts-tooltip-marker")&&(h.config.tooltip.marker.fillColors&&Array.isArray(h.config.tooltip.marker.fillColors)&&(c=h.config.tooltip.marker.fillColors[t]),h.config.tooltip.fillSeriesColor?_[0].style.backgroundColor=c:_[0].style.color=c),h.config.tooltip.marker.show||(_[0].style.display="none");var C=s[t].querySelector(".apexcharts-tooltip-text-goals-label"),M=s[t].querySelector(".apexcharts-tooltip-text-goals-value");if(p.length&&h.globals.seriesGoals[t]){var R=function(){var E="<div>",D="<div>";p.forEach(function(O,F){E+=' <div style="display: flex"><span class="apexcharts-tooltip-marker" style="background-color: '.concat(O.attrs.strokeColor,'; height: 3px; border-radius: 0; top: 5px;"></span> ').concat(O.attrs.name,"</div>"),D+="<div>".concat(O.val,"</div>")}),C.innerHTML=E+"</div>",M.innerHTML=D+"</div>"};l?h.globals.seriesGoals[t][n]&&Array.isArray(h.globals.seriesGoals[t][n])?R():(C.innerHTML="",M.innerHTML=""):R()}else C.innerHTML="",M.innerHTML="";if(x!==null&&(s[t].querySelector(".apexcharts-tooltip-text-z-label").innerHTML=h.config.tooltip.z.title,s[t].querySelector(".apexcharts-tooltip-text-z-value").innerHTML=x!==void 0?x:""),l&&_[0]){if(h.config.tooltip.hideEmptySeries){var P=s[t].querySelector(".apexcharts-tooltip-marker"),k=s[t].querySelector(".apexcharts-tooltip-text");parseFloat(f)==0?(P.style.display="none",k.style.display="none"):(P.style.display="block",k.style.display="block")}f==null||h.globals.ancillaryCollapsedSeriesIndices.indexOf(t)>-1||h.globals.collapsedSeriesIndices.indexOf(t)>-1||Array.isArray(d.tConfig.enabledOnSeries)&&d.tConfig.enabledOnSeries.indexOf(t)===-1?_[0].parentNode.style.display="none":_[0].parentNode.style.display=h.config.tooltip.items.display}else Array.isArray(d.tConfig.enabledOnSeries)&&d.tConfig.enabledOnSeries.indexOf(t)===-1&&(_[0].parentNode.style.display="none")}},{key:"toggleActiveInactiveSeries",value:function(e,t){var n=this.w;if(e)this.tooltipUtil.toggleAllTooltipSeriesGroups("enable");else{this.tooltipUtil.toggleAllTooltipSeriesGroups("disable");var s=n.globals.dom.baseEl.querySelector(".apexcharts-tooltip-series-group-".concat(t));s&&(s.classList.add("apexcharts-active"),s.style.display=n.config.tooltip.items.display)}}},{key:"getValuesToPrint",value:function(e){var t=e.i,n=e.j,s=this.w,r=this.ctx.series.filteredSeriesX(),a="",l="",c=null,h=null,d={series:s.globals.series,seriesIndex:t,dataPointIndex:n,w:s},f=s.globals.ttZFormatter;n===null?h=s.globals.series[t]:s.globals.isXNumeric&&s.config.chart.type!=="treemap"?(a=r[t][n],r[t].length===0&&(a=r[this.tooltipUtil.getFirstActiveXArray(r)][n])):a=new QS(this.ctx).isFormatXY()?s.config.series[t].data[n]!==void 0?s.config.series[t].data[n].x:"":s.globals.labels[n]!==void 0?s.globals.labels[n]:"";var p=a;return s.globals.isXNumeric&&s.config.xaxis.type==="datetime"?a=new vg(this.ctx).xLabelFormat(s.globals.ttKeyFormatter,p,p,{i:void 0,dateFormatter:new mi(this.ctx).formatDate,w:this.w}):a=s.globals.isBarHorizontal?s.globals.yLabelFormatters[0](p,d):s.globals.xLabelFormatter(p,d),s.config.tooltip.x.formatter!==void 0&&(a=s.globals.ttKeyFormatter(p,d)),s.globals.seriesZ.length>0&&s.globals.seriesZ[t].length>0&&(c=f(s.globals.seriesZ[t][n],s)),l=typeof s.config.xaxis.tooltip.formatter=="function"?s.globals.xaxisTooltipFormatter(p,d):a,{val:Array.isArray(h)?h.join(" "):h,xVal:Array.isArray(a)?a.join(" "):a,xAxisTTVal:Array.isArray(l)?l.join(" "):l,zVal:c}}},{key:"handleCustomTooltip",value:function(e){var t=e.i,n=e.j,s=e.y1,r=e.y2,a=e.w,l=this.ttCtx.getElTooltip(),c=a.config.tooltip.custom;Array.isArray(c)&&c[t]&&(c=c[t]);var h=c({ctx:this.ctx,series:a.globals.series,seriesIndex:t,dataPointIndex:n,y1:s,y2:r,w:a});typeof h=="string"||typeof h=="number"?l.innerHTML=h:(h instanceof Element||typeof h.nodeName=="string")&&(l.innerHTML="",l.appendChild(h.cloneNode(!0)))}}]),i}(),EF=function(){function i(e){Ce(this,i),this.ttCtx=e,this.ctx=e.ctx,this.w=e.w}return ke(i,[{key:"moveXCrosshairs",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,n=this.ttCtx,s=this.w,r=n.getElXCrosshairs(),a=e-n.xcrosshairsWidth/2,l=s.globals.labels.slice().length;if(t!==null&&(a=s.globals.gridWidth/l*t),r===null||s.globals.isBarHorizontal||(r.setAttribute("x",a),r.setAttribute("x1",a),r.setAttribute("x2",a),r.setAttribute("y2",s.globals.gridHeight),r.classList.add("apexcharts-active")),a<0&&(a=0),a>s.globals.gridWidth&&(a=s.globals.gridWidth),n.isXAxisTooltipEnabled){var c=a;s.config.xaxis.crosshairs.width!=="tickWidth"&&s.config.xaxis.crosshairs.width!=="barWidth"||(c=a+n.xcrosshairsWidth/2),this.moveXAxisTooltip(c)}}},{key:"moveYCrosshairs",value:function(e){var t=this.ttCtx;t.ycrosshairs!==null&&fe.setAttrs(t.ycrosshairs,{y1:e,y2:e}),t.ycrosshairsHidden!==null&&fe.setAttrs(t.ycrosshairsHidden,{y1:e,y2:e})}},{key:"moveXAxisTooltip",value:function(e){var t=this.w,n=this.ttCtx;if(n.xaxisTooltip!==null&&n.xcrosshairsWidth!==0){n.xaxisTooltip.classList.add("apexcharts-active");var s=n.xaxisOffY+t.config.xaxis.tooltip.offsetY+t.globals.translateY+1+t.config.xaxis.offsetY;if(e-=n.xaxisTooltip.getBoundingClientRect().width/2,!isNaN(e)){e+=t.globals.translateX;var r;r=new fe(this.ctx).getTextRects(n.xaxisTooltipText.innerHTML),n.xaxisTooltipText.style.minWidth=r.width+"px",n.xaxisTooltip.style.left=e+"px",n.xaxisTooltip.style.top=s+"px"}}}},{key:"moveYAxisTooltip",value:function(e){var t=this.w,n=this.ttCtx;n.yaxisTTEls===null&&(n.yaxisTTEls=t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));var s=parseInt(n.ycrosshairsHidden.getAttribute("y1"),10),r=t.globals.translateY+s,a=n.yaxisTTEls[e].getBoundingClientRect(),l=a.height,c=t.globals.translateYAxisX[e]-2;t.config.yaxis[e].opposite&&(c-=a.width),r-=l/2,t.globals.ignoreYAxisIndexes.indexOf(e)===-1&&r>0&&r<t.globals.gridHeight?(n.yaxisTTEls[e].classList.add("apexcharts-active"),n.yaxisTTEls[e].style.top=r+"px",n.yaxisTTEls[e].style.left=c+t.config.yaxis[e].tooltip.offsetX+"px"):n.yaxisTTEls[e].classList.remove("apexcharts-active")}},{key:"moveTooltip",value:function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=this.w,r=this.ttCtx,a=r.getElTooltip(),l=r.tooltipRect,c=n!==null?parseFloat(n):1,h=parseFloat(e)+c+5,d=parseFloat(t)+c/2;if(h>s.globals.gridWidth/2&&(h=h-l.ttWidth-c-10),h>s.globals.gridWidth-l.ttWidth-10&&(h=s.globals.gridWidth-l.ttWidth),h<-20&&(h=-20),s.config.tooltip.followCursor){var f=r.getElGrid().getBoundingClientRect();(h=r.e.clientX-f.left)>s.globals.gridWidth/2&&(h-=r.tooltipRect.ttWidth),(d=r.e.clientY+s.globals.translateY-f.top)>s.globals.gridHeight/2&&(d-=r.tooltipRect.ttHeight)}else s.globals.isBarHorizontal||l.ttHeight/2+d>s.globals.gridHeight&&(d=s.globals.gridHeight-l.ttHeight+s.globals.translateY);isNaN(h)||(h+=s.globals.translateX,a.style.left=h+"px",a.style.top=d+"px")}},{key:"moveMarkers",value:function(e,t){var n=this.w,s=this.ttCtx;if(n.globals.markers.size[e]>0)for(var r=n.globals.dom.baseEl.querySelectorAll(" .apexcharts-series[data\\:realIndex='".concat(e,"'] .apexcharts-marker")),a=0;a<r.length;a++)parseInt(r[a].getAttribute("rel"),10)===t&&(s.marker.resetPointsSize(),s.marker.enlargeCurrentPoint(t,r[a]));else s.marker.resetPointsSize(),this.moveDynamicPointOnHover(t,e)}},{key:"moveDynamicPointOnHover",value:function(e,t){var n,s,r,a,l=this.w,c=this.ttCtx,h=new fe(this.ctx),d=l.globals.pointsArray,f=c.tooltipUtil.getHoverMarkerSize(t),p=l.config.series[t].type;if(!p||p!=="column"&&p!=="candlestick"&&p!=="boxPlot"){r=(n=d[t][e])===null||n===void 0?void 0:n[0],a=((s=d[t][e])===null||s===void 0?void 0:s[1])||0;var y=l.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(t,"'] .apexcharts-series-markers path"));if(y&&a<l.globals.gridHeight&&a>0){var b=y.getAttribute("shape"),x=h.getMarkerPath(r,a,b,1.5*f);y.setAttribute("d",x)}this.moveXCrosshairs(r),c.fixedTooltip||this.moveTooltip(r,a,f)}}},{key:"moveDynamicPointsOnHover",value:function(e){var t,n=this.ttCtx,s=n.w,r=0,a=0,l=s.globals.pointsArray,c=new Ks(this.ctx),h=new fe(this.ctx);t=c.getActiveConfigSeriesIndex("asc",["line","area","scatter","bubble"]);var d=n.tooltipUtil.getHoverMarkerSize(t);if(l[t]&&(r=l[t][e][0],a=l[t][e][1]),!isNaN(r)){var f=n.tooltipUtil.getAllMarkers();if(f.length)for(var p=0;p<s.globals.series.length;p++){var y=l[p];if(s.globals.comboCharts&&y===void 0&&f.splice(p,0,null),y&&y.length){var b=l[p][e][1],x=void 0;f[p].setAttribute("cx",r);var _=f[p].getAttribute("shape");if(s.config.chart.type==="rangeArea"&&!s.globals.comboCharts){var S=e+s.globals.series[p].length;x=l[p][S][1],b-=Math.abs(b-x)/2}if(b!==null&&!isNaN(b)&&b<s.globals.gridHeight+d&&b+d>0){var T=h.getMarkerPath(r,b,_,d);f[p].setAttribute("d",T)}else f[p].setAttribute("d","")}}this.moveXCrosshairs(r),n.fixedTooltip||this.moveTooltip(r,a||s.globals.gridHeight,d)}}},{key:"moveStickyTooltipOverBars",value:function(e,t){var n=this.w,s=this.ttCtx,r=n.globals.columnSeries?n.globals.columnSeries.length:n.globals.series.length;n.config.chart.stacked&&(r=n.globals.barGroups.length);var a=r>=2&&r%2==0?Math.floor(r/2):Math.floor(r/2)+1;n.globals.isBarHorizontal&&(a=new Ks(this.ctx).getActiveConfigSeriesIndex("desc")+1);var l=n.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[rel='".concat(a,"'] path[j='").concat(e,"'], .apexcharts-candlestick-series .apexcharts-series[rel='").concat(a,"'] path[j='").concat(e,"'], .apexcharts-boxPlot-series .apexcharts-series[rel='").concat(a,"'] path[j='").concat(e,"'], .apexcharts-rangebar-series .apexcharts-series[rel='").concat(a,"'] path[j='").concat(e,"']"));l||typeof t!="number"||(l=n.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[data\\:realIndex='".concat(t,"'] path[j='").concat(e,`'],
        .apexcharts-candlestick-series .apexcharts-series[data\\:realIndex='`).concat(t,"'] path[j='").concat(e,`'],
        .apexcharts-boxPlot-series .apexcharts-series[data\\:realIndex='`).concat(t,"'] path[j='").concat(e,`'],
        .apexcharts-rangebar-series .apexcharts-series[data\\:realIndex='`).concat(t,"'] path[j='").concat(e,"']")));var c=l?parseFloat(l.getAttribute("cx")):0,h=l?parseFloat(l.getAttribute("cy")):0,d=l?parseFloat(l.getAttribute("barWidth")):0,f=s.getElGrid().getBoundingClientRect(),p=l&&(l.classList.contains("apexcharts-candlestick-area")||l.classList.contains("apexcharts-boxPlot-area"));n.globals.isXNumeric?(l&&!p&&(c-=r%2!=0?d/2:0),l&&p&&(c-=d/2)):n.globals.isBarHorizontal||(c=s.xAxisTicksPositions[e-1]+s.dataPointsDividedWidth/2,isNaN(c)&&(c=s.xAxisTicksPositions[e]-s.dataPointsDividedWidth/2)),n.globals.isBarHorizontal?h-=s.tooltipRect.ttHeight:n.config.tooltip.followCursor?h=s.e.clientY-f.top-s.tooltipRect.ttHeight/2:h+s.tooltipRect.ttHeight+15>n.globals.gridHeight&&(h=n.globals.gridHeight),n.globals.isBarHorizontal||this.moveXCrosshairs(c),s.fixedTooltip||this.moveTooltip(c,h||n.globals.gridHeight)}}]),i}(),Pee=function(){function i(e){Ce(this,i),this.w=e.w,this.ttCtx=e,this.ctx=e.ctx,this.tooltipPosition=new EF(e)}return ke(i,[{key:"drawDynamicPoints",value:function(){var e=this.w,t=new fe(this.ctx),n=new fh(this.ctx),s=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series");s=Qn(s),e.config.chart.stacked&&s.sort(function(f,p){return parseFloat(f.getAttribute("data:realIndex"))-parseFloat(p.getAttribute("data:realIndex"))});for(var r=0;r<s.length;r++){var a=s[r].querySelector(".apexcharts-series-markers-wrap");if(a!==null){var l=void 0,c="apexcharts-marker w".concat((Math.random()+1).toString(36).substring(4));e.config.chart.type!=="line"&&e.config.chart.type!=="area"||e.globals.comboCharts||e.config.tooltip.intersect||(c+=" no-pointer-events");var h=n.getMarkerConfig({cssClass:c,seriesIndex:Number(a.getAttribute("data:realIndex"))});(l=t.drawMarker(0,0,h)).node.setAttribute("default-marker-size",0);var d=document.createElementNS(e.globals.SVGNS,"g");d.classList.add("apexcharts-series-markers"),d.appendChild(l.node),a.appendChild(d)}}}},{key:"enlargeCurrentPoint",value:function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,r=this.w;r.config.chart.type!=="bubble"&&this.newPointSize(e,t);var a=t.getAttribute("cx"),l=t.getAttribute("cy");if(n!==null&&s!==null&&(a=n,l=s),this.tooltipPosition.moveXCrosshairs(a),!this.fixedTooltip){if(r.config.chart.type==="radar"){var c=this.ttCtx.getElGrid().getBoundingClientRect();a=this.ttCtx.e.clientX-c.left}this.tooltipPosition.moveTooltip(a,l,r.config.markers.hover.size)}}},{key:"enlargePoints",value:function(e){for(var t=this.w,n=this,s=this.ttCtx,r=e,a=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),l=t.config.markers.hover.size,c=0;c<a.length;c++){var h=a[c].getAttribute("rel"),d=a[c].getAttribute("index");if(l===void 0&&(l=t.globals.markers.size[d]+t.config.markers.hover.sizeOffset),r===parseInt(h,10)){n.newPointSize(r,a[c]);var f=a[c].getAttribute("cx"),p=a[c].getAttribute("cy");n.tooltipPosition.moveXCrosshairs(f),s.fixedTooltip||n.tooltipPosition.moveTooltip(f,p,l)}else n.oldPointSize(a[c])}}},{key:"newPointSize",value:function(e,t){var n=this.w,s=n.config.markers.hover.size,r=e===0?t.parentNode.firstChild:t.parentNode.lastChild;if(r.getAttribute("default-marker-size")!=="0"){var a=parseInt(r.getAttribute("index"),10);s===void 0&&(s=n.globals.markers.size[a]+n.config.markers.hover.sizeOffset),s<0&&(s=0);var l=this.ttCtx.tooltipUtil.getPathFromPoint(t,s);t.setAttribute("d",l)}}},{key:"oldPointSize",value:function(e){var t=parseFloat(e.getAttribute("default-marker-size")),n=this.ttCtx.tooltipUtil.getPathFromPoint(e,t);e.setAttribute("d",n)}},{key:"resetPointsSize",value:function(){for(var e=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),t=0;t<e.length;t++){var n=parseFloat(e[t].getAttribute("default-marker-size"));if(q.isNumber(n)&&n>0){var s=this.ttCtx.tooltipUtil.getPathFromPoint(e[t],n);e[t].setAttribute("d",s)}else e[t].setAttribute("d","M0,0")}}}]),i}(),Oee=function(){function i(e){Ce(this,i),this.w=e.w;var t=this.w;this.ttCtx=e,this.isVerticalGroupedRangeBar=!t.globals.isBarHorizontal&&t.config.chart.type==="rangeBar"&&t.config.plotOptions.bar.rangeBarGroupRows}return ke(i,[{key:"getAttr",value:function(e,t){return parseFloat(e.target.getAttribute(t))}},{key:"handleHeatTreeTooltip",value:function(e){var t=e.e,n=e.opt,s=e.x,r=e.y,a=e.type,l=this.ttCtx,c=this.w;if(t.target.classList.contains("apexcharts-".concat(a,"-rect"))){var h=this.getAttr(t,"i"),d=this.getAttr(t,"j"),f=this.getAttr(t,"cx"),p=this.getAttr(t,"cy"),y=this.getAttr(t,"width"),b=this.getAttr(t,"height");if(l.tooltipLabels.drawSeriesTexts({ttItems:n.ttItems,i:h,j:d,shared:!1,e:t}),c.globals.capturedSeriesIndex=h,c.globals.capturedDataPointIndex=d,s=f+l.tooltipRect.ttWidth/2+y,r=p+l.tooltipRect.ttHeight/2-b/2,l.tooltipPosition.moveXCrosshairs(f+y/2),s>c.globals.gridWidth/2&&(s=f-l.tooltipRect.ttWidth/2+y),l.w.config.tooltip.followCursor){var x=c.globals.dom.elWrap.getBoundingClientRect();s=c.globals.clientX-x.left-(s>c.globals.gridWidth/2?l.tooltipRect.ttWidth:0),r=c.globals.clientY-x.top-(r>c.globals.gridHeight/2?l.tooltipRect.ttHeight:0)}}return{x:s,y:r}}},{key:"handleMarkerTooltip",value:function(e){var t,n,s=e.e,r=e.opt,a=e.x,l=e.y,c=this.w,h=this.ttCtx;if(s.target.classList.contains("apexcharts-marker")){var d=parseInt(r.paths.getAttribute("cx"),10),f=parseInt(r.paths.getAttribute("cy"),10),p=parseFloat(r.paths.getAttribute("val"));if(n=parseInt(r.paths.getAttribute("rel"),10),t=parseInt(r.paths.parentNode.parentNode.parentNode.getAttribute("rel"),10)-1,h.intersect){var y=q.findAncestor(r.paths,"apexcharts-series");y&&(t=parseInt(y.getAttribute("data:realIndex"),10))}if(h.tooltipLabels.drawSeriesTexts({ttItems:r.ttItems,i:t,j:n,shared:!h.showOnIntersect&&c.config.tooltip.shared,e:s}),s.type==="mouseup"&&h.markerClick(s,t,n),c.globals.capturedSeriesIndex=t,c.globals.capturedDataPointIndex=n,a=d,l=f+c.globals.translateY-1.4*h.tooltipRect.ttHeight,h.w.config.tooltip.followCursor){var b=h.getElGrid().getBoundingClientRect();l=h.e.clientY+c.globals.translateY-b.top}p<0&&(l=f),h.marker.enlargeCurrentPoint(n,r.paths,a,l)}return{x:a,y:l}}},{key:"handleBarTooltip",value:function(e){var t,n,s=e.e,r=e.opt,a=this.w,l=this.ttCtx,c=l.getElTooltip(),h=0,d=0,f=0,p=this.getBarTooltipXY({e:s,opt:r});if(p.j!==null||p.barHeight!==0||p.barWidth!==0){t=p.i;var y=p.j;if(a.globals.capturedSeriesIndex=t,a.globals.capturedDataPointIndex=y,a.globals.isBarHorizontal&&l.tooltipUtil.hasBars()||!a.config.tooltip.shared?(d=p.x,f=p.y,n=Array.isArray(a.config.stroke.width)?a.config.stroke.width[t]:a.config.stroke.width,h=d):a.globals.comboCharts||a.config.tooltip.shared||(h/=2),isNaN(f)&&(f=a.globals.svgHeight-l.tooltipRect.ttHeight),parseInt(r.paths.parentNode.getAttribute("data:realIndex"),10),d+l.tooltipRect.ttWidth>a.globals.gridWidth?d-=l.tooltipRect.ttWidth:d<0&&(d=0),l.w.config.tooltip.followCursor){var b=l.getElGrid().getBoundingClientRect();f=l.e.clientY-b.top}l.tooltip===null&&(l.tooltip=a.globals.dom.baseEl.querySelector(".apexcharts-tooltip")),a.config.tooltip.shared||(a.globals.comboBarCount>0?l.tooltipPosition.moveXCrosshairs(h+n/2):l.tooltipPosition.moveXCrosshairs(h)),!l.fixedTooltip&&(!a.config.tooltip.shared||a.globals.isBarHorizontal&&l.tooltipUtil.hasBars())&&(f=f+a.globals.translateY-l.tooltipRect.ttHeight/2,c.style.left=d+a.globals.translateX+"px",c.style.top=f+"px")}}},{key:"getBarTooltipXY",value:function(e){var t=this,n=e.e,s=e.opt,r=this.w,a=null,l=this.ttCtx,c=0,h=0,d=0,f=0,p=0,y=n.target.classList;if(y.contains("apexcharts-bar-area")||y.contains("apexcharts-candlestick-area")||y.contains("apexcharts-boxPlot-area")||y.contains("apexcharts-rangebar-area")){var b=n.target,x=b.getBoundingClientRect(),_=s.elGrid.getBoundingClientRect(),S=x.height;p=x.height;var T=x.width,C=parseInt(b.getAttribute("cx"),10),M=parseInt(b.getAttribute("cy"),10);f=parseFloat(b.getAttribute("barWidth"));var R=n.type==="touchmove"?n.touches[0].clientX:n.clientX;a=parseInt(b.getAttribute("j"),10),c=parseInt(b.parentNode.getAttribute("rel"),10)-1;var P=b.getAttribute("data-range-y1"),k=b.getAttribute("data-range-y2");r.globals.comboCharts&&(c=parseInt(b.parentNode.getAttribute("data:realIndex"),10));var E=function(O){return r.globals.isXNumeric?C-T/2:t.isVerticalGroupedRangeBar?C+T/2:C-l.dataPointsDividedWidth+T/2},D=function(){return M-l.dataPointsDividedHeight+S/2-l.tooltipRect.ttHeight/2};l.tooltipLabels.drawSeriesTexts({ttItems:s.ttItems,i:c,j:a,y1:P?parseInt(P,10):null,y2:k?parseInt(k,10):null,shared:!l.showOnIntersect&&r.config.tooltip.shared,e:n}),r.config.tooltip.followCursor?r.globals.isBarHorizontal?(h=R-_.left+15,d=D()):(h=E(),d=n.clientY-_.top-l.tooltipRect.ttHeight/2-15):r.globals.isBarHorizontal?((h=C)<l.xyRatios.baseLineInvertedY&&(h=C-l.tooltipRect.ttWidth),d=D()):(h=E(),d=M)}return{x:h,y:d,barHeight:p,barWidth:f,i:c,j:a}}}]),i}(),Lee=function(){function i(e){Ce(this,i),this.w=e.w,this.ttCtx=e}return ke(i,[{key:"drawXaxisTooltip",value:function(){var e=this.w,t=this.ttCtx,n=e.config.xaxis.position==="bottom";t.xaxisOffY=n?e.globals.gridHeight+1:-e.globals.xAxisHeight-e.config.xaxis.axisTicks.height+3;var s=n?"apexcharts-xaxistooltip apexcharts-xaxistooltip-bottom":"apexcharts-xaxistooltip apexcharts-xaxistooltip-top",r=e.globals.dom.elWrap;t.isXAxisTooltipEnabled&&e.globals.dom.baseEl.querySelector(".apexcharts-xaxistooltip")===null&&(t.xaxisTooltip=document.createElement("div"),t.xaxisTooltip.setAttribute("class",s+" apexcharts-theme-"+e.config.tooltip.theme),r.appendChild(t.xaxisTooltip),t.xaxisTooltipText=document.createElement("div"),t.xaxisTooltipText.classList.add("apexcharts-xaxistooltip-text"),t.xaxisTooltipText.style.fontFamily=e.config.xaxis.tooltip.style.fontFamily||e.config.chart.fontFamily,t.xaxisTooltipText.style.fontSize=e.config.xaxis.tooltip.style.fontSize,t.xaxisTooltip.appendChild(t.xaxisTooltipText))}},{key:"drawYaxisTooltip",value:function(){for(var e=this.w,t=this.ttCtx,n=0;n<e.config.yaxis.length;n++){var s=e.config.yaxis[n].opposite||e.config.yaxis[n].crosshairs.opposite;t.yaxisOffX=s?e.globals.gridWidth+1:1;var r="apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(n,s?" apexcharts-yaxistooltip-right":" apexcharts-yaxistooltip-left"),a=e.globals.dom.elWrap;e.globals.dom.baseEl.querySelector(".apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(n))===null&&(t.yaxisTooltip=document.createElement("div"),t.yaxisTooltip.setAttribute("class",r+" apexcharts-theme-"+e.config.tooltip.theme),a.appendChild(t.yaxisTooltip),n===0&&(t.yaxisTooltipText=[]),t.yaxisTooltipText[n]=document.createElement("div"),t.yaxisTooltipText[n].classList.add("apexcharts-yaxistooltip-text"),t.yaxisTooltip.appendChild(t.yaxisTooltipText[n]))}}},{key:"setXCrosshairWidth",value:function(){var e=this.w,t=this.ttCtx,n=t.getElXCrosshairs();if(t.xcrosshairsWidth=parseInt(e.config.xaxis.crosshairs.width,10),e.globals.comboCharts){var s=e.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(s!==null&&e.config.xaxis.crosshairs.width==="barWidth"){var r=parseFloat(s.getAttribute("barWidth"));t.xcrosshairsWidth=r}else if(e.config.xaxis.crosshairs.width==="tickWidth"){var a=e.globals.labels.length;t.xcrosshairsWidth=e.globals.gridWidth/a}}else if(e.config.xaxis.crosshairs.width==="tickWidth"){var l=e.globals.labels.length;t.xcrosshairsWidth=e.globals.gridWidth/l}else if(e.config.xaxis.crosshairs.width==="barWidth"){var c=e.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(c!==null){var h=parseFloat(c.getAttribute("barWidth"));t.xcrosshairsWidth=h}else t.xcrosshairsWidth=1}e.globals.isBarHorizontal&&(t.xcrosshairsWidth=0),n!==null&&t.xcrosshairsWidth>0&&n.setAttribute("width",t.xcrosshairsWidth)}},{key:"handleYCrosshair",value:function(){var e=this.w,t=this.ttCtx;t.ycrosshairs=e.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs"),t.ycrosshairsHidden=e.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs-hidden")}},{key:"drawYaxisTooltipText",value:function(e,t,n){var s=this.ttCtx,r=this.w,a=r.globals,l=a.seriesYAxisMap[e];if(s.yaxisTooltips[e]&&l.length>0){var c=a.yLabelFormatters[e],h=s.getElGrid().getBoundingClientRect(),d=l[0],f=0;n.yRatio.length>1&&(f=d);var p=(t-h.top)*n.yRatio[f],y=a.maxYArr[d]-a.minYArr[d],b=a.minYArr[d]+(y-p);r.config.yaxis[e].reversed&&(b=a.maxYArr[d]-(y-p)),s.tooltipPosition.moveYCrosshairs(t-h.top),s.yaxisTooltipText[e].innerHTML=c(b),s.tooltipPosition.moveYAxisTooltip(e)}}}]),i}(),B2=function(){function i(e){Ce(this,i),this.ctx=e,this.w=e.w;var t=this.w;this.tConfig=t.config.tooltip,this.tooltipUtil=new TF(this),this.tooltipLabels=new Nee(this),this.tooltipPosition=new EF(this),this.marker=new Pee(this),this.intersect=new Oee(this),this.axesTooltip=new Lee(this),this.showOnIntersect=this.tConfig.intersect,this.showTooltipTitle=this.tConfig.x.show,this.fixedTooltip=this.tConfig.fixed.enabled,this.xaxisTooltip=null,this.yaxisTTEls=null,this.isBarShared=!t.globals.isBarHorizontal&&this.tConfig.shared,this.lastHoverTime=Date.now()}return ke(i,[{key:"getElTooltip",value:function(e){return e||(e=this),e.w.globals.dom.baseEl?e.w.globals.dom.baseEl.querySelector(".apexcharts-tooltip"):null}},{key:"getElXCrosshairs",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-xcrosshairs")}},{key:"getElGrid",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-grid")}},{key:"drawTooltip",value:function(e){var t=this.w;this.xyRatios=e,this.isXAxisTooltipEnabled=t.config.xaxis.tooltip.enabled&&t.globals.axisCharts,this.yaxisTooltips=t.config.yaxis.map(function(a,l){return!!(a.show&&a.tooltip.enabled&&t.globals.axisCharts)}),this.allTooltipSeriesGroups=[],t.globals.axisCharts||(this.showTooltipTitle=!1);var n=document.createElement("div");if(n.classList.add("apexcharts-tooltip"),t.config.tooltip.cssClass&&n.classList.add(t.config.tooltip.cssClass),n.classList.add("apexcharts-theme-".concat(this.tConfig.theme||"light")),t.globals.dom.elWrap.appendChild(n),t.globals.axisCharts){this.axesTooltip.drawXaxisTooltip(),this.axesTooltip.drawYaxisTooltip(),this.axesTooltip.setXCrosshairWidth(),this.axesTooltip.handleYCrosshair();var s=new Pf(this.ctx);this.xAxisTicksPositions=s.getXAxisTicksPositions()}if(!t.globals.comboCharts&&!this.tConfig.intersect&&t.config.chart.type!=="rangeBar"||this.tConfig.shared||(this.showOnIntersect=!0),t.config.markers.size!==0&&t.globals.markers.largestSize!==0||this.marker.drawDynamicPoints(this),t.globals.collapsedSeries.length!==t.globals.series.length){this.dataPointsDividedHeight=t.globals.gridHeight/t.globals.dataPoints,this.dataPointsDividedWidth=t.globals.gridWidth/t.globals.dataPoints,this.showTooltipTitle&&(this.tooltipTitle=document.createElement("div"),this.tooltipTitle.classList.add("apexcharts-tooltip-title"),this.tooltipTitle.style.fontFamily=this.tConfig.style.fontFamily||t.config.chart.fontFamily,this.tooltipTitle.style.fontSize=this.tConfig.style.fontSize,n.appendChild(this.tooltipTitle));var r=t.globals.series.length;(t.globals.xyCharts||t.globals.comboCharts)&&this.tConfig.shared&&(r=this.showOnIntersect?1:t.globals.series.length),this.legendLabels=t.globals.dom.baseEl.querySelectorAll(".apexcharts-legend-text"),this.ttItems=this.createTTElements(r),this.addSVGEvents()}}},{key:"createTTElements",value:function(e){for(var t=this,n=this.w,s=[],r=this.getElTooltip(),a=function(c){var h=document.createElement("div");h.classList.add("apexcharts-tooltip-series-group","apexcharts-tooltip-series-group-".concat(c)),h.style.order=n.config.tooltip.inverseOrder?e-c:c+1;var d=document.createElement("span");d.classList.add("apexcharts-tooltip-marker"),n.config.tooltip.fillSeriesColor?d.style.backgroundColor=n.globals.colors[c]:d.style.color=n.globals.colors[c];var f=n.config.markers.shape,p=f;Array.isArray(f)&&(p=f[c]),d.setAttribute("shape",p),h.appendChild(d);var y=document.createElement("div");y.classList.add("apexcharts-tooltip-text"),y.style.fontFamily=t.tConfig.style.fontFamily||n.config.chart.fontFamily,y.style.fontSize=t.tConfig.style.fontSize,["y","goals","z"].forEach(function(b){var x=document.createElement("div");x.classList.add("apexcharts-tooltip-".concat(b,"-group"));var _=document.createElement("span");_.classList.add("apexcharts-tooltip-text-".concat(b,"-label")),x.appendChild(_);var S=document.createElement("span");S.classList.add("apexcharts-tooltip-text-".concat(b,"-value")),x.appendChild(S),y.appendChild(x)}),h.appendChild(y),r.appendChild(h),s.push(h)},l=0;l<e;l++)a(l);return s}},{key:"addSVGEvents",value:function(){var e=this.w,t=e.config.chart.type,n=this.getElTooltip(),s=!(t!=="bar"&&t!=="candlestick"&&t!=="boxPlot"&&t!=="rangeBar"),r=t==="area"||t==="line"||t==="scatter"||t==="bubble"||t==="radar",a=e.globals.dom.Paper.node,l=this.getElGrid();l&&(this.seriesBound=l.getBoundingClientRect());var c,h=[],d=[],f={hoverArea:a,elGrid:l,tooltipEl:n,tooltipY:h,tooltipX:d,ttItems:this.ttItems};if(e.globals.axisCharts&&(r?c=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:longestSeries='true'] .apexcharts-marker"):s?c=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-bar-area, .apexcharts-series .apexcharts-candlestick-area, .apexcharts-series .apexcharts-boxPlot-area, .apexcharts-series .apexcharts-rangebar-area"):t!=="heatmap"&&t!=="treemap"||(c=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-heatmap, .apexcharts-series .apexcharts-treemap")),c&&c.length))for(var p=0;p<c.length;p++)h.push(c[p].getAttribute("cy")),d.push(c[p].getAttribute("cx"));if(e.globals.xyCharts&&!this.showOnIntersect||e.globals.comboCharts&&!this.showOnIntersect||s&&this.tooltipUtil.hasBars()&&this.tConfig.shared)this.addPathsEventListeners([a],f);else if(s&&!e.globals.comboCharts||r&&this.showOnIntersect)this.addDatapointEventsListeners(f);else if(!e.globals.axisCharts||t==="heatmap"||t==="treemap"){var y=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series");this.addPathsEventListeners(y,f)}if(this.showOnIntersect){var b=e.globals.dom.baseEl.querySelectorAll(".apexcharts-line-series .apexcharts-marker, .apexcharts-area-series .apexcharts-marker");b.length>0&&this.addPathsEventListeners(b,f),this.tooltipUtil.hasBars()&&!this.tConfig.shared&&this.addDatapointEventsListeners(f)}}},{key:"drawFixedTooltipRect",value:function(){var e=this.w,t=this.getElTooltip(),n=t.getBoundingClientRect(),s=n.width+10,r=n.height+10,a=this.tConfig.fixed.offsetX,l=this.tConfig.fixed.offsetY,c=this.tConfig.fixed.position.toLowerCase();return c.indexOf("right")>-1&&(a=a+e.globals.svgWidth-s+10),c.indexOf("bottom")>-1&&(l=l+e.globals.svgHeight-r-10),t.style.left=a+"px",t.style.top=l+"px",{x:a,y:l,ttWidth:s,ttHeight:r}}},{key:"addDatapointEventsListeners",value:function(e){var t=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers .apexcharts-marker, .apexcharts-bar-area, .apexcharts-candlestick-area, .apexcharts-boxPlot-area, .apexcharts-rangebar-area");this.addPathsEventListeners(t,e)}},{key:"addPathsEventListeners",value:function(e,t){for(var n=this,s=function(a){var l={paths:e[a],tooltipEl:t.tooltipEl,tooltipY:t.tooltipY,tooltipX:t.tooltipX,elGrid:t.elGrid,hoverArea:t.hoverArea,ttItems:t.ttItems};["mousemove","mouseup","touchmove","mouseout","touchend"].map(function(c){return e[a].addEventListener(c,n.onSeriesHover.bind(n,l),{capture:!1,passive:!0})})},r=0;r<e.length;r++)s(r)}},{key:"onSeriesHover",value:function(e,t){var n=this,s=Date.now()-this.lastHoverTime;s>=20?this.seriesHover(e,t):(clearTimeout(this.seriesHoverTimeout),this.seriesHoverTimeout=setTimeout(function(){n.seriesHover(e,t)},20-s))}},{key:"seriesHover",value:function(e,t){var n=this;this.lastHoverTime=Date.now();var s=[],r=this.w;r.config.chart.group&&(s=this.ctx.getGroupedCharts()),r.globals.axisCharts&&(r.globals.minX===-1/0&&r.globals.maxX===1/0||r.globals.dataPoints===0)||(s.length?s.forEach(function(a){var l=n.getElTooltip(a),c={paths:e.paths,tooltipEl:l,tooltipY:e.tooltipY,tooltipX:e.tooltipX,elGrid:e.elGrid,hoverArea:e.hoverArea,ttItems:a.w.globals.tooltip.ttItems};a.w.globals.minX===n.w.globals.minX&&a.w.globals.maxX===n.w.globals.maxX&&a.w.globals.tooltip.seriesHoverByContext({chartCtx:a,ttCtx:a.w.globals.tooltip,opt:c,e:t})}):this.seriesHoverByContext({chartCtx:this.ctx,ttCtx:this.w.globals.tooltip,opt:e,e:t}))}},{key:"seriesHoverByContext",value:function(e){var t=e.chartCtx,n=e.ttCtx,s=e.opt,r=e.e,a=t.w,l=this.getElTooltip(t);l&&(n.tooltipRect={x:0,y:0,ttWidth:l.getBoundingClientRect().width,ttHeight:l.getBoundingClientRect().height},n.e=r,n.tooltipUtil.hasBars()&&!a.globals.comboCharts&&!n.isBarShared&&this.tConfig.onDatasetHover.highlightDataSeries&&new Ks(t).toggleSeriesOnHover(r,r.target.parentNode),a.globals.axisCharts?n.axisChartsTooltips({e:r,opt:s,tooltipRect:n.tooltipRect}):n.nonAxisChartsTooltips({e:r,opt:s,tooltipRect:n.tooltipRect}),n.fixedTooltip&&n.drawFixedTooltipRect())}},{key:"axisChartsTooltips",value:function(e){var t,n,s=e.e,r=e.opt,a=this.w,l=r.elGrid.getBoundingClientRect(),c=s.type==="touchmove"?s.touches[0].clientX:s.clientX,h=s.type==="touchmove"?s.touches[0].clientY:s.clientY;if(this.clientY=h,this.clientX=c,a.globals.capturedSeriesIndex=-1,a.globals.capturedDataPointIndex=-1,h<l.top||h>l.top+l.height)this.handleMouseOut(r);else{if(Array.isArray(this.tConfig.enabledOnSeries)&&!a.config.tooltip.shared){var d=parseInt(r.paths.getAttribute("index"),10);if(this.tConfig.enabledOnSeries.indexOf(d)<0)return void this.handleMouseOut(r)}var f=this.getElTooltip(),p=this.getElXCrosshairs(),y=[];a.config.chart.group&&(y=this.ctx.getSyncedCharts());var b=a.globals.xyCharts||a.config.chart.type==="bar"&&!a.globals.isBarHorizontal&&this.tooltipUtil.hasBars()&&this.tConfig.shared||a.globals.comboCharts&&this.tooltipUtil.hasBars();if(s.type==="mousemove"||s.type==="touchmove"||s.type==="mouseup"){if(a.globals.collapsedSeries.length+a.globals.ancillaryCollapsedSeries.length===a.globals.series.length)return;p!==null&&p.classList.add("apexcharts-active");var x=this.yaxisTooltips.filter(function(T){return T===!0});if(this.ycrosshairs!==null&&x.length&&this.ycrosshairs.classList.add("apexcharts-active"),b&&!this.showOnIntersect||y.length>1)this.handleStickyTooltip(s,c,h,r);else if(a.config.chart.type==="heatmap"||a.config.chart.type==="treemap"){var _=this.intersect.handleHeatTreeTooltip({e:s,opt:r,x:t,y:n,type:a.config.chart.type});t=_.x,n=_.y,f.style.left=t+"px",f.style.top=n+"px"}else this.tooltipUtil.hasBars()&&this.intersect.handleBarTooltip({e:s,opt:r}),this.tooltipUtil.hasMarkers()&&this.intersect.handleMarkerTooltip({e:s,opt:r,x:t,y:n});if(this.yaxisTooltips.length)for(var S=0;S<a.config.yaxis.length;S++)this.axesTooltip.drawYaxisTooltipText(S,h,this.xyRatios);a.globals.dom.baseEl.classList.add("apexcharts-tooltip-active"),r.tooltipEl.classList.add("apexcharts-active")}else s.type!=="mouseout"&&s.type!=="touchend"||this.handleMouseOut(r)}}},{key:"nonAxisChartsTooltips",value:function(e){var t=e.e,n=e.opt,s=e.tooltipRect,r=this.w,a=n.paths.getAttribute("rel"),l=this.getElTooltip(),c=r.globals.dom.elWrap.getBoundingClientRect();if(t.type==="mousemove"||t.type==="touchmove"){r.globals.dom.baseEl.classList.add("apexcharts-tooltip-active"),l.classList.add("apexcharts-active"),this.tooltipLabels.drawSeriesTexts({ttItems:n.ttItems,i:parseInt(a,10)-1,shared:!1});var h=r.globals.clientX-c.left-s.ttWidth/2,d=r.globals.clientY-c.top-s.ttHeight-10;if(l.style.left=h+"px",l.style.top=d+"px",r.config.legend.tooltipHoverFormatter){var f=a-1,p=(0,r.config.legend.tooltipHoverFormatter)(this.legendLabels[f].getAttribute("data:default-text"),{seriesIndex:f,dataPointIndex:f,w:r});this.legendLabels[f].innerHTML=p}}else t.type!=="mouseout"&&t.type!=="touchend"||(l.classList.remove("apexcharts-active"),r.globals.dom.baseEl.classList.remove("apexcharts-tooltip-active"),r.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(y){var b=y.getAttribute("data:default-text");y.innerHTML=decodeURIComponent(b)}))}},{key:"handleStickyTooltip",value:function(e,t,n,s){var r=this.w,a=this.tooltipUtil.getNearestValues({context:this,hoverArea:s.hoverArea,elGrid:s.elGrid,clientX:t,clientY:n}),l=a.j,c=a.capturedSeries;r.globals.collapsedSeriesIndices.includes(c)&&(c=null);var h=s.elGrid.getBoundingClientRect();if(a.hoverX<0||a.hoverX>h.width)this.handleMouseOut(s);else if(c!==null)this.handleStickyCapturedSeries(e,c,s,l);else if(this.tooltipUtil.isXoverlap(l)||r.globals.isBarHorizontal){var d=r.globals.series.findIndex(function(f,p){return!r.globals.collapsedSeriesIndices.includes(p)});this.create(e,this,d,l,s.ttItems)}}},{key:"handleStickyCapturedSeries",value:function(e,t,n,s){var r=this.w;if(!this.tConfig.shared&&r.globals.series[t][s]===null)return void this.handleMouseOut(n);if(r.globals.series[t][s]!==void 0)this.tConfig.shared&&this.tooltipUtil.isXoverlap(s)&&this.tooltipUtil.isInitialSeriesSameLen()?this.create(e,this,t,s,n.ttItems):this.create(e,this,t,s,n.ttItems,!1);else if(this.tooltipUtil.isXoverlap(s)){var a=r.globals.series.findIndex(function(l,c){return!r.globals.collapsedSeriesIndices.includes(c)});this.create(e,this,a,s,n.ttItems)}}},{key:"deactivateHoverFilter",value:function(){for(var e=this.w,t=new fe(this.ctx),n=e.globals.dom.Paper.find(".apexcharts-bar-area"),s=0;s<n.length;s++)t.pathMouseLeave(n[s])}},{key:"handleMouseOut",value:function(e){var t=this.w,n=this.getElXCrosshairs();if(t.globals.dom.baseEl.classList.remove("apexcharts-tooltip-active"),e.tooltipEl.classList.remove("apexcharts-active"),this.deactivateHoverFilter(),t.config.chart.type!=="bubble"&&this.marker.resetPointsSize(),n!==null&&n.classList.remove("apexcharts-active"),this.ycrosshairs!==null&&this.ycrosshairs.classList.remove("apexcharts-active"),this.isXAxisTooltipEnabled&&this.xaxisTooltip.classList.remove("apexcharts-active"),this.yaxisTooltips.length){this.yaxisTTEls===null&&(this.yaxisTTEls=t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));for(var s=0;s<this.yaxisTTEls.length;s++)this.yaxisTTEls[s].classList.remove("apexcharts-active")}t.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(r){var a=r.getAttribute("data:default-text");r.innerHTML=decodeURIComponent(a)})}},{key:"markerClick",value:function(e,t,n){var s=this.w;typeof s.config.chart.events.markerClick=="function"&&s.config.chart.events.markerClick(e,this.ctx,{seriesIndex:t,dataPointIndex:n,w:s}),this.ctx.events.fireEvent("markerClick",[e,this.ctx,{seriesIndex:t,dataPointIndex:n,w:s}])}},{key:"create",value:function(e,t,n,s,r){var a,l,c,h,d,f,p,y,b,x,_,S,T,C,M,R,P=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,k=this.w,E=t;e.type==="mouseup"&&this.markerClick(e,n,s),P===null&&(P=this.tConfig.shared);var D=this.tooltipUtil.hasMarkers(n),O=this.tooltipUtil.getElBars(),F=function(){k.globals.markers.largestSize>0?E.marker.enlargePoints(s):E.tooltipPosition.moveDynamicPointsOnHover(s)};if(k.config.legend.tooltipHoverFormatter){var H=k.config.legend.tooltipHoverFormatter,B=Array.from(this.legendLabels);B.forEach(function(ye){var _e=ye.getAttribute("data:default-text");ye.innerHTML=decodeURIComponent(_e)});for(var K=0;K<B.length;K++){var ne=B[K],X=parseInt(ne.getAttribute("i"),10),G=decodeURIComponent(ne.getAttribute("data:default-text")),ee=H(G,{seriesIndex:P?X:n,dataPointIndex:s,w:k});if(P)ne.innerHTML=k.globals.collapsedSeriesIndices.indexOf(X)<0?ee:G;else if(ne.innerHTML=X===n?ee:G,n===X)break}}var ue=be(be({ttItems:r,i:n,j:s},((a=k.globals.seriesRange)===null||a===void 0||(l=a[n])===null||l===void 0||(c=l[s])===null||c===void 0||(h=c.y[0])===null||h===void 0?void 0:h.y1)!==void 0&&{y1:(d=k.globals.seriesRange)===null||d===void 0||(f=d[n])===null||f===void 0||(p=f[s])===null||p===void 0||(y=p.y[0])===null||y===void 0?void 0:y.y1}),((b=k.globals.seriesRange)===null||b===void 0||(x=b[n])===null||x===void 0||(_=x[s])===null||_===void 0||(S=_.y[0])===null||S===void 0?void 0:S.y2)!==void 0&&{y2:(T=k.globals.seriesRange)===null||T===void 0||(C=T[n])===null||C===void 0||(M=C[s])===null||M===void 0||(R=M.y[0])===null||R===void 0?void 0:R.y2});if(P){if(E.tooltipLabels.drawSeriesTexts(be(be({},ue),{},{shared:!this.showOnIntersect&&this.tConfig.shared})),D)F();else if(this.tooltipUtil.hasBars()&&(this.barSeriesHeight=this.tooltipUtil.getBarsHeight(O),this.barSeriesHeight>0)){var le=new fe(this.ctx),me=k.globals.dom.Paper.find(".apexcharts-bar-area[j='".concat(s,"']"));this.deactivateHoverFilter(),E.tooltipUtil.getAllMarkers(!0).length&&!this.barSeriesHeight&&F(),E.tooltipPosition.moveStickyTooltipOverBars(s,n);for(var ae=0;ae<me.length;ae++)le.pathMouseEnter(me[ae])}}else E.tooltipLabels.drawSeriesTexts(be({shared:!1},ue)),this.tooltipUtil.hasBars()&&E.tooltipPosition.moveStickyTooltipOverBars(s,n),D&&E.tooltipPosition.moveMarkers(n,s)}}]),i}(),Vee=function(){function i(e){Ce(this,i),this.w=e.w,this.barCtx=e,this.totalFormatter=this.w.config.plotOptions.bar.dataLabels.total.formatter,this.totalFormatter||(this.totalFormatter=this.w.config.dataLabels.formatter)}return ke(i,[{key:"handleBarDataLabels",value:function(e){var t,n,s=e.x,r=e.y,a=e.y1,l=e.y2,c=e.i,h=e.j,d=e.realIndex,f=e.columnGroupIndex,p=e.series,y=e.barHeight,b=e.barWidth,x=e.barXPosition,_=e.barYPosition,S=e.visibleSeries,T=this.w,C=new fe(this.barCtx.ctx),M=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[d]:this.barCtx.strokeWidth;T.globals.isXNumeric&&!T.globals.isBarHorizontal?(t=s+parseFloat(b*(S+1)),n=r+parseFloat(y*(S+1))-M):(t=s+parseFloat(b*S),n=r+parseFloat(y*S));var R,P=null,k=s,E=r,D={},O=T.config.dataLabels,F=this.barCtx.barOptions.dataLabels,H=this.barCtx.barOptions.dataLabels.total;_!==void 0&&this.barCtx.isRangeBar&&(n=_,E=_),x!==void 0&&this.barCtx.isVerticalGroupedRangeBar&&(t=x,k=x);var B=O.offsetX,K=O.offsetY,ne={width:0,height:0};if(T.config.dataLabels.enabled){var X=T.globals.series[c][h];ne=C.getTextRects(T.config.dataLabels.formatter?T.config.dataLabels.formatter(X,be(be({},T),{},{seriesIndex:c,dataPointIndex:h,w:T})):T.globals.yLabelFormatters[0](X),parseFloat(O.style.fontSize))}var G={x:s,y:r,i:c,j:h,realIndex:d,columnGroupIndex:f,bcx:t,bcy:n,barHeight:y,barWidth:b,textRects:ne,strokeWidth:M,dataLabelsX:k,dataLabelsY:E,dataLabelsConfig:O,barDataLabelsConfig:F,barTotalDataLabelsConfig:H,offX:B,offY:K};return D=this.barCtx.isHorizontal?this.calculateBarsDataLabelsPosition(G):this.calculateColumnsDataLabelsPosition(G),R=this.drawCalculatedDataLabels({x:D.dataLabelsX,y:D.dataLabelsY,val:this.barCtx.isRangeBar?[a,l]:T.config.chart.stackType==="100%"?p[d][h]:T.globals.series[d][h],i:d,j:h,barWidth:b,barHeight:y,textRects:ne,dataLabelsConfig:O}),T.config.chart.stacked&&H.enabled&&(P=this.drawTotalDataLabels({x:D.totalDataLabelsX,y:D.totalDataLabelsY,barWidth:b,barHeight:y,realIndex:d,textAnchor:D.totalDataLabelsAnchor,val:this.getStackedTotalDataLabel({realIndex:d,j:h}),dataLabelsConfig:O,barTotalDataLabelsConfig:H})),{dataLabelsPos:D,dataLabels:R,totalDataLabels:P}}},{key:"getStackedTotalDataLabel",value:function(e){var t=e.realIndex,n=e.j,s=this.w,r=this.barCtx.stackedSeriesTotals[n];return this.totalFormatter&&(r=this.totalFormatter(r,be(be({},s),{},{seriesIndex:t,dataPointIndex:n,w:s}))),r}},{key:"calculateColumnsDataLabelsPosition",value:function(e){var t=this,n=this.w,s=e.i,r=e.j,a=e.realIndex;e.columnGroupIndex;var l,c,h=e.y,d=e.bcx,f=e.barWidth,p=e.barHeight,y=e.textRects,b=e.dataLabelsX,x=e.dataLabelsY,_=e.dataLabelsConfig,S=e.barDataLabelsConfig,T=e.barTotalDataLabelsConfig,C=e.strokeWidth,M=e.offX,R=e.offY,P=d;p=Math.abs(p);var k=n.config.plotOptions.bar.dataLabels.orientation==="vertical",E=this.barCtx.barHelpers.getZeroValueEncounters({i:s,j:r}).zeroEncounters;d-=C/2;var D=n.globals.gridWidth/n.globals.dataPoints;this.barCtx.isVerticalGroupedRangeBar?b+=f/2:(b=n.globals.isXNumeric?d-f/2+M:d-D+f/2+M,!n.config.chart.stacked&&E>0&&n.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(b-=f*E)),k&&(b=b+y.height/2-C/2-2);var O=n.globals.series[s][r]<0,F=h;switch(this.barCtx.isReversed&&(F=h+(O?p:-p)),S.position){case"center":x=k?O?F-p/2+R:F+p/2-R:O?F-p/2+y.height/2+R:F+p/2+y.height/2-R;break;case"bottom":x=k?O?F-p+R:F+p-R:O?F-p+y.height+C+R:F+p-y.height/2+C-R;break;case"top":x=k?O?F+R:F-R:O?F-y.height/2-R:F+y.height+R}var H=F;if(n.globals.seriesGroups.forEach(function(ne){var X;(X=t.barCtx[ne.join(",")])===null||X===void 0||X.prevY.forEach(function(G){H=O?Math.max(G[r],H):Math.min(G[r],H)})}),this.barCtx.lastActiveBarSerieIndex===a&&T.enabled){var B=new fe(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:a,j:r}),_.fontSize);l=O?H-B.height/2-R-T.offsetY+18:H+B.height+R+T.offsetY-18;var K=D;c=P+(n.globals.isXNumeric?-f*n.globals.barGroups.length/2:n.globals.barGroups.length*f/2-(n.globals.barGroups.length-1)*f-K)+T.offsetX}return n.config.chart.stacked||(x<0?x=0+C:x+y.height/3>n.globals.gridHeight&&(x=n.globals.gridHeight-C)),{bcx:d,bcy:h,dataLabelsX:b,dataLabelsY:x,totalDataLabelsX:c,totalDataLabelsY:l,totalDataLabelsAnchor:"middle"}}},{key:"calculateBarsDataLabelsPosition",value:function(e){var t=this,n=this.w,s=e.x,r=e.i,a=e.j,l=e.realIndex,c=e.bcy,h=e.barHeight,d=e.barWidth,f=e.textRects,p=e.dataLabelsX,y=e.strokeWidth,b=e.dataLabelsConfig,x=e.barDataLabelsConfig,_=e.barTotalDataLabelsConfig,S=e.offX,T=e.offY,C=n.globals.gridHeight/n.globals.dataPoints,M=this.barCtx.barHelpers.getZeroValueEncounters({i:r,j:a}).zeroEncounters;d=Math.abs(d);var R,P,k=c-(this.barCtx.isRangeBar?0:C)+h/2+f.height/2+T-3;!n.config.chart.stacked&&M>0&&n.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(k-=h*M);var E="start",D=n.globals.series[r][a]<0,O=s;switch(this.barCtx.isReversed&&(O=s+(D?-d:d),E=D?"start":"end"),x.position){case"center":p=D?O+d/2-S:Math.max(f.width/2,O-d/2)+S;break;case"bottom":p=D?O+d-y-S:O-d+y+S;break;case"top":p=D?O-y-S:O-y+S}var F=O;if(n.globals.seriesGroups.forEach(function(B){var K;(K=t.barCtx[B.join(",")])===null||K===void 0||K.prevX.forEach(function(ne){F=D?Math.min(ne[a],F):Math.max(ne[a],F)})}),this.barCtx.lastActiveBarSerieIndex===l&&_.enabled){var H=new fe(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:l,j:a}),b.fontSize);D?(R=F-y-S-_.offsetX,E="end"):R=F+S+_.offsetX+(this.barCtx.isReversed?-(d+y):y),P=k-f.height/2+H.height/2+_.offsetY+y,n.globals.barGroups.length>1&&(P-=n.globals.barGroups.length/2*(h/2))}return n.config.chart.stacked||(b.textAnchor==="start"?p-f.width<0?p=D?f.width+y:y:p+f.width>n.globals.gridWidth&&(p=D?n.globals.gridWidth-y:n.globals.gridWidth-f.width-y):b.textAnchor==="middle"?p-f.width/2<0?p=f.width/2+y:p+f.width/2>n.globals.gridWidth&&(p=n.globals.gridWidth-f.width/2-y):b.textAnchor==="end"&&(p<1?p=f.width+y:p+1>n.globals.gridWidth&&(p=n.globals.gridWidth-f.width-y))),{bcx:s,bcy:c,dataLabelsX:p,dataLabelsY:k,totalDataLabelsX:R,totalDataLabelsY:P,totalDataLabelsAnchor:E}}},{key:"drawCalculatedDataLabels",value:function(e){var t=e.x,n=e.y,s=e.val,r=e.i,a=e.j,l=e.textRects,c=e.barHeight,h=e.barWidth,d=e.dataLabelsConfig,f=this.w,p="rotate(0)";f.config.plotOptions.bar.dataLabels.orientation==="vertical"&&(p="rotate(-90, ".concat(t,", ").concat(n,")"));var y=new Xu(this.barCtx.ctx),b=new fe(this.barCtx.ctx),x=d.formatter,_=null,S=f.globals.collapsedSeriesIndices.indexOf(r)>-1;if(d.enabled&&!S){_=b.group({class:"apexcharts-data-labels",transform:p});var T="";s!==void 0&&(T=x(s,be(be({},f),{},{seriesIndex:r,dataPointIndex:a,w:f}))),!s&&f.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(T="");var C=f.globals.series[r][a]<0,M=f.config.plotOptions.bar.dataLabels.position;f.config.plotOptions.bar.dataLabels.orientation==="vertical"&&(M==="top"&&(d.textAnchor=C?"end":"start"),M==="center"&&(d.textAnchor="middle"),M==="bottom"&&(d.textAnchor=C?"end":"start")),this.barCtx.isRangeBar&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&h<b.getTextRects(T,parseFloat(d.style.fontSize)).width&&(T=""),f.config.chart.stacked&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&(this.barCtx.isHorizontal?l.width/1.6>Math.abs(h)&&(T=""):l.height/1.6>Math.abs(c)&&(T=""));var R=be({},d);this.barCtx.isHorizontal&&s<0&&(d.textAnchor==="start"?R.textAnchor="end":d.textAnchor==="end"&&(R.textAnchor="start")),y.plotDataLabelsText({x:t,y:n,text:T,i:r,j:a,parent:_,dataLabelsConfig:R,alwaysDrawDataLabel:!0,offsetCorrection:!0})}return _}},{key:"drawTotalDataLabels",value:function(e){var t=e.x,n=e.y,s=e.val,r=e.realIndex,a=e.textAnchor,l=e.barTotalDataLabelsConfig;this.w;var c,h=new fe(this.barCtx.ctx);return l.enabled&&t!==void 0&&n!==void 0&&this.barCtx.lastActiveBarSerieIndex===r&&(c=h.drawText({x:t,y:n,foreColor:l.style.color,text:s,textAnchor:a,fontFamily:l.style.fontFamily,fontSize:l.style.fontSize,fontWeight:l.style.fontWeight})),c}}]),i}(),Fee=function(){function i(e){Ce(this,i),this.w=e.w,this.barCtx=e}return ke(i,[{key:"initVariables",value:function(e){var t=this.w;this.barCtx.series=e,this.barCtx.totalItems=0,this.barCtx.seriesLen=0,this.barCtx.visibleI=-1,this.barCtx.visibleItems=1;for(var n=0;n<e.length;n++)if(e[n].length>0&&(this.barCtx.seriesLen=this.barCtx.seriesLen+1,this.barCtx.totalItems+=e[n].length),t.globals.isXNumeric)for(var s=0;s<e[n].length;s++)t.globals.seriesX[n][s]>t.globals.minX&&t.globals.seriesX[n][s]<t.globals.maxX&&this.barCtx.visibleItems++;else this.barCtx.visibleItems=t.globals.dataPoints;this.arrBorderRadius=this.createBorderRadiusArr(t.globals.series),q.isSafari()&&(this.arrBorderRadius=this.arrBorderRadius.map(function(r){return r.map(function(a){return"none"})})),this.barCtx.seriesLen===0&&(this.barCtx.seriesLen=1),this.barCtx.zeroSerieses=[],t.globals.comboCharts||this.checkZeroSeries({series:e})}},{key:"initialPositions",value:function(e){var t,n,s,r,a,l,c,h,d=this.w,f=d.globals.dataPoints;this.barCtx.isRangeBar&&(f=d.globals.labels.length);var p=this.barCtx.seriesLen;if(d.config.plotOptions.bar.rangeBarGroupRows&&(p=1),this.barCtx.isHorizontal)a=(s=d.globals.gridHeight/f)/p,d.globals.isXNumeric&&(a=(s=d.globals.gridHeight/this.barCtx.totalItems)/this.barCtx.seriesLen),a=a*parseInt(this.barCtx.barOptions.barHeight,10)/100,String(this.barCtx.barOptions.barHeight).indexOf("%")===-1&&(a=parseInt(this.barCtx.barOptions.barHeight,10)),h=this.barCtx.baseLineInvertedY+d.globals.padHorizontal+(this.barCtx.isReversed?d.globals.gridWidth:0)-(this.barCtx.isReversed?2*this.barCtx.baseLineInvertedY:0),this.barCtx.isFunnel&&(h=d.globals.gridWidth/2),n=(s-a*this.barCtx.seriesLen)/2;else{if(r=d.globals.gridWidth/this.barCtx.visibleItems,d.config.xaxis.convertedCatToNumeric&&(r=d.globals.gridWidth/d.globals.dataPoints),l=r/p*parseInt(this.barCtx.barOptions.columnWidth,10)/100,d.globals.isXNumeric){var y=this.barCtx.xRatio;d.globals.minXDiff&&d.globals.minXDiff!==.5&&d.globals.minXDiff/y>0&&(r=d.globals.minXDiff/y),(l=r/p*parseInt(this.barCtx.barOptions.columnWidth,10)/100)<1&&(l=1)}String(this.barCtx.barOptions.columnWidth).indexOf("%")===-1&&(l=parseInt(this.barCtx.barOptions.columnWidth,10)),c=d.globals.gridHeight-this.barCtx.baseLineY[this.barCtx.translationsIndex]-(this.barCtx.isReversed?d.globals.gridHeight:0)+(this.barCtx.isReversed?2*this.barCtx.baseLineY[this.barCtx.translationsIndex]:0),d.globals.isXNumeric?t=this.barCtx.getBarXForNumericXAxis({x:t,j:0,realIndex:e,barWidth:l}).x:t=d.globals.padHorizontal+q.noExponents(r-l*this.barCtx.seriesLen)/2}return d.globals.barHeight=a,d.globals.barWidth=l,{x:t,y:n,yDivision:s,xDivision:r,barHeight:a,barWidth:l,zeroH:c,zeroW:h}}},{key:"initializeStackedPrevVars",value:function(e){e.w.globals.seriesGroups.forEach(function(t){e[t]||(e[t]={}),e[t].prevY=[],e[t].prevX=[],e[t].prevYF=[],e[t].prevXF=[],e[t].prevYVal=[],e[t].prevXVal=[]})}},{key:"initializeStackedXYVars",value:function(e){e.w.globals.seriesGroups.forEach(function(t){e[t]||(e[t]={}),e[t].xArrj=[],e[t].xArrjF=[],e[t].xArrjVal=[],e[t].yArrj=[],e[t].yArrjF=[],e[t].yArrjVal=[]})}},{key:"getPathFillColor",value:function(e,t,n,s){var r,a,l,c,h=this.w,d=this.barCtx.ctx.fill,f=null,p=this.barCtx.barOptions.distributed?n:t,y=!1;return this.barCtx.barOptions.colors.ranges.length>0&&this.barCtx.barOptions.colors.ranges.map(function(b){e[t][n]>=b.from&&e[t][n]<=b.to&&(f=b.color,y=!0)}),{color:d.fillPath({seriesNumber:this.barCtx.barOptions.distributed?p:s,dataPointIndex:n,color:f,value:e[t][n],fillConfig:(r=h.config.series[t].data[n])===null||r===void 0?void 0:r.fill,fillType:(a=h.config.series[t].data[n])!==null&&a!==void 0&&(l=a.fill)!==null&&l!==void 0&&l.type?(c=h.config.series[t].data[n])===null||c===void 0?void 0:c.fill.type:Array.isArray(h.config.fill.type)?h.config.fill.type[s]:h.config.fill.type}),useRangeColor:y}}},{key:"getStrokeWidth",value:function(e,t,n){var s=0,r=this.w;return this.barCtx.series[e][t]===void 0||this.barCtx.series[e][t]===null||r.config.chart.type==="bar"&&!this.barCtx.series[e][t]?this.barCtx.isNullValue=!0:this.barCtx.isNullValue=!1,r.config.stroke.show&&(this.barCtx.isNullValue||(s=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[n]:this.barCtx.strokeWidth)),s}},{key:"createBorderRadiusArr",value:function(e){var t,n=this.w,s=!this.w.config.chart.stacked||n.config.plotOptions.bar.borderRadius<=0,r=e.length,a=0|((t=e[0])===null||t===void 0?void 0:t.length),l=Array.from({length:r},function(){return Array(a).fill(s?"top":"none")});if(s)return l;for(var c=0;c<a;c++){for(var h=[],d=[],f=0,p=0;p<r;p++){var y=e[p][c];y>0?(h.push(p),f++):y<0&&(d.push(p),f++)}if(h.length>0&&d.length===0)if(h.length===1)l[h[0]][c]="both";else{var b,x=h[0],_=h[h.length-1],S=Od(h);try{for(S.s();!(b=S.n()).done;){var T=b.value;l[T][c]=T===x?"bottom":T===_?"top":"none"}}catch(X){S.e(X)}finally{S.f()}}else if(d.length>0&&h.length===0)if(d.length===1)l[d[0]][c]="both";else{var C,M=Math.max.apply(Math,d),R=Math.min.apply(Math,d),P=Od(d);try{for(P.s();!(C=P.n()).done;){var k=C.value;l[k][c]=k===M?"bottom":k===R?"top":"none"}}catch(X){P.e(X)}finally{P.f()}}else if(h.length>0&&d.length>0){var E,D=h[h.length-1],O=Od(h);try{for(O.s();!(E=O.n()).done;){var F=E.value;l[F][c]=F===D?"top":"none"}}catch(X){O.e(X)}finally{O.f()}var H,B=Math.max.apply(Math,d),K=Od(d);try{for(K.s();!(H=K.n()).done;){var ne=H.value;l[ne][c]=ne===B?"bottom":"none"}}catch(X){K.e(X)}finally{K.f()}}else f===1&&(l[h[0]||d[0]][c]="both")}return l}},{key:"barBackground",value:function(e){var t=e.j,n=e.i,s=e.x1,r=e.x2,a=e.y1,l=e.y2,c=e.elSeries,h=this.w,d=new fe(this.barCtx.ctx),f=new Ks(this.barCtx.ctx).getActiveConfigSeriesIndex();if(this.barCtx.barOptions.colors.backgroundBarColors.length>0&&f===n){t>=this.barCtx.barOptions.colors.backgroundBarColors.length&&(t%=this.barCtx.barOptions.colors.backgroundBarColors.length);var p=this.barCtx.barOptions.colors.backgroundBarColors[t],y=d.drawRect(s!==void 0?s:0,a!==void 0?a:0,r!==void 0?r:h.globals.gridWidth,l!==void 0?l:h.globals.gridHeight,this.barCtx.barOptions.colors.backgroundBarRadius,p,this.barCtx.barOptions.colors.backgroundBarOpacity);c.add(y),y.node.classList.add("apexcharts-backgroundBar")}}},{key:"getColumnPaths",value:function(e){var t,n=e.barWidth,s=e.barXPosition,r=e.y1,a=e.y2,l=e.strokeWidth,c=e.isReversed,h=e.series,d=e.seriesGroup,f=e.realIndex,p=e.i,y=e.j,b=e.w,x=new fe(this.barCtx.ctx);(l=Array.isArray(l)?l[f]:l)||(l=0);var _=n,S=s;(t=b.config.series[f].data[y])!==null&&t!==void 0&&t.columnWidthOffset&&(S=s-b.config.series[f].data[y].columnWidthOffset/2,_=n+b.config.series[f].data[y].columnWidthOffset);var T=l/2,C=S+T,M=S+_-T,R=(h[p][y]>=0?1:-1)*(c?-1:1);r+=.001-T*R,a+=.001+T*R;var P=x.move(C,r),k=x.move(C,r),E=x.line(M,r);if(b.globals.previousPaths.length>0&&(k=this.barCtx.getPreviousPath(f,y,!1)),P=P+x.line(C,a)+x.line(M,a)+E+(b.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[f][y]==="both"?" Z":" z"),k=k+x.line(C,r)+E+E+E+E+E+x.line(C,r)+(b.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[f][y]==="both"?" Z":" z"),this.arrBorderRadius[f][y]!=="none"&&(P=x.roundPathCorners(P,b.config.plotOptions.bar.borderRadius)),b.config.chart.stacked){var D=this.barCtx;(D=this.barCtx[d]).yArrj.push(a-T*R),D.yArrjF.push(Math.abs(r-a+l*R)),D.yArrjVal.push(this.barCtx.series[p][y])}return{pathTo:P,pathFrom:k}}},{key:"getBarpaths",value:function(e){var t,n=e.barYPosition,s=e.barHeight,r=e.x1,a=e.x2,l=e.strokeWidth,c=e.isReversed,h=e.series,d=e.seriesGroup,f=e.realIndex,p=e.i,y=e.j,b=e.w,x=new fe(this.barCtx.ctx);(l=Array.isArray(l)?l[f]:l)||(l=0);var _=n,S=s;(t=b.config.series[f].data[y])!==null&&t!==void 0&&t.barHeightOffset&&(_=n-b.config.series[f].data[y].barHeightOffset/2,S=s+b.config.series[f].data[y].barHeightOffset);var T=l/2,C=_+T,M=_+S-T,R=(h[p][y]>=0?1:-1)*(c?-1:1);r+=.001+T*R,a+=.001-T*R;var P=x.move(r,C),k=x.move(r,C);b.globals.previousPaths.length>0&&(k=this.barCtx.getPreviousPath(f,y,!1));var E=x.line(r,M);if(P=P+x.line(a,C)+x.line(a,M)+E+(b.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[f][y]==="both"?" Z":" z"),k=k+x.line(r,C)+E+E+E+E+E+x.line(r,C)+(b.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[f][y]==="both"?" Z":" z"),this.arrBorderRadius[f][y]!=="none"&&(P=x.roundPathCorners(P,b.config.plotOptions.bar.borderRadius)),b.config.chart.stacked){var D=this.barCtx;(D=this.barCtx[d]).xArrj.push(a+T*R),D.xArrjF.push(Math.abs(r-a-l*R)),D.xArrjVal.push(this.barCtx.series[p][y])}return{pathTo:P,pathFrom:k}}},{key:"checkZeroSeries",value:function(e){for(var t=e.series,n=this.w,s=0;s<t.length;s++){for(var r=0,a=0;a<t[n.globals.maxValsInArrayIndex].length;a++)r+=t[s][a];r===0&&this.barCtx.zeroSerieses.push(s)}}},{key:"getXForValue",value:function(e,t){var n=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2]?t:null;return e!=null&&(n=t+e/this.barCtx.invertedYRatio-2*(this.barCtx.isReversed?e/this.barCtx.invertedYRatio:0)),n}},{key:"getYForValue",value:function(e,t,n){var s=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3]?t:null;return e!=null&&(s=t-e/this.barCtx.yRatio[n]+2*(this.barCtx.isReversed?e/this.barCtx.yRatio[n]:0)),s}},{key:"getGoalValues",value:function(e,t,n,s,r,a){var l=this,c=this.w,h=[],d=function(y,b){var x;h.push((_y(x={},e,e==="x"?l.getXForValue(y,t,!1):l.getYForValue(y,n,a,!1)),_y(x,"attrs",b),x))};if(c.globals.seriesGoals[s]&&c.globals.seriesGoals[s][r]&&Array.isArray(c.globals.seriesGoals[s][r])&&c.globals.seriesGoals[s][r].forEach(function(y){d(y.value,y)}),this.barCtx.barOptions.isDumbbell&&c.globals.seriesRange.length){var f=this.barCtx.barOptions.dumbbellColors?this.barCtx.barOptions.dumbbellColors:c.globals.colors,p={strokeHeight:e==="x"?0:c.globals.markers.size[s],strokeWidth:e==="x"?c.globals.markers.size[s]:0,strokeDashArray:0,strokeLineCap:"round",strokeColor:Array.isArray(f[s])?f[s][0]:f[s]};d(c.globals.seriesRangeStart[s][r],p),d(c.globals.seriesRangeEnd[s][r],be(be({},p),{},{strokeColor:Array.isArray(f[s])?f[s][1]:f[s]}))}return h}},{key:"drawGoalLine",value:function(e){var t=e.barXPosition,n=e.barYPosition,s=e.goalX,r=e.goalY,a=e.barWidth,l=e.barHeight,c=new fe(this.barCtx.ctx),h=c.group({className:"apexcharts-bar-goals-groups"});h.node.classList.add("apexcharts-element-hidden"),this.barCtx.w.globals.delayedElements.push({el:h.node}),h.attr("clip-path","url(#gridRectMarkerMask".concat(this.barCtx.w.globals.cuid,")"));var d=null;return this.barCtx.isHorizontal?Array.isArray(s)&&s.forEach(function(f){if(f.x>=-1&&f.x<=c.w.globals.gridWidth+1){var p=f.attrs.strokeHeight!==void 0?f.attrs.strokeHeight:l/2,y=n+p+l/2;d=c.drawLine(f.x,y-2*p,f.x,y,f.attrs.strokeColor?f.attrs.strokeColor:void 0,f.attrs.strokeDashArray,f.attrs.strokeWidth?f.attrs.strokeWidth:2,f.attrs.strokeLineCap),h.add(d)}}):Array.isArray(r)&&r.forEach(function(f){if(f.y>=-1&&f.y<=c.w.globals.gridHeight+1){var p=f.attrs.strokeWidth!==void 0?f.attrs.strokeWidth:a/2,y=t+p+a/2;d=c.drawLine(y-2*p,f.y,y,f.y,f.attrs.strokeColor?f.attrs.strokeColor:void 0,f.attrs.strokeDashArray,f.attrs.strokeHeight?f.attrs.strokeHeight:2,f.attrs.strokeLineCap),h.add(d)}}),h}},{key:"drawBarShadow",value:function(e){var t=e.prevPaths,n=e.currPaths,s=e.color,r=this.w,a=t.x,l=t.x1,c=t.barYPosition,h=n.x,d=n.x1,f=n.barYPosition,p=c+n.barHeight,y=new fe(this.barCtx.ctx),b=new q,x=y.move(l,p)+y.line(a,p)+y.line(h,f)+y.line(d,f)+y.line(l,p)+(r.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[realIndex][j]==="both"?" Z":" z");return y.drawPath({d:x,fill:b.shadeColor(.5,q.rgb2hex(s)),stroke:"none",strokeWidth:0,fillOpacity:1,classes:"apexcharts-bar-shadow apexcharts-decoration-element"})}},{key:"getZeroValueEncounters",value:function(e){var t,n=e.i,s=e.j,r=this.w,a=0,l=0;return(r.config.plotOptions.bar.horizontal?r.globals.series.map(function(c,h){return h}):((t=r.globals.columnSeries)===null||t===void 0?void 0:t.i.map(function(c){return c}))||[]).forEach(function(c){var h=r.globals.seriesPercent[c][s];h&&a++,c<n&&h===0&&l++}),{nonZeroColumns:a,zeroEncounters:l}}},{key:"getGroupIndex",value:function(e){var t=this.w,n=t.globals.seriesGroups.findIndex(function(a){return a.indexOf(t.globals.seriesNames[e])>-1}),s=this.barCtx.columnGroupIndices,r=s.indexOf(n);return r<0&&(s.push(n),r=s.length-1),{groupIndex:n,columnGroupIndex:r}}}]),i}(),Wu=function(){function i(e,t){Ce(this,i),this.ctx=e,this.w=e.w;var n=this.w;this.barOptions=n.config.plotOptions.bar,this.isHorizontal=this.barOptions.horizontal,this.strokeWidth=n.config.stroke.width,this.isNullValue=!1,this.isRangeBar=n.globals.seriesRange.length&&this.isHorizontal,this.isVerticalGroupedRangeBar=!n.globals.isBarHorizontal&&n.globals.seriesRange.length&&n.config.plotOptions.bar.rangeBarGroupRows,this.isFunnel=this.barOptions.isFunnel,this.xyRatios=t,this.xyRatios!==null&&(this.xRatio=t.xRatio,this.yRatio=t.yRatio,this.invertedXRatio=t.invertedXRatio,this.invertedYRatio=t.invertedYRatio,this.baseLineY=t.baseLineY,this.baseLineInvertedY=t.baseLineInvertedY),this.yaxisIndex=0,this.translationsIndex=0,this.seriesLen=0,this.pathArr=[];var s=new Ks(this.ctx);this.lastActiveBarSerieIndex=s.getActiveConfigSeriesIndex("desc",["bar","column"]),this.columnGroupIndices=[];var r=s.getBarSeriesIndices(),a=new Mn(this.ctx);this.stackedSeriesTotals=a.getStackedSeriesTotals(this.w.config.series.map(function(l,c){return r.indexOf(c)===-1?c:-1}).filter(function(l){return l!==-1})),this.barHelpers=new Fee(this)}return ke(i,[{key:"draw",value:function(e,t){var n=this.w,s=new fe(this.ctx),r=new Mn(this.ctx,n);e=r.getLogSeries(e),this.series=e,this.yRatio=r.getLogYRatios(this.yRatio),this.barHelpers.initVariables(e);var a=s.group({class:"apexcharts-bar-series apexcharts-plot-series"});n.config.dataLabels.enabled&&this.totalItems>this.barOptions.dataLabels.maxItems&&console.warn("WARNING: DataLabels are enabled but there are too many to display. This may cause performance issue when rendering - ApexCharts");for(var l=0,c=0;l<e.length;l++,c++){var h,d,f,p,y=void 0,b=void 0,x=[],_=[],S=n.globals.comboCharts?t[l]:l,T=this.barHelpers.getGroupIndex(S).columnGroupIndex,C=s.group({class:"apexcharts-series",rel:l+1,seriesName:q.escapeString(n.globals.seriesNames[S]),"data:realIndex":S});this.ctx.series.addCollapsedClassToSeries(C,S),e[l].length>0&&(this.visibleI=this.visibleI+1);var M=0,R=0;this.yRatio.length>1&&(this.yaxisIndex=n.globals.seriesYAxisReverseMap[S],this.translationsIndex=S);var P=this.translationsIndex;this.isReversed=n.config.yaxis[this.yaxisIndex]&&n.config.yaxis[this.yaxisIndex].reversed;var k=this.barHelpers.initialPositions(S);b=k.y,M=k.barHeight,d=k.yDivision,p=k.zeroW,y=k.x,R=k.barWidth,h=k.xDivision,f=k.zeroH,this.isHorizontal||_.push(y+R/2);var E=s.group({class:"apexcharts-datalabels","data:realIndex":S});n.globals.delayedElements.push({el:E.node}),E.node.classList.add("apexcharts-element-hidden");var D=s.group({class:"apexcharts-bar-goals-markers"}),O=s.group({class:"apexcharts-bar-shadows"});n.globals.delayedElements.push({el:O.node}),O.node.classList.add("apexcharts-element-hidden");for(var F=0;F<e[l].length;F++){var H=this.barHelpers.getStrokeWidth(l,F,S),B=null,K={indexes:{i:l,j:F,realIndex:S,translationsIndex:P,bc:c},x:y,y:b,strokeWidth:H,elSeries:C};this.isHorizontal?(B=this.drawBarPaths(be(be({},K),{},{barHeight:M,zeroW:p,yDivision:d})),R=this.series[l][F]/this.invertedYRatio):(B=this.drawColumnPaths(be(be({},K),{},{xDivision:h,barWidth:R,zeroH:f})),M=this.series[l][F]/this.yRatio[P]);var ne=this.barHelpers.getPathFillColor(e,l,F,S);if(this.isFunnel&&this.barOptions.isFunnel3d&&this.pathArr.length&&F>0){var X,G=this.barHelpers.drawBarShadow({color:typeof ne.color=="string"&&((X=ne.color)===null||X===void 0?void 0:X.indexOf("url"))===-1?ne.color:q.hexToRgba(n.globals.colors[l]),prevPaths:this.pathArr[this.pathArr.length-1],currPaths:B});O.add(G),n.config.chart.dropShadow.enabled&&new bi(this.ctx).dropShadow(G,n.config.chart.dropShadow,S)}this.pathArr.push(B);var ee=this.barHelpers.drawGoalLine({barXPosition:B.barXPosition,barYPosition:B.barYPosition,goalX:B.goalX,goalY:B.goalY,barHeight:M,barWidth:R});ee&&D.add(ee),b=B.y,y=B.x,F>0&&_.push(y+R/2),x.push(b),this.renderSeries(be(be({realIndex:S,pathFill:ne.color},ne.useRangeColor?{lineFill:ne.color}:{}),{},{j:F,i:l,columnGroupIndex:T,pathFrom:B.pathFrom,pathTo:B.pathTo,strokeWidth:H,elSeries:C,x:y,y:b,series:e,barHeight:Math.abs(B.barHeight?B.barHeight:M),barWidth:Math.abs(B.barWidth?B.barWidth:R),elDataLabelsWrap:E,elGoalsMarkers:D,elBarShadows:O,visibleSeries:this.visibleI,type:"bar"}))}n.globals.seriesXvalues[S]=_,n.globals.seriesYvalues[S]=x,a.add(C)}return a}},{key:"renderSeries",value:function(e){var t=e.realIndex,n=e.pathFill,s=e.lineFill,r=e.j,a=e.i,l=e.columnGroupIndex,c=e.pathFrom,h=e.pathTo,d=e.strokeWidth,f=e.elSeries,p=e.x,y=e.y,b=e.y1,x=e.y2,_=e.series,S=e.barHeight,T=e.barWidth,C=e.barXPosition,M=e.barYPosition,R=e.elDataLabelsWrap,P=e.elGoalsMarkers,k=e.elBarShadows,E=e.visibleSeries,D=e.type,O=e.classes,F=this.w,H=new fe(this.ctx),B=!1;if(!s){var K=typeof F.globals.stroke.colors[t]=="function"?function(ue){var le,me=F.config.stroke.colors;return Array.isArray(me)&&me.length>0&&((le=me[ue])||(le=""),typeof le=="function")?le({value:F.globals.series[ue][r],dataPointIndex:r,w:F}):le}(t):F.globals.stroke.colors[t];s=this.barOptions.distributed?F.globals.stroke.colors[r]:K}var ne=new Vee(this).handleBarDataLabels({x:p,y,y1:b,y2:x,i:a,j:r,series:_,realIndex:t,columnGroupIndex:l,barHeight:S,barWidth:T,barXPosition:C,barYPosition:M,visibleSeries:E});F.globals.isBarHorizontal||(ne.dataLabelsPos.dataLabelsX+Math.max(T,F.globals.barPadForNumericAxis)<0||ne.dataLabelsPos.dataLabelsX-Math.max(T,F.globals.barPadForNumericAxis)>F.globals.gridWidth)&&(B=!0),F.config.series[a].data[r]&&F.config.series[a].data[r].strokeColor&&(s=F.config.series[a].data[r].strokeColor),this.isNullValue&&(n="none");var X=r/F.config.chart.animations.animateGradually.delay*(F.config.chart.animations.speed/F.globals.dataPoints)/2.4;if(!B){var G=H.renderPaths({i:a,j:r,realIndex:t,pathFrom:c,pathTo:h,stroke:s,strokeWidth:d,strokeLineCap:F.config.stroke.lineCap,fill:n,animationDelay:X,initialSpeed:F.config.chart.animations.speed,dataChangeSpeed:F.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(D,"-area ").concat(O),chartType:D});G.attr("clip-path","url(#gridRectBarMask".concat(F.globals.cuid,")"));var ee=F.config.forecastDataPoints;ee.count>0&&r>=F.globals.dataPoints-ee.count&&(G.node.setAttribute("stroke-dasharray",ee.dashArray),G.node.setAttribute("stroke-width",ee.strokeWidth),G.node.setAttribute("fill-opacity",ee.fillOpacity)),b!==void 0&&x!==void 0&&(G.attr("data-range-y1",b),G.attr("data-range-y2",x)),new bi(this.ctx).setSelectionFilter(G,t,r),f.add(G),G.attr({cy:ne.dataLabelsPos.bcy,cx:ne.dataLabelsPos.bcx,j:r,val:F.globals.series[a][r],barHeight:S,barWidth:T}),ne.dataLabels!==null&&R.add(ne.dataLabels),ne.totalDataLabels&&R.add(ne.totalDataLabels),f.add(R),P&&f.add(P),k&&f.add(k)}return f}},{key:"drawBarPaths",value:function(e){var t,n=e.indexes,s=e.barHeight,r=e.strokeWidth,a=e.zeroW,l=e.x,c=e.y,h=e.yDivision,d=e.elSeries,f=this.w,p=n.i,y=n.j;if(f.globals.isXNumeric)t=(c=(f.globals.seriesX[p][y]-f.globals.minX)/this.invertedXRatio-s)+s*this.visibleI;else if(f.config.plotOptions.bar.hideZeroBarsWhenGrouped){var b=this.barHelpers.getZeroValueEncounters({i:p,j:y}),x=b.nonZeroColumns,_=b.zeroEncounters;x>0&&(s=this.seriesLen*s/x),t=c+s*this.visibleI,t-=s*_}else t=c+s*this.visibleI;this.isFunnel&&(a-=(this.barHelpers.getXForValue(this.series[p][y],a)-a)/2),l=this.barHelpers.getXForValue(this.series[p][y],a);var S=this.barHelpers.getBarpaths({barYPosition:t,barHeight:s,x1:a,x2:l,strokeWidth:r,isReversed:this.isReversed,series:this.series,realIndex:n.realIndex,i:p,j:y,w:f});return f.globals.isXNumeric||(c+=h),this.barHelpers.barBackground({j:y,i:p,y1:t-s*this.visibleI,y2:s*this.seriesLen,elSeries:d}),{pathTo:S.pathTo,pathFrom:S.pathFrom,x1:a,x:l,y:c,goalX:this.barHelpers.getGoalValues("x",a,null,p,y),barYPosition:t,barHeight:s}}},{key:"drawColumnPaths",value:function(e){var t,n=e.indexes,s=e.x,r=e.y,a=e.xDivision,l=e.barWidth,c=e.zeroH,h=e.strokeWidth,d=e.elSeries,f=this.w,p=n.realIndex,y=n.translationsIndex,b=n.i,x=n.j,_=n.bc;if(f.globals.isXNumeric){var S=this.getBarXForNumericXAxis({x:s,j:x,realIndex:p,barWidth:l});s=S.x,t=S.barXPosition}else if(f.config.plotOptions.bar.hideZeroBarsWhenGrouped){var T=this.barHelpers.getZeroValueEncounters({i:b,j:x}),C=T.nonZeroColumns,M=T.zeroEncounters;C>0&&(l=this.seriesLen*l/C),t=s+l*this.visibleI,t-=l*M}else t=s+l*this.visibleI;r=this.barHelpers.getYForValue(this.series[b][x],c,y);var R=this.barHelpers.getColumnPaths({barXPosition:t,barWidth:l,y1:c,y2:r,strokeWidth:h,isReversed:this.isReversed,series:this.series,realIndex:p,i:b,j:x,w:f});return f.globals.isXNumeric||(s+=a),this.barHelpers.barBackground({bc:_,j:x,i:b,x1:t-h/2-l*this.visibleI,x2:l*this.seriesLen+h/2,elSeries:d}),{pathTo:R.pathTo,pathFrom:R.pathFrom,x:s,y:r,goalY:this.barHelpers.getGoalValues("y",null,c,b,x,y),barXPosition:t,barWidth:l}}},{key:"getBarXForNumericXAxis",value:function(e){var t=e.x,n=e.barWidth,s=e.realIndex,r=e.j,a=this.w,l=s;return a.globals.seriesX[s].length||(l=a.globals.maxValsInArrayIndex),q.isNumber(a.globals.seriesX[l][r])&&(t=(a.globals.seriesX[l][r]-a.globals.minX)/this.xRatio-n*this.seriesLen/2),{barXPosition:t+n*this.visibleI,x:t}}},{key:"getPreviousPath",value:function(e,t){for(var n=this.w,s="M 0 0",r=0;r<n.globals.previousPaths.length;r++){var a=n.globals.previousPaths[r];a.paths&&a.paths.length>0&&parseInt(a.realIndex,10)===parseInt(e,10)&&n.globals.previousPaths[r].paths[t]!==void 0&&(s=n.globals.previousPaths[r].paths[t].d)}return s}}]),i}(),H2=function(i){gg(t,Wu);var e=fg(t);function t(){return Ce(this,t),e.apply(this,arguments)}return ke(t,[{key:"draw",value:function(n,s){var r=this,a=this.w;this.graphics=new fe(this.ctx),this.bar=new Wu(this.ctx,this.xyRatios);var l=new Mn(this.ctx,a);n=l.getLogSeries(n),this.yRatio=l.getLogYRatios(this.yRatio),this.barHelpers.initVariables(n),a.config.chart.stackType==="100%"&&(n=a.globals.comboCharts?s.map(function(b){return a.globals.seriesPercent[b]}):a.globals.seriesPercent.slice()),this.series=n,this.barHelpers.initializeStackedPrevVars(this);for(var c=this.graphics.group({class:"apexcharts-bar-series apexcharts-plot-series"}),h=0,d=0,f=function(b,x){var _=void 0,S=void 0,T=void 0,C=void 0,M=a.globals.comboCharts?s[b]:b,R=r.barHelpers.getGroupIndex(M),P=R.groupIndex,k=R.columnGroupIndex;r.groupCtx=r[a.globals.seriesGroups[P]];var E=[],D=[],O=0;r.yRatio.length>1&&(r.yaxisIndex=a.globals.seriesYAxisReverseMap[M][0],O=M),r.isReversed=a.config.yaxis[r.yaxisIndex]&&a.config.yaxis[r.yaxisIndex].reversed;var F=r.graphics.group({class:"apexcharts-series",seriesName:q.escapeString(a.globals.seriesNames[M]),rel:b+1,"data:realIndex":M});r.ctx.series.addCollapsedClassToSeries(F,M);var H=r.graphics.group({class:"apexcharts-datalabels","data:realIndex":M}),B=r.graphics.group({class:"apexcharts-bar-goals-markers"}),K=0,ne=0,X=r.initialPositions(h,d,_,S,T,C,O);d=X.y,K=X.barHeight,S=X.yDivision,C=X.zeroW,h=X.x,ne=X.barWidth,_=X.xDivision,T=X.zeroH,a.globals.barHeight=K,a.globals.barWidth=ne,r.barHelpers.initializeStackedXYVars(r),r.groupCtx.prevY.length===1&&r.groupCtx.prevY[0].every(function(Pe){return isNaN(Pe)})&&(r.groupCtx.prevY[0]=r.groupCtx.prevY[0].map(function(){return T}),r.groupCtx.prevYF[0]=r.groupCtx.prevYF[0].map(function(){return 0}));for(var G=0;G<a.globals.dataPoints;G++){var ee=r.barHelpers.getStrokeWidth(b,G,M),ue={indexes:{i:b,j:G,realIndex:M,translationsIndex:O,bc:x},strokeWidth:ee,x:h,y:d,elSeries:F,columnGroupIndex:k,seriesGroup:a.globals.seriesGroups[P]},le=null;r.isHorizontal?(le=r.drawStackedBarPaths(be(be({},ue),{},{zeroW:C,barHeight:K,yDivision:S})),ne=r.series[b][G]/r.invertedYRatio):(le=r.drawStackedColumnPaths(be(be({},ue),{},{xDivision:_,barWidth:ne,zeroH:T})),K=r.series[b][G]/r.yRatio[O]);var me=r.barHelpers.drawGoalLine({barXPosition:le.barXPosition,barYPosition:le.barYPosition,goalX:le.goalX,goalY:le.goalY,barHeight:K,barWidth:ne});me&&B.add(me),d=le.y,h=le.x,E.push(h),D.push(d);var ae=r.barHelpers.getPathFillColor(n,b,G,M),ye="",_e=a.globals.isBarHorizontal?"apexcharts-flip-x":"apexcharts-flip-y";(r.barHelpers.arrBorderRadius[M][G]==="bottom"&&a.globals.series[M][G]>0||r.barHelpers.arrBorderRadius[M][G]==="top"&&a.globals.series[M][G]<0)&&(ye=_e),F=r.renderSeries(be(be({realIndex:M,pathFill:ae.color},ae.useRangeColor?{lineFill:ae.color}:{}),{},{j:G,i:b,columnGroupIndex:k,pathFrom:le.pathFrom,pathTo:le.pathTo,strokeWidth:ee,elSeries:F,x:h,y:d,series:n,barHeight:K,barWidth:ne,elDataLabelsWrap:H,elGoalsMarkers:B,type:"bar",visibleSeries:k,classes:ye}))}a.globals.seriesXvalues[M]=E,a.globals.seriesYvalues[M]=D,r.groupCtx.prevY.push(r.groupCtx.yArrj),r.groupCtx.prevYF.push(r.groupCtx.yArrjF),r.groupCtx.prevYVal.push(r.groupCtx.yArrjVal),r.groupCtx.prevX.push(r.groupCtx.xArrj),r.groupCtx.prevXF.push(r.groupCtx.xArrjF),r.groupCtx.prevXVal.push(r.groupCtx.xArrjVal),c.add(F)},p=0,y=0;p<n.length;p++,y++)f(p,y);return c}},{key:"initialPositions",value:function(n,s,r,a,l,c,h){var d,f,p=this.w;if(this.isHorizontal){a=p.globals.gridHeight/p.globals.dataPoints;var y=p.config.plotOptions.bar.barHeight;d=String(y).indexOf("%")===-1?parseInt(y,10):a*parseInt(y,10)/100,c=p.globals.padHorizontal+(this.isReversed?p.globals.gridWidth-this.baseLineInvertedY:this.baseLineInvertedY),s=(a-d)/2}else{f=r=p.globals.gridWidth/p.globals.dataPoints;var b=p.config.plotOptions.bar.columnWidth;p.globals.isXNumeric&&p.globals.dataPoints>1?f=(r=p.globals.minXDiff/this.xRatio)*parseInt(this.barOptions.columnWidth,10)/100:String(b).indexOf("%")===-1?f=parseInt(b,10):f*=parseInt(b,10)/100,l=this.isReversed?this.baseLineY[h]:p.globals.gridHeight-this.baseLineY[h],n=p.globals.padHorizontal+(r-f)/2}var x=p.globals.barGroups.length||1;return{x:n,y:s,yDivision:a,xDivision:r,barHeight:d/x,barWidth:f/x,zeroH:l,zeroW:c}}},{key:"drawStackedBarPaths",value:function(n){for(var s,r=n.indexes,a=n.barHeight,l=n.strokeWidth,c=n.zeroW,h=n.x,d=n.y,f=n.columnGroupIndex,p=n.seriesGroup,y=n.yDivision,b=n.elSeries,x=this.w,_=d+f*a,S=r.i,T=r.j,C=r.realIndex,M=r.translationsIndex,R=0,P=0;P<this.groupCtx.prevXF.length;P++)R+=this.groupCtx.prevXF[P][T];var k=S;if(x.config.series[C].name&&(k=p.indexOf(x.config.series[C].name)),k>0){var E=c;this.groupCtx.prevXVal[k-1][T]<0?E=this.series[S][T]>=0?this.groupCtx.prevX[k-1][T]+R-2*(this.isReversed?R:0):this.groupCtx.prevX[k-1][T]:this.groupCtx.prevXVal[k-1][T]>=0&&(E=this.series[S][T]>=0?this.groupCtx.prevX[k-1][T]:this.groupCtx.prevX[k-1][T]-R+2*(this.isReversed?R:0)),s=E}else s=c;h=this.series[S][T]===null?s:s+this.series[S][T]/this.invertedYRatio-2*(this.isReversed?this.series[S][T]/this.invertedYRatio:0);var D=this.barHelpers.getBarpaths({barYPosition:_,barHeight:a,x1:s,x2:h,strokeWidth:l,isReversed:this.isReversed,series:this.series,realIndex:r.realIndex,seriesGroup:p,i:S,j:T,w:x});return this.barHelpers.barBackground({j:T,i:S,y1:_,y2:a,elSeries:b}),d+=y,{pathTo:D.pathTo,pathFrom:D.pathFrom,goalX:this.barHelpers.getGoalValues("x",c,null,S,T,M),barXPosition:s,barYPosition:_,x:h,y:d}}},{key:"drawStackedColumnPaths",value:function(n){var s=n.indexes,r=n.x,a=n.y,l=n.xDivision,c=n.barWidth,h=n.zeroH,d=n.columnGroupIndex,f=n.seriesGroup,p=n.elSeries,y=this.w,b=s.i,x=s.j,_=s.bc,S=s.realIndex,T=s.translationsIndex;if(y.globals.isXNumeric){var C=y.globals.seriesX[S][x];C||(C=0),r=(C-y.globals.minX)/this.xRatio-c/2*y.globals.barGroups.length}for(var M,R=r+d*c,P=0,k=0;k<this.groupCtx.prevYF.length;k++)P+=isNaN(this.groupCtx.prevYF[k][x])?0:this.groupCtx.prevYF[k][x];var E=b;if(f&&(E=f.indexOf(y.globals.seriesNames[S])),E>0&&!y.globals.isXNumeric||E>0&&y.globals.isXNumeric&&y.globals.seriesX[S-1][x]===y.globals.seriesX[S][x]){var D,O,F,H=Math.min(this.yRatio.length+1,S+1);if(this.groupCtx.prevY[E-1]!==void 0&&this.groupCtx.prevY[E-1].length)for(var B=1;B<H;B++){var K;if(!isNaN((K=this.groupCtx.prevY[E-B])===null||K===void 0?void 0:K[x])){F=this.groupCtx.prevY[E-B][x];break}}for(var ne=1;ne<H;ne++){var X,G;if(((X=this.groupCtx.prevYVal[E-ne])===null||X===void 0?void 0:X[x])<0){O=this.series[b][x]>=0?F-P+2*(this.isReversed?P:0):F;break}if(((G=this.groupCtx.prevYVal[E-ne])===null||G===void 0?void 0:G[x])>=0){O=this.series[b][x]>=0?F:F+P-2*(this.isReversed?P:0);break}}O===void 0&&(O=y.globals.gridHeight),M=(D=this.groupCtx.prevYF[0])!==null&&D!==void 0&&D.every(function(ue){return ue===0})&&this.groupCtx.prevYF.slice(1,E).every(function(ue){return ue.every(function(le){return isNaN(le)})})?h:O}else M=h;a=this.series[b][x]?M-this.series[b][x]/this.yRatio[T]+2*(this.isReversed?this.series[b][x]/this.yRatio[T]:0):M;var ee=this.barHelpers.getColumnPaths({barXPosition:R,barWidth:c,y1:M,y2:a,yRatio:this.yRatio[T],strokeWidth:this.strokeWidth,isReversed:this.isReversed,series:this.series,seriesGroup:f,realIndex:s.realIndex,i:b,j:x,w:y});return this.barHelpers.barBackground({bc:_,j:x,i:b,x1:R,x2:c,elSeries:p}),{pathTo:ee.pathTo,pathFrom:ee.pathFrom,goalY:this.barHelpers.getGoalValues("y",null,h,b,x),barXPosition:R,x:y.globals.isXNumeric?r:r+l,y:a}}}]),t}(),b0=function(i){gg(t,Wu);var e=fg(t);function t(){return Ce(this,t),e.apply(this,arguments)}return ke(t,[{key:"draw",value:function(n,s,r){var a=this,l=this.w,c=new fe(this.ctx),h=l.globals.comboCharts?s:l.config.chart.type,d=new vr(this.ctx);this.candlestickOptions=this.w.config.plotOptions.candlestick,this.boxOptions=this.w.config.plotOptions.boxPlot,this.isHorizontal=l.config.plotOptions.bar.horizontal,this.isOHLC=this.candlestickOptions&&this.candlestickOptions.type==="ohlc";var f=new Mn(this.ctx,l);n=f.getLogSeries(n),this.series=n,this.yRatio=f.getLogYRatios(this.yRatio),this.barHelpers.initVariables(n);for(var p=c.group({class:"apexcharts-".concat(h,"-series apexcharts-plot-series")}),y=function(x){a.isBoxPlot=l.config.chart.type==="boxPlot"||l.config.series[x].type==="boxPlot";var _,S,T,C,M=void 0,R=void 0,P=[],k=[],E=l.globals.comboCharts?r[x]:x,D=a.barHelpers.getGroupIndex(E).columnGroupIndex,O=c.group({class:"apexcharts-series",seriesName:q.escapeString(l.globals.seriesNames[E]),rel:x+1,"data:realIndex":E});a.ctx.series.addCollapsedClassToSeries(O,E),n[x].length>0&&(a.visibleI=a.visibleI+1);var F,H,B=0;a.yRatio.length>1&&(a.yaxisIndex=l.globals.seriesYAxisReverseMap[E][0],B=E);var K=a.barHelpers.initialPositions(E);R=K.y,F=K.barHeight,S=K.yDivision,C=K.zeroW,M=K.x,H=K.barWidth,_=K.xDivision,T=K.zeroH,k.push(M+H/2);for(var ne=c.group({class:"apexcharts-datalabels","data:realIndex":E}),X=c.group({class:"apexcharts-bar-goals-markers"}),G=function(ue){var le=a.barHelpers.getStrokeWidth(x,ue,E),me=null,ae={indexes:{i:x,j:ue,realIndex:E,translationsIndex:B},x:M,y:R,strokeWidth:le,elSeries:O};me=a.isHorizontal?a.drawHorizontalBoxPaths(be(be({},ae),{},{yDivision:S,barHeight:F,zeroW:C})):a.drawVerticalBoxPaths(be(be({},ae),{},{xDivision:_,barWidth:H,zeroH:T})),R=me.y,M=me.x;var ye=a.barHelpers.drawGoalLine({barXPosition:me.barXPosition,barYPosition:me.barYPosition,goalX:me.goalX,goalY:me.goalY,barHeight:F,barWidth:H});ye&&X.add(ye),ue>0&&k.push(M+H/2),P.push(R),me.pathTo.forEach(function(_e,Pe){var Se=!a.isBoxPlot&&a.candlestickOptions.wick.useFillColor?me.color[Pe]:l.globals.stroke.colors[x],Me=d.fillPath({seriesNumber:E,dataPointIndex:ue,color:me.color[Pe],value:n[x][ue]});a.renderSeries({realIndex:E,pathFill:Me,lineFill:Se,j:ue,i:x,pathFrom:me.pathFrom,pathTo:_e,strokeWidth:le,elSeries:O,x:M,y:R,series:n,columnGroupIndex:D,barHeight:F,barWidth:H,elDataLabelsWrap:ne,elGoalsMarkers:X,visibleSeries:a.visibleI,type:l.config.chart.type})})},ee=0;ee<l.globals.dataPoints;ee++)G(ee);l.globals.seriesXvalues[E]=k,l.globals.seriesYvalues[E]=P,p.add(O)},b=0;b<n.length;b++)y(b);return p}},{key:"drawVerticalBoxPaths",value:function(n){var s=n.indexes,r=n.x;n.y;var a=n.xDivision,l=n.barWidth,c=n.zeroH,h=n.strokeWidth,d=this.w,f=new fe(this.ctx),p=s.i,y=s.j,b=d.config.plotOptions.candlestick.colors,x=this.boxOptions.colors,_=s.realIndex,S=function(ee){return Array.isArray(ee)?ee[_]:ee},T=S(b.upward),C=S(b.downward),M=this.yRatio[s.translationsIndex],R=this.getOHLCValue(_,y),P=c,k=c,E=R.o<R.c?[T]:[C];this.isBoxPlot&&(E=[S(x.lower),S(x.upper)]);var D=Math.min(R.o,R.c),O=Math.max(R.o,R.c),F=R.m;d.globals.isXNumeric&&(r=(d.globals.seriesX[_][y]-d.globals.minX)/this.xRatio-l/2);var H=r+l*this.visibleI;this.series[p][y]===void 0||this.series[p][y]===null?(D=c,O=c):(D=c-D/M,O=c-O/M,P=c-R.h/M,k=c-R.l/M,F=c-R.m/M);var B=f.move(H,c),K=f.move(H+l/2,D);if(d.globals.previousPaths.length>0&&(K=this.getPreviousPath(_,y,!0)),this.isOHLC){var ne=H+l/2,X=c-R.o/M,G=c-R.c/M;B=[f.move(ne,P)+f.line(ne,k)+f.move(ne,X)+f.line(H,X)+f.move(ne,G)+f.line(H+l,G)]}else B=this.isBoxPlot?[f.move(H,D)+f.line(H+l/2,D)+f.line(H+l/2,P)+f.line(H+l/4,P)+f.line(H+l-l/4,P)+f.line(H+l/2,P)+f.line(H+l/2,D)+f.line(H+l,D)+f.line(H+l,F)+f.line(H,F)+f.line(H,D+h/2),f.move(H,F)+f.line(H+l,F)+f.line(H+l,O)+f.line(H+l/2,O)+f.line(H+l/2,k)+f.line(H+l-l/4,k)+f.line(H+l/4,k)+f.line(H+l/2,k)+f.line(H+l/2,O)+f.line(H,O)+f.line(H,F)+"z"]:[f.move(H,O)+f.line(H+l/2,O)+f.line(H+l/2,P)+f.line(H+l/2,O)+f.line(H+l,O)+f.line(H+l,D)+f.line(H+l/2,D)+f.line(H+l/2,k)+f.line(H+l/2,D)+f.line(H,D)+f.line(H,O-h/2)];return K+=f.move(H,D),d.globals.isXNumeric||(r+=a),{pathTo:B,pathFrom:K,x:r,y:O,goalY:this.barHelpers.getGoalValues("y",null,c,p,y,s.translationsIndex),barXPosition:H,color:E}}},{key:"drawHorizontalBoxPaths",value:function(n){var s=n.indexes;n.x;var r=n.y,a=n.yDivision,l=n.barHeight,c=n.zeroW,h=n.strokeWidth,d=this.w,f=new fe(this.ctx),p=s.i,y=s.j,b=this.boxOptions.colors.lower;this.isBoxPlot&&(b=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var x=this.invertedYRatio,_=s.realIndex,S=this.getOHLCValue(_,y),T=c,C=c,M=Math.min(S.o,S.c),R=Math.max(S.o,S.c),P=S.m;d.globals.isXNumeric&&(r=(d.globals.seriesX[_][y]-d.globals.minX)/this.invertedXRatio-l/2);var k=r+l*this.visibleI;this.series[p][y]===void 0||this.series[p][y]===null?(M=c,R=c):(M=c+M/x,R=c+R/x,T=c+S.h/x,C=c+S.l/x,P=c+S.m/x);var E=f.move(c,k),D=f.move(M,k+l/2);return d.globals.previousPaths.length>0&&(D=this.getPreviousPath(_,y,!0)),E=[f.move(M,k)+f.line(M,k+l/2)+f.line(T,k+l/2)+f.line(T,k+l/2-l/4)+f.line(T,k+l/2+l/4)+f.line(T,k+l/2)+f.line(M,k+l/2)+f.line(M,k+l)+f.line(P,k+l)+f.line(P,k)+f.line(M+h/2,k),f.move(P,k)+f.line(P,k+l)+f.line(R,k+l)+f.line(R,k+l/2)+f.line(C,k+l/2)+f.line(C,k+l-l/4)+f.line(C,k+l/4)+f.line(C,k+l/2)+f.line(R,k+l/2)+f.line(R,k)+f.line(P,k)+"z"],D+=f.move(M,k),d.globals.isXNumeric||(r+=a),{pathTo:E,pathFrom:D,x:R,y:r,goalX:this.barHelpers.getGoalValues("x",c,null,p,y),barYPosition:k,color:b}}},{key:"getOHLCValue",value:function(n,s){var r=this.w,a=new Mn(this.ctx,r),l=a.getLogValAtSeriesIndex(r.globals.seriesCandleH[n][s],n),c=a.getLogValAtSeriesIndex(r.globals.seriesCandleO[n][s],n),h=a.getLogValAtSeriesIndex(r.globals.seriesCandleM[n][s],n),d=a.getLogValAtSeriesIndex(r.globals.seriesCandleC[n][s],n),f=a.getLogValAtSeriesIndex(r.globals.seriesCandleL[n][s],n);return{o:this.isBoxPlot?l:c,h:this.isBoxPlot?c:l,m:h,l:this.isBoxPlot?d:f,c:this.isBoxPlot?f:d}}}]),t}(),CF=function(){function i(e){Ce(this,i),this.ctx=e,this.w=e.w}return ke(i,[{key:"checkColorRange",value:function(){var e=this.w,t=!1,n=e.config.plotOptions[e.config.chart.type];return n.colorScale.ranges.length>0&&n.colorScale.ranges.map(function(s,r){s.from<=0&&(t=!0)}),t}},{key:"getShadeColor",value:function(e,t,n,s){var r=this.w,a=1,l=r.config.plotOptions[e].shadeIntensity,c=this.determineColor(e,t,n);r.globals.hasNegs||s?a=r.config.plotOptions[e].reverseNegativeShade?c.percent<0?c.percent/100*(1.25*l):(1-c.percent/100)*(1.25*l):c.percent<=0?1-(1+c.percent/100)*l:(1-c.percent/100)*l:(a=1-c.percent/100,e==="treemap"&&(a=(1-c.percent/100)*(1.25*l)));var h=c.color,d=new q;if(r.config.plotOptions[e].enableShades)if(this.w.config.theme.mode==="dark"){var f=d.shadeColor(-1*a,c.color);h=q.hexToRgba(q.isColorHex(f)?f:q.rgb2hex(f),r.config.fill.opacity)}else{var p=d.shadeColor(a,c.color);h=q.hexToRgba(q.isColorHex(p)?p:q.rgb2hex(p),r.config.fill.opacity)}return{color:h,colorProps:c}}},{key:"determineColor",value:function(e,t,n){var s=this.w,r=s.globals.series[t][n],a=s.config.plotOptions[e],l=a.colorScale.inverse?n:t;a.distributed&&s.config.chart.type==="treemap"&&(l=n);var c=s.globals.colors[l],h=null,d=Math.min.apply(Math,Qn(s.globals.series[t])),f=Math.max.apply(Math,Qn(s.globals.series[t]));a.distributed||e!=="heatmap"||(d=s.globals.minY,f=s.globals.maxY),a.colorScale.min!==void 0&&(d=a.colorScale.min<s.globals.minY?a.colorScale.min:s.globals.minY,f=a.colorScale.max>s.globals.maxY?a.colorScale.max:s.globals.maxY);var p=Math.abs(f)+Math.abs(d),y=100*r/(p===0?p-1e-6:p);return a.colorScale.ranges.length>0&&a.colorScale.ranges.map(function(b,x){if(r>=b.from&&r<=b.to){c=b.color,h=b.foreColor?b.foreColor:null,d=b.from,f=b.to;var _=Math.abs(f)+Math.abs(d);y=100*r/(_===0?_-1e-6:_)}}),{color:c,foreColor:h,percent:y}}},{key:"calculateDataLabels",value:function(e){var t=e.text,n=e.x,s=e.y,r=e.i,a=e.j,l=e.colorProps,c=e.fontSize,h=this.w.config.dataLabels,d=new fe(this.ctx),f=new Xu(this.ctx),p=null;if(h.enabled){p=d.group({class:"apexcharts-data-labels"});var y=h.offsetX,b=h.offsetY,x=n+y,_=s+parseFloat(h.style.fontSize)/3+b;f.plotDataLabelsText({x,y:_,text:t,i:r,j:a,color:l.foreColor,parent:p,fontSize:c,dataLabelsConfig:h})}return p}},{key:"addListeners",value:function(e){var t=new fe(this.ctx);e.node.addEventListener("mouseenter",t.pathMouseEnter.bind(this,e)),e.node.addEventListener("mouseleave",t.pathMouseLeave.bind(this,e)),e.node.addEventListener("mousedown",t.pathMouseDown.bind(this,e))}}]),i}(),zee=function(){function i(e,t){Ce(this,i),this.ctx=e,this.w=e.w,this.xRatio=t.xRatio,this.yRatio=t.yRatio,this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.helpers=new CF(e),this.rectRadius=this.w.config.plotOptions.heatmap.radius,this.strokeWidth=this.w.config.stroke.show?this.w.config.stroke.width:0}return ke(i,[{key:"draw",value:function(e){var t=this.w,n=new fe(this.ctx),s=n.group({class:"apexcharts-heatmap"});s.attr("clip-path","url(#gridRectMask".concat(t.globals.cuid,")"));var r=t.globals.gridWidth/t.globals.dataPoints,a=t.globals.gridHeight/t.globals.series.length,l=0,c=!1;this.negRange=this.helpers.checkColorRange();var h=e.slice();t.config.yaxis[0].reversed&&(c=!0,h.reverse());for(var d=c?0:h.length-1;c?d<h.length:d>=0;c?d++:d--){var f=n.group({class:"apexcharts-series apexcharts-heatmap-series",seriesName:q.escapeString(t.globals.seriesNames[d]),rel:d+1,"data:realIndex":d});if(this.ctx.series.addCollapsedClassToSeries(f,d),t.config.chart.dropShadow.enabled){var p=t.config.chart.dropShadow;new bi(this.ctx).dropShadow(f,p,d)}for(var y=0,b=t.config.plotOptions.heatmap.shadeIntensity,x=0,_=0;_<t.globals.dataPoints;_++)if(t.globals.seriesX.length&&!t.globals.allSeriesHasEqualX&&t.globals.minX+t.globals.minXDiff*_<t.globals.seriesX[d][x])y+=r;else{if(x>=h[d].length)break;var S=this.helpers.getShadeColor(t.config.chart.type,d,x,this.negRange),T=S.color,C=S.colorProps;t.config.fill.type==="image"&&(T=new vr(this.ctx).fillPath({seriesNumber:d,dataPointIndex:x,opacity:t.globals.hasNegs?C.percent<0?1-(1+C.percent/100):b+C.percent/100:C.percent/100,patternID:q.randomId(),width:t.config.fill.image.width?t.config.fill.image.width:r,height:t.config.fill.image.height?t.config.fill.image.height:a}));var M=this.rectRadius,R=n.drawRect(y,l,r,a,M);if(R.attr({cx:y,cy:l}),R.node.classList.add("apexcharts-heatmap-rect"),f.add(R),R.attr({fill:T,i:d,index:d,j:x,val:e[d][x],"stroke-width":this.strokeWidth,stroke:t.config.plotOptions.heatmap.useFillColorAsStroke?T:t.globals.stroke.colors[0],color:T}),this.helpers.addListeners(R),t.config.chart.animations.enabled&&!t.globals.dataChanged){var P=1;t.globals.resized||(P=t.config.chart.animations.speed),this.animateHeatMap(R,y,l,r,a,P)}if(t.globals.dataChanged){var k=1;if(this.dynamicAnim.enabled&&t.globals.shouldAnimate){k=this.dynamicAnim.speed;var E=t.globals.previousPaths[d]&&t.globals.previousPaths[d][x]&&t.globals.previousPaths[d][x].color;E||(E="rgba(255, 255, 255, 0)"),this.animateHeatColor(R,q.isColorHex(E)?E:q.rgb2hex(E),q.isColorHex(T)?T:q.rgb2hex(T),k)}}var D=(0,t.config.dataLabels.formatter)(t.globals.series[d][x],{value:t.globals.series[d][x],seriesIndex:d,dataPointIndex:x,w:t}),O=this.helpers.calculateDataLabels({text:D,x:y+r/2,y:l+a/2,i:d,j:x,colorProps:C,series:h});O!==null&&f.add(O),y+=r,x++}l+=a,s.add(f)}var F=t.globals.yAxisScale[0].result.slice();return t.config.yaxis[0].reversed?F.unshift(""):F.push(""),t.globals.yAxisScale[0].result=F,s}},{key:"animateHeatMap",value:function(e,t,n,s,r,a){var l=new ch(this.ctx);l.animateRect(e,{x:t+s/2,y:n+r/2,width:0,height:0},{x:t,y:n,width:s,height:r},a,function(){l.animationCompleted(e)})}},{key:"animateHeatColor",value:function(e,t,n,s){e.attr({fill:t}).animate(s).attr({fill:n})}}]),i}(),kF=function(){function i(e){Ce(this,i),this.ctx=e,this.w=e.w}return ke(i,[{key:"drawYAxisTexts",value:function(e,t,n,s){var r=this.w,a=r.config.yaxis[0],l=r.globals.yLabelFormatters[0];return new fe(this.ctx).drawText({x:e+a.labels.offsetX,y:t+a.labels.offsetY,text:l(s,n),textAnchor:"middle",fontSize:a.labels.style.fontSize,fontFamily:a.labels.style.fontFamily,foreColor:Array.isArray(a.labels.style.colors)?a.labels.style.colors[n]:a.labels.style.colors})}}]),i}(),RF=function(){function i(e){Ce(this,i),this.ctx=e,this.w=e.w;var t=this.w;this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animBeginArr=[0],this.animDur=0,this.donutDataLabels=this.w.config.plotOptions.pie.donut.labels,this.lineColorArr=t.globals.stroke.colors!==void 0?t.globals.stroke.colors:t.globals.colors,this.defaultSize=Math.min(t.globals.gridWidth,t.globals.gridHeight),this.centerY=this.defaultSize/2,this.centerX=t.globals.gridWidth/2,t.config.chart.type==="radialBar"?this.fullAngle=360:this.fullAngle=Math.abs(t.config.plotOptions.pie.endAngle-t.config.plotOptions.pie.startAngle),this.initialAngle=t.config.plotOptions.pie.startAngle%this.fullAngle,t.globals.radialSize=this.defaultSize/2.05-t.config.stroke.width-(t.config.chart.sparkline.enabled?0:t.config.chart.dropShadow.blur),this.donutSize=t.globals.radialSize*parseInt(t.config.plotOptions.pie.donut.size,10)/100;var n=t.config.plotOptions.pie.customScale,s=t.globals.gridWidth/2,r=t.globals.gridHeight/2;this.translateX=s-s*n,this.translateY=r-r*n,this.dataLabelsGroup=new fe(this.ctx).group({class:"apexcharts-datalabels-group",transform:"translate(".concat(this.translateX,", ").concat(this.translateY,") scale(").concat(n,")")}),this.maxY=0,this.sliceLabels=[],this.sliceSizes=[],this.prevSectorAngleArr=[]}return ke(i,[{key:"draw",value:function(e){var t=this,n=this.w,s=new fe(this.ctx),r=s.group({class:"apexcharts-pie"});if(n.globals.noData)return r;for(var a=0,l=0;l<e.length;l++)a+=q.negToZero(e[l]);var c=[],h=s.group();a===0&&(a=1e-5),e.forEach(function(C){t.maxY=Math.max(t.maxY,C)}),n.config.yaxis[0].max&&(this.maxY=n.config.yaxis[0].max),n.config.grid.position==="back"&&this.chartType==="polarArea"&&this.drawPolarElements(r);for(var d=0;d<e.length;d++){var f=this.fullAngle*q.negToZero(e[d])/a;c.push(f),this.chartType==="polarArea"?(c[d]=this.fullAngle/e.length,this.sliceSizes.push(n.globals.radialSize*e[d]/this.maxY)):this.sliceSizes.push(n.globals.radialSize)}if(n.globals.dataChanged){for(var p,y=0,b=0;b<n.globals.previousPaths.length;b++)y+=q.negToZero(n.globals.previousPaths[b]);for(var x=0;x<n.globals.previousPaths.length;x++)p=this.fullAngle*q.negToZero(n.globals.previousPaths[x])/y,this.prevSectorAngleArr.push(p)}if(this.donutSize<0&&(this.donutSize=0),this.chartType==="donut"){var _=s.drawCircle(this.donutSize);_.attr({cx:this.centerX,cy:this.centerY,fill:n.config.plotOptions.pie.donut.background?n.config.plotOptions.pie.donut.background:"transparent"}),h.add(_)}var S=this.drawArcs(c,e);if(this.sliceLabels.forEach(function(C){S.add(C)}),h.attr({transform:"translate(".concat(this.translateX,", ").concat(this.translateY,") scale(").concat(n.config.plotOptions.pie.customScale,")")}),h.add(S),r.add(h),this.donutDataLabels.show){var T=this.renderInnerDataLabels(this.dataLabelsGroup,this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show});r.add(T)}return n.config.grid.position==="front"&&this.chartType==="polarArea"&&this.drawPolarElements(r),r}},{key:"drawArcs",value:function(e,t){var n=this.w,s=new bi(this.ctx),r=new fe(this.ctx),a=new vr(this.ctx),l=r.group({class:"apexcharts-slices"}),c=this.initialAngle,h=this.initialAngle,d=this.initialAngle,f=this.initialAngle;this.strokeWidth=n.config.stroke.show?n.config.stroke.width:0;for(var p=0;p<e.length;p++){var y=r.group({class:"apexcharts-series apexcharts-pie-series",seriesName:q.escapeString(n.globals.seriesNames[p]),rel:p+1,"data:realIndex":p});l.add(y),h=f,d=(c=d)+e[p],f=h+this.prevSectorAngleArr[p];var b=d<c?this.fullAngle+d-c:d-c,x=a.fillPath({seriesNumber:p,size:this.sliceSizes[p],value:t[p]}),_=this.getChangedPath(h,f),S=r.drawPath({d:_,stroke:Array.isArray(this.lineColorArr)?this.lineColorArr[p]:this.lineColorArr,strokeWidth:0,fill:x,fillOpacity:n.config.fill.opacity,classes:"apexcharts-pie-area apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(p)});if(S.attr({index:0,j:p}),s.setSelectionFilter(S,0,p),n.config.chart.dropShadow.enabled){var T=n.config.chart.dropShadow;s.dropShadow(S,T,p)}this.addListeners(S,this.donutDataLabels),fe.setAttrs(S.node,{"data:angle":b,"data:startAngle":c,"data:strokeWidth":this.strokeWidth,"data:value":t[p]});var C={x:0,y:0};this.chartType==="pie"||this.chartType==="polarArea"?C=q.polarToCartesian(this.centerX,this.centerY,n.globals.radialSize/1.25+n.config.plotOptions.pie.dataLabels.offset,(c+b/2)%this.fullAngle):this.chartType==="donut"&&(C=q.polarToCartesian(this.centerX,this.centerY,(n.globals.radialSize+this.donutSize)/2+n.config.plotOptions.pie.dataLabels.offset,(c+b/2)%this.fullAngle)),y.add(S);var M=0;if(!this.initialAnim||n.globals.resized||n.globals.dataChanged?this.animBeginArr.push(0):((M=b/this.fullAngle*n.config.chart.animations.speed)===0&&(M=1),this.animDur=M+this.animDur,this.animBeginArr.push(this.animDur)),this.dynamicAnim&&n.globals.dataChanged?this.animatePaths(S,{size:this.sliceSizes[p],endAngle:d,startAngle:c,prevStartAngle:h,prevEndAngle:f,animateStartingPos:!0,i:p,animBeginArr:this.animBeginArr,shouldSetPrevPaths:!0,dur:n.config.chart.animations.dynamicAnimation.speed}):this.animatePaths(S,{size:this.sliceSizes[p],endAngle:d,startAngle:c,i:p,totalItems:e.length-1,animBeginArr:this.animBeginArr,dur:M}),n.config.plotOptions.pie.expandOnClick&&this.chartType!=="polarArea"&&S.node.addEventListener("mouseup",this.pieClicked.bind(this,p)),n.globals.selectedDataPoints[0]!==void 0&&n.globals.selectedDataPoints[0].indexOf(p)>-1&&this.pieClicked(p),n.config.dataLabels.enabled){var R=C.x,P=C.y,k=100*b/this.fullAngle+"%";if(b!==0&&n.config.plotOptions.pie.dataLabels.minAngleToShowLabel<e[p]){var E=n.config.dataLabels.formatter;E!==void 0&&(k=E(n.globals.seriesPercent[p][0],{seriesIndex:p,w:n}));var D=n.globals.dataLabels.style.colors[p],O=r.group({class:"apexcharts-datalabels"}),F=r.drawText({x:R,y:P,text:k,textAnchor:"middle",fontSize:n.config.dataLabels.style.fontSize,fontFamily:n.config.dataLabels.style.fontFamily,fontWeight:n.config.dataLabels.style.fontWeight,foreColor:D});if(O.add(F),n.config.dataLabels.dropShadow.enabled){var H=n.config.dataLabels.dropShadow;s.dropShadow(F,H)}F.node.classList.add("apexcharts-pie-label"),n.config.chart.animations.animate&&n.globals.resized===!1&&(F.node.classList.add("apexcharts-pie-label-delay"),F.node.style.animationDelay=n.config.chart.animations.speed/940+"s"),this.sliceLabels.push(O)}}}return l}},{key:"addListeners",value:function(e,t){var n=new fe(this.ctx);e.node.addEventListener("mouseenter",n.pathMouseEnter.bind(this,e)),e.node.addEventListener("mouseleave",n.pathMouseLeave.bind(this,e)),e.node.addEventListener("mouseleave",this.revertDataLabelsInner.bind(this,e.node,t)),e.node.addEventListener("mousedown",n.pathMouseDown.bind(this,e)),this.donutDataLabels.total.showAlways||(e.node.addEventListener("mouseenter",this.printDataLabelsInner.bind(this,e.node,t)),e.node.addEventListener("mousedown",this.printDataLabelsInner.bind(this,e.node,t)))}},{key:"animatePaths",value:function(e,t){var n=this.w,s=t.endAngle<t.startAngle?this.fullAngle+t.endAngle-t.startAngle:t.endAngle-t.startAngle,r=s,a=t.startAngle,l=t.startAngle;t.prevStartAngle!==void 0&&t.prevEndAngle!==void 0&&(a=t.prevEndAngle,r=t.prevEndAngle<t.prevStartAngle?this.fullAngle+t.prevEndAngle-t.prevStartAngle:t.prevEndAngle-t.prevStartAngle),t.i===n.config.series.length-1&&(s+l>this.fullAngle?t.endAngle=t.endAngle-(s+l):s+l<this.fullAngle&&(t.endAngle=t.endAngle+(this.fullAngle-(s+l)))),s===this.fullAngle&&(s=this.fullAngle-.01),this.animateArc(e,a,l,s,r,t)}},{key:"animateArc",value:function(e,t,n,s,r,a){var l,c=this,h=this.w,d=new ch(this.ctx),f=a.size;(isNaN(t)||isNaN(r))&&(t=n,r=s,a.dur=0);var p=s,y=n,b=t<n?this.fullAngle+t-n:t-n;h.globals.dataChanged&&a.shouldSetPrevPaths&&a.prevEndAngle&&(l=c.getPiePath({me:c,startAngle:a.prevStartAngle,angle:a.prevEndAngle<a.prevStartAngle?this.fullAngle+a.prevEndAngle-a.prevStartAngle:a.prevEndAngle-a.prevStartAngle,size:f}),e.attr({d:l})),a.dur!==0?e.animate(a.dur,a.animBeginArr[a.i]).after(function(){c.chartType!=="pie"&&c.chartType!=="donut"&&c.chartType!=="polarArea"||this.animate(h.config.chart.animations.dynamicAnimation.speed).attr({"stroke-width":c.strokeWidth}),a.i===h.config.series.length-1&&d.animationCompleted(e)}).during(function(x){p=b+(s-b)*x,a.animateStartingPos&&(p=r+(s-r)*x,y=t-r+(n-(t-r))*x),l=c.getPiePath({me:c,startAngle:y,angle:p,size:f}),e.node.setAttribute("data:pathOrig",l),e.attr({d:l})}):(l=c.getPiePath({me:c,startAngle:y,angle:s,size:f}),a.isTrack||(h.globals.animationEnded=!0),e.node.setAttribute("data:pathOrig",l),e.attr({d:l,"stroke-width":c.strokeWidth}))}},{key:"pieClicked",value:function(e){var t,n=this.w,s=this,r=s.sliceSizes[e]+(n.config.plotOptions.pie.expandOnClick?4:0),a=n.globals.dom.Paper.findOne(".apexcharts-".concat(s.chartType.toLowerCase(),"-slice-").concat(e));if(a.attr("data:pieClicked")!=="true"){var l=n.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area");Array.prototype.forEach.call(l,function(f){f.setAttribute("data:pieClicked","false");var p=f.getAttribute("data:pathOrig");p&&f.setAttribute("d",p)}),n.globals.capturedDataPointIndex=e,a.attr("data:pieClicked","true");var c=parseInt(a.attr("data:startAngle"),10),h=parseInt(a.attr("data:angle"),10);t=s.getPiePath({me:s,startAngle:c,angle:h,size:r}),h!==360&&a.plot(t)}else{a.attr({"data:pieClicked":"false"}),this.revertDataLabelsInner(a.node,this.donutDataLabels);var d=a.attr("data:pathOrig");a.attr({d})}}},{key:"getChangedPath",value:function(e,t){var n="";return this.dynamicAnim&&this.w.globals.dataChanged&&(n=this.getPiePath({me:this,startAngle:e,angle:t-e,size:this.size})),n}},{key:"getPiePath",value:function(e){var t,n=e.me,s=e.startAngle,r=e.angle,a=e.size,l=new fe(this.ctx),c=s,h=Math.PI*(c-90)/180,d=r+s;Math.ceil(d)>=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle&&(d=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle-.01),Math.ceil(d)>this.fullAngle&&(d-=this.fullAngle);var f=Math.PI*(d-90)/180,p=n.centerX+a*Math.cos(h),y=n.centerY+a*Math.sin(h),b=n.centerX+a*Math.cos(f),x=n.centerY+a*Math.sin(f),_=q.polarToCartesian(n.centerX,n.centerY,n.donutSize,d),S=q.polarToCartesian(n.centerX,n.centerY,n.donutSize,c),T=r>180?1:0,C=["M",p,y,"A",a,a,0,T,1,b,x];return t=n.chartType==="donut"?[].concat(C,["L",_.x,_.y,"A",n.donutSize,n.donutSize,0,T,0,S.x,S.y,"L",p,y,"z"]).join(" "):n.chartType==="pie"||n.chartType==="polarArea"?[].concat(C,["L",n.centerX,n.centerY,"L",p,y]).join(" "):[].concat(C).join(" "),l.roundPathCorners(t,2*this.strokeWidth)}},{key:"drawPolarElements",value:function(e){var t=this.w,n=new _F(this.ctx),s=new fe(this.ctx),r=new kF(this.ctx),a=s.group(),l=s.group(),c=n.niceScale(0,Math.ceil(this.maxY),0),h=c.result.reverse(),d=c.result.length;this.maxY=c.niceMax;for(var f=t.globals.radialSize,p=f/(d-1),y=0;y<d-1;y++){var b=s.drawCircle(f);if(b.attr({cx:this.centerX,cy:this.centerY,fill:"none","stroke-width":t.config.plotOptions.polarArea.rings.strokeWidth,stroke:t.config.plotOptions.polarArea.rings.strokeColor}),t.config.yaxis[0].show){var x=r.drawYAxisTexts(this.centerX,this.centerY-f+parseInt(t.config.yaxis[0].labels.style.fontSize,10)/2,y,h[y]);l.add(x)}a.add(b),f-=p}this.drawSpokes(e),e.add(a),e.add(l)}},{key:"renderInnerDataLabels",value:function(e,t,n){var s=this.w,r=new fe(this.ctx),a=t.total.show;e.node.innerHTML="",e.node.style.opacity=n.opacity;var l,c,h=n.centerX,d=this.donutDataLabels.total.label?n.centerY:n.centerY-n.centerY/6;l=t.name.color===void 0?s.globals.colors[0]:t.name.color;var f=t.name.fontSize,p=t.name.fontFamily,y=t.name.fontWeight;c=t.value.color===void 0?s.config.chart.foreColor:t.value.color;var b=t.value.formatter,x="",_="";if(a?(l=t.total.color,f=t.total.fontSize,p=t.total.fontFamily,y=t.total.fontWeight,_=this.donutDataLabels.total.label?t.total.label:"",x=t.total.formatter(s)):s.globals.series.length===1&&(x=b(s.globals.series[0],s),_=s.globals.seriesNames[0]),_&&(_=t.name.formatter(_,t.total.show,s)),t.name.show){var S=r.drawText({x:h,y:d+parseFloat(t.name.offsetY),text:_,textAnchor:"middle",foreColor:l,fontSize:f,fontWeight:y,fontFamily:p});S.node.classList.add("apexcharts-datalabel-label"),e.add(S)}if(t.value.show){var T=t.name.show?parseFloat(t.value.offsetY)+16:t.value.offsetY,C=r.drawText({x:h,y:d+T,text:x,textAnchor:"middle",foreColor:c,fontWeight:t.value.fontWeight,fontSize:t.value.fontSize,fontFamily:t.value.fontFamily});C.node.classList.add("apexcharts-datalabel-value"),e.add(C)}return e}},{key:"printInnerLabels",value:function(e,t,n,s){var r,a=this.w;s?r=e.name.color===void 0?a.globals.colors[parseInt(s.parentNode.getAttribute("rel"),10)-1]:e.name.color:a.globals.series.length>1&&e.total.show&&(r=e.total.color);var l=a.globals.dom.baseEl.querySelector(".apexcharts-datalabel-label"),c=a.globals.dom.baseEl.querySelector(".apexcharts-datalabel-value");n=(0,e.value.formatter)(n,a),s||typeof e.total.formatter!="function"||(n=e.total.formatter(a));var h=t===e.total.label;t=this.donutDataLabels.total.label?e.name.formatter(t,h,a):"",l!==null&&(l.textContent=t),c!==null&&(c.textContent=n),l!==null&&(l.style.fill=r)}},{key:"printDataLabelsInner",value:function(e,t){var n=this.w,s=e.getAttribute("data:value"),r=n.globals.seriesNames[parseInt(e.parentNode.getAttribute("rel"),10)-1];n.globals.series.length>1&&this.printInnerLabels(t,r,s,e);var a=n.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group");a!==null&&(a.style.opacity=1)}},{key:"drawSpokes",value:function(e){var t=this,n=this.w,s=new fe(this.ctx),r=n.config.plotOptions.polarArea.spokes;if(r.strokeWidth!==0){for(var a=[],l=360/n.globals.series.length,c=0;c<n.globals.series.length;c++)a.push(q.polarToCartesian(this.centerX,this.centerY,n.globals.radialSize,n.config.plotOptions.pie.startAngle+l*c));a.forEach(function(h,d){var f=s.drawLine(h.x,h.y,t.centerX,t.centerY,Array.isArray(r.connectorColors)?r.connectorColors[d]:r.connectorColors);e.add(f)})}}},{key:"revertDataLabelsInner",value:function(){var e=this.w;if(this.donutDataLabels.show){var t=e.globals.dom.Paper.findOne(".apexcharts-datalabels-group"),n=this.renderInnerDataLabels(t,this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show});e.globals.dom.Paper.findOne(".apexcharts-radialbar, .apexcharts-pie").add(n)}}}]),i}(),jee=function(){function i(e){Ce(this,i),this.ctx=e,this.w=e.w,this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animDur=0;var t=this.w;this.graphics=new fe(this.ctx),this.lineColorArr=t.globals.stroke.colors!==void 0?t.globals.stroke.colors:t.globals.colors,this.defaultSize=t.globals.svgHeight<t.globals.svgWidth?t.globals.gridHeight:t.globals.gridWidth,this.isLog=t.config.yaxis[0].logarithmic,this.logBase=t.config.yaxis[0].logBase,this.coreUtils=new Mn(this.ctx),this.maxValue=this.isLog?this.coreUtils.getLogVal(this.logBase,t.globals.maxY,0):t.globals.maxY,this.minValue=this.isLog?this.coreUtils.getLogVal(this.logBase,this.w.globals.minY,0):t.globals.minY,this.polygons=t.config.plotOptions.radar.polygons,this.strokeWidth=t.config.stroke.show?t.config.stroke.width:0,this.size=this.defaultSize/2.1-this.strokeWidth-t.config.chart.dropShadow.blur,t.config.xaxis.labels.show&&(this.size=this.size-t.globals.xAxisLabelsWidth/1.75),t.config.plotOptions.radar.size!==void 0&&(this.size=t.config.plotOptions.radar.size),this.dataRadiusOfPercent=[],this.dataRadius=[],this.angleArr=[],this.yaxisLabelsTextsPos=[]}return ke(i,[{key:"draw",value:function(e){var t=this,n=this.w,s=new vr(this.ctx),r=[],a=new Xu(this.ctx);e.length&&(this.dataPointsLen=e[n.globals.maxValsInArrayIndex].length),this.disAngle=2*Math.PI/this.dataPointsLen;var l=n.globals.gridWidth/2,c=n.globals.gridHeight/2,h=l+n.config.plotOptions.radar.offsetX,d=c+n.config.plotOptions.radar.offsetY,f=this.graphics.group({class:"apexcharts-radar-series apexcharts-plot-series",transform:"translate(".concat(h||0,", ").concat(d||0,")")}),p=[],y=null,b=null;if(this.yaxisLabels=this.graphics.group({class:"apexcharts-yaxis"}),e.forEach(function(_,S){var T=_.length===n.globals.dataPoints,C=t.graphics.group().attr({class:"apexcharts-series","data:longestSeries":T,seriesName:q.escapeString(n.globals.seriesNames[S]),rel:S+1,"data:realIndex":S});t.dataRadiusOfPercent[S]=[],t.dataRadius[S]=[],t.angleArr[S]=[],_.forEach(function(B,K){var ne=Math.abs(t.maxValue-t.minValue);B-=t.minValue,t.isLog&&(B=t.coreUtils.getLogVal(t.logBase,B,0)),t.dataRadiusOfPercent[S][K]=B/ne,t.dataRadius[S][K]=t.dataRadiusOfPercent[S][K]*t.size,t.angleArr[S][K]=K*t.disAngle}),p=t.getDataPointsPos(t.dataRadius[S],t.angleArr[S]);var M=t.createPaths(p,{x:0,y:0});y=t.graphics.group({class:"apexcharts-series-markers-wrap apexcharts-element-hidden"}),b=t.graphics.group({class:"apexcharts-datalabels","data:realIndex":S}),n.globals.delayedElements.push({el:y.node,index:S});var R={i:S,realIndex:S,animationDelay:S,initialSpeed:n.config.chart.animations.speed,dataChangeSpeed:n.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-radar",shouldClipToGrid:!1,bindEventsOnPaths:!1,stroke:n.globals.stroke.colors[S],strokeLineCap:n.config.stroke.lineCap},P=null;n.globals.previousPaths.length>0&&(P=t.getPreviousPath(S));for(var k=0;k<M.linePathsTo.length;k++){var E=t.graphics.renderPaths(be(be({},R),{},{pathFrom:P===null?M.linePathsFrom[k]:P,pathTo:M.linePathsTo[k],strokeWidth:Array.isArray(t.strokeWidth)?t.strokeWidth[S]:t.strokeWidth,fill:"none",drawShadow:!1}));C.add(E);var D=s.fillPath({seriesNumber:S}),O=t.graphics.renderPaths(be(be({},R),{},{pathFrom:P===null?M.areaPathsFrom[k]:P,pathTo:M.areaPathsTo[k],strokeWidth:0,fill:D,drawShadow:!1}));if(n.config.chart.dropShadow.enabled){var F=new bi(t.ctx),H=n.config.chart.dropShadow;F.dropShadow(O,Object.assign({},H,{noUserSpaceOnUse:!0}),S)}C.add(O)}_.forEach(function(B,K){var ne=new fh(t.ctx).getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:S,dataPointIndex:K}),X=t.graphics.drawMarker(p[K].x,p[K].y,ne);X.attr("rel",K),X.attr("j",K),X.attr("index",S),X.node.setAttribute("default-marker-size",ne.pSize);var G=t.graphics.group({class:"apexcharts-series-markers"});G&&G.add(X),y.add(G),C.add(y);var ee=n.config.dataLabels;if(ee.enabled){var ue=ee.formatter(n.globals.series[S][K],{seriesIndex:S,dataPointIndex:K,w:n});a.plotDataLabelsText({x:p[K].x,y:p[K].y,text:ue,textAnchor:"middle",i:S,j:S,parent:b,offsetCorrection:!1,dataLabelsConfig:be({},ee)})}C.add(b)}),r.push(C)}),this.drawPolygons({parent:f}),n.config.xaxis.labels.show){var x=this.drawXAxisTexts();f.add(x)}return r.forEach(function(_){f.add(_)}),f.add(this.yaxisLabels),f}},{key:"drawPolygons",value:function(e){for(var t=this,n=this.w,s=e.parent,r=new kF(this.ctx),a=n.globals.yAxisScale[0].result.reverse(),l=a.length,c=[],h=this.size/(l-1),d=0;d<l;d++)c[d]=h*d;c.reverse();var f=[],p=[];c.forEach(function(y,b){var x=q.getPolygonPos(y,t.dataPointsLen),_="";x.forEach(function(S,T){if(b===0){var C=t.graphics.drawLine(S.x,S.y,0,0,Array.isArray(t.polygons.connectorColors)?t.polygons.connectorColors[T]:t.polygons.connectorColors);p.push(C)}T===0&&t.yaxisLabelsTextsPos.push({x:S.x,y:S.y}),_+=S.x+","+S.y+" "}),f.push(_)}),f.forEach(function(y,b){var x=t.polygons.strokeColors,_=t.polygons.strokeWidth,S=t.graphics.drawPolygon(y,Array.isArray(x)?x[b]:x,Array.isArray(_)?_[b]:_,n.globals.radarPolygons.fill.colors[b]);s.add(S)}),p.forEach(function(y){s.add(y)}),n.config.yaxis[0].show&&this.yaxisLabelsTextsPos.forEach(function(y,b){var x=r.drawYAxisTexts(y.x,y.y,b,a[b]);t.yaxisLabels.add(x)})}},{key:"drawXAxisTexts",value:function(){var e=this,t=this.w,n=t.config.xaxis.labels,s=this.graphics.group({class:"apexcharts-xaxis"}),r=q.getPolygonPos(this.size,this.dataPointsLen);return t.globals.labels.forEach(function(a,l){var c=t.config.xaxis.labels.formatter,h=new Xu(e.ctx);if(r[l]){var d=e.getTextPos(r[l],e.size),f=c(a,{seriesIndex:-1,dataPointIndex:l,w:t});h.plotDataLabelsText({x:d.newX,y:d.newY,text:f,textAnchor:d.textAnchor,i:l,j:l,parent:s,className:"apexcharts-xaxis-label",color:Array.isArray(n.style.colors)&&n.style.colors[l]?n.style.colors[l]:"#a8a8a8",dataLabelsConfig:be({textAnchor:d.textAnchor,dropShadow:{enabled:!1}},n),offsetCorrection:!1}).on("click",function(p){if(typeof t.config.chart.events.xAxisLabelClick=="function"){var y=Object.assign({},t,{labelIndex:l});t.config.chart.events.xAxisLabelClick(p,e.ctx,y)}})}}),s}},{key:"createPaths",value:function(e,t){var n=this,s=[],r=[],a=[],l=[];if(e.length){r=[this.graphics.move(t.x,t.y)],l=[this.graphics.move(t.x,t.y)];var c=this.graphics.move(e[0].x,e[0].y),h=this.graphics.move(e[0].x,e[0].y);e.forEach(function(d,f){c+=n.graphics.line(d.x,d.y),h+=n.graphics.line(d.x,d.y),f===e.length-1&&(c+="Z",h+="Z")}),s.push(c),a.push(h)}return{linePathsFrom:r,linePathsTo:s,areaPathsFrom:l,areaPathsTo:a}}},{key:"getTextPos",value:function(e,t){var n="middle",s=e.x,r=e.y;return Math.abs(e.x)>=10?e.x>0?(n="start",s+=10):e.x<0&&(n="end",s-=10):n="middle",Math.abs(e.y)>=t-10&&(e.y<0?r-=10:e.y>0&&(r+=10)),{textAnchor:n,newX:s,newY:r}}},{key:"getPreviousPath",value:function(e){for(var t=this.w,n=null,s=0;s<t.globals.previousPaths.length;s++){var r=t.globals.previousPaths[s];r.paths.length>0&&parseInt(r.realIndex,10)===parseInt(e,10)&&t.globals.previousPaths[s].paths[0]!==void 0&&(n=t.globals.previousPaths[s].paths[0].d)}return n}},{key:"getDataPointsPos",value:function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.dataPointsLen;e=e||[],t=t||[];for(var s=[],r=0;r<n;r++){var a={};a.x=e[r]*Math.sin(t[r]),a.y=-e[r]*Math.cos(t[r]),s.push(a)}return s}}]),i}(),Bee=function(i){gg(t,RF);var e=fg(t);function t(n){var s;Ce(this,t),(s=e.call(this,n)).ctx=n,s.w=n.w,s.animBeginArr=[0],s.animDur=0;var r=s.w;return s.startAngle=r.config.plotOptions.radialBar.startAngle,s.endAngle=r.config.plotOptions.radialBar.endAngle,s.totalAngle=Math.abs(r.config.plotOptions.radialBar.endAngle-r.config.plotOptions.radialBar.startAngle),s.trackStartAngle=r.config.plotOptions.radialBar.track.startAngle,s.trackEndAngle=r.config.plotOptions.radialBar.track.endAngle,s.barLabels=s.w.config.plotOptions.radialBar.barLabels,s.donutDataLabels=s.w.config.plotOptions.radialBar.dataLabels,s.radialDataLabels=s.donutDataLabels,s.trackStartAngle||(s.trackStartAngle=s.startAngle),s.trackEndAngle||(s.trackEndAngle=s.endAngle),s.endAngle===360&&(s.endAngle=359.99),s.margin=parseInt(r.config.plotOptions.radialBar.track.margin,10),s.onBarLabelClick=s.onBarLabelClick.bind(BV(s)),s}return ke(t,[{key:"draw",value:function(n){var s=this.w,r=new fe(this.ctx),a=r.group({class:"apexcharts-radialbar"});if(s.globals.noData)return a;var l=r.group(),c=this.defaultSize/2,h=s.globals.gridWidth/2,d=this.defaultSize/2.05;s.config.chart.sparkline.enabled||(d=d-s.config.stroke.width-s.config.chart.dropShadow.blur);var f=s.globals.fill.colors;if(s.config.plotOptions.radialBar.track.show){var p=this.drawTracks({size:d,centerX:h,centerY:c,colorArr:f,series:n});l.add(p)}var y=this.drawArcs({size:d,centerX:h,centerY:c,colorArr:f,series:n}),b=360;s.config.plotOptions.radialBar.startAngle<0&&(b=this.totalAngle);var x=(360-b)/360;if(s.globals.radialSize=d-d*x,this.radialDataLabels.value.show){var _=Math.max(this.radialDataLabels.value.offsetY,this.radialDataLabels.name.offsetY);s.globals.radialSize+=_*x}return l.add(y.g),s.config.plotOptions.radialBar.hollow.position==="front"&&(y.g.add(y.elHollow),y.dataLabels&&y.g.add(y.dataLabels)),a.add(l),a}},{key:"drawTracks",value:function(n){var s=this.w,r=new fe(this.ctx),a=r.group({class:"apexcharts-tracks"}),l=new bi(this.ctx),c=new vr(this.ctx),h=this.getStrokeWidth(n);n.size=n.size-h/2;for(var d=0;d<n.series.length;d++){var f=r.group({class:"apexcharts-radialbar-track apexcharts-track"});a.add(f),f.attr({rel:d+1}),n.size=n.size-h-this.margin;var p=s.config.plotOptions.radialBar.track,y=c.fillPath({seriesNumber:0,size:n.size,fillColors:Array.isArray(p.background)?p.background[d]:p.background,solid:!0}),b=this.trackStartAngle,x=this.trackEndAngle;Math.abs(x)+Math.abs(b)>=360&&(x=360-Math.abs(this.startAngle)-.1);var _=r.drawPath({d:"",stroke:y,strokeWidth:h*parseInt(p.strokeWidth,10)/100,fill:"none",strokeOpacity:p.opacity,classes:"apexcharts-radialbar-area"});if(p.dropShadow.enabled){var S=p.dropShadow;l.dropShadow(_,S)}f.add(_),_.attr("id","apexcharts-radialbarTrack-"+d),this.animatePaths(_,{centerX:n.centerX,centerY:n.centerY,endAngle:x,startAngle:b,size:n.size,i:d,totalItems:2,animBeginArr:0,dur:0,isTrack:!0})}return a}},{key:"drawArcs",value:function(n){var s=this.w,r=new fe(this.ctx),a=new vr(this.ctx),l=new bi(this.ctx),c=r.group(),h=this.getStrokeWidth(n);n.size=n.size-h/2;var d=s.config.plotOptions.radialBar.hollow.background,f=n.size-h*n.series.length-this.margin*n.series.length-h*parseInt(s.config.plotOptions.radialBar.track.strokeWidth,10)/100/2,p=f-s.config.plotOptions.radialBar.hollow.margin;s.config.plotOptions.radialBar.hollow.image!==void 0&&(d=this.drawHollowImage(n,c,f,d));var y=this.drawHollow({size:p,centerX:n.centerX,centerY:n.centerY,fill:d||"transparent"});if(s.config.plotOptions.radialBar.hollow.dropShadow.enabled){var b=s.config.plotOptions.radialBar.hollow.dropShadow;l.dropShadow(y,b)}var x=1;!this.radialDataLabels.total.show&&s.globals.series.length>1&&(x=0);var _=null;if(this.radialDataLabels.show){var S=s.globals.dom.Paper.findOne(".apexcharts-datalabels-group");_=this.renderInnerDataLabels(S,this.radialDataLabels,{hollowSize:f,centerX:n.centerX,centerY:n.centerY,opacity:x})}s.config.plotOptions.radialBar.hollow.position==="back"&&(c.add(y),_&&c.add(_));var T=!1;s.config.plotOptions.radialBar.inverseOrder&&(T=!0);for(var C=T?n.series.length-1:0;T?C>=0:C<n.series.length;T?C--:C++){var M=r.group({class:"apexcharts-series apexcharts-radial-series",seriesName:q.escapeString(s.globals.seriesNames[C])});c.add(M),M.attr({rel:C+1,"data:realIndex":C}),this.ctx.series.addCollapsedClassToSeries(M,C),n.size=n.size-h-this.margin;var R=a.fillPath({seriesNumber:C,size:n.size,value:n.series[C]}),P=this.startAngle,k=void 0,E=q.negToZero(n.series[C]>100?100:n.series[C])/100,D=Math.round(this.totalAngle*E)+this.startAngle,O=void 0;s.globals.dataChanged&&(k=this.startAngle,O=Math.round(this.totalAngle*q.negToZero(s.globals.previousPaths[C])/100)+k),Math.abs(D)+Math.abs(P)>360&&(D-=.01),Math.abs(O)+Math.abs(k)>360&&(O-=.01);var F=D-P,H=Array.isArray(s.config.stroke.dashArray)?s.config.stroke.dashArray[C]:s.config.stroke.dashArray,B=r.drawPath({d:"",stroke:R,strokeWidth:h,fill:"none",fillOpacity:s.config.fill.opacity,classes:"apexcharts-radialbar-area apexcharts-radialbar-slice-"+C,strokeDashArray:H});if(fe.setAttrs(B.node,{"data:angle":F,"data:value":n.series[C]}),s.config.chart.dropShadow.enabled){var K=s.config.chart.dropShadow;l.dropShadow(B,K,C)}if(l.setSelectionFilter(B,0,C),this.addListeners(B,this.radialDataLabels),M.add(B),B.attr({index:0,j:C}),this.barLabels.enabled){var ne=q.polarToCartesian(n.centerX,n.centerY,n.size,P),X=this.barLabels.formatter(s.globals.seriesNames[C],{seriesIndex:C,w:s}),G=["apexcharts-radialbar-label"];this.barLabels.onClick||G.push("apexcharts-no-click");var ee=this.barLabels.useSeriesColors?s.globals.colors[C]:s.config.chart.foreColor;ee||(ee=s.config.chart.foreColor);var ue=ne.x+this.barLabels.offsetX,le=ne.y+this.barLabels.offsetY,me=r.drawText({x:ue,y:le,text:X,textAnchor:"end",dominantBaseline:"middle",fontFamily:this.barLabels.fontFamily,fontWeight:this.barLabels.fontWeight,fontSize:this.barLabels.fontSize,foreColor:ee,cssClass:G.join(" ")});me.on("click",this.onBarLabelClick),me.attr({rel:C+1}),P!==0&&me.attr({"transform-origin":"".concat(ue," ").concat(le),transform:"rotate(".concat(P," 0 0)")}),M.add(me)}var ae=0;!this.initialAnim||s.globals.resized||s.globals.dataChanged||(ae=s.config.chart.animations.speed),s.globals.dataChanged&&(ae=s.config.chart.animations.dynamicAnimation.speed),this.animDur=ae/(1.2*n.series.length)+this.animDur,this.animBeginArr.push(this.animDur),this.animatePaths(B,{centerX:n.centerX,centerY:n.centerY,endAngle:D,startAngle:P,prevEndAngle:O,prevStartAngle:k,size:n.size,i:C,totalItems:2,animBeginArr:this.animBeginArr,dur:ae,shouldSetPrevPaths:!0})}return{g:c,elHollow:y,dataLabels:_}}},{key:"drawHollow",value:function(n){var s=new fe(this.ctx).drawCircle(2*n.size);return s.attr({class:"apexcharts-radialbar-hollow",cx:n.centerX,cy:n.centerY,r:n.size,fill:n.fill}),s}},{key:"drawHollowImage",value:function(n,s,r,a){var l=this.w,c=new vr(this.ctx),h=q.randomId(),d=l.config.plotOptions.radialBar.hollow.image;if(l.config.plotOptions.radialBar.hollow.imageClipped)c.clippedImgArea({width:r,height:r,image:d,patternID:"pattern".concat(l.globals.cuid).concat(h)}),a="url(#pattern".concat(l.globals.cuid).concat(h,")");else{var f=l.config.plotOptions.radialBar.hollow.imageWidth,p=l.config.plotOptions.radialBar.hollow.imageHeight;if(f===void 0&&p===void 0){var y=l.globals.dom.Paper.image(d,function(x){this.move(n.centerX-x.width/2+l.config.plotOptions.radialBar.hollow.imageOffsetX,n.centerY-x.height/2+l.config.plotOptions.radialBar.hollow.imageOffsetY)});s.add(y)}else{var b=l.globals.dom.Paper.image(d,function(x){this.move(n.centerX-f/2+l.config.plotOptions.radialBar.hollow.imageOffsetX,n.centerY-p/2+l.config.plotOptions.radialBar.hollow.imageOffsetY),this.size(f,p)});s.add(b)}}return a}},{key:"getStrokeWidth",value:function(n){var s=this.w;return n.size*(100-parseInt(s.config.plotOptions.radialBar.hollow.size,10))/100/(n.series.length+1)-this.margin}},{key:"onBarLabelClick",value:function(n){var s=parseInt(n.target.getAttribute("rel"),10)-1,r=this.barLabels.onClick,a=this.w;r&&r(a.globals.seriesNames[s],{w:a,seriesIndex:s})}}]),t}(),Hee=function(i){gg(t,Wu);var e=fg(t);function t(){return Ce(this,t),e.apply(this,arguments)}return ke(t,[{key:"draw",value:function(n,s){var r=this.w,a=new fe(this.ctx);this.rangeBarOptions=this.w.config.plotOptions.rangeBar,this.series=n,this.seriesRangeStart=r.globals.seriesRangeStart,this.seriesRangeEnd=r.globals.seriesRangeEnd,this.barHelpers.initVariables(n);for(var l=a.group({class:"apexcharts-rangebar-series apexcharts-plot-series"}),c=0;c<n.length;c++){var h,d,f,p,y=void 0,b=void 0,x=r.globals.comboCharts?s[c]:c,_=this.barHelpers.getGroupIndex(x).columnGroupIndex,S=a.group({class:"apexcharts-series",seriesName:q.escapeString(r.globals.seriesNames[x]),rel:c+1,"data:realIndex":x});this.ctx.series.addCollapsedClassToSeries(S,x),n[c].length>0&&(this.visibleI=this.visibleI+1);var T=0,C=0,M=0;this.yRatio.length>1&&(this.yaxisIndex=r.globals.seriesYAxisReverseMap[x][0],M=x);var R=this.barHelpers.initialPositions(x);b=R.y,p=R.zeroW,y=R.x,C=R.barWidth,T=R.barHeight,h=R.xDivision,d=R.yDivision,f=R.zeroH;for(var P=a.group({class:"apexcharts-datalabels","data:realIndex":x}),k=a.group({class:"apexcharts-rangebar-goals-markers"}),E=0;E<r.globals.dataPoints;E++){var D=this.barHelpers.getStrokeWidth(c,E,x),O=this.seriesRangeStart[c][E],F=this.seriesRangeEnd[c][E],H=null,B=null,K=null,ne={x:y,y:b,strokeWidth:D,elSeries:S},X=this.seriesLen;if(r.config.plotOptions.bar.rangeBarGroupRows&&(X=1),r.config.series[c].data[E]===void 0)break;if(this.isHorizontal){K=b+T*this.visibleI;var G=(d-T*X)/2;if(r.config.series[c].data[E].x){var ee=this.detectOverlappingBars({i:c,j:E,barYPosition:K,srty:G,barHeight:T,yDivision:d,initPositions:R});T=ee.barHeight,K=ee.barYPosition}C=(H=this.drawRangeBarPaths(be({indexes:{i:c,j:E,realIndex:x},barHeight:T,barYPosition:K,zeroW:p,yDivision:d,y1:O,y2:F},ne))).barWidth}else{r.globals.isXNumeric&&(y=(r.globals.seriesX[c][E]-r.globals.minX)/this.xRatio-C/2),B=y+C*this.visibleI;var ue=(h-C*X)/2;if(r.config.series[c].data[E].x){var le=this.detectOverlappingBars({i:c,j:E,barXPosition:B,srtx:ue,barWidth:C,xDivision:h,initPositions:R});C=le.barWidth,B=le.barXPosition}T=(H=this.drawRangeColumnPaths(be({indexes:{i:c,j:E,realIndex:x,translationsIndex:M},barWidth:C,barXPosition:B,zeroH:f,xDivision:h},ne))).barHeight}var me=this.barHelpers.drawGoalLine({barXPosition:H.barXPosition,barYPosition:K,goalX:H.goalX,goalY:H.goalY,barHeight:T,barWidth:C});me&&k.add(me),b=H.y,y=H.x;var ae=this.barHelpers.getPathFillColor(n,c,E,x);this.renderSeries({realIndex:x,pathFill:ae.color,lineFill:ae.useRangeColor?ae.color:r.globals.stroke.colors[x],j:E,i:c,x:y,y:b,y1:O,y2:F,pathFrom:H.pathFrom,pathTo:H.pathTo,strokeWidth:D,elSeries:S,series:n,barHeight:T,barWidth:C,barXPosition:B,barYPosition:K,columnGroupIndex:_,elDataLabelsWrap:P,elGoalsMarkers:k,visibleSeries:this.visibleI,type:"rangebar"})}l.add(S)}return l}},{key:"detectOverlappingBars",value:function(n){var s=n.i,r=n.j,a=n.barYPosition,l=n.barXPosition,c=n.srty,h=n.srtx,d=n.barHeight,f=n.barWidth,p=n.yDivision,y=n.xDivision,b=n.initPositions,x=this.w,_=[],S=x.config.series[s].data[r].rangeName,T=x.config.series[s].data[r].x,C=Array.isArray(T)?T.join(" "):T,M=x.globals.labels.map(function(P){return Array.isArray(P)?P.join(" "):P}).indexOf(C),R=x.globals.seriesRange[s].findIndex(function(P){return P.x===C&&P.overlaps.length>0});return this.isHorizontal?(a=x.config.plotOptions.bar.rangeBarGroupRows?c+p*M:c+d*this.visibleI+p*M,R>-1&&!x.config.plotOptions.bar.rangeBarOverlap&&(_=x.globals.seriesRange[s][R].overlaps).indexOf(S)>-1&&(a=(d=b.barHeight/_.length)*this.visibleI+p*(100-parseInt(this.barOptions.barHeight,10))/100/2+d*(this.visibleI+_.indexOf(S))+p*M)):(M>-1&&!x.globals.timescaleLabels.length&&(l=x.config.plotOptions.bar.rangeBarGroupRows?h+y*M:h+f*this.visibleI+y*M),R>-1&&!x.config.plotOptions.bar.rangeBarOverlap&&(_=x.globals.seriesRange[s][R].overlaps).indexOf(S)>-1&&(l=(f=b.barWidth/_.length)*this.visibleI+y*(100-parseInt(this.barOptions.barWidth,10))/100/2+f*(this.visibleI+_.indexOf(S))+y*M)),{barYPosition:a,barXPosition:l,barHeight:d,barWidth:f}}},{key:"drawRangeColumnPaths",value:function(n){var s=n.indexes,r=n.x,a=n.xDivision,l=n.barWidth,c=n.barXPosition,h=n.zeroH,d=this.w,f=s.i,p=s.j,y=s.realIndex,b=s.translationsIndex,x=this.yRatio[b],_=this.getRangeValue(y,p),S=Math.min(_.start,_.end),T=Math.max(_.start,_.end);this.series[f][p]===void 0||this.series[f][p]===null?S=h:(S=h-S/x,T=h-T/x);var C=Math.abs(T-S),M=this.barHelpers.getColumnPaths({barXPosition:c,barWidth:l,y1:S,y2:T,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,realIndex:y,i:y,j:p,w:d});if(d.globals.isXNumeric){var R=this.getBarXForNumericXAxis({x:r,j:p,realIndex:y,barWidth:l});r=R.x,c=R.barXPosition}else r+=a;return{pathTo:M.pathTo,pathFrom:M.pathFrom,barHeight:C,x:r,y:_.start<0&&_.end<0?S:T,goalY:this.barHelpers.getGoalValues("y",null,h,f,p,b),barXPosition:c}}},{key:"preventBarOverflow",value:function(n){var s=this.w;return n<0&&(n=0),n>s.globals.gridWidth&&(n=s.globals.gridWidth),n}},{key:"drawRangeBarPaths",value:function(n){var s=n.indexes,r=n.y,a=n.y1,l=n.y2,c=n.yDivision,h=n.barHeight,d=n.barYPosition,f=n.zeroW,p=this.w,y=s.realIndex,b=s.j,x=this.preventBarOverflow(f+a/this.invertedYRatio),_=this.preventBarOverflow(f+l/this.invertedYRatio),S=this.getRangeValue(y,b),T=Math.abs(_-x),C=this.barHelpers.getBarpaths({barYPosition:d,barHeight:h,x1:x,x2:_,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,i:y,realIndex:y,j:b,w:p});return p.globals.isXNumeric||(r+=c),{pathTo:C.pathTo,pathFrom:C.pathFrom,barWidth:T,x:S.start<0&&S.end<0?x:_,goalX:this.barHelpers.getGoalValues("x",f,null,y,b),y:r}}},{key:"getRangeValue",value:function(n,s){var r=this.w;return{start:r.globals.seriesRangeStart[n][s],end:r.globals.seriesRangeEnd[n][s]}}}]),t}(),Uee=function(){function i(e){Ce(this,i),this.w=e.w,this.lineCtx=e}return ke(i,[{key:"sameValueSeriesFix",value:function(e,t){var n=this.w;if((n.config.fill.type==="gradient"||n.config.fill.type[e]==="gradient")&&new Mn(this.lineCtx.ctx,n).seriesHaveSameValues(e)){var s=t[e].slice();s[s.length-1]=s[s.length-1]+1e-6,t[e]=s}return t}},{key:"calculatePoints",value:function(e){var t=e.series,n=e.realIndex,s=e.x,r=e.y,a=e.i,l=e.j,c=e.prevY,h=this.w,d=[],f=[],p=this.lineCtx.categoryAxisCorrection+h.config.markers.offsetX;return h.globals.isXNumeric&&(p=(h.globals.seriesX[n][0]-h.globals.minX)/this.lineCtx.xRatio+h.config.markers.offsetX),l===0&&(d.push(p),f.push(q.isNumber(t[a][0])?c+h.config.markers.offsetY:null)),d.push(s+h.config.markers.offsetX),f.push(q.isNumber(t[a][l+1])?r+h.config.markers.offsetY:null),{x:d,y:f}}},{key:"checkPreviousPaths",value:function(e){for(var t=e.pathFromLine,n=e.pathFromArea,s=e.realIndex,r=this.w,a=0;a<r.globals.previousPaths.length;a++){var l=r.globals.previousPaths[a];(l.type==="line"||l.type==="area")&&l.paths.length>0&&parseInt(l.realIndex,10)===parseInt(s,10)&&(l.type==="line"?(this.lineCtx.appendPathFrom=!1,t=r.globals.previousPaths[a].paths[0].d):l.type==="area"&&(this.lineCtx.appendPathFrom=!1,n=r.globals.previousPaths[a].paths[0].d,r.config.stroke.show&&r.globals.previousPaths[a].paths[1]&&(t=r.globals.previousPaths[a].paths[1].d)))}return{pathFromLine:t,pathFromArea:n}}},{key:"determineFirstPrevY",value:function(e){var t,n,s,r=e.i,a=e.realIndex,l=e.series,c=e.prevY,h=e.lineYPosition,d=e.translationsIndex,f=this.w,p=f.config.chart.stacked&&!f.globals.comboCharts||f.config.chart.stacked&&f.globals.comboCharts&&(!this.w.config.chart.stackOnlyBar||((t=this.w.config.series[a])===null||t===void 0?void 0:t.type)==="bar"||((n=this.w.config.series[a])===null||n===void 0?void 0:n.type)==="column");if(((s=l[r])===null||s===void 0?void 0:s[0])!==void 0)c=(h=p&&r>0?this.lineCtx.prevSeriesY[r-1][0]:this.lineCtx.zeroY)-l[r][0]/this.lineCtx.yRatio[d]+2*(this.lineCtx.isReversed?l[r][0]/this.lineCtx.yRatio[d]:0);else if(p&&r>0&&l[r][0]===void 0){for(var y=r-1;y>=0;y--)if(l[y][0]!==null&&l[y][0]!==void 0){c=h=this.lineCtx.prevSeriesY[y][0];break}}return{prevY:c,lineYPosition:h}}}]),i}(),Yee=function(i){for(var e,t,n,s,r=function(d){for(var f=[],p=d[0],y=d[1],b=f[0]=x0(p,y),x=1,_=d.length-1;x<_;x++)p=y,y=d[x+1],f[x]=.5*(b+(b=x0(p,y)));return f[x]=b,f}(i),a=i.length-1,l=[],c=0;c<a;c++)n=x0(i[c],i[c+1]),Math.abs(n)<1e-6?r[c]=r[c+1]=0:(s=(e=r[c]/n)*e+(t=r[c+1]/n)*t)>9&&(s=3*n/Math.sqrt(s),r[c]=s*e,r[c+1]=s*t);for(var h=0;h<=a;h++)s=(i[Math.min(a,h+1)][0]-i[Math.max(0,h-1)][0])/(6*(1+r[h]*r[h])),l.push([s||0,r[h]*s||0]);return l},Xee=function(i){var e=Yee(i),t=i[1],n=i[0],s=[],r=e[1],a=e[0];s.push(n,[n[0]+a[0],n[1]+a[1],t[0]-r[0],t[1]-r[1],t[0],t[1]]);for(var l=2,c=e.length;l<c;l++){var h=i[l],d=e[l];s.push([h[0]-d[0],h[1]-d[1],h[0],h[1]])}return s},Wee=function(i,e,t){var n=i.slice(e,t);if(e){if(t-e>1&&n[1].length<6){var s=n[0].length;n[1]=[2*n[0][s-2]-n[0][s-4],2*n[0][s-1]-n[0][s-3]].concat(n[1])}n[0]=n[0].slice(-2)}return n};function x0(i,e){return(e[1]-i[1])/(e[0]-i[0])}var w0=function(){function i(e,t,n){Ce(this,i),this.ctx=e,this.w=e.w,this.xyRatios=t,this.pointsChart=!(this.w.config.chart.type!=="bubble"&&this.w.config.chart.type!=="scatter")||n,this.scatter=new bF(this.ctx),this.noNegatives=this.w.globals.minX===Number.MAX_VALUE,this.lineHelpers=new Uee(this),this.markers=new fh(this.ctx),this.prevSeriesY=[],this.categoryAxisCorrection=0,this.yaxisIndex=0}return ke(i,[{key:"draw",value:function(e,t,n,s){var r,a=this.w,l=new fe(this.ctx),c=a.globals.comboCharts?t:a.config.chart.type,h=l.group({class:"apexcharts-".concat(c,"-series apexcharts-plot-series")}),d=new Mn(this.ctx,a);this.yRatio=this.xyRatios.yRatio,this.zRatio=this.xyRatios.zRatio,this.xRatio=this.xyRatios.xRatio,this.baseLineY=this.xyRatios.baseLineY,e=d.getLogSeries(e),this.yRatio=d.getLogYRatios(this.yRatio),this.prevSeriesY=[];for(var f=[],p=0;p<e.length;p++){e=this.lineHelpers.sameValueSeriesFix(p,e);var y=a.globals.comboCharts?n[p]:p,b=this.yRatio.length>1?y:0;this._initSerieVariables(e,p,y);var x=[],_=[],S=[],T=a.globals.padHorizontal+this.categoryAxisCorrection;this.ctx.series.addCollapsedClassToSeries(this.elSeries,y),a.globals.isXNumeric&&a.globals.seriesX.length>0&&(T=(a.globals.seriesX[y][0]-a.globals.minX)/this.xRatio),S.push(T);var C,M=T,R=void 0,P=M,k=this.zeroY,E=this.zeroY;k=this.lineHelpers.determineFirstPrevY({i:p,realIndex:y,series:e,prevY:k,lineYPosition:0,translationsIndex:b}).prevY,a.config.stroke.curve==="monotoneCubic"&&e[p][0]===null?x.push(null):x.push(k),C=k,c==="rangeArea"&&(R=E=this.lineHelpers.determineFirstPrevY({i:p,realIndex:y,series:s,prevY:E,lineYPosition:0,translationsIndex:b}).prevY,_.push(x[0]!==null?E:null));var D=this._calculatePathsFrom({type:c,series:e,i:p,realIndex:y,translationsIndex:b,prevX:P,prevY:k,prevY2:E}),O=[x[0]],F=[_[0]],H={type:c,series:e,realIndex:y,translationsIndex:b,i:p,x:T,y:1,pX:M,pY:C,pathsFrom:D,linePaths:[],areaPaths:[],seriesIndex:n,lineYPosition:0,xArrj:S,yArrj:x,y2Arrj:_,seriesRangeEnd:s},B=this._iterateOverDataPoints(be(be({},H),{},{iterations:c==="rangeArea"?e[p].length-1:void 0,isRangeStart:!0}));if(c==="rangeArea"){for(var K=this._calculatePathsFrom({series:s,i:p,realIndex:y,prevX:P,prevY:E}),ne=this._iterateOverDataPoints(be(be({},H),{},{series:s,xArrj:[T],yArrj:O,y2Arrj:F,pY:R,areaPaths:B.areaPaths,pathsFrom:K,iterations:s[p].length-1,isRangeStart:!1})),X=B.linePaths.length/2,G=0;G<X;G++)B.linePaths[G]=ne.linePaths[G+X]+B.linePaths[G];B.linePaths.splice(X),B.pathFromLine=ne.pathFromLine+B.pathFromLine}else B.pathFromArea+="z";this._handlePaths({type:c,realIndex:y,i:p,paths:B}),this.elSeries.add(this.elPointsMain),this.elSeries.add(this.elDataLabelsWrap),f.push(this.elSeries)}if(((r=a.config.series[0])===null||r===void 0?void 0:r.zIndex)!==void 0&&f.sort(function(le,me){return Number(le.node.getAttribute("zIndex"))-Number(me.node.getAttribute("zIndex"))}),a.config.chart.stacked)for(var ee=f.length-1;ee>=0;ee--)h.add(f[ee]);else for(var ue=0;ue<f.length;ue++)h.add(f[ue]);return h}},{key:"_initSerieVariables",value:function(e,t,n){var s=this.w,r=new fe(this.ctx);this.xDivision=s.globals.gridWidth/(s.globals.dataPoints-(s.config.xaxis.tickPlacement==="on"?1:0)),this.strokeWidth=Array.isArray(s.config.stroke.width)?s.config.stroke.width[n]:s.config.stroke.width;var a=0;if(this.yRatio.length>1&&(this.yaxisIndex=s.globals.seriesYAxisReverseMap[n],a=n),this.isReversed=s.config.yaxis[this.yaxisIndex]&&s.config.yaxis[this.yaxisIndex].reversed,this.zeroY=s.globals.gridHeight-this.baseLineY[a]-(this.isReversed?s.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[a]:0),this.areaBottomY=this.zeroY,(this.zeroY>s.globals.gridHeight||s.config.plotOptions.area.fillTo==="end")&&(this.areaBottomY=s.globals.gridHeight),this.categoryAxisCorrection=this.xDivision/2,this.elSeries=r.group({class:"apexcharts-series",zIndex:s.config.series[n].zIndex!==void 0?s.config.series[n].zIndex:n,seriesName:q.escapeString(s.globals.seriesNames[n])}),this.elPointsMain=r.group({class:"apexcharts-series-markers-wrap","data:realIndex":n}),s.globals.hasNullValues){var l=this.markers.plotChartMarkers({pointsPos:{x:[0],y:[s.globals.gridHeight+s.globals.markers.largestSize]},seriesIndex:t,j:0,pSize:.1,alwaysDrawMarker:!0,isVirtualPoint:!0});l!==null&&this.elPointsMain.add(l)}this.elDataLabelsWrap=r.group({class:"apexcharts-datalabels","data:realIndex":n});var c=e[t].length===s.globals.dataPoints;this.elSeries.attr({"data:longestSeries":c,rel:t+1,"data:realIndex":n}),this.appendPathFrom=!0}},{key:"_calculatePathsFrom",value:function(e){var t,n,s,r,a=e.type,l=e.series,c=e.i,h=e.realIndex,d=e.translationsIndex,f=e.prevX,p=e.prevY,y=e.prevY2,b=this.w,x=new fe(this.ctx);if(l[c][0]===null){for(var _=0;_<l[c].length;_++)if(l[c][_]!==null){f=this.xDivision*_,p=this.zeroY-l[c][_]/this.yRatio[d],t=x.move(f,p),n=x.move(f,this.areaBottomY);break}}else t=x.move(f,p),a==="rangeArea"&&(t=x.move(f,y)+x.line(f,p)),n=x.move(f,this.areaBottomY)+x.line(f,p);if(s=x.move(0,this.areaBottomY)+x.line(0,this.areaBottomY),r=x.move(0,this.areaBottomY)+x.line(0,this.areaBottomY),b.globals.previousPaths.length>0){var S=this.lineHelpers.checkPreviousPaths({pathFromLine:s,pathFromArea:r,realIndex:h});s=S.pathFromLine,r=S.pathFromArea}return{prevX:f,prevY:p,linePath:t,areaPath:n,pathFromLine:s,pathFromArea:r}}},{key:"_handlePaths",value:function(e){var t=e.type,n=e.realIndex,s=e.i,r=e.paths,a=this.w,l=new fe(this.ctx),c=new vr(this.ctx);this.prevSeriesY.push(r.yArrj),a.globals.seriesXvalues[n]=r.xArrj,a.globals.seriesYvalues[n]=r.yArrj;var h=a.config.forecastDataPoints;if(h.count>0&&t!=="rangeArea"){var d=a.globals.seriesXvalues[n][a.globals.seriesXvalues[n].length-h.count-1],f=l.drawRect(d,0,a.globals.gridWidth,a.globals.gridHeight,0);a.globals.dom.elForecastMask.appendChild(f.node);var p=l.drawRect(0,0,d,a.globals.gridHeight,0);a.globals.dom.elNonForecastMask.appendChild(p.node)}this.pointsChart||a.globals.delayedElements.push({el:this.elPointsMain.node,index:n});var y={i:s,realIndex:n,animationDelay:s,initialSpeed:a.config.chart.animations.speed,dataChangeSpeed:a.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(t)};if(t==="area")for(var b=c.fillPath({seriesNumber:n}),x=0;x<r.areaPaths.length;x++){var _=l.renderPaths(be(be({},y),{},{pathFrom:r.pathFromArea,pathTo:r.areaPaths[x],stroke:"none",strokeWidth:0,strokeLineCap:null,fill:b}));this.elSeries.add(_)}if(a.config.stroke.show&&!this.pointsChart){var S=null;if(t==="line")S=c.fillPath({seriesNumber:n,i:s});else if(a.config.stroke.fill.type==="solid")S=a.globals.stroke.colors[n];else{var T=a.config.fill;a.config.fill=a.config.stroke.fill,S=c.fillPath({seriesNumber:n,i:s}),a.config.fill=T}for(var C=0;C<r.linePaths.length;C++){var M=S;t==="rangeArea"&&(M=c.fillPath({seriesNumber:n}));var R=be(be({},y),{},{pathFrom:r.pathFromLine,pathTo:r.linePaths[C],stroke:S,strokeWidth:this.strokeWidth,strokeLineCap:a.config.stroke.lineCap,fill:t==="rangeArea"?M:"none"}),P=l.renderPaths(R);if(this.elSeries.add(P),P.attr("fill-rule","evenodd"),h.count>0&&t!=="rangeArea"){var k=l.renderPaths(R);k.node.setAttribute("stroke-dasharray",h.dashArray),h.strokeWidth&&k.node.setAttribute("stroke-width",h.strokeWidth),this.elSeries.add(k),k.attr("clip-path","url(#forecastMask".concat(a.globals.cuid,")")),P.attr("clip-path","url(#nonForecastMask".concat(a.globals.cuid,")"))}}}}},{key:"_iterateOverDataPoints",value:function(e){var t,n,s=this,r=e.type,a=e.series,l=e.iterations,c=e.realIndex,h=e.translationsIndex,d=e.i,f=e.x,p=e.y,y=e.pX,b=e.pY,x=e.pathsFrom,_=e.linePaths,S=e.areaPaths,T=e.seriesIndex,C=e.lineYPosition,M=e.xArrj,R=e.yArrj,P=e.y2Arrj,k=e.isRangeStart,E=e.seriesRangeEnd,D=this.w,O=new fe(this.ctx),F=this.yRatio,H=x.prevY,B=x.linePath,K=x.areaPath,ne=x.pathFromLine,X=x.pathFromArea,G=q.isNumber(D.globals.minYArr[c])?D.globals.minYArr[c]:D.globals.minY;l||(l=D.globals.dataPoints>1?D.globals.dataPoints-1:D.globals.dataPoints);var ee=function(Te,Ae){return Ae-Te/F[h]+2*(s.isReversed?Te/F[h]:0)},ue=p,le=D.config.chart.stacked&&!D.globals.comboCharts||D.config.chart.stacked&&D.globals.comboCharts&&(!this.w.config.chart.stackOnlyBar||((t=this.w.config.series[c])===null||t===void 0?void 0:t.type)==="bar"||((n=this.w.config.series[c])===null||n===void 0?void 0:n.type)==="column"),me=D.config.stroke.curve;Array.isArray(me)&&(me=Array.isArray(T)?me[T[d]]:me[d]);for(var ae,ye=0,_e=0;_e<l&&a[d].length!==0;_e++){var Pe=a[d][_e+1]===void 0||a[d][_e+1]===null;if(D.globals.isXNumeric){var Se=D.globals.seriesX[c][_e+1];D.globals.seriesX[c][_e+1]===void 0&&(Se=D.globals.seriesX[c][l-1]),f=(Se-D.globals.minX)/this.xRatio}else f+=this.xDivision;le?d>0&&D.globals.collapsedSeries.length<D.config.series.length-1?C=this.prevSeriesY[function(Te){for(var Ae=Te;Ae>0;Ae--){if(!(D.globals.collapsedSeriesIndices.indexOf((T==null?void 0:T[Ae])||Ae)>-1))return Ae;Ae--}return 0}(d-1)][_e+1]:C=this.zeroY:C=this.zeroY,Pe?p=ee(G,C):(p=ee(a[d][_e+1],C),r==="rangeArea"&&(ue=ee(E[d][_e+1],C))),M.push(a[d][_e+1]===null?null:f),!Pe||D.config.stroke.curve!=="smooth"&&D.config.stroke.curve!=="monotoneCubic"?(R.push(p),P.push(ue)):(R.push(null),P.push(null));var Me=this.lineHelpers.calculatePoints({series:a,x:f,y:p,realIndex:c,i:d,j:_e,prevY:H}),we=this._createPaths({type:r,series:a,i:d,realIndex:c,j:_e,x:f,y:p,y2:ue,xArrj:M,yArrj:R,y2Arrj:P,pX:y,pY:b,pathState:ye,segmentStartX:ae,linePath:B,areaPath:K,linePaths:_,areaPaths:S,curve:me,isRangeStart:k});S=we.areaPaths,_=we.linePaths,y=we.pX,b=we.pY,ye=we.pathState,ae=we.segmentStartX,K=we.areaPath,B=we.linePath,!this.appendPathFrom||D.globals.hasNullValues||me==="monotoneCubic"&&r==="rangeArea"||(ne+=O.line(f,this.areaBottomY),X+=O.line(f,this.areaBottomY)),this.handleNullDataPoints(a,Me,d,_e,c),this._handleMarkersAndLabels({type:r,pointsPos:Me,i:d,j:_e,realIndex:c,isRangeStart:k})}return{yArrj:R,xArrj:M,pathFromArea:X,areaPaths:S,pathFromLine:ne,linePaths:_,linePath:B,areaPath:K}}},{key:"_handleMarkersAndLabels",value:function(e){var t=e.type,n=e.pointsPos,s=e.isRangeStart,r=e.i,a=e.j,l=e.realIndex,c=this.w,h=new Xu(this.ctx);if(this.pointsChart)this.scatter.draw(this.elSeries,a,{realIndex:l,pointsPos:n,zRatio:this.zRatio,elParent:this.elPointsMain});else{c.globals.series[r].length>1&&this.elPointsMain.node.classList.add("apexcharts-element-hidden");var d=this.markers.plotChartMarkers({pointsPos:n,seriesIndex:l,j:a+1});d!==null&&this.elPointsMain.add(d)}var f=h.drawDataLabel({type:t,isRangeStart:s,pos:n,i:l,j:a+1});f!==null&&this.elDataLabelsWrap.add(f)}},{key:"_createPaths",value:function(e){var t=e.type,n=e.series,s=e.i;e.realIndex;var r,a=e.j,l=e.x,c=e.y,h=e.xArrj,d=e.yArrj,f=e.y2,p=e.y2Arrj,y=e.pX,b=e.pY,x=e.pathState,_=e.segmentStartX,S=e.linePath,T=e.areaPath,C=e.linePaths,M=e.areaPaths,R=e.curve,P=e.isRangeStart,k=new fe(this.ctx),E=this.areaBottomY,D=t==="rangeArea",O=t==="rangeArea"&&P;switch(R){case"monotoneCubic":var F=P?d:p;switch(x){case 0:if(F[a+1]===null)break;x=1;case 1:if(!(D?h.length===n[s].length:a===n[s].length-2))break;case 2:var H=P?h:h.slice().reverse(),B=P?F:F.slice().reverse(),K=(r=B,H.map(function(Se,Me){return[Se,r[Me]]}).filter(function(Se){return Se[1]!==null})),ne=K.length>1?Xee(K):K,X=[];D&&(O?M=K:X=M.reverse());var G=0,ee=0;if(function(Se,Me){for(var we=function(Ue){var Ge=[],qe=0;return Ue.forEach(function($e){$e!==null?qe++:qe>0&&(Ge.push(qe),qe=0)}),qe>0&&Ge.push(qe),Ge}(Se),Te=[],Ae=0,Ne=0;Ae<we.length;Ne+=we[Ae++])Te[Ae]=Wee(Me,Ne,Ne+we[Ae]);return Te}(B,ne).forEach(function(Se){G++;var Me=function(Ae){for(var Ne="",Ue=0;Ue<Ae.length;Ue++){var Ge=Ae[Ue],qe=Ge.length;qe>4?(Ne+="C".concat(Ge[0],", ").concat(Ge[1]),Ne+=", ".concat(Ge[2],", ").concat(Ge[3]),Ne+=", ".concat(Ge[4],", ").concat(Ge[5])):qe>2&&(Ne+="S".concat(Ge[0],", ").concat(Ge[1]),Ne+=", ".concat(Ge[2],", ").concat(Ge[3]))}return Ne}(Se),we=ee,Te=(ee+=Se.length)-1;O?S=k.move(K[we][0],K[we][1])+Me:D?S=k.move(X[we][0],X[we][1])+k.line(K[we][0],K[we][1])+Me+k.line(X[Te][0],X[Te][1]):(S=k.move(K[we][0],K[we][1])+Me,T=S+k.line(K[Te][0],E)+k.line(K[we][0],E)+"z",M.push(T)),C.push(S)}),D&&G>1&&!O){var ue=C.slice(G).reverse();C.splice(G),ue.forEach(function(Se){return C.push(Se)})}x=0}break;case"smooth":var le=.35*(l-y);if(n[s][a]===null)x=0;else switch(x){case 0:if(_=y,S=O?k.move(y,p[a])+k.line(y,b):k.move(y,b),T=k.move(y,b),n[s][a+1]===null||n[s][a+1]===void 0){C.push(S),M.push(T);break}if(x=1,a<n[s].length-2){var me=k.curve(y+le,b,l-le,c,l,c);S+=me,T+=me;break}case 1:if(n[s][a+1]===null)S+=O?k.line(y,f):k.move(y,b),T+=k.line(y,E)+k.line(_,E)+"z",C.push(S),M.push(T),x=-1;else{var ae=k.curve(y+le,b,l-le,c,l,c);S+=ae,T+=ae,a>=n[s].length-2&&(O&&(S+=k.curve(l,c,l,c,l,f)+k.move(l,f)),T+=k.curve(l,c,l,c,l,E)+k.line(_,E)+"z",C.push(S),M.push(T),x=-1)}}y=l,b=c;break;default:var ye=function(Se,Me,we){var Te=[];switch(Se){case"stepline":Te=k.line(Me,null,"H")+k.line(null,we,"V");break;case"linestep":Te=k.line(null,we,"V")+k.line(Me,null,"H");break;case"straight":Te=k.line(Me,we)}return Te};if(n[s][a]===null)x=0;else switch(x){case 0:if(_=y,S=O?k.move(y,p[a])+k.line(y,b):k.move(y,b),T=k.move(y,b),n[s][a+1]===null||n[s][a+1]===void 0){C.push(S),M.push(T);break}if(x=1,a<n[s].length-2){var _e=ye(R,l,c);S+=_e,T+=_e;break}case 1:if(n[s][a+1]===null)S+=O?k.line(y,f):k.move(y,b),T+=k.line(y,E)+k.line(_,E)+"z",C.push(S),M.push(T),x=-1;else{var Pe=ye(R,l,c);S+=Pe,T+=Pe,a>=n[s].length-2&&(O&&(S+=k.line(l,f)),T+=k.line(l,E)+k.line(_,E)+"z",C.push(S),M.push(T),x=-1)}}y=l,b=c}return{linePaths:C,areaPaths:M,pX:y,pY:b,pathState:x,segmentStartX:_,linePath:S,areaPath:T}}},{key:"handleNullDataPoints",value:function(e,t,n,s,r){var a=this.w;if(e[n][s]===null&&a.config.markers.showNullDataPoints||e[n].length===1){var l=this.strokeWidth-a.config.markers.strokeWidth/2;l>0||(l=0);var c=this.markers.plotChartMarkers({pointsPos:t,seriesIndex:r,j:s+1,pSize:l,alwaysDrawMarker:!0});c!==null&&this.elPointsMain.add(c)}}}]),i}();window.TreemapSquared={},window.TreemapSquared.generate=function(){function i(l,c,h,d){this.xoffset=l,this.yoffset=c,this.height=d,this.width=h,this.shortestEdge=function(){return Math.min(this.height,this.width)},this.getCoordinates=function(f){var p,y=[],b=this.xoffset,x=this.yoffset,_=r(f)/this.height,S=r(f)/this.width;if(this.width>=this.height)for(p=0;p<f.length;p++)y.push([b,x,b+_,x+f[p]/_]),x+=f[p]/_;else for(p=0;p<f.length;p++)y.push([b,x,b+f[p]/S,x+S]),b+=f[p]/S;return y},this.cutArea=function(f){var p;if(this.width>=this.height){var y=f/this.height,b=this.width-y;p=new i(this.xoffset+y,this.yoffset,b,this.height)}else{var x=f/this.width,_=this.height-x;p=new i(this.xoffset,this.yoffset+x,this.width,_)}return p}}function e(l,c,h,d,f){d=d===void 0?0:d,f=f===void 0?0:f;var p=t(function(y,b){var x,_=[],S=b/r(y);for(x=0;x<y.length;x++)_[x]=y[x]*S;return _}(l,c*h),[],new i(d,f,c,h),[]);return function(y){var b,x,_=[];for(b=0;b<y.length;b++)for(x=0;x<y[b].length;x++)_.push(y[b][x]);return _}(p)}function t(l,c,h,d){var f,p,y;if(l.length!==0)return f=h.shortestEdge(),function(b,x,_){var S;if(b.length===0)return!0;(S=b.slice()).push(x);var T=n(b,_),C=n(S,_);return T>=C}(c,p=l[0],f)?(c.push(p),t(l.slice(1),c,h,d)):(y=h.cutArea(r(c),d),d.push(h.getCoordinates(c)),t(l,[],y,d)),d;d.push(h.getCoordinates(c))}function n(l,c){var h=Math.min.apply(Math,l),d=Math.max.apply(Math,l),f=r(l);return Math.max(Math.pow(c,2)*d/Math.pow(f,2),Math.pow(f,2)/(Math.pow(c,2)*h))}function s(l){return l&&l.constructor===Array}function r(l){var c,h=0;for(c=0;c<l.length;c++)h+=l[c];return h}function a(l){var c,h=0;if(s(l[0]))for(c=0;c<l.length;c++)h+=a(l[c]);else h=r(l);return h}return function l(c,h,d,f,p){f=f===void 0?0:f,p=p===void 0?0:p;var y,b,x=[],_=[];if(s(c[0])){for(b=0;b<c.length;b++)x[b]=a(c[b]);for(y=e(x,h,d,f,p),b=0;b<c.length;b++)_.push(l(c[b],y[b][2]-y[b][0],y[b][3]-y[b][1],y[b][0],y[b][1]))}else _=e(c,h,d,f,p);return _}}();var Gee=function(){function i(e,t){Ce(this,i),this.ctx=e,this.w=e.w,this.strokeWidth=this.w.config.stroke.width,this.helpers=new CF(e),this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.labels=[]}return ke(i,[{key:"draw",value:function(e){var t=this,n=this.w,s=new fe(this.ctx),r=new vr(this.ctx),a=s.group({class:"apexcharts-treemap"});if(n.globals.noData)return a;var l=[];return e.forEach(function(c){var h=c.map(function(d){return Math.abs(d)});l.push(h)}),this.negRange=this.helpers.checkColorRange(),n.config.series.forEach(function(c,h){c.data.forEach(function(d){Array.isArray(t.labels[h])||(t.labels[h]=[]),t.labels[h].push(d.x)})}),window.TreemapSquared.generate(l,n.globals.gridWidth,n.globals.gridHeight).forEach(function(c,h){var d=s.group({class:"apexcharts-series apexcharts-treemap-series",seriesName:q.escapeString(n.globals.seriesNames[h]),rel:h+1,"data:realIndex":h});if(n.config.chart.dropShadow.enabled){var f=n.config.chart.dropShadow;new bi(t.ctx).dropShadow(a,f,h)}var p=s.group({class:"apexcharts-data-labels"}),y={xMin:1/0,yMin:1/0,xMax:-1/0,yMax:-1/0};c.forEach(function(ne,X){var G=ne[0],ee=ne[1],ue=ne[2],le=ne[3];y.xMin=Math.min(y.xMin,G),y.yMin=Math.min(y.yMin,ee),y.xMax=Math.max(y.xMax,ue),y.yMax=Math.max(y.yMax,le);var me=t.helpers.getShadeColor(n.config.chart.type,h,X,t.negRange),ae=me.color,ye=r.fillPath({color:ae,seriesNumber:h,dataPointIndex:X}),_e=s.drawRect(G,ee,ue-G,le-ee,n.config.plotOptions.treemap.borderRadius,"#fff",1,t.strokeWidth,n.config.plotOptions.treemap.useFillColorAsStroke?ae:n.globals.stroke.colors[h]);_e.attr({cx:G,cy:ee,index:h,i:h,j:X,width:ue-G,height:le-ee,fill:ye}),_e.node.classList.add("apexcharts-treemap-rect"),t.helpers.addListeners(_e);var Pe={x:G+(ue-G)/2,y:ee+(le-ee)/2,width:0,height:0},Se={x:G,y:ee,width:ue-G,height:le-ee};if(n.config.chart.animations.enabled&&!n.globals.dataChanged){var Me=1;n.globals.resized||(Me=n.config.chart.animations.speed),t.animateTreemap(_e,Pe,Se,Me)}if(n.globals.dataChanged){var we=1;t.dynamicAnim.enabled&&n.globals.shouldAnimate&&(we=t.dynamicAnim.speed,n.globals.previousPaths[h]&&n.globals.previousPaths[h][X]&&n.globals.previousPaths[h][X].rect&&(Pe=n.globals.previousPaths[h][X].rect),t.animateTreemap(_e,Pe,Se,we))}var Te=t.getFontSize(ne),Ae=n.config.dataLabels.formatter(t.labels[h][X],{value:n.globals.series[h][X],seriesIndex:h,dataPointIndex:X,w:n});n.config.plotOptions.treemap.dataLabels.format==="truncate"&&(Te=parseInt(n.config.dataLabels.style.fontSize,10),Ae=t.truncateLabels(Ae,Te,G,ee,ue,le));var Ne=null;n.globals.series[h][X]&&(Ne=t.helpers.calculateDataLabels({text:Ae,x:(G+ue)/2,y:(ee+le)/2+t.strokeWidth/2+Te/3,i:h,j:X,colorProps:me,fontSize:Te,series:e})),n.config.dataLabels.enabled&&Ne&&t.rotateToFitLabel(Ne,Te,Ae,G,ee,ue,le),d.add(_e),Ne!==null&&d.add(Ne)});var b=n.config.plotOptions.treemap.seriesTitle;if(n.config.series.length>1&&b&&b.show){var x=n.config.series[h].name||"";if(x&&y.xMin<1/0&&y.yMin<1/0){var _=b.offsetX,S=b.offsetY,T=b.borderColor,C=b.borderWidth,M=b.borderRadius,R=b.style,P=R.color||n.config.chart.foreColor,k={left:R.padding.left,right:R.padding.right,top:R.padding.top,bottom:R.padding.bottom},E=s.getTextRects(x,R.fontSize,R.fontFamily),D=E.width+k.left+k.right,O=E.height+k.top+k.bottom,F=y.xMin+(_||0),H=y.yMin+(S||0),B=s.drawRect(F,H,D,O,M,R.background,1,C,T),K=s.drawText({x:F+k.left,y:H+k.top+.75*E.height,text:x,fontSize:R.fontSize,fontFamily:R.fontFamily,fontWeight:R.fontWeight,foreColor:P,cssClass:R.cssClass||""});d.add(B),d.add(K)}}d.add(p),a.add(d)}),a}},{key:"getFontSize",value:function(e){var t=this.w,n=function s(r){var a,l=0;if(Array.isArray(r[0]))for(a=0;a<r.length;a++)l+=s(r[a]);else for(a=0;a<r.length;a++)l+=r[a].length;return l}(this.labels)/function s(r){var a,l=0;if(Array.isArray(r[0]))for(a=0;a<r.length;a++)l+=s(r[a]);else for(a=0;a<r.length;a++)l+=1;return l}(this.labels);return function(s,r){var a=s*r,l=Math.pow(a,.5);return Math.min(l/n,parseInt(t.config.dataLabels.style.fontSize,10))}(e[2]-e[0],e[3]-e[1])}},{key:"rotateToFitLabel",value:function(e,t,n,s,r,a,l){var c=new fe(this.ctx),h=c.getTextRects(n,t);if(h.width+this.w.config.stroke.width+5>a-s&&h.width<=l-r){var d=c.rotateAroundCenter(e.node);e.node.setAttribute("transform","rotate(-90 ".concat(d.x," ").concat(d.y,") translate(").concat(h.height/3,")"))}}},{key:"truncateLabels",value:function(e,t,n,s,r,a){var l=new fe(this.ctx),c=l.getTextRects(e,t).width+this.w.config.stroke.width+5>r-n&&a-s>r-n?a-s:r-n,h=l.getTextBasedOnMaxWidth({text:e,maxWidth:c,fontSize:t});return e.length!==h.length&&c/t<5?"":h}},{key:"animateTreemap",value:function(e,t,n,s){var r=new ch(this.ctx);r.animateRect(e,t,n,s,function(){r.animationCompleted(e)})}}]),i}(),IF=86400,qee=10/IF,$ee=function(){function i(e){Ce(this,i),this.ctx=e,this.w=e.w,this.timeScaleArray=[],this.utc=this.w.config.xaxis.labels.datetimeUTC}return ke(i,[{key:"calculateTimeScaleTicks",value:function(e,t){var n=this,s=this.w;if(s.globals.allSeriesCollapsed)return s.globals.labels=[],s.globals.timescaleLabels=[],[];var r=new mi(this.ctx),a=(t-e)/864e5;this.determineInterval(a),s.globals.disableZoomIn=!1,s.globals.disableZoomOut=!1,a<qee?s.globals.disableZoomIn=!0:a>5e4&&(s.globals.disableZoomOut=!0);var l=r.getTimeUnitsfromTimestamp(e,t,this.utc),c=s.globals.gridWidth/a,h=c/24,d=h/60,f=d/60,p=Math.floor(24*a),y=Math.floor(1440*a),b=Math.floor(a*IF),x=Math.floor(a),_=Math.floor(a/30),S=Math.floor(a/365),T={minMillisecond:l.minMillisecond,minSecond:l.minSecond,minMinute:l.minMinute,minHour:l.minHour,minDate:l.minDate,minMonth:l.minMonth,minYear:l.minYear},C={firstVal:T,currentMillisecond:T.minMillisecond,currentSecond:T.minSecond,currentMinute:T.minMinute,currentHour:T.minHour,currentMonthDate:T.minDate,currentDate:T.minDate,currentMonth:T.minMonth,currentYear:T.minYear,daysWidthOnXAxis:c,hoursWidthOnXAxis:h,minutesWidthOnXAxis:d,secondsWidthOnXAxis:f,numberOfSeconds:b,numberOfMinutes:y,numberOfHours:p,numberOfDays:x,numberOfMonths:_,numberOfYears:S};switch(this.tickInterval){case"years":this.generateYearScale(C);break;case"months":case"half_year":this.generateMonthScale(C);break;case"months_days":case"months_fortnight":case"days":case"week_days":this.generateDayScale(C);break;case"hours":this.generateHourScale(C);break;case"minutes_fives":case"minutes":this.generateMinuteScale(C);break;case"seconds_tens":case"seconds_fives":case"seconds":this.generateSecondScale(C)}var M=this.timeScaleArray.map(function(R){var P={position:R.position,unit:R.unit,year:R.year,day:R.day?R.day:1,hour:R.hour?R.hour:0,month:R.month+1};return R.unit==="month"?be(be({},P),{},{day:1,value:R.value+1}):R.unit==="day"||R.unit==="hour"?be(be({},P),{},{value:R.value}):R.unit==="minute"?be(be({},P),{},{value:R.value,minute:R.value}):R.unit==="second"?be(be({},P),{},{value:R.value,minute:R.minute,second:R.second}):R});return M.filter(function(R){var P=1,k=Math.ceil(s.globals.gridWidth/120),E=R.value;s.config.xaxis.tickAmount!==void 0&&(k=s.config.xaxis.tickAmount),M.length>k&&(P=Math.floor(M.length/k));var D=!1,O=!1;switch(n.tickInterval){case"years":R.unit==="year"&&(D=!0);break;case"half_year":P=7,R.unit==="year"&&(D=!0);break;case"months":P=1,R.unit==="year"&&(D=!0);break;case"months_fortnight":P=15,R.unit!=="year"&&R.unit!=="month"||(D=!0),E===30&&(O=!0);break;case"months_days":P=10,R.unit==="month"&&(D=!0),E===30&&(O=!0);break;case"week_days":P=8,R.unit==="month"&&(D=!0);break;case"days":P=1,R.unit==="month"&&(D=!0);break;case"hours":R.unit==="day"&&(D=!0);break;case"minutes_fives":case"seconds_fives":E%5!=0&&(O=!0);break;case"seconds_tens":E%10!=0&&(O=!0)}if(n.tickInterval==="hours"||n.tickInterval==="minutes_fives"||n.tickInterval==="seconds_tens"||n.tickInterval==="seconds_fives"){if(!O)return!0}else if((E%P==0||D)&&!O)return!0})}},{key:"recalcDimensionsBasedOnFormat",value:function(e,t){var n=this.w,s=this.formatDates(e),r=this.removeOverlappingTS(s);n.globals.timescaleLabels=r.slice(),new Ey(this.ctx).plotCoords()}},{key:"determineInterval",value:function(e){var t=24*e,n=60*t;switch(!0){case e/365>5:this.tickInterval="years";break;case e>800:this.tickInterval="half_year";break;case e>180:this.tickInterval="months";break;case e>90:this.tickInterval="months_fortnight";break;case e>60:this.tickInterval="months_days";break;case e>30:this.tickInterval="week_days";break;case e>2:this.tickInterval="days";break;case t>2.4:this.tickInterval="hours";break;case n>15:this.tickInterval="minutes_fives";break;case n>5:this.tickInterval="minutes";break;case n>1:this.tickInterval="seconds_tens";break;case 60*n>20:this.tickInterval="seconds_fives";break;default:this.tickInterval="seconds"}}},{key:"generateYearScale",value:function(e){var t=e.firstVal,n=e.currentMonth,s=e.currentYear,r=e.daysWidthOnXAxis,a=e.numberOfYears,l=t.minYear,c=0,h=new mi(this.ctx),d="year";if(t.minDate>1||t.minMonth>0){var f=h.determineRemainingDaysOfYear(t.minYear,t.minMonth,t.minDate);c=(h.determineDaysOfYear(t.minYear)-f+1)*r,l=t.minYear+1,this.timeScaleArray.push({position:c,value:l,unit:d,year:l,month:q.monthMod(n+1)})}else t.minDate===1&&t.minMonth===0&&this.timeScaleArray.push({position:c,value:l,unit:d,year:s,month:q.monthMod(n+1)});for(var p=l,y=c,b=0;b<a;b++)p++,y=h.determineDaysOfYear(p-1)*r+y,this.timeScaleArray.push({position:y,value:p,unit:d,year:p,month:1})}},{key:"generateMonthScale",value:function(e){var t=e.firstVal,n=e.currentMonthDate,s=e.currentMonth,r=e.currentYear,a=e.daysWidthOnXAxis,l=e.numberOfMonths,c=s,h=0,d=new mi(this.ctx),f="month",p=0;if(t.minDate>1){h=(d.determineDaysOfMonths(s+1,t.minYear)-n+1)*a,c=q.monthMod(s+1);var y=r+p,b=q.monthMod(c),x=c;c===0&&(f="year",x=y,b=1,y+=p+=1),this.timeScaleArray.push({position:h,value:x,unit:f,year:y,month:b})}else this.timeScaleArray.push({position:h,value:c,unit:f,year:r,month:q.monthMod(s)});for(var _=c+1,S=h,T=0,C=1;T<l;T++,C++){(_=q.monthMod(_))===0?(f="year",p+=1):f="month";var M=this._getYear(r,_,p);S=d.determineDaysOfMonths(_,M)*a+S;var R=_===0?M:_;this.timeScaleArray.push({position:S,value:R,unit:f,year:M,month:_===0?1:_}),_++}}},{key:"generateDayScale",value:function(e){var t=e.firstVal,n=e.currentMonth,s=e.currentYear,r=e.hoursWidthOnXAxis,a=e.numberOfDays,l=new mi(this.ctx),c="day",h=t.minDate+1,d=h,f=function(C,M,R){return C>l.determineDaysOfMonths(M+1,R)&&(d=1,c="month",y=M+=1),M},p=(24-t.minHour)*r,y=h,b=f(d,n,s);t.minHour===0&&t.minDate===1?(p=0,y=q.monthMod(t.minMonth),c="month",d=t.minDate):t.minDate!==1&&t.minHour===0&&t.minMinute===0&&(p=0,h=t.minDate,y=h,b=f(d=h,n,s),y!==1&&(c="day")),this.timeScaleArray.push({position:p,value:y,unit:c,year:this._getYear(s,b,0),month:q.monthMod(b),day:d});for(var x=p,_=0;_<a;_++){c="day",b=f(d+=1,b,this._getYear(s,b,0));var S=this._getYear(s,b,0);x=24*r+x;var T=d===1?q.monthMod(b):d;this.timeScaleArray.push({position:x,value:T,unit:c,year:S,month:q.monthMod(b),day:T})}}},{key:"generateHourScale",value:function(e){var t=e.firstVal,n=e.currentDate,s=e.currentMonth,r=e.currentYear,a=e.minutesWidthOnXAxis,l=e.numberOfHours,c=new mi(this.ctx),h="hour",d=function(P,k){return P>c.determineDaysOfMonths(k+1,r)&&(_=1,k+=1),{month:k,date:_}},f=function(P,k){return P>c.determineDaysOfMonths(k+1,r)?k+=1:k},p=60-(t.minMinute+t.minSecond/60),y=p*a,b=t.minHour+1,x=b;p===60&&(y=0,x=b=t.minHour);var _=n;x>=24&&(x=0,h="day",b=_+=1);var S=d(_,s).month;S=f(_,S),b>31&&(b=_=1),this.timeScaleArray.push({position:y,value:b,unit:h,day:_,hour:x,year:r,month:q.monthMod(S)}),x++;for(var T=y,C=0;C<l;C++){h="hour",x>=24&&(x=0,h="day",S=d(_+=1,S).month,S=f(_,S));var M=this._getYear(r,S,0);T=60*a+T;var R=x===0?_:x;this.timeScaleArray.push({position:T,value:R,unit:h,hour:x,day:_,year:M,month:q.monthMod(S)}),x++}}},{key:"generateMinuteScale",value:function(e){for(var t=e.currentMillisecond,n=e.currentSecond,s=e.currentMinute,r=e.currentHour,a=e.currentDate,l=e.currentMonth,c=e.currentYear,h=e.minutesWidthOnXAxis,d=e.secondsWidthOnXAxis,f=e.numberOfMinutes,p=s+1,y=a,b=l,x=c,_=r,S=(60-n-t/1e3)*d,T=0;T<f;T++)p>=60&&(p=0,(_+=1)===24&&(_=0)),this.timeScaleArray.push({position:S,value:p,unit:"minute",hour:_,minute:p,day:y,year:this._getYear(x,b,0),month:q.monthMod(b)}),S+=h,p++}},{key:"generateSecondScale",value:function(e){for(var t=e.currentMillisecond,n=e.currentSecond,s=e.currentMinute,r=e.currentHour,a=e.currentDate,l=e.currentMonth,c=e.currentYear,h=e.secondsWidthOnXAxis,d=e.numberOfSeconds,f=n+1,p=s,y=a,b=l,x=c,_=r,S=(1e3-t)/1e3*h,T=0;T<d;T++)f>=60&&(f=0,++p>=60&&(p=0,++_===24&&(_=0))),this.timeScaleArray.push({position:S,value:f,unit:"second",hour:_,minute:p,second:f,day:y,year:this._getYear(x,b,0),month:q.monthMod(b)}),S+=h,f++}},{key:"createRawDateString",value:function(e,t){var n=e.year;return e.month===0&&(e.month=1),n+="-"+("0"+e.month.toString()).slice(-2),e.unit==="day"?n+=e.unit==="day"?"-"+("0"+t).slice(-2):"-01":n+="-"+("0"+(e.day?e.day:"1")).slice(-2),e.unit==="hour"?n+=e.unit==="hour"?"T"+("0"+t).slice(-2):"T00":n+="T"+("0"+(e.hour?e.hour:"0")).slice(-2),e.unit==="minute"?n+=":"+("0"+t).slice(-2):n+=":"+(e.minute?("0"+e.minute).slice(-2):"00"),e.unit==="second"?n+=":"+("0"+t).slice(-2):n+=":00",this.utc&&(n+=".000Z"),n}},{key:"formatDates",value:function(e){var t=this,n=this.w;return e.map(function(s){var r=s.value.toString(),a=new mi(t.ctx),l=t.createRawDateString(s,r),c=a.getDate(a.parseDate(l));if(t.utc||(c=a.getDate(a.parseDateWithTimezone(l))),n.config.xaxis.labels.format===void 0){var h="dd MMM",d=n.config.xaxis.labels.datetimeFormatter;s.unit==="year"&&(h=d.year),s.unit==="month"&&(h=d.month),s.unit==="day"&&(h=d.day),s.unit==="hour"&&(h=d.hour),s.unit==="minute"&&(h=d.minute),s.unit==="second"&&(h=d.second),r=a.formatDate(c,h)}else r=a.formatDate(c,n.config.xaxis.labels.format);return{dateString:l,position:s.position,value:r,unit:s.unit,year:s.year,month:s.month}})}},{key:"removeOverlappingTS",value:function(e){var t,n=this,s=new fe(this.ctx),r=!1;e.length>0&&e[0].value&&e.every(function(c){return c.value.length===e[0].value.length})&&(r=!0,t=s.getTextRects(e[0].value).width);var a=0,l=e.map(function(c,h){if(h>0&&n.w.config.xaxis.labels.hideOverlappingLabels){var d=r?t:s.getTextRects(e[a].value).width,f=e[a].position;return c.position>f+d+10?(a=h,c):null}return c});return l=l.filter(function(c){return c!==null})}},{key:"_getYear",value:function(e,t,n){return e+Math.floor(t/12)+n}}]),i}(),Kee=function(){function i(e,t){Ce(this,i),this.ctx=t,this.w=t.w,this.el=e}return ke(i,[{key:"setupElements",value:function(){var e=this.w,t=e.globals,n=e.config,s=n.chart.type;t.axisCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble","radar","heatmap","treemap"].includes(s),t.xyCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble"].includes(s),t.isBarHorizontal=["bar","rangeBar","boxPlot"].includes(s)&&n.plotOptions.bar.horizontal,t.chartClass=".apexcharts".concat(t.chartID),t.dom.baseEl=this.el,t.dom.elWrap=document.createElement("div"),fe.setAttrs(t.dom.elWrap,{id:t.chartClass.substring(1),class:"apexcharts-canvas ".concat(t.chartClass.substring(1))}),this.el.appendChild(t.dom.elWrap),t.dom.Paper=window.SVG().addTo(t.dom.elWrap),t.dom.Paper.attr({class:"apexcharts-svg","xmlns:data":"ApexChartsNS",transform:"translate(".concat(n.chart.offsetX,", ").concat(n.chart.offsetY,")")}),t.dom.Paper.node.style.background=n.theme.mode!=="dark"||n.chart.background?n.theme.mode!=="light"||n.chart.background?n.chart.background:"#fff":"#343A3F",this.setSVGDimensions(),t.dom.elLegendForeign=document.createElementNS(t.SVGNS,"foreignObject"),fe.setAttrs(t.dom.elLegendForeign,{x:0,y:0,width:t.svgWidth,height:t.svgHeight}),t.dom.elLegendWrap=document.createElement("div"),t.dom.elLegendWrap.classList.add("apexcharts-legend"),t.dom.elWrap.appendChild(t.dom.elLegendWrap),t.dom.Paper.node.appendChild(t.dom.elLegendForeign),t.dom.elGraphical=t.dom.Paper.group().attr({class:"apexcharts-inner apexcharts-graphical"}),t.dom.elDefs=t.dom.Paper.defs(),t.dom.Paper.add(t.dom.elGraphical),t.dom.elGraphical.add(t.dom.elDefs)}},{key:"plotChartType",value:function(e,t){var n=this.w,s=this.ctx,r=n.config,a=n.globals,l={line:{series:[],i:[]},area:{series:[],i:[]},scatter:{series:[],i:[]},bubble:{series:[],i:[]},bar:{series:[],i:[]},candlestick:{series:[],i:[]},boxPlot:{series:[],i:[]},rangeBar:{series:[],i:[]},rangeArea:{series:[],seriesRangeEnd:[],i:[]}},c=r.chart.type||"line",h=null,d=0;a.series.forEach(function(P,k){var E,D,O=((E=e[k])===null||E===void 0?void 0:E.type)==="column"?"bar":((D=e[k])===null||D===void 0?void 0:D.type)||(c==="column"?"bar":c);l[O]?(O==="rangeArea"?(l[O].series.push(a.seriesRangeStart[k]),l[O].seriesRangeEnd.push(a.seriesRangeEnd[k])):l[O].series.push(P),l[O].i.push(k),O==="bar"&&(n.globals.columnSeries=l.bar)):["heatmap","treemap","pie","donut","polarArea","radialBar","radar"].includes(O)?h=O:console.warn("You have specified an unrecognized series type (".concat(O,").")),c!==O&&O!=="scatter"&&d++}),d>0&&(h&&console.warn("Chart or series type ".concat(h," cannot appear with other chart or series types.")),l.bar.series.length>0&&r.plotOptions.bar.horizontal&&(d-=l.bar.series.length,l.bar={series:[],i:[]},n.globals.columnSeries={series:[],i:[]},console.warn("Horizontal bars are not supported in a mixed/combo chart. Please turn off `plotOptions.bar.horizontal`"))),a.comboCharts||(a.comboCharts=d>0);var f=new w0(s,t),p=new b0(s,t);s.pie=new RF(s);var y=new Bee(s);s.rangeBar=new Hee(s,t);var b=new jee(s),x=[];if(a.comboCharts){var _,S,T=new Mn(s);if(l.area.series.length>0&&(_=x).push.apply(_,Qn(T.drawSeriesByGroup(l.area,a.areaGroups,"area",f))),l.bar.series.length>0)if(r.chart.stacked){var C=new H2(s,t);x.push(C.draw(l.bar.series,l.bar.i))}else s.bar=new Wu(s,t),x.push(s.bar.draw(l.bar.series,l.bar.i));if(l.rangeArea.series.length>0&&x.push(f.draw(l.rangeArea.series,"rangeArea",l.rangeArea.i,l.rangeArea.seriesRangeEnd)),l.line.series.length>0&&(S=x).push.apply(S,Qn(T.drawSeriesByGroup(l.line,a.lineGroups,"line",f))),l.candlestick.series.length>0&&x.push(p.draw(l.candlestick.series,"candlestick",l.candlestick.i)),l.boxPlot.series.length>0&&x.push(p.draw(l.boxPlot.series,"boxPlot",l.boxPlot.i)),l.rangeBar.series.length>0&&x.push(s.rangeBar.draw(l.rangeBar.series,l.rangeBar.i)),l.scatter.series.length>0){var M=new w0(s,t,!0);x.push(M.draw(l.scatter.series,"scatter",l.scatter.i))}if(l.bubble.series.length>0){var R=new w0(s,t,!0);x.push(R.draw(l.bubble.series,"bubble",l.bubble.i))}}else switch(r.chart.type){case"line":x=f.draw(a.series,"line");break;case"area":x=f.draw(a.series,"area");break;case"bar":r.chart.stacked?x=new H2(s,t).draw(a.series):(s.bar=new Wu(s,t),x=s.bar.draw(a.series));break;case"candlestick":x=new b0(s,t).draw(a.series,"candlestick");break;case"boxPlot":x=new b0(s,t).draw(a.series,r.chart.type);break;case"rangeBar":x=s.rangeBar.draw(a.series);break;case"rangeArea":x=f.draw(a.seriesRangeStart,"rangeArea",void 0,a.seriesRangeEnd);break;case"heatmap":x=new zee(s,t).draw(a.series);break;case"treemap":x=new Gee(s,t).draw(a.series);break;case"pie":case"donut":case"polarArea":x=s.pie.draw(a.series);break;case"radialBar":x=y.draw(a.series);break;case"radar":x=b.draw(a.series);break;default:x=f.draw(a.series)}return x}},{key:"setSVGDimensions",value:function(){var e=this.w,t=e.globals,n=e.config;n.chart.width=n.chart.width||"100%",n.chart.height=n.chart.height||"auto",t.svgWidth=n.chart.width,t.svgHeight=n.chart.height;var s=q.getDimensions(this.el),r=n.chart.width.toString().split(/[0-9]+/g).pop();r==="%"?q.isNumber(s[0])&&(s[0].width===0&&(s=q.getDimensions(this.el.parentNode)),t.svgWidth=s[0]*parseInt(n.chart.width,10)/100):r!=="px"&&r!==""||(t.svgWidth=parseInt(n.chart.width,10));var a=String(n.chart.height).toString().split(/[0-9]+/g).pop();if(t.svgHeight!=="auto"&&t.svgHeight!=="")if(a==="%"){var l=q.getDimensions(this.el.parentNode);t.svgHeight=l[1]*parseInt(n.chart.height,10)/100}else t.svgHeight=parseInt(n.chart.height,10);else t.svgHeight=t.axisCharts?t.svgWidth/1.61:t.svgWidth/1.2;if(t.svgWidth=Math.max(t.svgWidth,0),t.svgHeight=Math.max(t.svgHeight,0),fe.setAttrs(t.dom.Paper.node,{width:t.svgWidth,height:t.svgHeight}),a!=="%"){var c=n.chart.sparkline.enabled?0:t.axisCharts?n.chart.parentHeightOffset:0;t.dom.Paper.node.parentNode.parentNode.style.minHeight="".concat(t.svgHeight+c,"px")}t.dom.elWrap.style.width="".concat(t.svgWidth,"px"),t.dom.elWrap.style.height="".concat(t.svgHeight,"px")}},{key:"shiftGraphPosition",value:function(){var e=this.w.globals,t=e.translateY,n=e.translateX;fe.setAttrs(e.dom.elGraphical.node,{transform:"translate(".concat(n,", ").concat(t,")")})}},{key:"resizeNonAxisCharts",value:function(){var e=this.w,t=e.globals,n=0,s=e.config.chart.sparkline.enabled?1:15;s+=e.config.grid.padding.bottom,["top","bottom"].includes(e.config.legend.position)&&e.config.legend.show&&!e.config.legend.floating&&(n=new AF(this.ctx).legendHelpers.getLegendDimensions().clwh+7);var r=e.globals.dom.baseEl.querySelector(".apexcharts-radialbar, .apexcharts-pie"),a=2.05*e.globals.radialSize;if(r&&!e.config.chart.sparkline.enabled&&e.config.plotOptions.radialBar.startAngle!==0){var l=q.getBoundingClientRect(r);a=l.bottom;var c=l.bottom-l.top;a=Math.max(2.05*e.globals.radialSize,c)}var h=Math.ceil(a+t.translateY+n+s);t.dom.elLegendForeign&&t.dom.elLegendForeign.setAttribute("height",h),e.config.chart.height&&String(e.config.chart.height).includes("%")||(t.dom.elWrap.style.height="".concat(h,"px"),fe.setAttrs(t.dom.Paper.node,{height:h}),t.dom.Paper.node.parentNode.parentNode.style.minHeight="".concat(h,"px"))}},{key:"coreCalculations",value:function(){new r_(this.ctx).init()}},{key:"resetGlobals",value:function(){var e=this,t=function(){return e.w.config.series.map(function(){return[]})},n=new vF,s=this.w.globals,r={dataWasParsed:s.dataWasParsed,originalSeries:s.originalSeries};n.initGlobalVars(s),s.seriesXvalues=t(),s.seriesYvalues=t(),r.dataWasParsed&&(s.dataWasParsed=r.dataWasParsed,s.originalSeries=r.originalSeries)}},{key:"isMultipleY",value:function(){return!!(Array.isArray(this.w.config.yaxis)&&this.w.config.yaxis.length>1)&&(this.w.globals.isMultipleYAxis=!0,!0)}},{key:"xySettings",value:function(){var e=this.w,t=null;if(e.globals.axisCharts){if(e.config.xaxis.crosshairs.position==="back"&&new a_(this.ctx).drawXCrosshairs(),e.config.yaxis[0].crosshairs.position==="back"&&new a_(this.ctx).drawYCrosshairs(),e.config.xaxis.type==="datetime"&&e.config.xaxis.labels.formatter===void 0){this.ctx.timeScale=new $ee(this.ctx);var n=[];isFinite(e.globals.minX)&&isFinite(e.globals.maxX)&&!e.globals.isBarHorizontal?n=this.ctx.timeScale.calculateTimeScaleTicks(e.globals.minX,e.globals.maxX):e.globals.isBarHorizontal&&(n=this.ctx.timeScale.calculateTimeScaleTicks(e.globals.minY,e.globals.maxY)),this.ctx.timeScale.recalcDimensionsBasedOnFormat(n)}t=new Mn(this.ctx).getCalculatedRatios()}return t}},{key:"updateSourceChart",value:function(e){this.ctx.w.globals.selection=void 0,this.ctx.updateHelpers._updateOptions({chart:{selection:{xaxis:{min:e.w.globals.minX,max:e.w.globals.maxX}}}},!1,!1)}},{key:"setupBrushHandler",value:function(){var e=this,t=this.ctx,n=this.w;if(n.config.chart.brush.enabled&&typeof n.config.chart.events.selection!="function"){var s=Array.isArray(n.config.chart.brush.targets)?n.config.chart.brush.targets:[n.config.chart.brush.target];s.forEach(function(r){var a=t.constructor.getChartByID(r);a.w.globals.brushSource=e.ctx,typeof a.w.config.chart.events.zoomed!="function"&&(a.w.config.chart.events.zoomed=function(){return e.updateSourceChart(a)}),typeof a.w.config.chart.events.scrolled!="function"&&(a.w.config.chart.events.scrolled=function(){return e.updateSourceChart(a)})}),n.config.chart.events.selection=function(r,a){s.forEach(function(l){t.constructor.getChartByID(l).ctx.updateHelpers._updateOptions({xaxis:{min:a.xaxis.min,max:a.xaxis.max}},!1,!1,!1,!1)})}}}}]),i}(),Qee=function(){function i(e){Ce(this,i),this.ctx=e,this.w=e.w}return ke(i,[{key:"_updateOptions",value:function(e){var t=this,n=arguments.length>1&&arguments[1]!==void 0&&arguments[1],s=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],r=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],a=arguments.length>4&&arguments[4]!==void 0&&arguments[4];return new Promise(function(l){var c=[t.ctx];r&&(c=t.ctx.getSyncedCharts()),t.ctx.w.globals.isExecCalled&&(c=[t.ctx],t.ctx.w.globals.isExecCalled=!1),c.forEach(function(h,d){var f=h.w;if(f.globals.shouldAnimate=s,n||(f.globals.resized=!0,f.globals.dataChanged=!0,s&&h.series.getPreviousPaths()),e&&Yi(e)==="object"&&(h.config=new Nf(e),e=Mn.extendArrayProps(h.config,e,f),h.w.globals.chartID!==t.ctx.w.globals.chartID&&delete e.series,f.config=q.extend(f.config,e),a&&(f.globals.lastXAxis=e.xaxis?q.clone(e.xaxis):[],f.globals.lastYAxis=e.yaxis?q.clone(e.yaxis):[],f.globals.initialConfig=q.extend({},f.config),f.globals.initialSeries=q.clone(f.config.series),e.series))){for(var p=0;p<f.globals.collapsedSeriesIndices.length;p++){var y=f.config.series[f.globals.collapsedSeriesIndices[p]];f.globals.collapsedSeries[p].data=f.globals.axisCharts?y.data.slice():y}for(var b=0;b<f.globals.ancillaryCollapsedSeriesIndices.length;b++){var x=f.config.series[f.globals.ancillaryCollapsedSeriesIndices[b]];f.globals.ancillaryCollapsedSeries[b].data=f.globals.axisCharts?x.data.slice():x}h.series.emptyCollapsedSeries(f.config.series)}return h.update(e).then(function(){d===c.length-1&&l(h)})})})}},{key:"_updateSeries",value:function(e,t){var n=this,s=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return new Promise(function(r){var a=n.w;return a.globals.shouldAnimate=t,a.globals.dataChanged=!0,t&&n.ctx.series.getPreviousPaths(),n.ctx.data.resetParsingFlags(),n.ctx.data.parseData(e),s&&(a.globals.initialConfig.series=q.clone(a.config.series),a.globals.initialSeries=q.clone(a.config.series)),n.ctx.update().then(function(){r(n.ctx)})})}},{key:"_extendSeries",value:function(e,t){var n=this.w,s=n.config.series[t];return be(be({},n.config.series[t]),{},{name:e.name?e.name:s==null?void 0:s.name,color:e.color?e.color:s==null?void 0:s.color,type:e.type?e.type:s==null?void 0:s.type,group:e.group?e.group:s==null?void 0:s.group,hidden:e.hidden!==void 0?e.hidden:s==null?void 0:s.hidden,data:e.data?e.data:s==null?void 0:s.data,zIndex:e.zIndex!==void 0?e.zIndex:t})}},{key:"toggleDataPointSelection",value:function(e,t){var n=this.w,s=null,r=".apexcharts-series[data\\:realIndex='".concat(e,"']");return n.globals.axisCharts?s=n.globals.dom.Paper.findOne("".concat(r," path[j='").concat(t,"'], ").concat(r," circle[j='").concat(t,"'], ").concat(r," rect[j='").concat(t,"']")):t===void 0&&(s=n.globals.dom.Paper.findOne("".concat(r," path[j='").concat(e,"']")),n.config.chart.type!=="pie"&&n.config.chart.type!=="polarArea"&&n.config.chart.type!=="donut"||this.ctx.pie.pieClicked(e)),s?(new fe(this.ctx).pathMouseDown(s,null),s.node?s.node:null):(console.warn("toggleDataPointSelection: Element not found"),null)}},{key:"forceXAxisUpdate",value:function(e){var t=this.w;if(["min","max"].forEach(function(s){e.xaxis[s]!==void 0&&(t.config.xaxis[s]=e.xaxis[s],t.globals.lastXAxis[s]=e.xaxis[s])}),e.xaxis.categories&&e.xaxis.categories.length&&(t.config.xaxis.categories=e.xaxis.categories),t.config.xaxis.convertedCatToNumeric){var n=new Df(e);e=n.convertCatToNumericXaxis(e,this.ctx)}return e}},{key:"forceYAxisUpdate",value:function(e){return e.chart&&e.chart.stacked&&e.chart.stackType==="100%"&&(Array.isArray(e.yaxis)?e.yaxis.forEach(function(t,n){e.yaxis[n].min=0,e.yaxis[n].max=100}):(e.yaxis.min=0,e.yaxis.max=100)),e}},{key:"revertDefaultAxisMinMax",value:function(e){var t=this,n=this.w,s=n.globals.lastXAxis,r=n.globals.lastYAxis;e&&e.xaxis&&(s=e.xaxis),e&&e.yaxis&&(r=e.yaxis),n.config.xaxis.min=s.min,n.config.xaxis.max=s.max;var a=function(l){r[l]!==void 0&&(n.config.yaxis[l].min=r[l].min,n.config.yaxis[l].max=r[l].max)};n.config.yaxis.map(function(l,c){n.globals.zoomed||r[c]!==void 0?a(c):t.ctx.opts.yaxis[c]!==void 0&&(l.min=t.ctx.opts.yaxis[c].min,l.max=t.ctx.opts.yaxis[c].max)})}}]),i}();(function(){function i(){for(var r=arguments.length>0&&arguments[0]!==f?arguments[0]:[],a=arguments.length>1?arguments[1]:f,l=arguments.length>2?arguments[2]:f,c=arguments.length>3?arguments[3]:f,h=arguments.length>4?arguments[4]:f,d=arguments.length>5?arguments[5]:f,f=arguments.length>6?arguments[6]:f,p=r.slice(a,l||f),y=c.slice(h,d||f),b=0,x={pos:[0,0],start:[0,0]},_={pos:[0,0],start:[0,0]};p[b]=e.call(x,p[b]),y[b]=e.call(_,y[b]),p[b][0]!=y[b][0]||p[b][0]=="M"||p[b][0]=="A"&&(p[b][4]!=y[b][4]||p[b][5]!=y[b][5])?(Array.prototype.splice.apply(p,[b,1].concat(n.call(x,p[b]))),Array.prototype.splice.apply(y,[b,1].concat(n.call(_,y[b])))):(p[b]=t.call(x,p[b]),y[b]=t.call(_,y[b])),!(++b==p.length&&b==y.length);)b==p.length&&p.push(["C",x.pos[0],x.pos[1],x.pos[0],x.pos[1],x.pos[0],x.pos[1]]),b==y.length&&y.push(["C",_.pos[0],_.pos[1],_.pos[0],_.pos[1],_.pos[0],_.pos[1]]);return{start:p,dest:y}}function e(r){switch(r[0]){case"z":case"Z":r[0]="L",r[1]=this.start[0],r[2]=this.start[1];break;case"H":r[0]="L",r[2]=this.pos[1];break;case"V":r[0]="L",r[2]=r[1],r[1]=this.pos[0];break;case"T":r[0]="Q",r[3]=r[1],r[4]=r[2],r[1]=this.reflection[1],r[2]=this.reflection[0];break;case"S":r[0]="C",r[6]=r[4],r[5]=r[3],r[4]=r[2],r[3]=r[1],r[2]=this.reflection[1],r[1]=this.reflection[0]}return r}function t(r){var a=r.length;return this.pos=[r[a-2],r[a-1]],"SCQT".indexOf(r[0])!=-1&&(this.reflection=[2*this.pos[0]-r[a-4],2*this.pos[1]-r[a-3]]),r}function n(r){var a=[r];switch(r[0]){case"M":return this.pos=this.start=[r[1],r[2]],a;case"L":r[5]=r[3]=r[1],r[6]=r[4]=r[2],r[1]=this.pos[0],r[2]=this.pos[1];break;case"Q":r[6]=r[4],r[5]=r[3],r[4]=1*r[4]/3+2*r[2]/3,r[3]=1*r[3]/3+2*r[1]/3,r[2]=1*this.pos[1]/3+2*r[2]/3,r[1]=1*this.pos[0]/3+2*r[1]/3;break;case"A":a=function(l,c){var h,d,f,p,y,b,x,_,S,T,C,M,R,P,k,E,D,O,F,H,B,K,ne,X,G,ee,ue=Math.abs(c[1]),le=Math.abs(c[2]),me=c[3]%360,ae=c[4],ye=c[5],_e=c[6],Pe=c[7],Se=new jt(l),Me=new jt(_e,Pe),we=[];if(ue===0||le===0||Se.x===Me.x&&Se.y===Me.y)return[["C",Se.x,Se.y,Me.x,Me.y,Me.x,Me.y]];for(h=new jt((Se.x-Me.x)/2,(Se.y-Me.y)/2).transform(new Ve().rotate(me)),d=h.x*h.x/(ue*ue)+h.y*h.y/(le*le),d>1&&(ue*=d=Math.sqrt(d),le*=d),f=new Ve().rotate(me).scale(1/ue,1/le).rotate(-me),Se=Se.transform(f),Me=Me.transform(f),p=[Me.x-Se.x,Me.y-Se.y],b=p[0]*p[0]+p[1]*p[1],y=Math.sqrt(b),p[0]/=y,p[1]/=y,x=b<4?Math.sqrt(1-b/4):0,ae===ye&&(x*=-1),_=new jt((Me.x+Se.x)/2+x*-p[1],(Me.y+Se.y)/2+x*p[0]),S=new jt(Se.x-_.x,Se.y-_.y),T=new jt(Me.x-_.x,Me.y-_.y),C=Math.acos(S.x/Math.sqrt(S.x*S.x+S.y*S.y)),S.y<0&&(C*=-1),M=Math.acos(T.x/Math.sqrt(T.x*T.x+T.y*T.y)),T.y<0&&(M*=-1),ye&&C>M&&(M+=2*Math.PI),!ye&&C<M&&(M-=2*Math.PI),P=Math.ceil(2*Math.abs(C-M)/Math.PI),E=[],D=C,R=(M-C)/P,k=4*Math.tan(R/4)/3,B=0;B<=P;B++)F=Math.cos(D),O=Math.sin(D),H=new jt(_.x+F,_.y+O),E[B]=[new jt(H.x+k*O,H.y-k*F),H,new jt(H.x-k*O,H.y+k*F)],D+=R;for(E[0][0]=E[0][1].clone(),E[E.length-1][2]=E[E.length-1][1].clone(),f=new Ve().rotate(me).scale(ue,le).rotate(-me),B=0,K=E.length;B<K;B++)E[B][0]=E[B][0].transform(f),E[B][1]=E[B][1].transform(f),E[B][2]=E[B][2].transform(f);for(B=1,K=E.length;B<K;B++)ne=(H=E[B-1][2]).x,X=H.y,G=(H=E[B][0]).x,ee=H.y,_e=(H=E[B][1]).x,Pe=H.y,we.push(["C",ne,X,G,ee,_e,Pe]);return we}(this.pos,r),r=a[0]}return r[0]="C",this.pos=[r[5],r[6]],this.reflection=[2*r[5]-r[3],2*r[6]-r[4]],a}function s(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],a=arguments.length>1?arguments[1]:void 0;if(a===!1)return!1;for(var l=a,c=r.length;l<c;++l)if(r[l][0]=="M")return l;return!1}je(pr,{morph:function(r,a,l,c,h){for(var d=this.parse(r),f=this.parse(a),p=0,y=0,b=!1,x=!1;p!==!1||y!==!1;){var _;b=s(d,p!==!1&&p+1),x=s(f,y!==!1&&y+1),p===!1&&(p=(_=new pr(S.start).bbox()).height==0||_.width==0?d.push(d[0])-1:d.push(["M",_.x+_.width/2,_.y+_.height/2])-1),y===!1&&(y=(_=new pr(S.dest).bbox()).height==0||_.width==0?f.push(f[0])-1:f.push(["M",_.x+_.width/2,_.y+_.height/2])-1);var S=i(d,p,b,f,y,x);d=d.slice(0,p).concat(S.start,b===!1?[]:d.slice(b)),f=f.slice(0,y).concat(S.dest,x===!1?[]:f.slice(x)),p=b!==!1&&p+S.start.length,y=x!==!1&&y+S.dest.length}this._array=d,this.destination=new pr,this.destination._array=f;var T=this.fromArray(d.map(function(C,M){var R=f[M].map(function(P,k){return k===0?P:c.step(C[k],f[M][k],l,h[M],h)});return R}));return T}})})();const U2=i=>(i.changedTouches&&(i=i.changedTouches[0]),{x:i.clientX,y:i.clientY});class Zee{constructor(e){e.remember("_draggable",this),this.el=e,this.drag=this.drag.bind(this),this.startDrag=this.startDrag.bind(this),this.endDrag=this.endDrag.bind(this)}init(e){e?(this.el.on("mousedown.drag",this.startDrag),this.el.on("touchstart.drag",this.startDrag,{passive:!1})):(this.el.off("mousedown.drag"),this.el.off("touchstart.drag"))}startDrag(e){const t=!e.type.indexOf("mouse");if(t&&e.which!==1&&e.buttons!==0||this.el.dispatch("beforedrag",{event:e,handler:this}).defaultPrevented)return;e.preventDefault(),e.stopPropagation(),this.init(!1),this.box=this.el.bbox(),this.lastClick=this.el.point(U2(e));const n=(t?"mouseup":"touchend")+".drag";ka(window,(t?"mousemove":"touchmove")+".drag",this.drag,this,{passive:!1}),ka(window,n,this.endDrag,this,{passive:!1}),this.el.fire("dragstart",{event:e,handler:this,box:this.box})}drag(e){const{box:t,lastClick:n}=this,s=this.el.point(U2(e)),r=s.x-n.x,a=s.y-n.y;if(!r&&!a)return t;const l=t.x+r,c=t.y+a;this.box=new In(l,c,t.w,t.h),this.lastClick=s,this.el.dispatch("dragmove",{event:e,handler:this,box:this.box}).defaultPrevented||this.move(l,c)}move(e,t){this.el.type==="svg"?Lo.prototype.move.call(this.el,e,t):this.el.move(e,t)}endDrag(e){this.drag(e),this.el.fire("dragend",{event:e,handler:this,box:this.box}),qs(window,"mousemove.drag"),qs(window,"touchmove.drag"),qs(window,"mouseup.drag"),qs(window,"touchend.drag"),this.init(!0)}}/*!
* @svgdotjs/svg.select.js - An extension of svg.js which allows to select elements with mouse
* @version 4.0.1
* https://github.com/svgdotjs/svg.select.js
*
* @copyright Ulrich-Matthias Schfer
* @license MIT
*
* BUILT: Mon Jul 01 2024 15:04:42 GMT+0200 (Central European Summer Time)
*/function o_(i,e,t,n=null){return function(s){s.preventDefault(),s.stopPropagation();var r=s.pageX||s.touches[0].pageX,a=s.pageY||s.touches[0].pageY;e.fire(i,{x:r,y:a,event:s,index:n,points:t})}}function l_([i,e],{a:t,b:n,c:s,d:r,e:a,f:l}){return[i*t+e*s+a,i*n+e*r+l]}je(wi,{draggable(i=!0){return(this.remember("_draggable")||new Zee(this)).init(i),this}});let MF=class{constructor(i){this.el=i,i.remember("_selectHandler",this),this.selection=new Lo,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const e=pg();this.observer=new e.MutationObserver(this.mutationHandler)}init(i){this.createHandle=i.createHandle||this.createHandleFn,this.createRot=i.createRot||this.createRotFn,this.updateHandle=i.updateHandle||this.updateHandleFn,this.updateRot=i.updateRot||this.updateRotFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createResizeHandles(),this.updateResizeHandles(),this.createRotationHandle(),this.updateRotationHandle(),this.observer.observe(this.el.node,{attributes:!0})}active(i,e){if(!i)return this.selection.clear().remove(),void this.observer.disconnect();this.init(e)}createSelection(){this.selection.polygon(this.handlePoints).addClass("svg_select_shape")}updateSelection(){this.selection.get(0).plot(this.handlePoints)}createResizeHandles(){this.handlePoints.forEach((i,e,t)=>{const n=this.order[e];this.createHandle.call(this,this.selection,i,e,t,n),this.selection.get(e+1).addClass("svg_select_handle svg_select_handle_"+n).on("mousedown.selection touchstart.selection",o_(n,this.el,this.handlePoints,e))})}createHandleFn(i){i.polyline()}updateHandleFn(i,e,t,n){const s=n.at(t-1),r=n[(t+1)%n.length],a=e,l=[a[0]-s[0],a[1]-s[1]],c=[a[0]-r[0],a[1]-r[1]],h=Math.sqrt(l[0]*l[0]+l[1]*l[1]),d=Math.sqrt(c[0]*c[0]+c[1]*c[1]),f=[l[0]/h,l[1]/h],p=[c[0]/d,c[1]/d],y=[a[0]-10*f[0],a[1]-10*f[1]],b=[a[0]-10*p[0],a[1]-10*p[1]];i.plot([y,a,b])}updateResizeHandles(){this.handlePoints.forEach((i,e,t)=>{const n=this.order[e];this.updateHandle.call(this,this.selection.get(e+1),i,e,t,n)})}createRotFn(i){i.line(),i.circle(5)}getPoint(i){return this.handlePoints[this.order.indexOf(i)]}getPointHandle(i){return this.selection.get(this.order.indexOf(i)+1)}updateRotFn(i,e){const t=this.getPoint("t");i.get(0).plot(t[0],t[1],e[0],e[1]),i.get(1).center(e[0],e[1])}createRotationHandle(){const i=this.selection.group().addClass("svg_select_handle_rot").on("mousedown.selection touchstart.selection",o_("rot",this.el,this.handlePoints));this.createRot.call(this,i)}updateRotationHandle(){const i=this.selection.findOne("g.svg_select_handle_rot");this.updateRot(i,this.rotationPoint,this.handlePoints)}updatePoints(){const i=this.el.bbox(),e=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.handlePoints=this.getHandlePoints(i).map(t=>l_(t,e)),this.rotationPoint=l_(this.getRotationPoint(i),e)}getHandlePoints({x:i,x2:e,y:t,y2:n,cx:s,cy:r}=this.el.bbox()){return[[i,t],[s,t],[e,t],[e,r],[e,n],[s,n],[i,n],[i,r]]}getRotationPoint({y:i,cx:e}=this.el.bbox()){return[e,i-20]}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updateResizeHandles(),this.updateRotationHandle()}};const Y2=i=>function(e=!0,t={}){typeof e=="object"&&(t=e,e=!0);let n=this.remember("_"+i.name);return n||(e.prototype instanceof MF?(n=new e(this),e=!0):n=new i(this),this.remember("_"+i.name,n)),n.active(e,t),this};/*!
* @svgdotjs/svg.resize.js - An extension for svg.js which allows to resize elements which are selected
* @version 2.0.4
* https://github.com/svgdotjs/svg.resize.js
*
* @copyright [object Object]
* @license MIT
*
* BUILT: Fri Sep 13 2024 12:43:14 GMT+0200 (Central European Summer Time)
*//*!
* @svgdotjs/svg.select.js - An extension of svg.js which allows to select elements with mouse
* @version 4.0.1
* https://github.com/svgdotjs/svg.select.js
*
* @copyright Ulrich-Matthias Schfer
* @license MIT
*
* BUILT: Mon Jul 01 2024 15:04:42 GMT+0200 (Central European Summer Time)
*/function c_(i,e,t,n=null){return function(s){s.preventDefault(),s.stopPropagation();var r=s.pageX||s.touches[0].pageX,a=s.pageY||s.touches[0].pageY;e.fire(i,{x:r,y:a,event:s,index:n,points:t})}}function u_([i,e],{a:t,b:n,c:s,d:r,e:a,f:l}){return[i*t+e*s+a,i*n+e*r+l]}je(wi,{select:Y2(MF)}),je([ql,$l,Gl],{pointSelect:Y2(class{constructor(i){this.el=i,i.remember("_pointSelectHandler",this),this.selection=new Lo,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const e=pg();this.observer=new e.MutationObserver(this.mutationHandler)}init(i){this.createHandle=i.createHandle||this.createHandleFn,this.updateHandle=i.updateHandle||this.updateHandleFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createPointHandles(),this.updatePointHandles(),this.observer.observe(this.el.node,{attributes:!0})}active(i,e){if(!i)return this.selection.clear().remove(),void this.observer.disconnect();this.init(e)}createSelection(){this.selection.polygon(this.points).addClass("svg_select_shape_pointSelect")}updateSelection(){this.selection.get(0).plot(this.points)}createPointHandles(){this.points.forEach((i,e,t)=>{this.createHandle.call(this,this.selection,i,e,t),this.selection.get(e+1).addClass("svg_select_handle_point").on("mousedown.selection touchstart.selection",o_("point",this.el,this.points,e))})}createHandleFn(i){i.circle(5)}updateHandleFn(i,e){i.center(e[0],e[1])}updatePointHandles(){this.points.forEach((i,e,t)=>{this.updateHandle.call(this,this.selection.get(e+1),i,e,t)})}updatePoints(){const i=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.points=this.el.array().map(e=>l_(e,i))}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updatePointHandles()}})});class DF{constructor(e){this.el=e,e.remember("_selectHandler",this),this.selection=new Lo,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const t=pg();this.observer=new t.MutationObserver(this.mutationHandler)}init(e){this.createHandle=e.createHandle||this.createHandleFn,this.createRot=e.createRot||this.createRotFn,this.updateHandle=e.updateHandle||this.updateHandleFn,this.updateRot=e.updateRot||this.updateRotFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createResizeHandles(),this.updateResizeHandles(),this.createRotationHandle(),this.updateRotationHandle(),this.observer.observe(this.el.node,{attributes:!0})}active(e,t){if(!e)return this.selection.clear().remove(),void this.observer.disconnect();this.init(t)}createSelection(){this.selection.polygon(this.handlePoints).addClass("svg_select_shape")}updateSelection(){this.selection.get(0).plot(this.handlePoints)}createResizeHandles(){this.handlePoints.forEach((e,t,n)=>{const s=this.order[t];this.createHandle.call(this,this.selection,e,t,n,s),this.selection.get(t+1).addClass("svg_select_handle svg_select_handle_"+s).on("mousedown.selection touchstart.selection",c_(s,this.el,this.handlePoints,t))})}createHandleFn(e){e.polyline()}updateHandleFn(e,t,n,s){const r=s.at(n-1),a=s[(n+1)%s.length],l=t,c=[l[0]-r[0],l[1]-r[1]],h=[l[0]-a[0],l[1]-a[1]],d=Math.sqrt(c[0]*c[0]+c[1]*c[1]),f=Math.sqrt(h[0]*h[0]+h[1]*h[1]),p=[c[0]/d,c[1]/d],y=[h[0]/f,h[1]/f],b=[l[0]-10*p[0],l[1]-10*p[1]],x=[l[0]-10*y[0],l[1]-10*y[1]];e.plot([b,l,x])}updateResizeHandles(){this.handlePoints.forEach((e,t,n)=>{const s=this.order[t];this.updateHandle.call(this,this.selection.get(t+1),e,t,n,s)})}createRotFn(e){e.line(),e.circle(5)}getPoint(e){return this.handlePoints[this.order.indexOf(e)]}getPointHandle(e){return this.selection.get(this.order.indexOf(e)+1)}updateRotFn(e,t){const n=this.getPoint("t");e.get(0).plot(n[0],n[1],t[0],t[1]),e.get(1).center(t[0],t[1])}createRotationHandle(){const e=this.selection.group().addClass("svg_select_handle_rot").on("mousedown.selection touchstart.selection",c_("rot",this.el,this.handlePoints));this.createRot.call(this,e)}updateRotationHandle(){const e=this.selection.findOne("g.svg_select_handle_rot");this.updateRot(e,this.rotationPoint,this.handlePoints)}updatePoints(){const e=this.el.bbox(),t=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.handlePoints=this.getHandlePoints(e).map(n=>u_(n,t)),this.rotationPoint=u_(this.getRotationPoint(e),t)}getHandlePoints({x:e,x2:t,y:n,y2:s,cx:r,cy:a}=this.el.bbox()){return[[e,n],[r,n],[t,n],[t,a],[t,s],[r,s],[e,s],[e,a]]}getRotationPoint({y:e,cx:t}=this.el.bbox()){return[t,e-20]}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updateResizeHandles(),this.updateRotationHandle()}}const X2=i=>function(e=!0,t={}){typeof e=="object"&&(t=e,e=!0);let n=this.remember("_"+i.name);return n||(e.prototype instanceof DF?(n=new e(this),e=!0):n=new i(this),this.remember("_"+i.name,n)),n.active(e,t),this};je(wi,{select:X2(DF)}),je([ql,$l,Gl],{pointSelect:X2(class{constructor(i){this.el=i,i.remember("_pointSelectHandler",this),this.selection=new Lo,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const e=pg();this.observer=new e.MutationObserver(this.mutationHandler)}init(i){this.createHandle=i.createHandle||this.createHandleFn,this.updateHandle=i.updateHandle||this.updateHandleFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createPointHandles(),this.updatePointHandles(),this.observer.observe(this.el.node,{attributes:!0})}active(i,e){if(!i)return this.selection.clear().remove(),void this.observer.disconnect();this.init(e)}createSelection(){this.selection.polygon(this.points).addClass("svg_select_shape_pointSelect")}updateSelection(){this.selection.get(0).plot(this.points)}createPointHandles(){this.points.forEach((i,e,t)=>{this.createHandle.call(this,this.selection,i,e,t),this.selection.get(e+1).addClass("svg_select_handle_point").on("mousedown.selection touchstart.selection",c_("point",this.el,this.points,e))})}createHandleFn(i){i.circle(5)}updateHandleFn(i,e){i.center(e[0],e[1])}updatePointHandles(){this.points.forEach((i,e,t)=>{this.updateHandle.call(this,this.selection.get(e+1),i,e,t)})}updatePoints(){const i=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.points=this.el.array().map(e=>u_(e,i))}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updatePointHandles()}})});const im=i=>(i.changedTouches&&(i=i.changedTouches[0]),{x:i.clientX,y:i.clientY}),W2=i=>{let e=1/0,t=1/0,n=-1/0,s=-1/0;for(let r=0;r<i.length;r++){const a=i[r];e=Math.min(e,a[0]),t=Math.min(t,a[1]),n=Math.max(n,a[0]),s=Math.max(s,a[1])}return new In(e,t,n-e,s-t)};class G2{constructor(e){this.el=e,e.remember("_ResizeHandler",this),this.lastCoordinates=null,this.eventType="",this.lastEvent=null,this.handleResize=this.handleResize.bind(this),this.resize=this.resize.bind(this),this.endResize=this.endResize.bind(this),this.rotate=this.rotate.bind(this),this.movePoint=this.movePoint.bind(this)}active(e,t){this.preserveAspectRatio=t.preserveAspectRatio??!1,this.aroundCenter=t.aroundCenter??!1,this.grid=t.grid??0,this.degree=t.degree??0,this.el.off(".resize"),e&&(this.el.on(["lt.resize","rt.resize","rb.resize","lb.resize","t.resize","r.resize","b.resize","l.resize","rot.resize","point.resize"],this.handleResize),this.lastEvent&&(this.eventType==="rot"?this.rotate(this.lastEvent):this.eventType==="point"?this.movePoint(this.lastEvent):this.resize(this.lastEvent)))}handleResize(e){this.eventType=e.type;const{event:t,index:n,points:s}=e.detail,r=!t.type.indexOf("mouse");if(r&&(t.which||t.buttons)!==1||this.el.dispatch("beforeresize",{event:e,handler:this}).defaultPrevented)return;this.box=this.el.bbox(),this.startPoint=this.el.point(im(t)),this.index=n,this.points=s.slice();const a=(r?"mousemove":"touchmove")+".resize",l=(r?"mouseup":"touchcancel.resize touchend")+".resize";e.type==="point"?ka(window,a,this.movePoint):e.type==="rot"?ka(window,a,this.rotate):ka(window,a,this.resize),ka(window,l,this.endResize)}resize(e){this.lastEvent=e;const t=this.snapToGrid(this.el.point(im(e)));let n=t.x-this.startPoint.x,s=t.y-this.startPoint.y;this.preserveAspectRatio&&this.aroundCenter&&(n*=2,s*=2);const r=this.box.x+n,a=this.box.y+s,l=this.box.x2+n,c=this.box.y2+s;let h=new In(this.box);if(this.eventType.includes("l")&&(h.x=Math.min(r,this.box.x2),h.x2=Math.max(r,this.box.x2)),this.eventType.includes("r")&&(h.x=Math.min(l,this.box.x),h.x2=Math.max(l,this.box.x)),this.eventType.includes("t")&&(h.y=Math.min(a,this.box.y2),h.y2=Math.max(a,this.box.y2)),this.eventType.includes("b")&&(h.y=Math.min(c,this.box.y),h.y2=Math.max(c,this.box.y)),h.width=h.x2-h.x,h.height=h.y2-h.y,this.preserveAspectRatio){const d=h.width/this.box.width,f=h.height/this.box.height,p=["lt","t","rt","r","rb","b","lb","l"],y=(p.indexOf(this.eventType)+4)%p.length,b=this.aroundCenter?[this.box.cx,this.box.cy]:this.points[y];let x=this.eventType.includes("t")||this.eventType.includes("b")?f:d;x=this.eventType.length===2?Math.max(d,f):x,h=function(_,S,T){const C=[[_.x,_.y],[_.x+_.width,_.y],[_.x+_.width,_.y+_.height],[_.x,_.y+_.height]].map(([M,R])=>{const P=M-S[0],k=(R-S[1])*T;return[P*T+S[0],k+S[1]]});return W2(C)}(this.box,b,x)}this.el.dispatch("resize",{box:new In(h),angle:0,eventType:this.eventType,event:e,handler:this}).defaultPrevented||this.el.size(h.width,h.height).move(h.x,h.y)}movePoint(e){this.lastEvent=e;const{x:t,y:n}=this.snapToGrid(this.el.point(im(e))),s=this.el.array().slice();s[this.index]=[t,n],this.el.dispatch("resize",{box:W2(s),angle:0,eventType:this.eventType,event:e,handler:this}).defaultPrevented||this.el.plot(s)}rotate(e){this.lastEvent=e;const t=this.startPoint,n=this.el.point(im(e)),{cx:s,cy:r}=this.box,a=t.x-s,l=t.y-r,c=n.x-s,h=n.y-r,d=Math.sqrt(a*a+l*l)*Math.sqrt(c*c+h*h);if(d===0)return;let f=Math.acos((a*c+l*h)/d)/Math.PI*180;if(!f)return;n.x<t.x&&(f=-f);const p=new Ve(this.el),{x:y,y:b}=new jt(s,r).transformO(p),{rotate:x}=p.decompose(),_=this.snapToAngle(x+f)-x;this.el.dispatch("resize",{box:this.box,angle:_,eventType:this.eventType,event:e,handler:this}).defaultPrevented||this.el.transform(p.rotateO(_,y,b))}endResize(e){this.eventType!=="rot"&&this.eventType!=="point"&&this.resize(e),this.lastEvent=null,this.eventType="",qs(window,"mousemove.resize touchmove.resize"),qs(window,"mouseup.resize touchend.resize")}snapToGrid(e){return this.grid&&(e.x=Math.round(e.x/this.grid)*this.grid,e.y=Math.round(e.y/this.grid)*this.grid),e}snapToAngle(e){return this.degree&&(e=Math.round(e/this.degree)*this.degree),e}}je(wi,{resize:function(i=!0,e={}){typeof i=="object"&&(e=i,i=!0);let t=this.remember("_ResizeHandler");return t||(i.prototype instanceof G2?(t=new i(this),i=!0):t=new G2(this),this.remember("_resizeHandler",t)),t.active(i,e),this}}),window.SVG===void 0&&(window.SVG=fee),window.Apex===void 0&&(window.Apex={});var q2=function(){function i(e){Ce(this,i),this.ctx=e,this.w=e.w}return ke(i,[{key:"initModules",value:function(){this.ctx.publicMethods=["updateOptions","updateSeries","appendData","appendSeries","isSeriesHidden","highlightSeries","toggleSeries","showSeries","hideSeries","setLocale","resetSeries","zoomX","toggleDataPointSelection","dataURI","exportToCSV","addXaxisAnnotation","addYaxisAnnotation","addPointAnnotation","clearAnnotations","removeAnnotation","paper","destroy"],this.ctx.eventList=["click","mousedown","mousemove","mouseleave","touchstart","touchmove","touchleave","mouseup","touchend"],this.ctx.animations=new ch(this.ctx),this.ctx.axes=new Aee(this.ctx),this.ctx.core=new Kee(this.ctx.el,this.ctx),this.ctx.config=new Nf({}),this.ctx.data=new QS(this.ctx),this.ctx.grid=new wF(this.ctx),this.ctx.graphics=new fe(this.ctx),this.ctx.coreUtils=new Mn(this.ctx),this.ctx.crosshairs=new a_(this.ctx),this.ctx.events=new wee(this.ctx),this.ctx.exports=new Zd(this.ctx),this.ctx.fill=new vr(this.ctx),this.ctx.localization=new _ee(this.ctx),this.ctx.options=new jl,this.ctx.responsive=new See(this.ctx),this.ctx.series=new Ks(this.ctx),this.ctx.theme=new Tee(this.ctx),this.ctx.formatters=new vg(this.ctx),this.ctx.titleSubtitle=new Eee(this.ctx),this.ctx.legend=new AF(this.ctx),this.ctx.toolbar=new SF(this.ctx),this.ctx.tooltip=new B2(this.ctx),this.ctx.dimensions=new Ey(this.ctx),this.ctx.updateHelpers=new Qee(this.ctx),this.ctx.zoomPanSelection=new Dee(this.ctx),this.ctx.w.globals.tooltip=new B2(this.ctx)}}]),i}(),$2=function(){function i(e){Ce(this,i),this.ctx=e,this.w=e.w}return ke(i,[{key:"clear",value:function(e){var t=e.isUpdating;this.ctx.zoomPanSelection&&this.ctx.zoomPanSelection.destroy(),this.ctx.toolbar&&this.ctx.toolbar.destroy(),this.ctx.animations=null,this.ctx.axes=null,this.ctx.annotations=null,this.ctx.core=null,this.ctx.data=null,this.ctx.grid=null,this.ctx.series=null,this.ctx.responsive=null,this.ctx.theme=null,this.ctx.formatters=null,this.ctx.titleSubtitle=null,this.ctx.legend=null,this.ctx.dimensions=null,this.ctx.options=null,this.ctx.crosshairs=null,this.ctx.zoomPanSelection=null,this.ctx.updateHelpers=null,this.ctx.toolbar=null,this.ctx.localization=null,this.ctx.w.globals.tooltip=null,this.clearDomElements({isUpdating:t})}},{key:"killSVG",value:function(e){e.each(function(){this.removeClass("*"),this.off()},!0),e.clear()}},{key:"clearDomElements",value:function(e){var t=this,n=e.isUpdating,s=this.w.globals.dom.Paper.node;s.parentNode&&s.parentNode.parentNode&&!n&&(s.parentNode.parentNode.style.minHeight="unset");var r=this.w.globals.dom.baseEl;r&&this.ctx.eventList.forEach(function(l){r.removeEventListener(l,t.ctx.events.documentEvent)});var a=this.w.globals.dom;if(this.ctx.el!==null)for(;this.ctx.el.firstChild;)this.ctx.el.removeChild(this.ctx.el.firstChild);this.killSVG(a.Paper),a.Paper.remove(),a.elWrap=null,a.elGraphical=null,a.elLegendWrap=null,a.elLegendForeign=null,a.baseEl=null,a.elGridRect=null,a.elGridRectMask=null,a.elGridRectBarMask=null,a.elGridRectMarkerMask=null,a.elForecastMask=null,a.elNonForecastMask=null,a.elDefs=null}}]),i}(),_0=new WeakMap,Jee=function(){function i(e,t){Ce(this,i),this.opts=t,this.ctx=this,this.w=new xee(t).init(),this.el=e,this.w.globals.cuid=q.randomId(),this.w.globals.chartID=this.w.config.chart.id?q.escapeString(this.w.config.chart.id):this.w.globals.cuid,new q2(this).initModules(),this.lastUpdateOptions=null,this.create=q.bind(this.create,this),this.windowResizeHandler=this._windowResizeHandler.bind(this),this.parentResizeHandler=this._parentResizeCallback.bind(this)}return ke(i,[{key:"render",value:function(){var e=this;return new Promise(function(t,n){if(q.elementExists(e.el)){Apex._chartInstances===void 0&&(Apex._chartInstances=[]),e.w.config.chart.id&&Apex._chartInstances.push({id:e.w.globals.chartID,group:e.w.config.chart.group,chart:e}),e.setLocale(e.w.config.chart.defaultLocale);var s=e.w.config.chart.events.beforeMount;typeof s=="function"&&s(e,e.w),e.events.fireEvent("beforeMount",[e,e.w]),window.addEventListener("resize",e.windowResizeHandler),function(p,y){var b=!1;if(p.nodeType!==Node.DOCUMENT_FRAGMENT_NODE){var x=p.getBoundingClientRect();p.style.display!=="none"&&x.width!==0||(b=!0)}var _=new ResizeObserver(function(S){b&&y.call(p,S),b=!0});p.nodeType===Node.DOCUMENT_FRAGMENT_NODE?Array.from(p.children).forEach(function(S){return _.observe(S)}):_.observe(p),_0.set(y,_)}(e.el.parentNode,e.parentResizeHandler);var r=e.el.getRootNode&&e.el.getRootNode(),a=q.is("ShadowRoot",r),l=e.el.ownerDocument,c=a?r.getElementById("apexcharts-css"):l.getElementById("apexcharts-css");if(!c){var h;(c=document.createElement("style")).id="apexcharts-css",c.textContent=`@keyframes opaque {
  0% {
    opacity: 0
  }

  to {
    opacity: 1
  }
}

@keyframes resizeanim {

  0%,
  to {
    opacity: 0
  }
}

.apexcharts-canvas {
  position: relative;
  direction: ltr !important;
  user-select: none
}

.apexcharts-canvas ::-webkit-scrollbar {
  -webkit-appearance: none;
  width: 6px
}

.apexcharts-canvas ::-webkit-scrollbar-thumb {
  border-radius: 4px;
  background-color: rgba(0, 0, 0, .5);
  box-shadow: 0 0 1px rgba(255, 255, 255, .5);
  -webkit-box-shadow: 0 0 1px rgba(255, 255, 255, .5)
}

.apexcharts-inner {
  position: relative
}

.apexcharts-text tspan {
  font-family: inherit
}

rect.legend-mouseover-inactive,
.legend-mouseover-inactive rect,
.legend-mouseover-inactive path,
.legend-mouseover-inactive circle,
.legend-mouseover-inactive line,
.legend-mouseover-inactive text.apexcharts-yaxis-title-text,
.legend-mouseover-inactive text.apexcharts-yaxis-label {
  transition: .15s ease all;
  opacity: .2
}

.apexcharts-legend-text {
  padding-left: 15px;
  margin-left: -15px;
}

.apexcharts-series-collapsed {
  opacity: 0
}

.apexcharts-tooltip {
  border-radius: 5px;
  box-shadow: 2px 2px 6px -4px #999;
  cursor: default;
  font-size: 14px;
  left: 62px;
  opacity: 0;
  pointer-events: none;
  position: absolute;
  top: 20px;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  white-space: nowrap;
  z-index: 12;
  transition: .15s ease all
}

.apexcharts-tooltip.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-tooltip.apexcharts-theme-light {
  border: 1px solid #e3e3e3;
  background: rgba(255, 255, 255, .96)
}

.apexcharts-tooltip.apexcharts-theme-dark {
  color: #fff;
  background: rgba(30, 30, 30, .8)
}

.apexcharts-tooltip * {
  font-family: inherit
}

.apexcharts-tooltip-title {
  padding: 6px;
  font-size: 15px;
  margin-bottom: 4px
}

.apexcharts-tooltip.apexcharts-theme-light .apexcharts-tooltip-title {
  background: #eceff1;
  border-bottom: 1px solid #ddd
}

.apexcharts-tooltip.apexcharts-theme-dark .apexcharts-tooltip-title {
  background: rgba(0, 0, 0, .7);
  border-bottom: 1px solid #333
}

.apexcharts-tooltip-text-goals-value,
.apexcharts-tooltip-text-y-value,
.apexcharts-tooltip-text-z-value {
  display: inline-block;
  margin-left: 5px;
  font-weight: 600
}

.apexcharts-tooltip-text-goals-label:empty,
.apexcharts-tooltip-text-goals-value:empty,
.apexcharts-tooltip-text-y-label:empty,
.apexcharts-tooltip-text-y-value:empty,
.apexcharts-tooltip-text-z-value:empty,
.apexcharts-tooltip-title:empty {
  display: none
}

.apexcharts-tooltip-text-goals-label,
.apexcharts-tooltip-text-goals-value {
  padding: 6px 0 5px
}

.apexcharts-tooltip-goals-group,
.apexcharts-tooltip-text-goals-label,
.apexcharts-tooltip-text-goals-value {
  display: flex
}

.apexcharts-tooltip-text-goals-label:not(:empty),
.apexcharts-tooltip-text-goals-value:not(:empty) {
  margin-top: -6px
}

.apexcharts-tooltip-marker {
  display: inline-block;
  position: relative;
  width: 16px;
  height: 16px;
  font-size: 16px;
  line-height: 16px;
  margin-right: 4px;
  text-align: center;
  vertical-align: middle;
  color: inherit;
}

.apexcharts-tooltip-marker::before {
  content: "";
  display: inline-block;
  width: 100%;
  text-align: center;
  color: currentcolor;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  font-size: 26px;
  font-family: Arial, Helvetica, sans-serif;
  line-height: 14px;
  font-weight: 900;
}

.apexcharts-tooltip-marker[shape="circle"]::before {
  content: "\\25CF";
}

.apexcharts-tooltip-marker[shape="square"]::before,
.apexcharts-tooltip-marker[shape="rect"]::before {
  content: "\\25A0";
  transform: translate(-1px, -2px);
}

.apexcharts-tooltip-marker[shape="line"]::before {
  content: "\\2500";
}

.apexcharts-tooltip-marker[shape="diamond"]::before {
  content: "\\25C6";
  font-size: 28px;
}

.apexcharts-tooltip-marker[shape="triangle"]::before {
  content: "\\25B2";
  font-size: 22px;
}

.apexcharts-tooltip-marker[shape="cross"]::before {
  content: "\\2715";
  font-size: 18px;
}

.apexcharts-tooltip-marker[shape="plus"]::before {
  content: "\\2715";
  transform: rotate(45deg) translate(-1px, -1px);
  font-size: 18px;
}

.apexcharts-tooltip-marker[shape="star"]::before {
  content: "\\2605";
  font-size: 18px;
}

.apexcharts-tooltip-marker[shape="sparkle"]::before {
  content: "\\2726";
  font-size: 20px;
}

.apexcharts-tooltip-series-group {
  padding: 0 10px;
  display: none;
  text-align: left;
  justify-content: left;
  align-items: center
}

.apexcharts-tooltip-series-group.apexcharts-active .apexcharts-tooltip-marker {
  opacity: 1
}

.apexcharts-tooltip-series-group.apexcharts-active,
.apexcharts-tooltip-series-group:last-child {
  padding-bottom: 4px
}

.apexcharts-tooltip-y-group {
  padding: 6px 0 5px
}

.apexcharts-custom-tooltip,
.apexcharts-tooltip-box {
  padding: 4px 8px
}

.apexcharts-tooltip-boxPlot {
  display: flex;
  flex-direction: column-reverse
}

.apexcharts-tooltip-box>div {
  margin: 4px 0
}

.apexcharts-tooltip-box span.value {
  font-weight: 700
}

.apexcharts-tooltip-rangebar {
  padding: 5px 8px
}

.apexcharts-tooltip-rangebar .category {
  font-weight: 600;
  color: #777
}

.apexcharts-tooltip-rangebar .series-name {
  font-weight: 700;
  display: block;
  margin-bottom: 5px
}

.apexcharts-xaxistooltip,
.apexcharts-yaxistooltip {
  opacity: 0;
  pointer-events: none;
  color: #373d3f;
  font-size: 13px;
  text-align: center;
  border-radius: 2px;
  position: absolute;
  z-index: 10;
  background: #eceff1;
  border: 1px solid #90a4ae
}

.apexcharts-xaxistooltip {
  padding: 9px 10px;
  transition: .15s ease all
}

.apexcharts-xaxistooltip.apexcharts-theme-dark {
  background: rgba(0, 0, 0, .7);
  border: 1px solid rgba(0, 0, 0, .5);
  color: #fff
}

.apexcharts-xaxistooltip:after,
.apexcharts-xaxistooltip:before {
  left: 50%;
  border: solid transparent;
  content: " ";
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none
}

.apexcharts-xaxistooltip:after {
  border-color: transparent;
  border-width: 6px;
  margin-left: -6px
}

.apexcharts-xaxistooltip:before {
  border-color: transparent;
  border-width: 7px;
  margin-left: -7px
}

.apexcharts-xaxistooltip-bottom:after,
.apexcharts-xaxistooltip-bottom:before {
  bottom: 100%
}

.apexcharts-xaxistooltip-top:after,
.apexcharts-xaxistooltip-top:before {
  top: 100%
}

.apexcharts-xaxistooltip-bottom:after {
  border-bottom-color: #eceff1
}

.apexcharts-xaxistooltip-bottom:before {
  border-bottom-color: #90a4ae
}

.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:after,
.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:before {
  border-bottom-color: rgba(0, 0, 0, .5)
}

.apexcharts-xaxistooltip-top:after {
  border-top-color: #eceff1
}

.apexcharts-xaxistooltip-top:before {
  border-top-color: #90a4ae
}

.apexcharts-xaxistooltip-top.apexcharts-theme-dark:after,
.apexcharts-xaxistooltip-top.apexcharts-theme-dark:before {
  border-top-color: rgba(0, 0, 0, .5)
}

.apexcharts-xaxistooltip.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-yaxistooltip {
  padding: 4px 10px
}

.apexcharts-yaxistooltip.apexcharts-theme-dark {
  background: rgba(0, 0, 0, .7);
  border: 1px solid rgba(0, 0, 0, .5);
  color: #fff
}

.apexcharts-yaxistooltip:after,
.apexcharts-yaxistooltip:before {
  top: 50%;
  border: solid transparent;
  content: " ";
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none
}

.apexcharts-yaxistooltip:after {
  border-color: transparent;
  border-width: 6px;
  margin-top: -6px
}

.apexcharts-yaxistooltip:before {
  border-color: transparent;
  border-width: 7px;
  margin-top: -7px
}

.apexcharts-yaxistooltip-left:after,
.apexcharts-yaxistooltip-left:before {
  left: 100%
}

.apexcharts-yaxistooltip-right:after,
.apexcharts-yaxistooltip-right:before {
  right: 100%
}

.apexcharts-yaxistooltip-left:after {
  border-left-color: #eceff1
}

.apexcharts-yaxistooltip-left:before {
  border-left-color: #90a4ae
}

.apexcharts-yaxistooltip-left.apexcharts-theme-dark:after,
.apexcharts-yaxistooltip-left.apexcharts-theme-dark:before {
  border-left-color: rgba(0, 0, 0, .5)
}

.apexcharts-yaxistooltip-right:after {
  border-right-color: #eceff1
}

.apexcharts-yaxistooltip-right:before {
  border-right-color: #90a4ae
}

.apexcharts-yaxistooltip-right.apexcharts-theme-dark:after,
.apexcharts-yaxistooltip-right.apexcharts-theme-dark:before {
  border-right-color: rgba(0, 0, 0, .5)
}

.apexcharts-yaxistooltip.apexcharts-active {
  opacity: 1
}

.apexcharts-yaxistooltip-hidden {
  display: none
}

.apexcharts-xcrosshairs,
.apexcharts-ycrosshairs {
  pointer-events: none;
  opacity: 0;
  transition: .15s ease all
}

.apexcharts-xcrosshairs.apexcharts-active,
.apexcharts-ycrosshairs.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-ycrosshairs-hidden {
  opacity: 0
}

.apexcharts-selection-rect {
  cursor: move
}

.svg_select_shape {
  stroke-width: 1;
  stroke-dasharray: 10 10;
  stroke: black;
  stroke-opacity: 0.1;
  pointer-events: none;
  fill: none;
}

.svg_select_handle {
  stroke-width: 3;
  stroke: black;
  fill: none;
}

.svg_select_handle_r {
  cursor: e-resize;
}

.svg_select_handle_l {
  cursor: w-resize;
}

.apexcharts-svg.apexcharts-zoomable.hovering-zoom {
  cursor: crosshair
}

.apexcharts-svg.apexcharts-zoomable.hovering-pan {
  cursor: move
}

.apexcharts-menu-icon,
.apexcharts-pan-icon,
.apexcharts-reset-icon,
.apexcharts-selection-icon,
.apexcharts-toolbar-custom-icon,
.apexcharts-zoom-icon,
.apexcharts-zoomin-icon,
.apexcharts-zoomout-icon {
  cursor: pointer;
  width: 20px;
  height: 20px;
  line-height: 24px;
  color: #6e8192;
  text-align: center
}

.apexcharts-menu-icon svg,
.apexcharts-reset-icon svg,
.apexcharts-zoom-icon svg,
.apexcharts-zoomin-icon svg,
.apexcharts-zoomout-icon svg {
  fill: #6e8192
}

.apexcharts-selection-icon svg {
  fill: #444;
  transform: scale(.76)
}

.apexcharts-theme-dark .apexcharts-menu-icon svg,
.apexcharts-theme-dark .apexcharts-pan-icon svg,
.apexcharts-theme-dark .apexcharts-reset-icon svg,
.apexcharts-theme-dark .apexcharts-selection-icon svg,
.apexcharts-theme-dark .apexcharts-toolbar-custom-icon svg,
.apexcharts-theme-dark .apexcharts-zoom-icon svg,
.apexcharts-theme-dark .apexcharts-zoomin-icon svg,
.apexcharts-theme-dark .apexcharts-zoomout-icon svg {
  fill: #f3f4f5
}

.apexcharts-canvas .apexcharts-reset-zoom-icon.apexcharts-selected svg,
.apexcharts-canvas .apexcharts-selection-icon.apexcharts-selected svg,
.apexcharts-canvas .apexcharts-zoom-icon.apexcharts-selected svg {
  fill: #008ffb
}

.apexcharts-theme-light .apexcharts-menu-icon:hover svg,
.apexcharts-theme-light .apexcharts-reset-icon:hover svg,
.apexcharts-theme-light .apexcharts-selection-icon:not(.apexcharts-selected):hover svg,
.apexcharts-theme-light .apexcharts-zoom-icon:not(.apexcharts-selected):hover svg,
.apexcharts-theme-light .apexcharts-zoomin-icon:hover svg,
.apexcharts-theme-light .apexcharts-zoomout-icon:hover svg {
  fill: #333
}

.apexcharts-menu-icon,
.apexcharts-selection-icon {
  position: relative
}

.apexcharts-reset-icon {
  margin-left: 5px
}

.apexcharts-menu-icon,
.apexcharts-reset-icon,
.apexcharts-zoom-icon {
  transform: scale(.85)
}

.apexcharts-zoomin-icon,
.apexcharts-zoomout-icon {
  transform: scale(.7)
}

.apexcharts-zoomout-icon {
  margin-right: 3px
}

.apexcharts-pan-icon {
  transform: scale(.62);
  position: relative;
  left: 1px;
  top: 0
}

.apexcharts-pan-icon svg {
  fill: #fff;
  stroke: #6e8192;
  stroke-width: 2
}

.apexcharts-pan-icon.apexcharts-selected svg {
  stroke: #008ffb
}

.apexcharts-pan-icon:not(.apexcharts-selected):hover svg {
  stroke: #333
}

.apexcharts-toolbar {
  position: absolute;
  z-index: 11;
  max-width: 176px;
  text-align: right;
  border-radius: 3px;
  padding: 0 6px 2px;
  display: flex;
  justify-content: space-between;
  align-items: center
}

.apexcharts-menu {
  background: #fff;
  position: absolute;
  top: 100%;
  border: 1px solid #ddd;
  border-radius: 3px;
  padding: 3px;
  right: 10px;
  opacity: 0;
  min-width: 110px;
  transition: .15s ease all;
  pointer-events: none
}

.apexcharts-menu.apexcharts-menu-open {
  opacity: 1;
  pointer-events: all;
  transition: .15s ease all
}

.apexcharts-menu-item {
  padding: 6px 7px;
  font-size: 12px;
  cursor: pointer
}

.apexcharts-theme-light .apexcharts-menu-item:hover {
  background: #eee
}

.apexcharts-theme-dark .apexcharts-menu {
  background: rgba(0, 0, 0, .7);
  color: #fff
}

@media screen and (min-width:768px) {
  .apexcharts-canvas:hover .apexcharts-toolbar {
    opacity: 1
  }
}

.apexcharts-canvas .apexcharts-element-hidden,
.apexcharts-datalabel.apexcharts-element-hidden,
.apexcharts-hide .apexcharts-series-points {
  opacity: 0;
}

.apexcharts-hidden-element-shown {
  opacity: 1;
  transition: 0.25s ease all;
}

.apexcharts-datalabel,
.apexcharts-datalabel-label,
.apexcharts-datalabel-value,
.apexcharts-datalabels,
.apexcharts-pie-label {
  cursor: default;
  pointer-events: none
}

.apexcharts-pie-label-delay {
  opacity: 0;
  animation-name: opaque;
  animation-duration: .3s;
  animation-fill-mode: forwards;
  animation-timing-function: ease
}

.apexcharts-radialbar-label {
  cursor: pointer;
}

.apexcharts-annotation-rect,
.apexcharts-area-series .apexcharts-area,
.apexcharts-gridline,
.apexcharts-line,
.apexcharts-point-annotation-label,
.apexcharts-radar-series path:not(.apexcharts-marker),
.apexcharts-radar-series polygon,
.apexcharts-toolbar svg,
.apexcharts-tooltip .apexcharts-marker,
.apexcharts-xaxis-annotation-label,
.apexcharts-yaxis-annotation-label,
.apexcharts-zoom-rect,
.no-pointer-events {
  pointer-events: none
}

.apexcharts-tooltip-active .apexcharts-marker {
  transition: .15s ease all
}

.apexcharts-radar-series .apexcharts-yaxis {
  pointer-events: none;
}

.resize-triggers {
  animation: 1ms resizeanim;
  visibility: hidden;
  opacity: 0;
  height: 100%;
  width: 100%;
  overflow: hidden
}

.contract-trigger:before,
.resize-triggers,
.resize-triggers>div {
  content: " ";
  display: block;
  position: absolute;
  top: 0;
  left: 0
}

.resize-triggers>div {
  height: 100%;
  width: 100%;
  background: #eee;
  overflow: auto
}

.contract-trigger:before {
  overflow: hidden;
  width: 200%;
  height: 200%
}

.apexcharts-bar-goals-markers {
  pointer-events: none
}

.apexcharts-bar-shadows {
  pointer-events: none
}

.apexcharts-rangebar-goals-markers {
  pointer-events: none
}

.apexcharts-disable-transitions * {
  transition: none !important;
}`;var d=((h=e.opts.chart)===null||h===void 0?void 0:h.nonce)||e.w.config.chart.nonce;d&&c.setAttribute("nonce",d),a?r.prepend(c):e.w.config.chart.injectStyleSheet!==!1&&l.head.appendChild(c)}var f=e.create(e.w.config.series,{});if(!f)return t(e);e.mount(f).then(function(){typeof e.w.config.chart.events.mounted=="function"&&e.w.config.chart.events.mounted(e,e.w),e.events.fireEvent("mounted",[e,e.w]),t(f)}).catch(function(p){n(p)})}else n(new Error("Element not found"))})}},{key:"create",value:function(e,t){var n=this,s=this.w;new q2(this).initModules();var r=this.w.globals;if(r.noData=!1,r.animationEnded=!1,!q.elementExists(this.el)||(this.responsive.checkResponsiveConfig(t),s.config.xaxis.convertedCatToNumeric&&new Df(s.config).convertCatToNumericXaxis(s.config,this.ctx),this.core.setupElements(),s.config.chart.type==="treemap"&&(s.config.grid.show=!1,s.config.yaxis[0].show=!1),r.svgWidth===0))return r.animationEnded=!0,null;var a=e;e.forEach(function(p,y){p.hidden&&(a=n.legend.legendHelpers.getSeriesAfterCollapsing({realIndex:y}))});var l=Mn.checkComboSeries(a,s.config.chart.type);r.comboCharts=l.comboCharts,r.comboBarCount=l.comboBarCount;var c=a.every(function(p){return p.data&&p.data.length===0});(a.length===0||c&&r.collapsedSeries.length<1)&&this.series.handleNoData(),this.events.setupEventHandlers(),this.data.parseData(a),this.theme.init(),new fh(this).setGlobalMarkerSize(),this.formatters.setLabelFormatters(),this.titleSubtitle.draw(),r.noData&&r.collapsedSeries.length!==r.series.length&&!s.config.legend.showForSingleSeries||this.legend.init(),this.series.hasAllSeriesEqualX(),r.axisCharts&&(this.core.coreCalculations(),s.config.xaxis.type!=="category"&&this.formatters.setLabelFormatters(),this.ctx.toolbar.minX=s.globals.minX,this.ctx.toolbar.maxX=s.globals.maxX),this.formatters.heatmapLabelFormatters(),new Mn(this).getLargestMarkerSize(),this.dimensions.plotCoords();var h=this.core.xySettings();this.grid.createGridMask();var d=this.core.plotChartType(a,h),f=new Xu(this);return f.bringForward(),s.config.dataLabels.background.enabled&&f.dataLabelsBackground(),this.core.shiftGraphPosition(),s.globals.dataPoints>50&&s.globals.dom.elWrap.classList.add("apexcharts-disable-transitions"),{elGraph:d,xyRatios:h,dimensions:{plot:{left:s.globals.translateX,top:s.globals.translateY,width:s.globals.gridWidth,height:s.globals.gridHeight}}}}},{key:"mount",value:function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,n=this,s=n.w;return new Promise(function(r,a){if(n.el===null)return a(new Error("Not enough data to display or target element not found"));(t===null||s.globals.allSeriesCollapsed)&&n.series.handleNoData(),n.grid=new wF(n);var l,c,h=n.grid.drawGrid();if(n.annotations=new bee(n),n.annotations.drawImageAnnos(),n.annotations.drawTextAnnos(),s.config.grid.position==="back"&&(h&&s.globals.dom.elGraphical.add(h.el),h!=null&&(l=h.elGridBorders)!==null&&l!==void 0&&l.node&&s.globals.dom.elGraphical.add(h.elGridBorders)),Array.isArray(t.elGraph))for(var d=0;d<t.elGraph.length;d++)s.globals.dom.elGraphical.add(t.elGraph[d]);else s.globals.dom.elGraphical.add(t.elGraph);s.config.grid.position==="front"&&(h&&s.globals.dom.elGraphical.add(h.el),h!=null&&(c=h.elGridBorders)!==null&&c!==void 0&&c.node&&s.globals.dom.elGraphical.add(h.elGridBorders)),s.config.xaxis.crosshairs.position==="front"&&n.crosshairs.drawXCrosshairs(),s.config.yaxis[0].crosshairs.position==="front"&&n.crosshairs.drawYCrosshairs(),s.config.chart.type!=="treemap"&&n.axes.drawAxis(s.config.chart.type,h);var f=new Pf(e.ctx,h),p=new ZS(e.ctx,h);if(h!==null&&(f.xAxisLabelCorrections(h.xAxisTickWidth),p.setYAxisTextAlignments(),s.config.yaxis.map(function(b,x){s.globals.ignoreYAxisIndexes.indexOf(x)===-1&&p.yAxisTitleRotate(x,b.opposite)})),n.annotations.drawAxesAnnotations(),!s.globals.noData){if(s.config.tooltip.enabled&&!s.globals.noData&&n.w.globals.tooltip.drawTooltip(t.xyRatios),s.globals.axisCharts&&(s.globals.isXNumeric||s.config.xaxis.convertedCatToNumeric||s.globals.isRangeBar))(s.config.chart.zoom.enabled||s.config.chart.selection&&s.config.chart.selection.enabled||s.config.chart.pan&&s.config.chart.pan.enabled)&&n.zoomPanSelection.init({xyRatios:t.xyRatios});else{var y=s.config.chart.toolbar.tools;["zoom","zoomin","zoomout","selection","pan","reset"].forEach(function(b){y[b]=!1})}s.config.chart.toolbar.show&&!s.globals.allSeriesCollapsed&&n.toolbar.createToolbar()}s.globals.memory.methodsToExec.length>0&&s.globals.memory.methodsToExec.forEach(function(b){b.method(b.params,!1,b.context)}),s.globals.axisCharts||s.globals.noData||n.core.resizeNonAxisCharts(),r(n)})}},{key:"destroy",value:function(){window.removeEventListener("resize",this.windowResizeHandler),function(t,n){var s=_0.get(n);s&&(s.disconnect(),_0.delete(n))}(this.el.parentNode,this.parentResizeHandler);var e=this.w.config.chart.id;e&&Apex._chartInstances.forEach(function(t,n){t.id===q.escapeString(e)&&Apex._chartInstances.splice(n,1)}),new $2(this.ctx).clear({isUpdating:!1})}},{key:"updateOptions",value:function(e){var t=this,n=arguments.length>1&&arguments[1]!==void 0&&arguments[1],s=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],r=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],a=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],l=this.w;return l.globals.selection=void 0,this.lastUpdateOptions&&JSON.stringify(this.lastUpdateOptions)===JSON.stringify(e)?this:(e.series&&(this.data.resetParsingFlags(),this.series.resetSeries(!1,!0,!1),e.series.length&&e.series[0].data&&(e.series=e.series.map(function(c,h){return t.updateHelpers._extendSeries(c,h)})),this.updateHelpers.revertDefaultAxisMinMax()),e.xaxis&&(e=this.updateHelpers.forceXAxisUpdate(e)),e.yaxis&&(e=this.updateHelpers.forceYAxisUpdate(e)),l.globals.collapsedSeriesIndices.length>0&&this.series.clearPreviousPaths(),e.theme&&(e=this.theme.updateThemeOptions(e)),this.updateHelpers._updateOptions(e,n,s,r,a))}},{key:"updateSeries",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],n=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];return this.data.resetParsingFlags(),this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(e,t,n)}},{key:"appendSeries",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],n=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];this.data.resetParsingFlags();var s=this.w.config.series.slice();return s.push(e),this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(s,t,n)}},{key:"appendData",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],n=this;n.data.resetParsingFlags(),n.w.globals.dataChanged=!0,n.series.getPreviousPaths();for(var s=n.w.config.series.slice(),r=0;r<s.length;r++)if(e[r]!==null&&e[r]!==void 0)for(var a=0;a<e[r].data.length;a++)s[r].data.push(e[r].data[a]);return n.w.config.series=s,t&&(n.w.globals.initialSeries=q.clone(n.w.config.series)),this.update()}},{key:"update",value:function(e){var t=this;return new Promise(function(n,s){if(t.lastUpdateOptions&&JSON.stringify(t.lastUpdateOptions)===JSON.stringify(e))return n(t);t.lastUpdateOptions=q.clone(e),new $2(t.ctx).clear({isUpdating:!0});var r=t.create(t.w.config.series,e);if(!r)return n(t);t.mount(r).then(function(){typeof t.w.config.chart.events.updated=="function"&&t.w.config.chart.events.updated(t,t.w),t.events.fireEvent("updated",[t,t.w]),t.w.globals.isDirty=!0,n(t)}).catch(function(a){s(a)})})}},{key:"getSyncedCharts",value:function(){var e=this.getGroupedCharts(),t=[this];return e.length&&(t=[],e.forEach(function(n){t.push(n)})),t}},{key:"getGroupedCharts",value:function(){var e=this;return Apex._chartInstances.filter(function(t){if(t.group)return!0}).map(function(t){return e.w.config.chart.group===t.group?t.chart:e})}},{key:"toggleSeries",value:function(e){return this.series.toggleSeries(e)}},{key:"highlightSeriesOnLegendHover",value:function(e,t){return this.series.toggleSeriesOnHover(e,t)}},{key:"showSeries",value:function(e){this.series.showSeries(e)}},{key:"hideSeries",value:function(e){this.series.hideSeries(e)}},{key:"highlightSeries",value:function(e){this.series.highlightSeries(e)}},{key:"isSeriesHidden",value:function(e){this.series.isSeriesHidden(e)}},{key:"resetSeries",value:function(){var e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this.series.resetSeries(e,t)}},{key:"addEventListener",value:function(e,t){this.events.addEventListener(e,t)}},{key:"removeEventListener",value:function(e,t){this.events.removeEventListener(e,t)}},{key:"addXaxisAnnotation",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,s=this;n&&(s=n),s.annotations.addXaxisAnnotationExternal(e,t,s)}},{key:"addYaxisAnnotation",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,s=this;n&&(s=n),s.annotations.addYaxisAnnotationExternal(e,t,s)}},{key:"addPointAnnotation",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,s=this;n&&(s=n),s.annotations.addPointAnnotationExternal(e,t,s)}},{key:"clearAnnotations",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,t=this;e&&(t=e),t.annotations.clearAnnotations(t)}},{key:"removeAnnotation",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,n=this;t&&(n=t),n.annotations.removeAnnotation(n,e)}},{key:"getChartArea",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner")}},{key:"getSeriesTotalXRange",value:function(e,t){return this.coreUtils.getSeriesTotalsXRange(e,t)}},{key:"getHighestValueInSeries",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new r_(this.ctx).getMinYMaxY(e).highestY}},{key:"getLowestValueInSeries",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new r_(this.ctx).getMinYMaxY(e).lowestY}},{key:"getSeriesTotal",value:function(){return this.w.globals.seriesTotals}},{key:"toggleDataPointSelection",value:function(e,t){return this.updateHelpers.toggleDataPointSelection(e,t)}},{key:"zoomX",value:function(e,t){this.ctx.toolbar.zoomUpdateOptions(e,t)}},{key:"setLocale",value:function(e){this.localization.setCurrentLocaleValues(e)}},{key:"dataURI",value:function(e){return new Zd(this.ctx).dataURI(e)}},{key:"getSvgString",value:function(e){return new Zd(this.ctx).getSvgString(e)}},{key:"exportToCSV",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Zd(this.ctx).exportToCSV(e)}},{key:"paper",value:function(){return this.w.globals.dom.Paper}},{key:"_parentResizeCallback",value:function(){this.w.globals.animationEnded&&this.w.config.chart.redrawOnParentResize&&this._windowResize()}},{key:"_windowResize",value:function(){var e=this;clearTimeout(this.w.globals.resizeTimer),this.w.globals.resizeTimer=window.setTimeout(function(){e.w.globals.resized=!0,e.w.globals.dataChanged=!1,e.ctx.update()},150)}},{key:"_windowResizeHandler",value:function(){var e=this.w.config.chart.redrawOnWindowResize;typeof e=="function"&&(e=e()),e&&this._windowResize()}}],[{key:"getChartByID",value:function(e){var t=q.escapeString(e);if(Apex._chartInstances){var n=Apex._chartInstances.filter(function(s){return s.id===t})[0];return n&&n.chart}}},{key:"initOnLoad",value:function(){for(var e=document.querySelectorAll("[data-apexcharts]"),t=0;t<e.length;t++)new i(e[t],JSON.parse(e[t].getAttribute("data-options"))).render()}},{key:"exec",value:function(e,t){var n=this.getChartByID(e);if(n){n.w.globals.isExecCalled=!0;var s=null;if(n.publicMethods.indexOf(t)!==-1){for(var r=arguments.length,a=new Array(r>2?r-2:0),l=2;l<r;l++)a[l-2]=arguments[l];s=n[t].apply(n,a)}return s}}},{key:"merge",value:function(e,t){return q.extend(e,t)}},{key:"getThemePalettes",value:function(){return{palette1:["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"],palette2:["#3F51B5","#03A9F4","#4CAF50","#F9CE1D","#FF9800"],palette3:["#33B2DF","#546E7A","#D4526E","#13D8AA","#A5978B"],palette4:["#4ECDC4","#C7F464","#81D4FA","#FD6A6A","#546E7A"],palette5:["#2B908F","#F9A3A4","#90EE7E","#FA4443","#69D2E7"],palette6:["#449DD1","#F86624","#EA3546","#662E9B","#C5D86D"],palette7:["#D7263D","#1B998B","#2E294E","#F46036","#E2C044"],palette8:["#662E9B","#F86624","#F9C80E","#EA3546","#43BCCD"],palette9:["#5C4742","#A5978B","#8D5B4C","#5A2A27","#C4BBAF"],palette10:["#A300D6","#7D02EB","#5653FE","#2983FF","#00B1F2"]}}}]),i}();const ete=Object.freeze(Object.defineProperty({__proto__:null,default:Jee},Symbol.toStringTag,{value:"Module"})),tte=T4(ete);var A0={exports:{}},S0,K2;function nte(){if(K2)return S0;K2=1;var i="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return S0=i,S0}var T0,Q2;function ite(){if(Q2)return T0;Q2=1;var i=nte();function e(){}function t(){}return t.resetWarningCache=e,T0=function(){function n(a,l,c,h,d,f){if(f!==i){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}n.isRequired=n;function s(){return n}var r={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:s,element:n,elementType:n,instanceOf:s,node:n,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:t,resetWarningCache:e};return r.PropTypes=r,r},T0}var Z2;function ste(){return Z2||(Z2=1,A0.exports=ite()()),A0.exports}var J2;function rte(){return J2||(J2=1,function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=C;var e=l(m_()),t=r(tte),n=r(ste()),s=["type","width","height","series","options","chartRef"];function r(M){return M&&M.__esModule?M:{default:M}}function a(M){var R,P;return typeof WeakMap!="function"?null:(R=new WeakMap,P=new WeakMap,(a=function(k){return k?P:R})(M))}function l(M,R){if(!R&&M&&M.__esModule)return M;if(M===null||f(M)!="object"&&typeof M!="function")return{default:M};if(R=a(R),R&&R.has(M))return R.get(M);var P,k,E={__proto__:null},D=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(P in M)P!=="default"&&{}.hasOwnProperty.call(M,P)&&((k=D?Object.getOwnPropertyDescriptor(M,P):null)&&(k.get||k.set)?Object.defineProperty(E,P,k):E[P]=M[P]);return E.default=M,R&&R.set(M,E),E}function c(){return(c=Object.assign?Object.assign.bind():function(M){for(var R=1;R<arguments.length;R++){var P,k=arguments[R];for(P in k)!{}.hasOwnProperty.call(k,P)||(M[P]=k[P])}return M}).apply(null,arguments)}function h(M,R){if(M==null)return{};var P,k=d(M,R);if(Object.getOwnPropertySymbols)for(var E=Object.getOwnPropertySymbols(M),D=0;D<E.length;D++)P=E[D],R.includes(P)||{}.propertyIsEnumerable.call(M,P)&&(k[P]=M[P]);return k}function d(M,R){if(M==null)return{};var P,k={};for(P in M)if({}.hasOwnProperty.call(M,P)){if(R.includes(P))continue;k[P]=M[P]}return k}function f(M){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R})(M)}function p(M,R){var P,k=Object.keys(M);return Object.getOwnPropertySymbols&&(P=Object.getOwnPropertySymbols(M),R&&(P=P.filter(function(E){return Object.getOwnPropertyDescriptor(M,E).enumerable})),k.push.apply(k,P)),k}function y(M){for(var R=1;R<arguments.length;R++){var P=arguments[R]!=null?arguments[R]:{};R%2?p(Object(P),!0).forEach(function(k){b(M,k,P[k])}):Object.getOwnPropertyDescriptors?Object.defineProperties(M,Object.getOwnPropertyDescriptors(P)):p(Object(P)).forEach(function(k){Object.defineProperty(M,k,Object.getOwnPropertyDescriptor(P,k))})}return M}function b(M,R,P){return(R=x(R))in M?Object.defineProperty(M,R,{value:P,enumerable:!0,configurable:!0,writable:!0}):M[R]=P,M}function x(M){return M=_(M,"string"),f(M)=="symbol"?M:M+""}function _(M,R){if(f(M)!="object"||!M)return M;var P=M[Symbol.toPrimitive];if(P===void 0)return(R==="string"?String:Number)(M);if(P=P.call(M,R),f(P)!="object")return P;throw new TypeError("@@toPrimitive must return a primitive value.")}function S(M,R){var P=y({},M);return R.forEach(function(k){delete P[k]}),P}function T(M,R){var P=2<arguments.length&&arguments[2]!==void 0?arguments[2]:new WeakSet;if(M!==R){if(f(M)!=="object"||M===null||f(R)!=="object"||R===null)return!1;if(!P.has(M)&&!P.has(R)){P.add(M),P.add(R);var k=Object.keys(M),E=Object.keys(R);if(k.length!==E.length)return!1;for(var D=0,O=k;D<O.length;D++){var F=O[D];if(!E.includes(F)||!T(M[F],R[F],P))return!1}}}return!0}function C(F){function R(ee){return ee&&f(ee)==="object"&&!Array.isArray(ee)}var G=F.type,P=G===void 0?"line":G,G=F.width,k=G===void 0?"100%":G,G=F.height,E=G===void 0?"auto":G,D=F.series,O=F.options,G=F.chartRef,F=h(F,s),H=(0,e.useRef)(null),B=G||(0,e.useRef)(null),K=(0,e.useRef)(),ne=((0,e.useEffect)(function(){K.current=O;var ee=H.current;return B.current=new t.default(ee,ne()),B.current.render(),function(){B.current&&typeof B.current.destroy=="function"&&B.current.destroy()}},[]),(0,e.useEffect)(function(){var ee=!T(B.current.w.config.series,D),ue=!T(K.current,O)||E!==B.current.opts.chart.height||k!==B.current.opts.chart.width;(ee||ue)&&(!ee||ue?B.current.updateOptions(ne()):B.current.updateSeries(D)),K.current=O},[O,D,E,k]),function(){return X(O,{chart:{type:P,height:E,width:k},series:D})}),X=function(ee,ue){var le=y({},ee);return R(ee)&&R(ue)&&Object.keys(ue).forEach(function(me){R(ue[me])&&me in ee?le[me]=X(ee[me],ue[me]):Object.assign(le,b({},me,ue[me]))}),le},G=S(F,Object.keys(C.propTypes));return e.default.createElement("div",c({ref:H},G))}C.propTypes={type:n.default.string.isRequired,series:n.default.array.isRequired,options:n.default.object.isRequired,width:n.default.oneOfType([n.default.string,n.default.number]),height:n.default.oneOfType([n.default.string,n.default.number]),chartRef:n.default.shape({current:n.default.any})}}(s0)),s0}var ate=rte();const E0=y_(ate),NF=({isOpen:i,onClose:e,onApply:t,onClear:n})=>{const[s,r]=z.useState(null),[a,l]=z.useState(null),[c,h]=z.useState(null),[d,f]=z.useState(null);if(!i)return null;const p=new Date().getFullYear(),y=Array.from({length:10},(b,x)=>p-x);return N.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",children:N.jsxs("div",{className:"bg-white text-gray-900 p-6 rounded-xl w-full max-w-md shadow-lg border border-gray-300",children:[N.jsx("h2",{className:"text-xl font-bold mb-4",children:"Filter Analytics"}),N.jsxs("div",{className:"space-y-4",children:[N.jsxs("div",{className:"flex flex-wrap gap-2 mb-2",children:[N.jsx("button",{className:"text-xs bg-gray-200 px-2 py-1 rounded hover:bg-gray-300",onClick:()=>{const b=new Date,x=new Date(b.getFullYear(),b.getMonth(),b.getDate());r(x),l(b),h(null),f(null)},children:"Today"}),N.jsx("button",{className:"text-xs bg-gray-200 px-2 py-1 rounded hover:bg-gray-300",onClick:()=>{const b=new Date,x=new Date(b);x.setDate(b.getDate()-7),r(x),l(b),h(null),f(null)},children:"Last 7 Days"}),N.jsx("button",{className:"text-xs bg-gray-200 px-2 py-1 rounded hover:bg-gray-300",onClick:()=>{const b=new Date,x=new Date(b.getFullYear(),b.getMonth(),1);r(x),l(b),h(null),f(null)},children:"This Month"}),N.jsx("button",{className:"text-xs bg-gray-200 px-2 py-1 rounded hover:bg-gray-300",onClick:()=>{r(null),l(null),h(null),f(null)},children:"All Time"})]}),N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm mb-1 text-gray-900",children:"Start Date"}),N.jsx("input",{type:"date",className:"w-full px-3 py-2 rounded bg-white border border-gray-300",value:s?s.toISOString().split("T")[0]:"",onChange:b=>r(b.target.value?new Date(b.target.value):null)})]}),N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm mb-1 text-gray-900",children:"End Date"}),N.jsx("input",{type:"date",className:"w-full px-3 py-2 rounded bg-white border border-gray-300",value:a?a.toISOString().split("T")[0]:"",onChange:b=>l(b.target.value?new Date(b.target.value):null)})]}),N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm mb-1 text-gray-900",children:"Month"}),N.jsxs("select",{className:"w-full px-3 py-2 rounded bg-white border border-gray-300",value:c??"",onChange:b=>h(b.target.value?parseInt(b.target.value):null),children:[N.jsx("option",{value:"",children:"Select Month"}),Array.from({length:12},(b,x)=>N.jsx("option",{value:x,children:new Date(0,x).toLocaleString("default",{month:"long"})},x))]})]}),N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm mb-1 text-gray-900",children:"Year"}),N.jsxs("select",{className:"w-full px-3 py-2 rounded bg-white border border-gray-300",value:d??"",onChange:b=>f(b.target.value?parseInt(b.target.value):null),children:[N.jsx("option",{value:"",children:"Select Year"}),y.map(b=>N.jsx("option",{value:b,children:b},b))]})]})]}),N.jsxs("div",{className:"flex justify-between mt-6",children:[N.jsx("button",{onClick:()=>{r(null),l(null),h(null),f(null),n&&n()},className:"bg-gray-200 hover:bg-gray-300 text-gray-900 px-4 py-2 rounded",children:"Clear"}),N.jsxs("div",{className:"flex gap-2",children:[N.jsx("button",{onClick:e,className:"bg-gray-200 hover:bg-gray-300 text-gray-900 px-4 py-2 rounded",children:"Cancel"}),N.jsx("button",{onClick:()=>{let b=s,x=a;c!==null&&d!==null&&(b=new Date(d,c,1),x=new Date(d,c+1,0)),t(b,x)},className:"bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded",children:"Apply"})]})]})]})})};fM.register(E4,C4,k4,gM,pM,mM,R4,I4,M4);const ote="cdbb40b30135e8397fe914b98c469d44",lte=i=>(i=i.toLowerCase(),i.includes("rain")?"":i.includes("cloud")?"":i.includes("clear")?"":i.includes("storm")?"":i.includes("snow")?"":i.includes("fog")||i.includes("mist")?"":""),sm=i=>i.trim().toLowerCase(),cte=()=>{const{user:i}=dg(),[e,t]=z.useState([]),[n,s]=z.useState(0),[r,a]=z.useState(0),[l,c]=z.useState(0),[h,d]=z.useState(0),[f,p]=z.useState({}),[y,b]=z.useState(""),[x,_]=z.useState(!1),[S,T]=z.useState([]),[C,M]=z.useState("weekly"),[R,P]=z.useState([]),[k,E]=z.useState(!1),[D,O]=z.useState(null),[F,H]=z.useState(null),[B,K]=z.useState(null),[ne,X]=z.useState(null),[G,ee]=z.useState(!1),ue=z.useCallback(()=>{navigator.geolocation.getCurrentPosition(async({coords:ae})=>{try{const Pe=(await(await fetch(`https://api.openweathermap.org/data/2.5/forecast?lat=${ae.latitude}&lon=${ae.longitude}&units=metric&appid=${ote}`)).json()).list.filter((Se,Me)=>Me%8===0).slice(0,7).map(Se=>{const Me=new Date(Se.dt_txt),we=Se.weather[0].description,Te=lte(we);return!y&&(we.includes("rain")||we.includes("storm"))&&b(" Expect rain  rides may increase!"),{date:Me.toLocaleDateString(void 0,{weekday:"short",month:"short",day:"numeric"}),temp:Se.main.temp,description:we,icon:Te}});t(Pe)}catch(ye){console.error("Weather fetch error:",ye)}},ae=>{console.error("Failed to get location for weather:",ae)})},[y]),le=z.useCallback(async()=>{if(i){_(!0);try{const ae=new Date;ae.setHours(0,0,0,0);const ye=new Date(ae);ye.setDate(ae.getDate()-6);const _e=Aa(Vn(en,"ride_logs"),zl("driverId","==",i.uid),zl("timestamp",">=",un.fromDate(ye))),Pe=await mf(_e);let Se=0,Me=0,we=0,Te={},Ae={};for(let $e=0;$e<7;$e++){const at=new Date(ye.getTime()+$e*864e5),mt=at.toLocaleDateString(void 0,{weekday:"short",month:"short",day:"numeric"});Ae[mt]={earnings:0,rides:0,date:at}}let Ne=0,Ue=0;Pe.forEach($e=>{var _i,Fi,Cs;const at=$e.data(),mt=(_i=at.timestamp)==null?void 0:_i.toDate();if(!mt)return;const xn=(at.dropoffName||"").trim(),Sn={};Object.entries(kf).forEach(([$t,ot])=>{Sn[sm($t)]=ot});const wn=Sn[sm(xn)]||0;Se+=wn,mt>=ae&&mt<new Date(ae.getTime()+864e5)&&(Ne+=wn,Ue++),typeof at.waitTimeMinutes=="number"&&at.waitTimeMinutes>=0&&(Me+=at.waitTimeMinutes,we++);const Xn=mt.toLocaleDateString(void 0,{weekday:"short",month:"short",day:"numeric"});Ae[Xn]&&(Ae[Xn]={earnings:(((Fi=Ae[Xn])==null?void 0:Fi.earnings)||0)+wn,rides:(((Cs=Ae[Xn])==null?void 0:Cs.rides)||0)+1,date:Ae[Xn].date}),xn&&(Te[xn]||(Te[xn]={count:0,earnings:0}),Te[xn].count+=1,Te[xn].earnings+=wn)}),a(Ue),c(Ne);const qe=Object.values(Ae).reduce(($e,at)=>$e+at.earnings,0)/7;d(qe),s(we?Math.round(Me/we):0),p(Te),T(Object.entries(Ae).reverse().map(([$e,at])=>({date:at.date.toLocaleDateString(void 0,{weekday:"short",month:"short",day:"numeric"}),earnings:at.earnings||0,rides:at.rides||0})))}catch(ae){console.error("Error loading analytics:",ae)}_(!1)}},[i]),me=z.useCallback(async(ae,ye,_e)=>{if(i)try{let Pe,Se;const Me=new Date;if(Me.setHours(0,0,0,0),ye&&_e)Pe=new Date(ye),Pe.setHours(0,0,0,0),Se=new Date(_e),Se.setHours(23,59,59,999);else{const qe=ae==="annually"?365:ae==="monthly"?30:7;Pe=new Date(Me),Pe.setDate(Me.getDate()-(qe-1)),Se=new Date(Me),Se.setHours(23,59,59,999)}const we=Aa(Vn(en,"ride_logs"),zl("driverId","==",i.uid),zl("timestamp",">=",un.fromDate(Pe)),zl("timestamp","<=",un.fromDate(Se))),Te=await mf(we);let Ae={};const Ne=Math.ceil((Se.getTime()-Pe.getTime())/(1e3*60*60*24))+1;for(let qe=0;qe<Ne;qe++){const $e=new Date(Pe.getTime()+qe*864e5),at=$e.toLocaleDateString(void 0,{weekday:"short",month:"short",day:"numeric"});Ae[at]={earnings:0,rides:0,date:$e}}Te.forEach(qe=>{var Xn;const $e=qe.data(),at=(Xn=$e.timestamp)==null?void 0:Xn.toDate();if(!at)return;const Es=($e.dropoffName||"").trim(),xn={};Object.entries(kf).forEach(([_i,Fi])=>{xn[sm(_i)]=Fi});const Sn=xn[sm(Es)]||0,wn=at.toLocaleDateString(void 0,{weekday:"short",month:"short",day:"numeric"});Ae[wn]&&(Ae[wn].earnings+=Sn,Ae[wn].rides+=1)});let Ue={};ye&&_e?Object.entries(Ae).forEach(([qe,$e])=>{Ue[qe]=$e}):ae==="weekly"?Object.entries(Ae).forEach(([qe,$e])=>{Ue[qe]=$e}):ae==="monthly"?Object.entries(Ae).forEach(([qe,$e])=>{const at=new Date($e.date);at.setDate($e.date.getDate()-$e.date.getDay());const mt=at.toLocaleDateString(void 0,{month:"short",day:"numeric"});Ue[mt]||(Ue[mt]={earnings:0,rides:0}),Ue[mt].earnings+=$e.earnings,Ue[mt].rides+=$e.rides}):ae==="annually"&&Object.entries(Ae).forEach(([qe,$e])=>{const at=$e.date.toLocaleDateString(void 0,{month:"short",year:"numeric"});Ue[at]||(Ue[at]={earnings:0,rides:0}),Ue[at].earnings+=$e.earnings,Ue[at].rides+=$e.rides});const Ge=Object.entries(Ue).map(([qe,$e])=>({label:qe,earnings:$e.earnings,rides:$e.rides}));P(Ge)}catch(Pe){console.error("Error loading pie analytics:",Pe)}},[i]);return z.useEffect(()=>{i&&(ue(),le(),me(C))},[i,ue,le,me,C]),z.useEffect(()=>{i&&me(C)},[C,me,i]),N.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-2 sm:p-4 text-gray-900",children:N.jsxs("div",{className:"max-w-7xl mx-auto",children:[N.jsx("h1",{className:"text-3xl font-bold mb-6 text-center animate-fade-in",children:" Analytics Dashboard"}),y&&N.jsx("div",{className:"bg-yellow-200 p-4 rounded-lg mb-6 shadow-lg animate-slide-down",children:y}),e.length>0&&N.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 md:grid-cols-7 gap-4 mb-8 animate-fade-in-up",children:e.map((ae,ye)=>N.jsxs("div",{className:"bg-white p-4 rounded-xl flex flex-col items-center shadow-lg hover:shadow-xl transition-shadow duration-300",children:[N.jsx("p",{className:"text-sm font-medium text-gray-700",children:ae.date}),N.jsx("div",{className:"text-4xl my-2",children:ae.icon}),N.jsxs("p",{className:"font-bold text-lg",children:[ae.temp.toFixed(1),"C"]}),N.jsx("p",{className:"text-xs capitalize text-center text-gray-600",children:ae.description})]},ye))}),N.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-6 mb-6 md:mb-8",children:[N.jsxs("div",{className:"bg-white p-4 md:p-6 rounded-xl shadow-lg text-center animate-slide-up",children:[N.jsx("p",{className:"font-semibold text-lg md:text-xl mb-3 md:mb-4",children:"Avg Wait Time"}),N.jsx("div",{className:"h-40 md:h-48",children:N.jsx(E0,{options:{chart:{type:"radialBar",height:200},plotOptions:{radialBar:{startAngle:-135,endAngle:135,hollow:{margin:0,size:"70%",background:"#fff",image:void 0,imageOffsetX:0,imageOffsetY:0,position:"front",dropShadow:{enabled:!0,top:3,left:0,blur:4,opacity:.24}},track:{background:"#fff",strokeWidth:"67%",margin:0,dropShadow:{enabled:!0,top:-3,left:0,blur:4,opacity:.35}},dataLabels:{show:!0,name:{offsetY:-10,show:!0,color:"#888",fontSize:"17px"},value:{formatter:function(ae){return parseInt(ae)+" mins"},color:"#111",fontSize:"36px",show:!0}}}},fill:{type:"gradient",gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:["#ABE5A1"],inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,100]}},stroke:{lineCap:"round"},labels:["Avg Wait Time"],annotations:{points:[{x:"Avg Wait Time",y:10,marker:{size:8,fillColor:"#FF4560",strokeColor:"#fff",strokeWidth:2,shape:"circle"},label:{borderColor:"#FF4560",offsetY:0,style:{color:"#fff",background:"#FF4560"},text:"Target: 10 mins"}}]}},series:[Math.min(n/20*100,100)],type:"radialBar",height:200})}),N.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"(Based on queued wait times recorded)"})]}),N.jsxs("div",{className:"bg-white p-4 md:p-6 rounded-xl shadow-lg text-center animate-slide-up",style:{animationDelay:"0.1s"},children:[N.jsx("div",{className:"text-4xl mb-2"}),N.jsx("p",{className:"font-semibold text-lg md:text-xl mb-3 md:mb-4",children:"Rides Today"}),N.jsx("div",{className:"h-40 md:h-48",children:N.jsx(E0,{options:{chart:{type:"radialBar",height:200},plotOptions:{radialBar:{startAngle:-135,endAngle:135,hollow:{margin:0,size:"70%",background:"#fff",image:void 0,imageOffsetX:0,imageOffsetY:0,position:"front",dropShadow:{enabled:!0,top:3,left:0,blur:4,opacity:.24}},track:{background:"#fff",strokeWidth:"67%",margin:0,dropShadow:{enabled:!0,top:-3,left:0,blur:4,opacity:.35}},dataLabels:{show:!0,name:{offsetY:-10,show:!0,color:"#888",fontSize:"17px"},value:{formatter:function(ae){return r.toString()},color:"#111",fontSize:"36px",show:!0}}}},fill:{type:"gradient",gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:["#ABE5A1"],inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,100]}},stroke:{lineCap:"round"},labels:["Rides Today"]},series:[Math.min(r/15*100,100)],type:"radialBar",height:200})}),N.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["as of ",new Date().toLocaleDateString(void 0,{weekday:"short",month:"short",day:"numeric"})]})]}),N.jsxs("div",{className:"bg-white p-4 md:p-6 rounded-xl shadow-lg text-center animate-slide-up",style:{animationDelay:"0.2s"},children:[N.jsx("p",{className:"font-semibold text-lg md:text-xl mb-3 md:mb-4",children:"Earnings Overview"}),N.jsx("div",{className:"h-40 md:h-48",children:N.jsx(E0,{options:{chart:{type:"radialBar",height:200},plotOptions:{radialBar:{startAngle:-135,endAngle:135,hollow:{margin:0,size:"70%",background:"#fff",image:void 0,imageOffsetX:0,imageOffsetY:0,position:"front",dropShadow:{enabled:!0,top:3,left:0,blur:4,opacity:.24}},track:{background:"#fff",strokeWidth:"67%",margin:0,dropShadow:{enabled:!0,top:-3,left:0,blur:4,opacity:.35}},dataLabels:{show:!0,name:{offsetY:-30,show:!0,color:"#888",fontSize:"17px"},value:{formatter:function(ae){return""+l.toLocaleString()},color:"#111",fontSize:"24px",show:!0,offsetY:-10}}}},fill:{type:"gradient",gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:["#ABE5A1"],inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,100]}},stroke:{lineCap:"round"},labels:["Earnings"]},series:[h>0?Math.min(l/h*100,100):0],type:"radialBar",height:200})}),N.jsxs("div",{className:"mt-4",children:[N.jsxs("p",{className:"text-sm font-medium text-gray-700",children:["",l.toFixed(2)," / ",h.toFixed(2)]}),N.jsx("p",{className:"text-xs text-gray-500",children:"Today's earnings toward forecast"})]})]})]}),N.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[N.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg animate-fade-in-left",children:[N.jsx("h2",{className:"font-semibold text-xl mb-4",children:" Top Drop-offs"}),Object.entries(f).length?N.jsx("ul",{className:"space-y-2",children:Object.entries(f).sort(([,ae],[,ye])=>ye.earnings-ae.earnings).slice(0,5).map(([ae,ye],_e)=>N.jsxs("li",{className:"flex justify-between items-center p-2 bg-gray-50 rounded-lg",children:[N.jsx("span",{className:"font-medium",children:ae}),N.jsxs("span",{className:"text-sm text-gray-600",children:[ye.count," ride",ye.count>1?"s":"",", ",ye.earnings.toFixed(2)]})]},_e))}):N.jsx("p",{className:"text-gray-500",children:"No drop-offs recorded yet."})]}),N.jsx("div",{className:"bg-white p-6 rounded-xl shadow-lg flex items-center justify-center animate-fade-in-right",children:N.jsx("button",{onClick:()=>{le(),ue(),me(C)},disabled:x,className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 disabled:opacity-50 text-white px-8 py-3 rounded-full shadow-lg transition-all duration-300 transform hover:scale-105",children:x?" Refreshing...":" Refresh Data"})})]}),N.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg mb-8 animate-fade-in-up",children:[N.jsx("h2",{className:"text-xl font-semibold mb-6",children:" 7-Day Ride & Earnings Trend"}),N.jsx("div",{className:"h-80",children:N.jsx(D4,{data:{labels:S.map(ae=>ae.date),datasets:[{label:"Rides",data:S.map(ae=>ae.rides),backgroundColor:"#3b82f6",borderRadius:6},{label:"Earnings ()",data:S.map(ae=>ae.earnings),backgroundColor:"#10b981",borderRadius:6,hidden:!0}]},options:{responsive:!0,maintainAspectRatio:!1,animation:{duration:1500,easing:"easeOutCubic"},scales:{y:{beginAtZero:!0,ticks:{color:"#374151"},grid:{color:"rgba(0, 0, 0, 0.1)"}},x:{ticks:{color:"#374151"},grid:{color:"rgba(0, 0, 0, 0.1)"}}},plugins:{tooltip:{callbacks:{label:ae=>`${ae.dataset.label||"Unknown"}: ${ae.parsed.y}`}},legend:{labels:{color:"#374151"}}}}})})]}),N.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg animate-fade-in-up",style:{animationDelay:"0.3s"},children:[N.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6",children:[N.jsx("h2",{className:"text-xl font-semibold mb-4 sm:mb-0",children:" Ride & Earnings Breakdown"}),N.jsxs("div",{className:"flex flex-wrap gap-2",children:[N.jsx("button",{onClick:()=>{E(!0)},className:`px-4 py-2 rounded-full text-sm font-medium transition-all duration-300 ${G?"bg-blue-600 text-white shadow-lg":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Filter"}),N.jsx("button",{onClick:()=>{M("weekly"),ee(!1),me("weekly")},className:`px-4 py-2 rounded-full text-sm font-medium transition-all duration-300 ${C==="weekly"&&!G?"bg-blue-600 text-white shadow-lg":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Weekly"}),N.jsx("button",{onClick:()=>{M("monthly"),ee(!1),me("monthly")},className:`px-4 py-2 rounded-full text-sm font-medium transition-all duration-300 ${C==="monthly"&&!G?"bg-blue-600 text-white shadow-lg":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Monthly"}),N.jsx("button",{onClick:()=>{M("annually"),ee(!1),me("annually")},className:`px-4 py-2 rounded-full text-sm font-medium transition-all duration-300 ${C==="annually"&&!G?"bg-blue-600 text-white shadow-lg":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Annually"})]})]}),N.jsx("div",{className:"h-96",children:N.jsx(N4,{data:{labels:R.map(ae=>ae.label),datasets:[{label:"Earnings ()",data:R.map(ae=>ae.earnings),borderColor:"#10b981",backgroundColor:"rgba(16, 185, 129, 0.1)",fill:!0,tension:.4,pointBackgroundColor:"#10b981",pointBorderColor:"#10b981"},{label:"Rides",data:R.map(ae=>ae.rides),borderColor:"#3b82f6",backgroundColor:"rgba(59, 130, 246, 0.1)",fill:!0,tension:.4,pointBackgroundColor:"#3b82f6",pointBorderColor:"#3b82f6"}]},options:{responsive:!0,maintainAspectRatio:!1,animation:{duration:1500,easing:"easeOutCubic"},scales:{y:{beginAtZero:!0,ticks:{color:"#374151"},grid:{color:"rgba(0, 0, 0, 0.1)"}},x:{ticks:{color:"#374151"},grid:{color:"rgba(0, 0, 0, 0.1)"}}},plugins:{tooltip:{callbacks:{label:ae=>{const ye=ae.dataset.label||"Unknown",_e=ae.parsed.y;return`${ye}: ${_e}`}}},legend:{labels:{color:"#374151"}}}}})})]}),k&&N.jsx(NF,{isOpen:k,onClose:()=>E(!1),onApply:(ae,ye)=>{O(ae),H(ye),ee(!0),me("weekly",ae,ye),E(!1)}})]})})},ute=()=>{const i=[{to:"/home",icon:w8,label:"Home"},{to:"/analytics",icon:h8,label:"Analytics"},{to:"/history",icon:T8,label:"History"},{to:"/profile",icon:R8,label:"Profile"}];return N.jsx("nav",{className:`fixed bottom-0 left-0 w-full h-16 z-50 border-t backdrop-blur-sm\r
    bg-white/80 text-black border-gray-200\r
    dark:bg-[#0D111C]/95 dark:text-white dark:border-[#1c2230]\r
    flex justify-around items-center transition-colors duration-300`,children:i.map(({to:e,icon:t,label:n})=>N.jsxs(MM,{to:e,className:({isActive:s})=>`flex flex-col items-center justify-center text-xs font-medium transition-colors duration-200
            ${s?"text-blue-600":"text-gray-500"}`,children:[N.jsx(t,{size:20}),N.jsx("span",{children:n})]},e))})},hte=()=>N.jsxs("div",{className:"min-h-screen bg-white text-black transition-colors duration-500 pb-16",children:[N.jsx("header",{className:"sticky top-0 z-40 bg-white px-4 pt-4 pb-2 flex justify-between items-center shadow-sm",children:N.jsx("h1",{className:"text-lg font-bold",children:"AGDUWA Drivers"})}),N.jsx("main",{className:"p-4",children:N.jsx(Lj,{})}),N.jsx(ute,{})]}),dte=()=>{const{driverId:i}=_j(),[e,t]=z.useState(null),[n,s]=z.useState(!0);if(z.useEffect(()=>{(async()=>{if(!i){s(!1);return}try{const l=lt(en,"publicProfiles",i),c=await Zf(l);c.exists()?t(c.data()):t(null)}catch(l){console.error("Error fetching driver:",l),t(null)}s(!1)})()},[i]),n)return N.jsx("div",{className:"flex justify-center items-center min-h-screen bg-gray-900 text-white p-4",children:N.jsx("p",{children:"Loading driver profile..."})});if(!e)return N.jsxs("div",{className:"flex flex-col justify-center items-center min-h-screen bg-gray-100 text-gray-900 p-4",children:[N.jsx("p",{className:"mb-4",children:"Driver profile not found."}),N.jsx(T_,{to:"/",className:"text-blue-500 hover:underline",children:"Return to Home"})]});const r=`${window.location.origin}/driver/${i}`;return N.jsx("div",{className:"flex justify-center p-4 bg-gray-100 min-h-screen text-gray-900",children:N.jsxs("div",{className:"w-full max-w-md bg-white p-6 rounded-xl shadow-md",children:[N.jsx("div",{className:"flex justify-center mb-6",children:N.jsx("div",{className:"w-28 h-28 rounded-full overflow-hidden bg-gray-200 border-2 border-gray-900",children:e.image?N.jsx("img",{src:e.image,alt:`${e.name} profile`,className:"w-full h-full object-cover"}):N.jsx("div",{className:"text-gray-400 text-sm flex items-center justify-center h-full",children:"No Image"})})}),N.jsxs("div",{className:"space-y-3",children:[N.jsxs("div",{children:[N.jsx("strong",{children:"Name:"})," ",e.name||"N/A"]}),N.jsxs("div",{children:[N.jsx("strong",{children:"Plate:"})," ",e.plate||"N/A"]}),N.jsxs("div",{children:[N.jsx("strong",{children:"Vehicle:"})," ",e.vehicle||"N/A"]}),N.jsxs("div",{children:[N.jsx("strong",{children:"Status:"})," ",N.jsx("span",{className:`px-2 py-1 rounded text-sm font-semibold ${e.status==="Online"?"bg-green-600 text-green-100":"bg-red-600 text-red-100"}`,children:e.status||"Offline"})]}),N.jsxs("div",{children:[N.jsx("strong",{children:"Age:"})," ",e.age||"N/A"]}),N.jsxs("div",{children:[N.jsx("strong",{children:"Contact:"})," ",e.contact||"N/A"]}),N.jsxs("div",{children:[N.jsx("strong",{children:"Payment Method:"})," ",e.paymentMethod||"N/A"]}),N.jsxs("div",{children:[N.jsxs("strong",{children:[e.paymentMethod||"Payment"," Number:"]})," ",e.paymentNumber||"N/A"]})]}),N.jsxs("div",{className:"text-center mt-8",children:[N.jsx("h2",{className:"font-bold text-sm mb-2",children:"Driver QR Code"}),N.jsx("div",{className:"bg-white p-4 rounded-lg w-fit mx-auto",children:N.jsx(FS,{value:r,size:150})}),N.jsx("p",{className:"text-xs mt-2 text-gray-400 break-all",children:r})]})]})})};var C0={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var eM;function fte(){return eM||(eM=1,function(i){(function(){var e={}.hasOwnProperty;function t(){for(var r="",a=0;a<arguments.length;a++){var l=arguments[a];l&&(r=s(r,n(l)))}return r}function n(r){if(typeof r=="string"||typeof r=="number")return r;if(typeof r!="object")return"";if(Array.isArray(r))return t.apply(null,r);if(r.toString!==Object.prototype.toString&&!r.toString.toString().includes("[native code]"))return r.toString();var a="";for(var l in r)e.call(r,l)&&r[l]&&(a=s(a,l));return a}function s(r,a){return a?r?r+" "+a:r+a:r}i.exports?(t.default=t,i.exports=t):window.classNames=t})()}(C0)),C0.exports}var gte=fte();const pte=y_(gte),mte=({driver:i,onClose:e,onSaveSuccess:t,user:n})=>{const s=Zy(),[r,a]=z.useState(!1),[l,c]=z.useState({name:i.name||"",plate:i.plate||"",status:i.status||"offline",contact:i.phone||"",age:i.age||"",paymentNumber:i.paymentNumber||""}),[h,d]=z.useState(!1);z.useEffect(()=>{setTimeout(()=>a(!0),10)},[]);const f=()=>{const{name:b,plate:x,contact:_,age:S}=l;if(!b||!x||!_||!S)return tt.error("Please fill in all required fields"),!1;if(!/^[0-9]{10,13}$/.test(_))return tt.error("Enter a valid contact number"),!1;const C=parseInt(S);return isNaN(C)||C<18||C>100?(tt.error("Enter a valid age (18100)"),!1):!0},p=async()=>{if(f())try{d(!0),await cP(lt(s,"drivers",i.id),{name:l.name,plate:l.plate,status:l.status,phone:l.contact,age:parseInt(l.age),paymentNumber:l.paymentNumber}),tt.success("Driver updated"),await fn(lt(Vn(s,"adminAccessLogs")),{email:n==null?void 0:n.email,action:`Edited driver: ${i.name} (${i.plate})`,timestamp:vs()}),t(),y()}catch(b){console.error(b),tt.error("Update failed")}finally{d(!1)}},y=()=>{a(!1),setTimeout(()=>e(),250)};return N.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center",children:N.jsxs("div",{className:pte("bg-white p-6 rounded-lg max-w-md w-full transform transition-all duration-300 border border-gray-300 shadow-lg",{"scale-100 opacity-100":r,"scale-95 opacity-0":!r}),children:[N.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-4",children:"Edit Driver"}),N.jsxs("div",{className:"space-y-3",children:[N.jsx("input",{type:"text",placeholder:"Name",value:l.name,onChange:b=>c({...l,name:b.target.value}),className:"w-full p-2 rounded bg-gray-50 border border-gray-300 text-gray-900"}),N.jsx("input",{type:"text",placeholder:"Plate",value:l.plate,onChange:b=>c({...l,plate:b.target.value}),className:"w-full p-2 rounded bg-gray-50 border border-gray-300 text-gray-900"}),N.jsx("input",{type:"text",placeholder:"Contact",value:l.contact,onChange:b=>c({...l,contact:b.target.value}),className:"w-full p-2 rounded bg-gray-50 border border-gray-300 text-gray-900"}),N.jsx("input",{type:"number",placeholder:"Age",value:l.age,onChange:b=>c({...l,age:b.target.value}),className:"w-full p-2 rounded bg-gray-50 border border-gray-300 text-gray-900"}),N.jsx("input",{type:"text",placeholder:"Payment Number",value:l.paymentNumber,onChange:b=>c({...l,paymentNumber:b.target.value}),className:"w-full p-2 rounded bg-gray-50 border border-gray-300 text-gray-900"}),N.jsxs("select",{value:l.status,onChange:b=>c({...l,status:b.target.value}),className:"w-full p-2 rounded bg-gray-50 border border-gray-300 text-gray-900",children:[N.jsx("option",{value:"offline",children:"Offline"}),N.jsx("option",{value:"online",children:"Online"})]})]}),N.jsxs("div",{className:"flex justify-end mt-6 space-x-3",children:[N.jsx("button",{onClick:y,className:"bg-gray-200 hover:bg-gray-300 text-gray-900 px-4 py-2 rounded",disabled:h,children:"Cancel"}),N.jsx("button",{onClick:p,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded",disabled:h,children:h?"Saving...":"Save"})]})]})})},vv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function gh(i){const e=Object.prototype.toString.call(i);return e==="[object Window]"||e==="[object global]"}function JS(i){return"nodeType"in i}function os(i){var e,t;return i?gh(i)?i:JS(i)&&(e=(t=i.ownerDocument)==null?void 0:t.defaultView)!=null?e:window:window}function e1(i){const{Document:e}=os(i);return i instanceof e}function bg(i){return gh(i)?!1:i instanceof os(i).HTMLElement}function PF(i){return i instanceof os(i).SVGElement}function ph(i){return i?gh(i)?i.document:JS(i)?e1(i)?i:bg(i)||PF(i)?i.ownerDocument:document:document:document}const $o=vv?z.useLayoutEffect:z.useEffect;function t1(i){const e=z.useRef(i);return $o(()=>{e.current=i}),z.useCallback(function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return e.current==null?void 0:e.current(...n)},[])}function yte(){const i=z.useRef(null),e=z.useCallback((n,s)=>{i.current=setInterval(n,s)},[]),t=z.useCallback(()=>{i.current!==null&&(clearInterval(i.current),i.current=null)},[]);return[e,t]}function OF(i,e){e===void 0&&(e=[i]);const t=z.useRef(i);return $o(()=>{t.current!==i&&(t.current=i)},e),t}function xg(i,e){const t=z.useRef();return z.useMemo(()=>{const n=i(t.current);return t.current=n,n},[...e])}function vte(i){const e=t1(i),t=z.useRef(null),n=z.useCallback(s=>{s!==t.current&&(e==null||e(s,t.current)),t.current=s},[]);return[t,n]}function h_(i){const e=z.useRef();return z.useEffect(()=>{e.current=i},[i]),e.current}let k0={};function n1(i,e){return z.useMemo(()=>{if(e)return e;const t=k0[i]==null?0:k0[i]+1;return k0[i]=t,i+"-"+t},[i,e])}function LF(i){return function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];return n.reduce((r,a)=>{const l=Object.entries(a);for(const[c,h]of l){const d=r[c];d!=null&&(r[c]=d+i*h)}return r},{...e})}}const Du=LF(1),Cy=LF(-1);function bte(i){return"clientX"in i&&"clientY"in i}function VF(i){if(!i)return!1;const{KeyboardEvent:e}=os(i.target);return e&&i instanceof e}function xte(i){if(!i)return!1;const{TouchEvent:e}=os(i.target);return e&&i instanceof e}function d_(i){if(xte(i)){if(i.touches&&i.touches.length){const{clientX:e,clientY:t}=i.touches[0];return{x:e,y:t}}else if(i.changedTouches&&i.changedTouches.length){const{clientX:e,clientY:t}=i.changedTouches[0];return{x:e,y:t}}}return bte(i)?{x:i.clientX,y:i.clientY}:null}const tM="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function wte(i){return i.matches(tM)?i:i.querySelector(tM)}const _te={display:"none"};function Ate(i){let{id:e,value:t}=i;return It.createElement("div",{id:e,style:_te},t)}function Ste(i){let{id:e,announcement:t,ariaLiveType:n="assertive"}=i;const s={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return It.createElement("div",{id:e,style:s,role:"status","aria-live":n,"aria-atomic":!0},t)}function Tte(){const[i,e]=z.useState("");return{announce:z.useCallback(n=>{n!=null&&e(n)},[]),announcement:i}}const FF=z.createContext(null);function Ete(i){const e=z.useContext(FF);z.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(i)},[i,e])}function Cte(){const[i]=z.useState(()=>new Set),e=z.useCallback(n=>(i.add(n),()=>i.delete(n)),[i]);return[z.useCallback(n=>{let{type:s,event:r}=n;i.forEach(a=>{var l;return(l=a[s])==null?void 0:l.call(a,r)})},[i]),e]}const kte={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},Rte={onDragStart(i){let{active:e}=i;return"Picked up draggable item "+e.id+"."},onDragOver(i){let{active:e,over:t}=i;return t?"Draggable item "+e.id+" was moved over droppable area "+t.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(i){let{active:e,over:t}=i;return t?"Draggable item "+e.id+" was dropped over droppable area "+t.id:"Draggable item "+e.id+" was dropped."},onDragCancel(i){let{active:e}=i;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function Ite(i){let{announcements:e=Rte,container:t,hiddenTextDescribedById:n,screenReaderInstructions:s=kte}=i;const{announce:r,announcement:a}=Tte(),l=n1("DndLiveRegion"),[c,h]=z.useState(!1);if(z.useEffect(()=>{h(!0)},[]),Ete(z.useMemo(()=>({onDragStart(f){let{active:p}=f;r(e.onDragStart({active:p}))},onDragMove(f){let{active:p,over:y}=f;e.onDragMove&&r(e.onDragMove({active:p,over:y}))},onDragOver(f){let{active:p,over:y}=f;r(e.onDragOver({active:p,over:y}))},onDragEnd(f){let{active:p,over:y}=f;r(e.onDragEnd({active:p,over:y}))},onDragCancel(f){let{active:p,over:y}=f;r(e.onDragCancel({active:p,over:y}))}}),[r,e])),!c)return null;const d=It.createElement(It.Fragment,null,It.createElement(Ate,{id:n,value:s.draggable}),It.createElement(Ste,{id:l,announcement:a}));return t?Sd.createPortal(d,t):d}var Ri;(function(i){i.DragStart="dragStart",i.DragMove="dragMove",i.DragEnd="dragEnd",i.DragCancel="dragCancel",i.DragOver="dragOver",i.RegisterDroppable="registerDroppable",i.SetDroppableDisabled="setDroppableDisabled",i.UnregisterDroppable="unregisterDroppable"})(Ri||(Ri={}));function ky(){}function Mte(i,e){return z.useMemo(()=>({sensor:i,options:{}}),[i,e])}function Dte(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return z.useMemo(()=>[...e].filter(n=>n!=null),[...e])}const wr=Object.freeze({x:0,y:0});function Nte(i,e){return Math.sqrt(Math.pow(i.x-e.x,2)+Math.pow(i.y-e.y,2))}function Pte(i,e){let{data:{value:t}}=i,{data:{value:n}}=e;return t-n}function Ote(i,e){let{data:{value:t}}=i,{data:{value:n}}=e;return n-t}function Lte(i,e){if(!i||i.length===0)return null;const[t]=i;return t[e]}function nM(i,e,t){return e===void 0&&(e=i.left),t===void 0&&(t=i.top),{x:e+i.width*.5,y:t+i.height*.5}}const Vte=i=>{let{collisionRect:e,droppableRects:t,droppableContainers:n}=i;const s=nM(e,e.left,e.top),r=[];for(const a of n){const{id:l}=a,c=t.get(l);if(c){const h=Nte(nM(c),s);r.push({id:l,data:{droppableContainer:a,value:h}})}}return r.sort(Pte)};function Fte(i,e){const t=Math.max(e.top,i.top),n=Math.max(e.left,i.left),s=Math.min(e.left+e.width,i.left+i.width),r=Math.min(e.top+e.height,i.top+i.height),a=s-n,l=r-t;if(n<s&&t<r){const c=e.width*e.height,h=i.width*i.height,d=a*l,f=d/(c+h-d);return Number(f.toFixed(4))}return 0}const zte=i=>{let{collisionRect:e,droppableRects:t,droppableContainers:n}=i;const s=[];for(const r of n){const{id:a}=r,l=t.get(a);if(l){const c=Fte(l,e);c>0&&s.push({id:a,data:{droppableContainer:r,value:c}})}}return s.sort(Ote)};function jte(i,e,t){return{...i,scaleX:e&&t?e.width/t.width:1,scaleY:e&&t?e.height/t.height:1}}function zF(i,e){return i&&e?{x:i.left-e.left,y:i.top-e.top}:wr}function Bte(i){return function(t){for(var n=arguments.length,s=new Array(n>1?n-1:0),r=1;r<n;r++)s[r-1]=arguments[r];return s.reduce((a,l)=>({...a,top:a.top+i*l.y,bottom:a.bottom+i*l.y,left:a.left+i*l.x,right:a.right+i*l.x}),{...t})}}const Hte=Bte(1);function Ute(i){if(i.startsWith("matrix3d(")){const e=i.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(i.startsWith("matrix(")){const e=i.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function Yte(i,e,t){const n=Ute(e);if(!n)return i;const{scaleX:s,scaleY:r,x:a,y:l}=n,c=i.left-a-(1-s)*parseFloat(t),h=i.top-l-(1-r)*parseFloat(t.slice(t.indexOf(" ")+1)),d=s?i.width/s:i.width,f=r?i.height/r:i.height;return{width:d,height:f,top:h,right:c+d,bottom:h+f,left:c}}const Xte={ignoreTransform:!1};function wg(i,e){e===void 0&&(e=Xte);let t=i.getBoundingClientRect();if(e.ignoreTransform){const{transform:h,transformOrigin:d}=os(i).getComputedStyle(i);h&&(t=Yte(t,h,d))}const{top:n,left:s,width:r,height:a,bottom:l,right:c}=t;return{top:n,left:s,width:r,height:a,bottom:l,right:c}}function iM(i){return wg(i,{ignoreTransform:!0})}function Wte(i){const e=i.innerWidth,t=i.innerHeight;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}function Gte(i,e){return e===void 0&&(e=os(i).getComputedStyle(i)),e.position==="fixed"}function qte(i,e){e===void 0&&(e=os(i).getComputedStyle(i));const t=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const r=e[s];return typeof r=="string"?t.test(r):!1})}function i1(i,e){const t=[];function n(s){if(e!=null&&t.length>=e||!s)return t;if(e1(s)&&s.scrollingElement!=null&&!t.includes(s.scrollingElement))return t.push(s.scrollingElement),t;if(!bg(s)||PF(s)||t.includes(s))return t;const r=os(i).getComputedStyle(s);return s!==i&&qte(s,r)&&t.push(s),Gte(s,r)?t:n(s.parentNode)}return i?n(i):t}function jF(i){const[e]=i1(i,1);return e??null}function R0(i){return!vv||!i?null:gh(i)?i:JS(i)?e1(i)||i===ph(i).scrollingElement?window:bg(i)?i:null:null}function BF(i){return gh(i)?i.scrollX:i.scrollLeft}function HF(i){return gh(i)?i.scrollY:i.scrollTop}function f_(i){return{x:BF(i),y:HF(i)}}var oi;(function(i){i[i.Forward=1]="Forward",i[i.Backward=-1]="Backward"})(oi||(oi={}));function UF(i){return!vv||!i?!1:i===document.scrollingElement}function YF(i){const e={x:0,y:0},t=UF(i)?{height:window.innerHeight,width:window.innerWidth}:{height:i.clientHeight,width:i.clientWidth},n={x:i.scrollWidth-t.width,y:i.scrollHeight-t.height},s=i.scrollTop<=e.y,r=i.scrollLeft<=e.x,a=i.scrollTop>=n.y,l=i.scrollLeft>=n.x;return{isTop:s,isLeft:r,isBottom:a,isRight:l,maxScroll:n,minScroll:e}}const $te={x:.2,y:.2};function Kte(i,e,t,n,s){let{top:r,left:a,right:l,bottom:c}=t;n===void 0&&(n=10),s===void 0&&(s=$te);const{isTop:h,isBottom:d,isLeft:f,isRight:p}=YF(i),y={x:0,y:0},b={x:0,y:0},x={height:e.height*s.y,width:e.width*s.x};return!h&&r<=e.top+x.height?(y.y=oi.Backward,b.y=n*Math.abs((e.top+x.height-r)/x.height)):!d&&c>=e.bottom-x.height&&(y.y=oi.Forward,b.y=n*Math.abs((e.bottom-x.height-c)/x.height)),!p&&l>=e.right-x.width?(y.x=oi.Forward,b.x=n*Math.abs((e.right-x.width-l)/x.width)):!f&&a<=e.left+x.width&&(y.x=oi.Backward,b.x=n*Math.abs((e.left+x.width-a)/x.width)),{direction:y,speed:b}}function Qte(i){if(i===document.scrollingElement){const{innerWidth:r,innerHeight:a}=window;return{top:0,left:0,right:r,bottom:a,width:r,height:a}}const{top:e,left:t,right:n,bottom:s}=i.getBoundingClientRect();return{top:e,left:t,right:n,bottom:s,width:i.clientWidth,height:i.clientHeight}}function XF(i){return i.reduce((e,t)=>Du(e,f_(t)),wr)}function Zte(i){return i.reduce((e,t)=>e+BF(t),0)}function Jte(i){return i.reduce((e,t)=>e+HF(t),0)}function ene(i,e){if(e===void 0&&(e=wg),!i)return;const{top:t,left:n,bottom:s,right:r}=e(i);jF(i)&&(s<=0||r<=0||t>=window.innerHeight||n>=window.innerWidth)&&i.scrollIntoView({block:"center",inline:"center"})}const tne=[["x",["left","right"],Zte],["y",["top","bottom"],Jte]];class s1{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=i1(t),s=XF(n);this.rect={...e},this.width=e.width,this.height=e.height;for(const[r,a,l]of tne)for(const c of a)Object.defineProperty(this,c,{get:()=>{const h=l(n),d=s[r]-h;return this.rect[c]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Jd{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(t=>{var n;return(n=this.target)==null?void 0:n.removeEventListener(...t)})},this.target=e}add(e,t,n){var s;(s=this.target)==null||s.addEventListener(e,t,n),this.listeners.push([e,t,n])}}function nne(i){const{EventTarget:e}=os(i);return i instanceof e?i:ph(i)}function I0(i,e){const t=Math.abs(i.x),n=Math.abs(i.y);return typeof e=="number"?Math.sqrt(t**2+n**2)>e:"x"in e&&"y"in e?t>e.x&&n>e.y:"x"in e?t>e.x:"y"in e?n>e.y:!1}var Ws;(function(i){i.Click="click",i.DragStart="dragstart",i.Keydown="keydown",i.ContextMenu="contextmenu",i.Resize="resize",i.SelectionChange="selectionchange",i.VisibilityChange="visibilitychange"})(Ws||(Ws={}));function sM(i){i.preventDefault()}function ine(i){i.stopPropagation()}var zt;(function(i){i.Space="Space",i.Down="ArrowDown",i.Right="ArrowRight",i.Left="ArrowLeft",i.Up="ArrowUp",i.Esc="Escape",i.Enter="Enter",i.Tab="Tab"})(zt||(zt={}));const WF={start:[zt.Space,zt.Enter],cancel:[zt.Esc],end:[zt.Space,zt.Enter,zt.Tab]},sne=(i,e)=>{let{currentCoordinates:t}=e;switch(i.code){case zt.Right:return{...t,x:t.x+25};case zt.Left:return{...t,x:t.x-25};case zt.Down:return{...t,y:t.y+25};case zt.Up:return{...t,y:t.y-25}}};class GF{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new Jd(ph(t)),this.windowListeners=new Jd(os(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Ws.Resize,this.handleCancel),this.windowListeners.add(Ws.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Ws.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:t}=this.props,n=e.node.current;n&&ene(n),t(wr)}handleKeyDown(e){if(VF(e)){const{active:t,context:n,options:s}=this.props,{keyboardCodes:r=WF,coordinateGetter:a=sne,scrollBehavior:l="smooth"}=s,{code:c}=e;if(r.end.includes(c)){this.handleEnd(e);return}if(r.cancel.includes(c)){this.handleCancel(e);return}const{collisionRect:h}=n.current,d=h?{x:h.left,y:h.top}:wr;this.referenceCoordinates||(this.referenceCoordinates=d);const f=a(e,{active:t,context:n.current,currentCoordinates:d});if(f){const p=Cy(f,d),y={x:0,y:0},{scrollableAncestors:b}=n.current;for(const x of b){const _=e.code,{isTop:S,isRight:T,isLeft:C,isBottom:M,maxScroll:R,minScroll:P}=YF(x),k=Qte(x),E={x:Math.min(_===zt.Right?k.right-k.width/2:k.right,Math.max(_===zt.Right?k.left:k.left+k.width/2,f.x)),y:Math.min(_===zt.Down?k.bottom-k.height/2:k.bottom,Math.max(_===zt.Down?k.top:k.top+k.height/2,f.y))},D=_===zt.Right&&!T||_===zt.Left&&!C,O=_===zt.Down&&!M||_===zt.Up&&!S;if(D&&E.x!==f.x){const F=x.scrollLeft+p.x,H=_===zt.Right&&F<=R.x||_===zt.Left&&F>=P.x;if(H&&!p.y){x.scrollTo({left:F,behavior:l});return}H?y.x=x.scrollLeft-F:y.x=_===zt.Right?x.scrollLeft-R.x:x.scrollLeft-P.x,y.x&&x.scrollBy({left:-y.x,behavior:l});break}else if(O&&E.y!==f.y){const F=x.scrollTop+p.y,H=_===zt.Down&&F<=R.y||_===zt.Up&&F>=P.y;if(H&&!p.x){x.scrollTo({top:F,behavior:l});return}H?y.y=x.scrollTop-F:y.y=_===zt.Down?x.scrollTop-R.y:x.scrollTop-P.y,y.y&&x.scrollBy({top:-y.y,behavior:l});break}}this.handleMove(e,Du(Cy(f,this.referenceCoordinates),y))}}}handleMove(e,t){const{onMove:n}=this.props;e.preventDefault(),n(t)}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}GF.activators=[{eventName:"onKeyDown",handler:(i,e,t)=>{let{keyboardCodes:n=WF,onActivation:s}=e,{active:r}=t;const{code:a}=i.nativeEvent;if(n.start.includes(a)){const l=r.activatorNode.current;return l&&i.target!==l?!1:(i.preventDefault(),s==null||s({event:i.nativeEvent}),!0)}return!1}}];function rM(i){return!!(i&&"distance"in i)}function aM(i){return!!(i&&"delay"in i)}class r1{constructor(e,t,n){var s;n===void 0&&(n=nne(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:r}=e,{target:a}=r;this.props=e,this.events=t,this.document=ph(a),this.documentListeners=new Jd(this.document),this.listeners=new Jd(n),this.windowListeners=new Jd(os(a)),this.initialCoordinates=(s=d_(r))!=null?s:wr,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:n}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(Ws.Resize,this.handleCancel),this.windowListeners.add(Ws.DragStart,sM),this.windowListeners.add(Ws.VisibilityChange,this.handleCancel),this.windowListeners.add(Ws.ContextMenu,sM),this.documentListeners.add(Ws.Keydown,this.handleKeydown),t){if(n!=null&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(aM(t)){this.timeoutId=setTimeout(this.handleStart,t.delay),this.handlePending(t);return}if(rM(t)){this.handlePending(t);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,t){const{active:n,onPending:s}=this.props;s(n,e,this.initialCoordinates,t)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(Ws.Click,ine,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Ws.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;const{activated:n,initialCoordinates:s,props:r}=this,{onMove:a,options:{activationConstraint:l}}=r;if(!s)return;const c=(t=d_(e))!=null?t:wr,h=Cy(s,c);if(!n&&l){if(rM(l)){if(l.tolerance!=null&&I0(h,l.tolerance))return this.handleCancel();if(I0(h,l.distance))return this.handleStart()}if(aM(l)&&I0(h,l.tolerance))return this.handleCancel();this.handlePending(l,h);return}e.cancelable&&e.preventDefault(),a(c)}handleEnd(){const{onAbort:e,onEnd:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleCancel(){const{onAbort:e,onCancel:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleKeydown(e){e.code===zt.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const rne={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class a1 extends r1{constructor(e){const{event:t}=e,n=ph(t.target);super(e,rne,n)}}a1.activators=[{eventName:"onPointerDown",handler:(i,e)=>{let{nativeEvent:t}=i,{onActivation:n}=e;return!t.isPrimary||t.button!==0?!1:(n==null||n({event:t}),!0)}}];const ane={move:{name:"mousemove"},end:{name:"mouseup"}};var g_;(function(i){i[i.RightClick=2]="RightClick"})(g_||(g_={}));class one extends r1{constructor(e){super(e,ane,ph(e.event.target))}}one.activators=[{eventName:"onMouseDown",handler:(i,e)=>{let{nativeEvent:t}=i,{onActivation:n}=e;return t.button===g_.RightClick?!1:(n==null||n({event:t}),!0)}}];const M0={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class lne extends r1{constructor(e){super(e,M0)}static setup(){return window.addEventListener(M0.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(M0.move.name,e)};function e(){}}}lne.activators=[{eventName:"onTouchStart",handler:(i,e)=>{let{nativeEvent:t}=i,{onActivation:n}=e;const{touches:s}=t;return s.length>1?!1:(n==null||n({event:t}),!0)}}];var ef;(function(i){i[i.Pointer=0]="Pointer",i[i.DraggableRect=1]="DraggableRect"})(ef||(ef={}));var Ry;(function(i){i[i.TreeOrder=0]="TreeOrder",i[i.ReversedTreeOrder=1]="ReversedTreeOrder"})(Ry||(Ry={}));function cne(i){let{acceleration:e,activator:t=ef.Pointer,canScroll:n,draggingRect:s,enabled:r,interval:a=5,order:l=Ry.TreeOrder,pointerCoordinates:c,scrollableAncestors:h,scrollableAncestorRects:d,delta:f,threshold:p}=i;const y=hne({delta:f,disabled:!r}),[b,x]=yte(),_=z.useRef({x:0,y:0}),S=z.useRef({x:0,y:0}),T=z.useMemo(()=>{switch(t){case ef.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case ef.DraggableRect:return s}},[t,s,c]),C=z.useRef(null),M=z.useCallback(()=>{const P=C.current;if(!P)return;const k=_.current.x*S.current.x,E=_.current.y*S.current.y;P.scrollBy(k,E)},[]),R=z.useMemo(()=>l===Ry.TreeOrder?[...h].reverse():h,[l,h]);z.useEffect(()=>{if(!r||!h.length||!T){x();return}for(const P of R){if((n==null?void 0:n(P))===!1)continue;const k=h.indexOf(P),E=d[k];if(!E)continue;const{direction:D,speed:O}=Kte(P,E,T,e,p);for(const F of["x","y"])y[F][D[F]]||(O[F]=0,D[F]=0);if(O.x>0||O.y>0){x(),C.current=P,b(M,a),_.current=O,S.current=D;return}}_.current={x:0,y:0},S.current={x:0,y:0},x()},[e,M,n,x,r,a,JSON.stringify(T),JSON.stringify(y),b,h,R,d,JSON.stringify(p)])}const une={x:{[oi.Backward]:!1,[oi.Forward]:!1},y:{[oi.Backward]:!1,[oi.Forward]:!1}};function hne(i){let{delta:e,disabled:t}=i;const n=h_(e);return xg(s=>{if(t||!n||!s)return une;const r={x:Math.sign(e.x-n.x),y:Math.sign(e.y-n.y)};return{x:{[oi.Backward]:s.x[oi.Backward]||r.x===-1,[oi.Forward]:s.x[oi.Forward]||r.x===1},y:{[oi.Backward]:s.y[oi.Backward]||r.y===-1,[oi.Forward]:s.y[oi.Forward]||r.y===1}}},[t,e,n])}function dne(i,e){const t=e!=null?i.get(e):void 0,n=t?t.node.current:null;return xg(s=>{var r;return e==null?null:(r=n??s)!=null?r:null},[n,e])}function fne(i,e){return z.useMemo(()=>i.reduce((t,n)=>{const{sensor:s}=n,r=s.activators.map(a=>({eventName:a.eventName,handler:e(a.handler,n)}));return[...t,...r]},[]),[i,e])}var Of;(function(i){i[i.Always=0]="Always",i[i.BeforeDragging=1]="BeforeDragging",i[i.WhileDragging=2]="WhileDragging"})(Of||(Of={}));var p_;(function(i){i.Optimized="optimized"})(p_||(p_={}));const oM=new Map;function gne(i,e){let{dragging:t,dependencies:n,config:s}=e;const[r,a]=z.useState(null),{frequency:l,measure:c,strategy:h}=s,d=z.useRef(i),f=_(),p=OF(f),y=z.useCallback(function(S){S===void 0&&(S=[]),!p.current&&a(T=>T===null?S:T.concat(S.filter(C=>!T.includes(C))))},[p]),b=z.useRef(null),x=xg(S=>{if(f&&!t)return oM;if(!S||S===oM||d.current!==i||r!=null){const T=new Map;for(let C of i){if(!C)continue;if(r&&r.length>0&&!r.includes(C.id)&&C.rect.current){T.set(C.id,C.rect.current);continue}const M=C.node.current,R=M?new s1(c(M),M):null;C.rect.current=R,R&&T.set(C.id,R)}return T}return S},[i,r,t,f,c]);return z.useEffect(()=>{d.current=i},[i]),z.useEffect(()=>{f||y()},[t,f]),z.useEffect(()=>{r&&r.length>0&&a(null)},[JSON.stringify(r)]),z.useEffect(()=>{f||typeof l!="number"||b.current!==null||(b.current=setTimeout(()=>{y(),b.current=null},l))},[l,f,y,...n]),{droppableRects:x,measureDroppableContainers:y,measuringScheduled:r!=null};function _(){switch(h){case Of.Always:return!1;case Of.BeforeDragging:return t;default:return!t}}}function qF(i,e){return xg(t=>i?t||(typeof e=="function"?e(i):i):null,[e,i])}function pne(i,e){return qF(i,e)}function mne(i){let{callback:e,disabled:t}=i;const n=t1(e),s=z.useMemo(()=>{if(t||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:r}=window;return new r(n)},[n,t]);return z.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function o1(i){let{callback:e,disabled:t}=i;const n=t1(e),s=z.useMemo(()=>{if(t||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:r}=window;return new r(n)},[t]);return z.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function yne(i){return new s1(wg(i),i)}function lM(i,e,t){e===void 0&&(e=yne);const[n,s]=z.useState(null);function r(){s(c=>{if(!i)return null;if(i.isConnected===!1){var h;return(h=c??t)!=null?h:null}const d=e(i);return JSON.stringify(c)===JSON.stringify(d)?c:d})}const a=mne({callback(c){if(i)for(const h of c){const{type:d,target:f}=h;if(d==="childList"&&f instanceof HTMLElement&&f.contains(i)){r();break}}}}),l=o1({callback:r});return $o(()=>{r(),i?(l==null||l.observe(i),a==null||a.observe(document.body,{childList:!0,subtree:!0})):(l==null||l.disconnect(),a==null||a.disconnect())},[i]),n}function vne(i){const e=qF(i);return zF(i,e)}const cM=[];function bne(i){const e=z.useRef(i),t=xg(n=>i?n&&n!==cM&&i&&e.current&&i.parentNode===e.current.parentNode?n:i1(i):cM,[i]);return z.useEffect(()=>{e.current=i},[i]),t}function xne(i){const[e,t]=z.useState(null),n=z.useRef(i),s=z.useCallback(r=>{const a=R0(r.target);a&&t(l=>l?(l.set(a,f_(a)),new Map(l)):null)},[]);return z.useEffect(()=>{const r=n.current;if(i!==r){a(r);const l=i.map(c=>{const h=R0(c);return h?(h.addEventListener("scroll",s,{passive:!0}),[h,f_(h)]):null}).filter(c=>c!=null);t(l.length?new Map(l):null),n.current=i}return()=>{a(i),a(r)};function a(l){l.forEach(c=>{const h=R0(c);h==null||h.removeEventListener("scroll",s)})}},[s,i]),z.useMemo(()=>i.length?e?Array.from(e.values()).reduce((r,a)=>Du(r,a),wr):XF(i):wr,[i,e])}function uM(i,e){e===void 0&&(e=[]);const t=z.useRef(null);return z.useEffect(()=>{t.current=null},e),z.useEffect(()=>{const n=i!==wr;n&&!t.current&&(t.current=i),!n&&t.current&&(t.current=null)},[i]),t.current?Cy(i,t.current):wr}function wne(i){z.useEffect(()=>{if(!vv)return;const e=i.map(t=>{let{sensor:n}=t;return n.setup==null?void 0:n.setup()});return()=>{for(const t of e)t==null||t()}},i.map(e=>{let{sensor:t}=e;return t}))}function $F(i){return z.useMemo(()=>i?Wte(i):null,[i])}const hM=[];function _ne(i,e){e===void 0&&(e=wg);const[t]=i,n=$F(t?os(t):null),[s,r]=z.useState(hM);function a(){r(()=>i.length?i.map(c=>UF(c)?n:new s1(e(c),c)):hM)}const l=o1({callback:a});return $o(()=>{l==null||l.disconnect(),a(),i.forEach(c=>l==null?void 0:l.observe(c))},[i]),s}function Ane(i){if(!i)return null;if(i.children.length>1)return i;const e=i.children[0];return bg(e)?e:i}function Sne(i){let{measure:e}=i;const[t,n]=z.useState(null),s=z.useCallback(h=>{for(const{target:d}of h)if(bg(d)){n(f=>{const p=e(d);return f?{...f,width:p.width,height:p.height}:p});break}},[e]),r=o1({callback:s}),a=z.useCallback(h=>{const d=Ane(h);r==null||r.disconnect(),d&&(r==null||r.observe(d)),n(d?e(d):null)},[e,r]),[l,c]=vte(a);return z.useMemo(()=>({nodeRef:l,rect:t,setRef:c}),[t,l,c])}const Tne=[{sensor:a1,options:{}},{sensor:GF,options:{}}],Ene={current:{}},Im={draggable:{measure:iM},droppable:{measure:iM,strategy:Of.WhileDragging,frequency:p_.Optimized},dragOverlay:{measure:wg}};class tf extends Map{get(e){var t;return e!=null&&(t=super.get(e))!=null?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:t}=e;return!t})}getNodeFor(e){var t,n;return(t=(n=this.get(e))==null?void 0:n.node.current)!=null?t:void 0}}const Cne={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new tf,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:ky},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Im,measureDroppableContainers:ky,windowRect:null,measuringScheduled:!1},kne={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:ky,draggableNodes:new Map,over:null,measureDroppableContainers:ky},KF=z.createContext(kne),QF=z.createContext(Cne);function Rne(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new tf}}}function Ine(i,e){switch(e.type){case Ri.DragStart:return{...i,draggable:{...i.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case Ri.DragMove:return i.draggable.active==null?i:{...i,draggable:{...i.draggable,translate:{x:e.coordinates.x-i.draggable.initialCoordinates.x,y:e.coordinates.y-i.draggable.initialCoordinates.y}}};case Ri.DragEnd:case Ri.DragCancel:return{...i,draggable:{...i.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Ri.RegisterDroppable:{const{element:t}=e,{id:n}=t,s=new tf(i.droppable.containers);return s.set(n,t),{...i,droppable:{...i.droppable,containers:s}}}case Ri.SetDroppableDisabled:{const{id:t,key:n,disabled:s}=e,r=i.droppable.containers.get(t);if(!r||n!==r.key)return i;const a=new tf(i.droppable.containers);return a.set(t,{...r,disabled:s}),{...i,droppable:{...i.droppable,containers:a}}}case Ri.UnregisterDroppable:{const{id:t,key:n}=e,s=i.droppable.containers.get(t);if(!s||n!==s.key)return i;const r=new tf(i.droppable.containers);return r.delete(t),{...i,droppable:{...i.droppable,containers:r}}}default:return i}}function Mne(i){let{disabled:e}=i;const{active:t,activatorEvent:n,draggableNodes:s}=z.useContext(KF),r=h_(n),a=h_(t==null?void 0:t.id);return z.useEffect(()=>{if(!e&&!n&&r&&a!=null){if(!VF(r)||document.activeElement===r.target)return;const l=s.get(a);if(!l)return;const{activatorNode:c,node:h}=l;if(!c.current&&!h.current)return;requestAnimationFrame(()=>{for(const d of[c.current,h.current]){if(!d)continue;const f=wte(d);if(f){f.focus();break}}})}},[n,e,s,a,r]),null}function Dne(i,e){let{transform:t,...n}=e;return i!=null&&i.length?i.reduce((s,r)=>r({transform:s,...n}),t):t}function Nne(i){return z.useMemo(()=>({draggable:{...Im.draggable,...i==null?void 0:i.draggable},droppable:{...Im.droppable,...i==null?void 0:i.droppable},dragOverlay:{...Im.dragOverlay,...i==null?void 0:i.dragOverlay}}),[i==null?void 0:i.draggable,i==null?void 0:i.droppable,i==null?void 0:i.dragOverlay])}function Pne(i){let{activeNode:e,measure:t,initialRect:n,config:s=!0}=i;const r=z.useRef(!1),{x:a,y:l}=typeof s=="boolean"?{x:s,y:s}:s;$o(()=>{if(!a&&!l||!e){r.current=!1;return}if(r.current||!n)return;const h=e==null?void 0:e.node.current;if(!h||h.isConnected===!1)return;const d=t(h),f=zF(d,n);if(a||(f.x=0),l||(f.y=0),r.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){const p=jF(h);p&&p.scrollBy({top:f.y,left:f.x})}},[e,a,l,n,t])}const One=z.createContext({...wr,scaleX:1,scaleY:1});var _o;(function(i){i[i.Uninitialized=0]="Uninitialized",i[i.Initializing=1]="Initializing",i[i.Initialized=2]="Initialized"})(_o||(_o={}));const Lne=z.memo(function(e){var t,n,s,r;let{id:a,accessibility:l,autoScroll:c=!0,children:h,sensors:d=Tne,collisionDetection:f=zte,measuring:p,modifiers:y,...b}=e;const x=z.useReducer(Ine,void 0,Rne),[_,S]=x,[T,C]=Cte(),[M,R]=z.useState(_o.Uninitialized),P=M===_o.Initialized,{draggable:{active:k,nodes:E,translate:D},droppable:{containers:O}}=_,F=k!=null?E.get(k):null,H=z.useRef({initial:null,translated:null}),B=z.useMemo(()=>{var et;return k!=null?{id:k,data:(et=F==null?void 0:F.data)!=null?et:Ene,rect:H}:null},[k,F]),K=z.useRef(null),[ne,X]=z.useState(null),[G,ee]=z.useState(null),ue=OF(b,Object.values(b)),le=n1("DndDescribedBy",a),me=z.useMemo(()=>O.getEnabled(),[O]),ae=Nne(p),{droppableRects:ye,measureDroppableContainers:_e,measuringScheduled:Pe}=gne(me,{dragging:P,dependencies:[D.x,D.y],config:ae.droppable}),Se=dne(E,k),Me=z.useMemo(()=>G?d_(G):null,[G]),we=ut(),Te=pne(Se,ae.draggable.measure);Pne({activeNode:k!=null?E.get(k):null,config:we.layoutShiftCompensation,initialRect:Te,measure:ae.draggable.measure});const Ae=lM(Se,ae.draggable.measure,Te),Ne=lM(Se?Se.parentElement:null),Ue=z.useRef({activatorEvent:null,active:null,activeNode:Se,collisionRect:null,collisions:null,droppableRects:ye,draggableNodes:E,draggingNode:null,draggingNodeRect:null,droppableContainers:O,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Ge=O.getNodeFor((t=Ue.current.over)==null?void 0:t.id),qe=Sne({measure:ae.dragOverlay.measure}),$e=(n=qe.nodeRef.current)!=null?n:Se,at=P?(s=qe.rect)!=null?s:Ae:null,mt=!!(qe.nodeRef.current&&qe.rect),Es=vne(mt?null:Ae),xn=$F($e?os($e):null),Sn=bne(P?Ge??Se:null),wn=_ne(Sn),Xn=Dne(y,{transform:{x:D.x-Es.x,y:D.y-Es.y,scaleX:1,scaleY:1},activatorEvent:G,active:B,activeNodeRect:Ae,containerNodeRect:Ne,draggingNodeRect:at,over:Ue.current.over,overlayNodeRect:qe.rect,scrollableAncestors:Sn,scrollableAncestorRects:wn,windowRect:xn}),_i=Me?Du(Me,D):null,Fi=xne(Sn),Cs=uM(Fi),$t=uM(Fi,[Ae]),ot=Du(Xn,Cs),Tn=at?Hte(at,Xn):null,an=B&&Tn?f({active:B,collisionRect:Tn,droppableRects:ye,droppableContainers:me,pointerCoordinates:_i}):null,nr=Lte(an,"id"),[Ki,ks]=z.useState(null),ir=mt?Xn:Du(Xn,$t),J=jte(ir,(r=Ki==null?void 0:Ki.rect)!=null?r:null,Ae),ve=z.useRef(null),Be=z.useCallback((et,Vt)=>{let{sensor:ze,options:Dn}=Vt;if(K.current==null)return;const ht=E.get(K.current);if(!ht)return;const Ke=et.nativeEvent,yt=new ze({active:K.current,activeNode:ht,event:Ke,options:Dn,context:Ue,onAbort(Oe){if(!E.get(Oe))return;const{onDragAbort:_t}=ue.current,on={id:Oe};_t==null||_t(on),T({type:"onDragAbort",event:on})},onPending(Oe,gt,_t,on){if(!E.get(Oe))return;const{onDragPending:Rs}=ue.current,Wn={id:Oe,constraint:gt,initialCoordinates:_t,offset:on};Rs==null||Rs(Wn),T({type:"onDragPending",event:Wn})},onStart(Oe){const gt=K.current;if(gt==null)return;const _t=E.get(gt);if(!_t)return;const{onDragStart:on}=ue.current,ls={activatorEvent:Ke,active:{id:gt,data:_t.data,rect:H}};Sd.unstable_batchedUpdates(()=>{on==null||on(ls),R(_o.Initializing),S({type:Ri.DragStart,initialCoordinates:Oe,active:gt}),T({type:"onDragStart",event:ls}),X(ve.current),ee(Ke)})},onMove(Oe){S({type:Ri.DragMove,coordinates:Oe})},onEnd:Bt(Ri.DragEnd),onCancel:Bt(Ri.DragCancel)});ve.current=yt;function Bt(Oe){return async function(){const{active:_t,collisions:on,over:ls,scrollAdjustedTranslate:Rs}=Ue.current;let Wn=null;if(_t&&Rs){const{cancelDrop:Is}=ue.current;Wn={activatorEvent:Ke,active:_t,collisions:on,delta:Rs,over:ls},Oe===Ri.DragEnd&&typeof Is=="function"&&await Promise.resolve(Is(Wn))&&(Oe=Ri.DragCancel)}K.current=null,Sd.unstable_batchedUpdates(()=>{S({type:Oe}),R(_o.Uninitialized),ks(null),X(null),ee(null),ve.current=null;const Is=Oe===Ri.DragEnd?"onDragEnd":"onDragCancel";if(Wn){const cs=ue.current[Is];cs==null||cs(Wn),T({type:Is,event:Wn})}})}}},[E]),Je=z.useCallback((et,Vt)=>(ze,Dn)=>{const ht=ze.nativeEvent,Ke=E.get(Dn);if(K.current!==null||!Ke||ht.dndKit||ht.defaultPrevented)return;const yt={active:Ke};et(ze,Vt.options,yt)===!0&&(ht.dndKit={capturedBy:Vt.sensor},K.current=Dn,Be(ze,Vt))},[E,Be]),Tt=fne(d,Je);wne(d),$o(()=>{Ae&&M===_o.Initializing&&R(_o.Initialized)},[Ae,M]),z.useEffect(()=>{const{onDragMove:et}=ue.current,{active:Vt,activatorEvent:ze,collisions:Dn,over:ht}=Ue.current;if(!Vt||!ze)return;const Ke={active:Vt,activatorEvent:ze,collisions:Dn,delta:{x:ot.x,y:ot.y},over:ht};Sd.unstable_batchedUpdates(()=>{et==null||et(Ke),T({type:"onDragMove",event:Ke})})},[ot.x,ot.y]),z.useEffect(()=>{const{active:et,activatorEvent:Vt,collisions:ze,droppableContainers:Dn,scrollAdjustedTranslate:ht}=Ue.current;if(!et||K.current==null||!Vt||!ht)return;const{onDragOver:Ke}=ue.current,yt=Dn.get(nr),Bt=yt&&yt.rect.current?{id:yt.id,rect:yt.rect.current,data:yt.data,disabled:yt.disabled}:null,Oe={active:et,activatorEvent:Vt,collisions:ze,delta:{x:ht.x,y:ht.y},over:Bt};Sd.unstable_batchedUpdates(()=>{ks(Bt),Ke==null||Ke(Oe),T({type:"onDragOver",event:Oe})})},[nr]),$o(()=>{Ue.current={activatorEvent:G,active:B,activeNode:Se,collisionRect:Tn,collisions:an,droppableRects:ye,draggableNodes:E,draggingNode:$e,draggingNodeRect:at,droppableContainers:O,over:Ki,scrollableAncestors:Sn,scrollAdjustedTranslate:ot},H.current={initial:at,translated:Tn}},[B,Se,an,Tn,E,$e,at,ye,O,Ki,Sn,ot]),cne({...we,delta:D,draggingRect:Tn,pointerCoordinates:_i,scrollableAncestors:Sn,scrollableAncestorRects:wn});const Lt=z.useMemo(()=>({active:B,activeNode:Se,activeNodeRect:Ae,activatorEvent:G,collisions:an,containerNodeRect:Ne,dragOverlay:qe,draggableNodes:E,droppableContainers:O,droppableRects:ye,over:Ki,measureDroppableContainers:_e,scrollableAncestors:Sn,scrollableAncestorRects:wn,measuringConfiguration:ae,measuringScheduled:Pe,windowRect:xn}),[B,Se,Ae,G,an,Ne,qe,E,O,ye,Ki,_e,Sn,wn,ae,Pe,xn]),rt=z.useMemo(()=>({activatorEvent:G,activators:Tt,active:B,activeNodeRect:Ae,ariaDescribedById:{draggable:le},dispatch:S,draggableNodes:E,over:Ki,measureDroppableContainers:_e}),[G,Tt,B,Ae,S,le,E,Ki,_e]);return It.createElement(FF.Provider,{value:C},It.createElement(KF.Provider,{value:rt},It.createElement(QF.Provider,{value:Lt},It.createElement(One.Provider,{value:J},h)),It.createElement(Mne,{disabled:(l==null?void 0:l.restoreFocus)===!1})),It.createElement(Ite,{...l,hiddenTextDescribedById:le}));function ut(){const et=(ne==null?void 0:ne.autoScrollEnabled)===!1,Vt=typeof c=="object"?c.enabled===!1:c===!1,ze=P&&!et&&!Vt;return typeof c=="object"?{...c,enabled:ze}:{enabled:ze}}});function Vne(){return z.useContext(QF)}function ZF(i,e,t){const n=i.slice();return n.splice(t<0?n.length+t:t,0,n.splice(e,1)[0]),n}function Fne(i,e){return i.reduce((t,n,s)=>{const r=e.get(n);return r&&(t[s]=r),t},Array(i.length))}function zne(i,e){if(i===e)return!0;if(i.length!==e.length)return!1;for(let t=0;t<i.length;t++)if(i[t]!==e[t])return!1;return!0}function jne(i){return typeof i=="boolean"?{draggable:i,droppable:i}:i}const JF=i=>{let{rects:e,activeIndex:t,overIndex:n,index:s}=i;const r=ZF(e,n,t),a=e[s],l=r[s];return!l||!a?null:{x:l.left-a.left,y:l.top-a.top,scaleX:l.width/a.width,scaleY:l.height/a.height}},rm={scaleX:1,scaleY:1},Bne=i=>{var e;let{activeIndex:t,activeNodeRect:n,index:s,rects:r,overIndex:a}=i;const l=(e=r[t])!=null?e:n;if(!l)return null;if(s===t){const h=r[a];return h?{x:0,y:t<a?h.top+h.height-(l.top+l.height):h.top-l.top,...rm}:null}const c=Hne(r,s,t);return s>t&&s<=a?{x:0,y:-l.height-c,...rm}:s<t&&s>=a?{x:0,y:l.height+c,...rm}:{x:0,y:0,...rm}};function Hne(i,e,t){const n=i[e],s=i[e-1],r=i[e+1];return n?t<e?s?n.top-(s.top+s.height):r?r.top-(n.top+n.height):0:r?r.top-(n.top+n.height):s?n.top-(s.top+s.height):0:0}const ez="Sortable",Une=It.createContext({activeIndex:-1,containerId:ez,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:JF,disabled:{draggable:!1,droppable:!1}});function Yne(i){let{children:e,id:t,items:n,strategy:s=JF,disabled:r=!1}=i;const{active:a,dragOverlay:l,droppableRects:c,over:h,measureDroppableContainers:d}=Vne(),f=n1(ez,t),p=l.rect!==null,y=z.useMemo(()=>n.map(P=>typeof P=="object"&&"id"in P?P.id:P),[n]),b=a!=null,x=a?y.indexOf(a.id):-1,_=h?y.indexOf(h.id):-1,S=z.useRef(y),T=!zne(y,S.current),C=_!==-1&&x===-1||T,M=jne(r);$o(()=>{T&&b&&d(y)},[T,y,b,d]),z.useEffect(()=>{S.current=y},[y]);const R=z.useMemo(()=>({activeIndex:x,containerId:f,disabled:M,disableTransforms:C,items:y,overIndex:_,useDragOverlay:p,sortedRects:Fne(y,c),strategy:s}),[x,f,M.draggable,M.droppable,C,y,_,c,p,s]);return It.createElement(Une.Provider,{value:R},e)}zt.Down,zt.Right,zt.Up,zt.Left;fM.register(mM,gM,pM);const dM=i=>i.trim().toLowerCase(),Xne=()=>{const i=Zy(),e=MD(),t=uc(),[n,s]=z.useState(null),[r,a]=z.useState([]),[l,c]=z.useState([]),[h,d]=z.useState([]),[f,p]=z.useState([]),[y,b]=z.useState(""),[x,_]=z.useState("analytics"),[S,T]=z.useState(!1),[C,M]=z.useState(null),[R,P]=z.useState("weekly"),[k,E]=z.useState([]),[D,O]=z.useState({}),[F,H]=z.useState(0),[B,K]=z.useState(0),[ne,X]=z.useState(!1),[G,ee]=z.useState(null),[ue,le]=z.useState(null),[me,ae]=z.useState(new Date),[ye,_e]=z.useState([]),[Pe,Se]=z.useState(!1),[Me,we]=z.useState(!1),[Te,Ae]=z.useState([]),[Ne,Ue]=z.useState([]),[Ge,qe]=z.useState(window.innerWidth>=768),[$e,at]=z.useState(window.innerWidth<768);z.useEffect(()=>{const J=()=>{at(window.innerWidth<768)};return window.addEventListener("resize",J),()=>window.removeEventListener("resize",J)},[]),z.useEffect(()=>($e&&Ge?document.body.style.overflow="hidden":document.body.style.overflow="auto",()=>{document.body.style.overflow="auto"}),[$e,Ge]);const mt=z.useRef(new Map),Es=z.useRef(new Set),xn=z.useRef(0);z.useEffect(()=>{const J=H_(e,ve=>{ve?s(ve):t("/login")});return()=>J()},[e,t]),z.useEffect(()=>{if(!n)return;console.log("User in Admin:",n);const J=Dd(Vn(i,"drivers"),rt=>{const ut=rt.docs.map(ze=>({id:ze.id,...ze.data()}));console.log(" Firestore snapshot received - Total drivers:",rt.docs.length),console.log(" All drivers data:",ut.map(ze=>({id:ze.id,name:ze.name,email:ze.email,verified:ze.verified,createdAt:ze.createdAt})));const et=ut.filter(ze=>ze.verified===!0),Vt=ut.filter(ze=>ze.verified===!1);if(console.log(" Verified drivers:",et.length,et.map(ze=>({id:ze.id,name:ze.name,verified:ze.verified}))),console.log(" Pending drivers:",Vt.length,Vt.map(ze=>({id:ze.id,name:ze.name,verified:ze.verified}))),a(et),c(Vt),Vt.length>xn.current){const ze=Vt.length-xn.current;console.log(" New pending requests detected:",ze),tt(`New pending registration request${ze>1?"s":""} (${ze})`)}xn.current=Vt.length},rt=>{console.error(" Error fetching drivers:",rt),tt.error("Error fetching drivers: "+rt.message)}),ve=Aa(Vn(i,"queues"),Id("joinedAt","asc")),Be=Dd(ve,async rt=>{const ut=rt.docs.map(ht=>({id:ht.id,...ht.data()}));d(ut);const et=new Set(ut.map(ht=>ht.driverId)),Vt=Es.current,ze=Array.from(Vt).filter(ht=>!et.has(ht)),Dn=Array.from(et);for(const ht of ze){const Ke=mt.current.get(ht);Ke&&clearTimeout(Ke);const yt=lt(i,"drivers",ht),Bt=await Zf(yt);if(Bt.exists()&&Bt.data().status==="offline")continue;try{await fn(yt,{status:"in ride",leftAt:vs()},{merge:!0})}catch(gt){tt.error("Failed to update driver status to Left the queue (In Ride): "+gt.message)}const Oe=setTimeout(async()=>{try{await fn(yt,{status:"offline"},{merge:!0}),tt.success(`Driver ${ht} status changed to Offline after 1 minute of leaving queue.`)}catch(gt){tt.error("Failed to update driver status to Offline: "+gt.message)}mt.current.delete(ht)},6e4);mt.current.set(ht,Oe)}for(const ht of Dn){const Ke=mt.current.get(ht);Ke&&(clearTimeout(Ke),mt.current.delete(ht));const yt=lt(i,"drivers",ht);try{await fn(yt,{status:"waiting"},{merge:!0})}catch(Bt){tt.error("Failed to update driver status to In Queue: "+Bt.message)}}Es.current=et},rt=>{tt.error("Error fetching queue: "+rt.message)}),Je=Aa(Vn(i,"ride_logs"),zl("status","!=","completed")),Tt=Dd(Je,rt=>{const ut=rt.docs.map(et=>({id:et.id,...et.data()}));Ae(ut)},rt=>{console.error("Error fetching active rides:",rt)}),Lt=Dd(Aa(Vn(i,"adminAccessLogs"),Id("timestamp","desc")),rt=>{p(rt.docs.map(ut=>({id:ut.id,...ut.data()})))},rt=>{tt.error("Error fetching logs: "+rt.message)});return()=>{J(),Be(),Tt(),Lt(),mt.current.forEach(rt=>clearTimeout(rt)),mt.current.clear()}},[i,n]);const Sn=Dte(Mte(a1)),wn=async J=>{const{active:ve,over:Be}=J;if(!Be||ve.id===Be.id)return;const Je=h.findIndex(ut=>ut.driverId===ve.id),Tt=h.findIndex(ut=>ut.driverId===Be.id);if(Je===-1||Tt===-1)return;const Lt=ZF(h,Je,Tt);d(Lt);const rt=m9(i);Lt.forEach((ut,et)=>{const Vt=lt(i,"queues",ut.driverId);rt.update(Vt,{order:et})});try{await rt.commit(),tt.success("Queue reordered successfully")}catch(ut){tt.error("Failed to reorder queue: "+ut.message)}},Xn=async J=>{try{await Ea(lt(i,"drivers",J)),tt.success("Driver deleted");const ve=r.find(Be=>Be.id===J);await fn(lt(Vn(i,"adminAccessLogs")),{email:n==null?void 0:n.email,action:`Deleted driver: ${ve==null?void 0:ve.name} (${ve==null?void 0:ve.plate})`,timestamp:vs()})}catch{tt.error("Error deleting driver")}},_i=async J=>{try{await QH(e,J),tt.success("Password reset email sent"),await fn(lt(Vn(i,"adminAccessLogs")),{email:n==null?void 0:n.email,action:`Sent password reset email to: ${J}`,timestamp:vs()})}catch{tt.error("Error sending reset email")}},Fi=async J=>{try{await fn(lt(i,"queues",J.id),{driverId:J.id,name:J.name,plateNumber:J.plate,joinedAt:vs(),order:h.length}),tt.success(`${J.name} added to queue`),await fn(lt(Vn(i,"adminAccessLogs")),{email:n==null?void 0:n.email,action:`Added driver to queue: ${J.name} (${J.plate})`,timestamp:vs()})}catch(ve){tt.error("Failed to add to queue: "+ve.message)}},Cs=async J=>{try{await Ea(lt(i,"queues",J)),tt.success("Driver removed from queue");const ve=r.find(Be=>Be.id===J);await fn(lt(Vn(i,"adminAccessLogs")),{email:n==null?void 0:n.email,action:`Removed driver from queue: ${ve==null?void 0:ve.name} (${ve==null?void 0:ve.plate})`,timestamp:vs()})}catch(ve){tt.error("Failed to remove from queue: "+ve.message)}},$t=r.filter(J=>{var ve,Be;return((ve=J.name)==null?void 0:ve.toLowerCase().includes(y.toLowerCase()))||((Be=J.plate)==null?void 0:Be.toLowerCase().includes(y.toLowerCase()))}),ot=J=>{const ve=r.find(Be=>Be.id===J);return ve?ve.status==="waiting"?"In Queue":ve.status==="in ride"?"Left the queue (In Ride)":(ve.status==="offline","Offline"):"Offline"},Tn=async()=>{try{const J=e.currentUser;if(J){const ve=lt(i,"queues",J.uid);try{await Ea(ve)}catch{}const Be=lt(i,"drivers",J.uid);await fn(Be,{status:"offline"},{merge:!0})}await Bm(e),tt.success("Logged out"),t("/login")}catch{tt.error("Logout failed")}},an=J=>J?new Date(J*1e3).toLocaleString():"No date",nr=async()=>{try{const J=Aa(Vn(i,"ride_logs"),Id("timestamp","desc")),Be=(await mf(J)).docs.map(Ke=>({id:Ke.id,...Ke.data()}));console.log("Fetched ride_logs:",Be);const Je=new Date;let Tt,Lt=[];if(R==="custom"&&G&&ue)Lt=Be.filter(Ke=>{var Bt,Oe;const yt=(Bt=Ke.startedAt)!=null&&Bt.toDate?Ke.startedAt.toDate():new Date(((Oe=Ke.startedAt)==null?void 0:Oe.seconds)*1e3);return yt>=G&&yt<=ue});else{switch(R){case"daily":Tt=new Date(Je.getTime()-24*60*60*1e3);break;case"weekly":Tt=new Date(Je.getTime()-7*24*60*60*1e3);break;case"monthly":Tt=new Date(Je.getFullYear(),Je.getMonth()-1,Je.getDate());break;case"annually":Tt=new Date(Je.getFullYear()-1,Je.getMonth(),Je.getDate());break;default:Tt=new Date(Je.getTime()-7*24*60*60*1e3)}Lt=Be.filter(Ke=>{var Bt,Oe;return((Bt=Ke.startedAt)!=null&&Bt.toDate?Ke.startedAt.toDate():new Date(((Oe=Ke.startedAt)==null?void 0:Oe.seconds)*1e3))>=Tt})}const rt={};let ut=0,et=0;r.forEach(Ke=>{const yt=Lt.filter(gt=>gt.driverId===Ke.id),Bt=yt.reduce((gt,_t)=>{const ls=(_t.dropoffName||"").trim(),Rs={};Object.entries(kf).forEach(([Is,cs])=>{Rs[dM(Is)]=cs});const Wn=Rs[dM(ls)]||0;return gt+Wn},0),Oe=yt.length;ut+=Bt,et+=Oe,rt[Ke.id]=[{label:"Rides",earnings:Oe,rides:Oe},{label:"Earnings",earnings:Bt,rides:Oe}]});const Vt=Lt.filter(Ke=>Ke.status==="completed").length,Dn=[...r.map((Ke,yt)=>{var _t,on;const Bt=rt[Ke.id];if(!Bt)return null;const Oe=((_t=Bt[1])==null?void 0:_t.earnings)||0,gt=((on=Bt[0])==null?void 0:on.rides)||0;return{label:Ke.name,earnings:Oe,rides:gt}}).filter(Boolean)].sort((Ke,yt)=>yt.earnings-Ke.earnings);E(Dn);const ht=Dn.map((Ke,yt)=>`hsl(${Dn.length>1?120-yt/(Dn.length-1)*120:120}, 70%, 50%)`);Ue(ht),O(rt),H(ut),K(et)}catch(J){tt.error("Failed to fetch analytics: "+J.message)}},Ki=async()=>{we(!0);try{const J=Aa(Vn(i,"ride_logs"),Id("startedAt","desc")),Be=(await mf(J)).docs.map(Je=>({id:Je.id,...Je.data()}));_e(Be),Se(!0)}catch(J){tt.error("Failed to fetch destination history: "+J.message)}finally{we(!1)}};z.useEffect(()=>{x==="analytics"&&n&&nr()},[x,R,n,me]);const ks=(J,ve)=>{ee(J),le(ve),P("custom"),X(!1),nr()},ir=()=>{P("weekly"),ee(null),le(null),X(!1),nr()};return N.jsxs("div",{className:"min-h-screen bg-gray-100",children:[N.jsx("div",{className:`fixed top-0 left-0 h-full bg-gray-100 text-gray-900 transition-all duration-300 overflow-hidden overscroll-none z-10 ${Ge?"w-full md:w-64":"w-0"}`,children:N.jsxs("div",{className:"p-4 h-full flex flex-col",children:[N.jsxs("div",{className:"flex justify-between items-center mb-6",children:[N.jsx("h2",{className:"text-xl font-bold",children:"Admin Panel"}),N.jsx("button",{onClick:()=>qe(!1),className:"p-1 hover:bg-gray-200 rounded",children:""})]}),N.jsx("nav",{className:"space-y-2 flex-1 overflow-hidden",children:[{type:"analytics",label:"Analytics",icon:c8},{type:"drivers",label:"Drivers",icon:M8},{type:"queue",label:"Queue",icon:A8},{type:"status",label:"Status",icon:o8},{type:"logs",label:"Logs",icon:p8},{type:"history",label:"History",icon:b8},{type:"pending",label:"Pending",icon:f8}].map(({type:J,label:ve,icon:Be})=>N.jsxs("button",{onClick:()=>_(J),className:`w-full text-left px-3 py-2 rounded flex items-center gap-2 ${x===J?"bg-blue-600 text-white":"hover:bg-gray-200"}`,children:[N.jsx(Be,{size:18}),ve,J==="pending"&&l.length>0&&N.jsx("span",{className:"ml-auto bg-red-600 text-xs rounded-full px-1.5",children:l.length})]},J))}),N.jsx("div",{className:"mt-auto",children:N.jsxs("button",{onClick:Tn,className:"w-full px-3 py-2 rounded bg-red-600 hover:bg-red-700 text-white flex items-center gap-2",children:[N.jsx(C8,{size:18}),"Logout"]})})]})}),N.jsxs("div",{className:`p-4 text-gray-900 ${Ge?"md:ml-64":""} ${$e&&Ge?"overflow-hidden":""}`,children:[N.jsxs("div",{className:"flex justify-between items-center mb-4",children:[N.jsx("div",{className:"flex items-center gap-2",children:N.jsx("button",{onClick:()=>qe(!Ge),className:"p-2 bg-gray-200 rounded hover:bg-gray-300",children:""})}),N.jsx("span",{className:"text-lg text-gray-600",children:new Date().toLocaleDateString("en-US",{month:"long"})+": "+new Date().getDate()+", "+new Date().getFullYear()})]}),x==="drivers"&&N.jsxs(N.Fragment,{children:[N.jsx("input",{type:"text",placeholder:"Search by name or plate",value:y,onChange:J=>b(J.target.value),className:"p-2 w-full text-black rounded mb-4"}),N.jsx("div",{className:"overflow-x-auto",children:N.jsxs("table",{className:"w-full text-sm bg-white rounded overflow-hidden",children:[N.jsx("thead",{children:N.jsxs("tr",{className:"bg-gray-50 text-left",children:[N.jsx("th",{className:"p-2",children:"Name"}),N.jsx("th",{children:"Plate"}),N.jsx("th",{children:"Status"}),N.jsx("th",{children:"Email"}),N.jsx("th",{className:"text-right pr-4",children:"Actions"})]})}),N.jsx("tbody",{children:$t.map(J=>N.jsxs("tr",{className:"border-t border-gray-300",children:[N.jsx("td",{className:"p-2",children:J.name}),N.jsx("td",{children:J.plate}),N.jsx("td",{children:ot(J.id)}),N.jsx("td",{children:J.email}),N.jsxs("td",{className:"space-x-2 text-right pr-4",children:[N.jsx("button",{onClick:()=>{M(J),T(!0)},className:"text-blue-400",children:"Edit"}),N.jsx("button",{onClick:()=>Xn(J.id),className:"text-red-400",children:"Delete"}),N.jsx("button",{onClick:()=>_i(J.email),className:"text-purple-400",children:"Reset"}),h.some(ve=>ve.driverId===J.id)?N.jsx("button",{onClick:()=>{window.confirm(`Are you sure you want to remove ${J.name} from the queue?`)&&Cs(J.id)},className:"text-red-400",children:"Remove from Queue"}):N.jsx("button",{onClick:()=>Fi(J),className:"text-green-400",children:"Add to Queue"})]})]},J.id))})]})})]}),x==="queue"&&N.jsxs("div",{className:"bg-white p-4 rounded mt-4 border border-gray-300 shadow-sm",children:[N.jsx("h2",{className:"text-lg font-bold mb-2 text-gray-900",children:"Driver Queue"}),N.jsx(Lne,{sensors:Sn,collisionDetection:Vte,onDragEnd:wn,children:N.jsx(Yne,{items:h.map(J=>J.driverId),strategy:Bne,children:N.jsx("ul",{className:"space-y-2 max-h-[400px] overflow-y-auto",children:h.map(J=>{const ve=r.find(Je=>Je.id===J.driverId),Be=ot(J.driverId);return N.jsxs("li",{className:"flex justify-between items-center bg-gray-50 p-2 rounded cursor-move border border-gray-200",children:[N.jsxs("span",{children:[(ve==null?void 0:ve.name)??J.name," (",(ve==null?void 0:ve.plate)??J.plate,")"]}),N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsx("span",{className:`text-sm font-medium ${Be==="In Queue"?"text-green-600":Be==="Left the queue (In Ride)"?"text-yellow-600":"text-red-600"}`,children:Be}),N.jsx("button",{onClick:()=>{window.confirm(`Are you sure you want to remove ${J.name} from the queue?`)&&Cs(J.driverId)},className:"text-red-600",children:"Remove"})]})]},J.driverId)})})})})]}),x==="status"&&N.jsxs("div",{className:"mt-4 bg-white p-4 rounded border border-gray-300 shadow-sm",children:[N.jsx("h2",{className:"text-lg font-bold mb-4 text-gray-900",children:"Driver Status"}),N.jsxs("div",{className:"mb-6",children:[N.jsx("h3",{className:"text-md font-semibold mb-2 text-green-600",children:"In Queue"}),N.jsx("ul",{className:"space-y-2",children:r.filter(J=>J.status==="waiting").sort((J,ve)=>{var Tt,Lt,rt,ut;const Be=((Lt=(Tt=h.find(et=>et.driverId===J.id))==null?void 0:Tt.joinedAt)==null?void 0:Lt.seconds)||0,Je=((ut=(rt=h.find(et=>et.driverId===ve.id))==null?void 0:rt.joinedAt)==null?void 0:ut.seconds)||0;return Be-Je}).map(J=>N.jsx("li",{className:"flex justify-between items-center bg-gray-50 p-2 rounded border border-gray-200",children:N.jsxs("span",{children:[J.name," (",J.plate,") -"," ",N.jsx("span",{className:"font-semibold text-green-600",children:"In Queue"})]})},J.id))})]}),N.jsxs("div",{className:"mb-6",children:[N.jsx("h3",{className:"text-md font-semibold mb-2 text-yellow-600",children:"In Ride"}),N.jsx("ul",{className:"space-y-2",children:r.filter(J=>J.status==="in ride").sort((J,ve)=>{var Tt,Lt;const Be=((Tt=J.leftAt)==null?void 0:Tt.seconds)||0,Je=((Lt=ve.leftAt)==null?void 0:Lt.seconds)||0;return Be-Je}).map(J=>{var Je;const ve=J.selectedDestination||"Unknown",Be=an((Je=J.leftAt)==null?void 0:Je.seconds);return N.jsxs("li",{className:"flex justify-between items-center bg-gray-50 p-2 rounded border border-gray-200",children:[N.jsxs("span",{children:[J.name," (",J.plate,") -"," ",N.jsxs("span",{className:"font-semibold text-yellow-600",children:["In route to ",ve]})]}),N.jsx("span",{className:"text-sm text-gray-500",children:Be})]},J.id)})})]}),N.jsxs("div",{children:[N.jsx("h3",{className:"text-md font-semibold mb-2 text-red-600",children:"Offline"}),N.jsx("ul",{className:"space-y-2",children:r.filter(J=>J.status==="offline").sort((J,ve)=>J.name.localeCompare(ve.name)).map(J=>N.jsx("li",{className:"flex justify-between items-center bg-gray-50 p-2 rounded border border-gray-200",children:N.jsxs("span",{children:[J.name," (",J.plate,") -"," ",N.jsx("span",{className:"font-semibold text-red-600",children:"Offline"})]})},J.id))})]})]}),x==="logs"&&N.jsxs("div",{className:"mt-4 bg-white p-4 rounded border border-gray-300 shadow-sm",children:[N.jsx("h2",{className:"text-lg font-bold mb-2 text-gray-900",children:"Admin Activity Logs"}),N.jsx("div",{className:"overflow-x-auto",children:N.jsxs("table",{className:"w-full text-sm bg-white rounded overflow-hidden",children:[N.jsx("thead",{children:N.jsxs("tr",{className:"bg-gray-50 text-left",children:[N.jsx("th",{className:"p-2",children:"Actions"}),N.jsx("th",{className:"p-2",children:"Date and Time"})]})}),N.jsx("tbody",{children:f.map(J=>{var ve;return N.jsxs("tr",{className:"border-t border-gray-300",children:[N.jsxs("td",{className:"p-2",children:[N.jsx("strong",{children:J.email}),": ",J.action]}),N.jsx("td",{className:"p-2",children:(ve=J.timestamp)!=null&&ve.seconds?an(J.timestamp.seconds):"No time"})]},J.id)})})]})})]}),x==="history"&&N.jsxs("div",{className:"mt-4 bg-white p-4 rounded border border-gray-300 shadow-sm",children:[N.jsx("h2",{className:"text-lg font-bold mb-2 text-gray-900",children:"Driver History"}),N.jsx("button",{onClick:Ki,disabled:Me,className:"mb-4 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50",children:Me?"Loading...":"View Destination History"}),N.jsx("div",{className:"overflow-y-auto max-h-[400px] space-y-2",children:r.map(J=>{var ve;return N.jsx("div",{className:"border-b border-gray-300 py-1",children:N.jsxs("p",{className:"text-sm text-gray-900",children:[N.jsx("strong",{children:J.name}),"  ",J.plate,"  Registered on:"," ",an((ve=J.createdAt)==null?void 0:ve.seconds)]})},J.id)})}),Pe&&N.jsxs("div",{className:"mt-4",children:[N.jsx("h3",{className:"text-md font-semibold mb-2 text-gray-900",children:"Destination History (Chronological)"}),ye.length===0?N.jsx("p",{className:"text-gray-500",children:"No rides found."}):N.jsx("div",{className:"overflow-x-auto",children:N.jsxs("table",{className:"w-full text-sm bg-white rounded overflow-hidden border border-gray-300",children:[N.jsx("thead",{children:N.jsxs("tr",{className:"bg-gray-50 text-left",children:[N.jsx("th",{className:"p-2",children:"Driver Name"}),N.jsx("th",{children:"Plate Number"}),N.jsx("th",{children:"Destination"}),N.jsx("th",{children:"Date and Time"})]})}),N.jsx("tbody",{children:ye.map(J=>{var Je,Tt;const ve=r.find(Lt=>Lt.id===J.driverId),Be=(Je=J.startedAt)!=null&&Je.toDate?J.startedAt.toDate():new Date(((Tt=J.startedAt)==null?void 0:Tt.seconds)*1e3);return N.jsxs("tr",{className:"border-t border-gray-300",children:[N.jsx("td",{className:"p-2 text-gray-900",children:(ve==null?void 0:ve.name)||"Unknown Driver"}),N.jsx("td",{className:"text-gray-900",children:(ve==null?void 0:ve.plate)||"N/A"}),N.jsx("td",{className:"text-gray-900",children:J.dropoffName}),N.jsx("td",{className:"text-gray-900",children:Be.toLocaleString()})]},J.id)})})]})})]})]}),x==="pending"&&N.jsxs("div",{className:"mt-4 bg-white p-4 rounded border border-gray-300 shadow-sm",children:[N.jsx("h2",{className:"text-lg font-bold mb-2 text-gray-900",children:"Pending Registration Requests"}),l.length===0?N.jsx("p",{className:"text-gray-500",children:"No pending requests."}):N.jsxs("table",{className:"w-full text-sm bg-white rounded overflow-hidden border border-gray-300",children:[N.jsx("thead",{children:N.jsxs("tr",{className:"bg-gray-50 text-left",children:[N.jsx("th",{className:"p-2",children:"Name"}),N.jsx("th",{children:"Plate"}),N.jsx("th",{children:"Email"}),N.jsx("th",{children:"Phone"}),N.jsx("th",{children:"Status"}),N.jsx("th",{className:"text-right pr-4",children:"Actions"})]})}),N.jsx("tbody",{children:l.map(J=>N.jsxs("tr",{className:"border-t border-gray-300",children:[N.jsx("td",{className:"p-2 text-gray-900",children:J.name}),N.jsx("td",{className:"text-gray-900",children:J.plate}),N.jsx("td",{className:"text-gray-900",children:J.email}),N.jsx("td",{className:"text-gray-900",children:J.phone||"N/A"}),N.jsx("td",{className:"text-gray-900",children:"Pending"}),N.jsxs("td",{className:"space-x-2 text-right pr-4",children:[N.jsx("button",{onClick:async()=>{try{await fn(lt(i,"drivers",J.id),{verified:!0},{merge:!0}),tt.success(`Verified ${J.name}`),await fn(lt(Vn(i,"adminAccessLogs")),{email:n==null?void 0:n.email,action:`Approved driver registration: ${J.name} (${J.plate})`,timestamp:vs()})}catch(ve){tt.error("Failed to verify: "+ve.message)}},className:"text-green-600",children:"Approve"}),N.jsx("button",{onClick:async()=>{try{await Ea(lt(i,"drivers",J.id)),tt.success(`Rejected and deleted ${J.name}`),await fn(lt(Vn(i,"adminAccessLogs")),{email:n==null?void 0:n.email,action:`Rejected driver registration: ${J.name} (${J.plate})`,timestamp:vs()})}catch(ve){tt.error("Failed to delete: "+ve.message)}},className:"text-red-600",children:"Reject"})]})]},J.id))})]})]}),x==="analytics"&&N.jsxs("div",{className:"mt-4 bg-white p-4 rounded border border-gray-300 shadow-sm",children:[N.jsx("h2",{className:"text-lg font-bold mb-4 text-gray-900",children:"Analytics Dashboard"}),N.jsxs("div",{className:"flex gap-2 mb-6",children:[["daily","weekly","monthly","annually"].map(J=>N.jsx("button",{onClick:()=>P(J),className:`px-4 py-2 rounded ${R===J?"bg-blue-600":"bg-gray-200"}`,children:J.charAt(0).toUpperCase()+J.slice(1)},J)),N.jsx("button",{onClick:()=>X(!0),className:`px-4 py-2 rounded ${R==="custom"?"bg-blue-600":"bg-gray-200"}`,children:"Custom"})]}),N.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[N.jsxs("div",{className:"bg-white p-4 rounded border border-gray-300",children:[N.jsx("h3",{className:"text-md font-semibold mb-2 text-gray-900",children:"Overall Statistics"}),k.length>0&&N.jsx(P4,{data:{labels:k.map(J=>J.label),datasets:[{data:k.map(J=>J.earnings),backgroundColor:Ne,borderColor:Ne,borderWidth:1}]},options:{responsive:!0,plugins:{legend:{position:"bottom"},tooltip:{callbacks:{label:J=>`${J.label}: ${J.parsed}`}}}}}),N.jsxs("div",{className:"mt-4 text-sm font-bold",children:[N.jsxs("p",{children:[N.jsx("span",{className:"text-gray-900",children:"Total Rides:"})," ",B]}),N.jsxs("p",{children:[N.jsx("span",{className:"text-gray-900",children:"Total Earnings:"})," ",F]})]})]}),N.jsxs("div",{className:"bg-white p-4 rounded border border-gray-300",children:[N.jsx("h3",{className:"text-md font-semibold mb-2 text-gray-900",children:"Driver Performance"}),N.jsxs("div",{className:"space-y-4 max-h-[400px] overflow-y-auto",children:[[...r].sort((J,ve)=>{var Tt,Lt,rt,ut;const Be=((Lt=(Tt=D[J.id])==null?void 0:Tt[1])==null?void 0:Lt.earnings)||0;return(((ut=(rt=D[ve.id])==null?void 0:rt[1])==null?void 0:ut.earnings)||0)-Be}).map((J,ve,Be)=>{var Lt,rt;const Je=D[J.id];if(!Je||Je.length===0)return null;const Tt=Be.length>1?120-ve/(Be.length-1)*120:120;return N.jsxs("div",{className:"p-3 rounded font-medium mb-2",style:{backgroundColor:`hsl(${Tt}, 70%, 50%)`},children:[N.jsxs("h4",{className:"font-medium mb-2 text-white",children:[J.name," (",J.plate,")"]}),N.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[N.jsx("div",{children:N.jsxs("span",{className:"text-white",children:["Rides: ",((Lt=Je[0])==null?void 0:Lt.rides)||0]})}),N.jsx("div",{children:N.jsxs("span",{className:"text-white",children:["Earnings: ",((rt=Je[1])==null?void 0:rt.earnings)||0]})})]})]},J.id)}),N.jsxs("div",{className:"bg-gray-50 p-3 rounded font-bold border-t border-gray-300",children:[N.jsx("h4",{className:"mb-2 text-gray-900",children:"Total for All Drivers"}),N.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[N.jsxs("div",{children:[N.jsx("span",{className:"text-gray-900",children:"Total Rides:"})," ",B]}),N.jsxs("div",{children:[N.jsx("span",{className:"text-gray-900",children:"Total Earnings:"})," ",F]})]})]})]})]})]})]}),S&&C&&N.jsx(mte,{driver:C,onClose:()=>T(!1),onSaveSuccess:()=>T(!1),user:n}),ne&&N.jsx(NF,{isOpen:ne,onClose:()=>X(!1),onApply:ks,onClear:ir})]})]})},Wne=()=>N.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen text-gray-900 bg-gray-100",children:[N.jsx("h1",{className:"text-6xl font-bold mb-4",children:"404"}),N.jsx("p",{className:"text-lg mb-6",children:"Page not found"}),N.jsx("a",{href:"/home",className:"text-blue-400 underline",children:"Go back to Home"})]}),D0="agduwaadmin@gmail.com",Gne=()=>{const{user:i,loading:e}=dg(),t=uc();z.useEffect(()=>{var n;if(!e){const s=((n=i==null?void 0:i.email)==null?void 0:n.toLowerCase())===(D0==null?void 0:D0.toLowerCase());(!i||!s)&&t("/home")}},[i,e,t])},qne="agduwaadmin@gmail.com",$ne=({children:i})=>{var n;const{loading:e,user:t}=dg();return Gne(),e?N.jsxs("div",{className:"flex justify-center items-center h-screen bg-gray-900 text-white",children:[N.jsx("div",{className:"animate-spin h-10 w-10 border-4 border-white border-t-transparent rounded-full"}),N.jsx("span",{className:"ml-3",children:"Checking access..."})]}):!t||((n=t.email)==null?void 0:n.toLowerCase())!==qne.toLowerCase()?N.jsx(am,{to:"/",replace:!0}):N.jsx(N.Fragment,{children:i})},N0="agduwaadmin@gmail.com".trim().toLowerCase(),Kne=()=>{var y;const[i,e]=z.useState(null),[t,n]=z.useState(null),[s,r]=z.useState(!0),[a,l]=z.useState(!1),[c,h]=z.useState("loading"),d=Zy();if(z.useEffect(()=>{const b=H_(bs,async x=>{var _;if(x){e(x);const S=((_=x.email)==null?void 0:_.trim().toLowerCase())||"";console.log("ADMIN_EMAIL:",N0),console.log("Logged in user email:",S);const T=S===N0;if(console.log("Is admin user:",T),T){try{await bm(Vn(d,"adminAccessLogs"),{email:x.email,uid:x.uid,accessedAt:vs()})}catch(C){console.error("Error logging admin access:",C)}l(!0),n(!0),setTimeout(()=>{l(!1)},2e3),localStorage.setItem("driver",JSON.stringify({id:x.uid,email:x.email,verified:!0}))}else try{const C=await Zf(lt(d,"drivers",x.uid));if(C.exists()){const M=C.data();M.verified?(l(!0),n(!0),setTimeout(()=>{l(!1)},2e3),localStorage.setItem("driver",JSON.stringify({id:x.uid,email:x.email,...M}))):(await bs.signOut(),e(null),n(!1),li.error("Your account is not verified by admin yet. Please wait for approval."),localStorage.removeItem("driver"))}else await bs.signOut(),e(null),n(!1),li.error("No profile found for this account."),localStorage.removeItem("driver")}catch(C){console.error("Error checking verification:",C),await bs.signOut(),e(null),n(!1),li.error("Error verifying account."),localStorage.removeItem("driver")}}else e(null),n(!1),localStorage.removeItem("driver");r(!1)});return()=>b()},[d]),s)return N.jsxs("div",{className:"h-screen bg-white relative",children:[N.jsx("style",{dangerouslySetInnerHTML:{__html:`
      .loader {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
      }
      .car {
        animation: speeder 0.4s linear infinite;
        width: 900px;
        height: 900px;
      }
      @media (max-width: 768px) {
        .car {
          width: 300px;
          height: 300px;
        }
      }
      @keyframes speeder {
        0% {
          transform: translate(2px, 1px) rotate(0deg);
        }
        10% {
          transform: translate(-1px, -3px) rotate(-1deg);
        }
        20% {
          transform: translate(-2px, 0px) rotate(1deg);
        }
        30% {
          transform: translate(1px, 2px) rotate(0deg);
        }
        40% {
          transform: translate(1px, -1px) rotate(1deg);
        }
        50% {
          transform: translate(-1px, 3px) rotate(-1deg);
        }
        60% {
          transform: translate(-1px, 1px) rotate(0deg);
        }
        70% {
          transform: translate(3px, 1px) rotate(-1deg);
        }
        80% {
          transform: translate(-2px, -1px) rotate(1deg);
        }
        90% {
          transform: translate(2px, 1px) rotate(0deg);
        }
        100% {
          transform: translate(1px, -2px) rotate(-1deg);
        }
      }
    `}}),N.jsx("div",{className:"loader",children:N.jsx("img",{src:"/img/vecteezy_sports-car-logo-icon-motor-vehicle-silhouette-emblems-auto_.jpg",alt:"car",className:"car"})})]});if(a)return N.jsxs("div",{className:"h-screen bg-white relative",children:[N.jsx("style",{dangerouslySetInnerHTML:{__html:`
      .loader {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
      }
      .car {
        animation: speeder 0.4s linear infinite;
        width: 900px;
        height: 900px;
      }
      @media (max-width: 768px) {
        .car {
          width: 300px;
          height: 300px;
        }
      }
      @keyframes speeder {
        0% {
          transform: translate(2px, 1px) rotate(0deg);
        }
        10% {
          transform: translate(-1px, -3px) rotate(-1deg);
        }
        20% {
          transform: translate(-2px, 0px) rotate(1deg);
        }
        30% {
          transform: translate(1px, 2px) rotate(0deg);
        }
        40% {
          transform: translate(1px, -1px) rotate(1deg);
        }
        50% {
          transform: translate(-1px, 3px) rotate(-1deg);
        }
        60% {
          transform: translate(-1px, 1px) rotate(0deg);
        }
        70% {
          transform: translate(3px, 1px) rotate(-1deg);
        }
        80% {
          transform: translate(-2px, -1px) rotate(1deg);
        }
        90% {
          transform: translate(2px, 1px) rotate(0deg);
        }
        100% {
          transform: translate(1px, -2px) rotate(-1deg);
        }
      }
    `}}),N.jsx("div",{className:"loader",children:N.jsx("img",{src:"/img/vecteezy_sports-car-logo-icon-motor-vehicle-silhouette-emblems-auto_.jpg",alt:"car",className:"car"})})]});const f=!!i&&t===!0&&!a,p=((y=i==null?void 0:i.email)==null?void 0:y.trim().toLowerCase())===N0;return N.jsxs(MZ,{children:[N.jsx(VS,{position:"top-center"}),N.jsxs(Fj,{children:[N.jsx(cr,{path:"/",element:f?p?N.jsx(am,{to:"/admin",replace:!0}):N.jsx(am,{to:"/home",replace:!0}):N.jsx(_J,{})}),N.jsx(cr,{path:"/driver/:driverId",element:N.jsx(dte,{})}),f&&N.jsxs(cr,{element:N.jsx(hte,{}),children:[N.jsx(cr,{path:"/home",element:N.jsx(DZ,{})}),N.jsx(cr,{path:"/history",element:N.jsx(CJ,{})}),N.jsx(cr,{path:"/analytics",element:N.jsx(cte,{})}),N.jsx(cr,{path:"/profile",element:N.jsx(VJ,{})})]}),f&&N.jsx(cr,{path:"/admin",element:N.jsx($ne,{children:N.jsx(Xne,{})})}),!f&&N.jsx(cr,{path:"*",element:N.jsx(am,{to:"/"})}),N.jsx(cr,{path:"*",element:N.jsx(Wne,{})})]})]})};U4.createRoot(document.getElementById("root")).render(N.jsx(It.StrictMode,{children:N.jsx(o3,{children:N.jsxs(EJ,{children:[N.jsx(Kne,{}),N.jsx(VS,{position:"top-center",toastOptions:{duration:4e3}})," "]})})}));
